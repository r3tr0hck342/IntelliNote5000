const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/c4Diagram-c83219d4-BbyH-8I9.js","assets/svgDrawCommon-b86b1483-BDOETUfR.js","assets/flowDiagram-50d868cf-B4SpoNYE.js","assets/flowDb-c6c81e3f-DMVJ43LV.js","assets/graph-B4z3vyMh.js","assets/layout-B-xTw-zp.js","assets/styles-d45a18b0-Lh57SeDX.js","assets/index-5325376f-D0nJ0ydc.js","assets/clone-I8kkir-_.js","assets/edges-96097737-DHye53z9.js","assets/createText-1719965b-BPTa2vZV.js","assets/line-D8m8wxN4.js","assets/array-BKyUJesY.js","assets/path-CbwjOpE9.js","assets/channel-DDamGDFP.js","assets/flowDiagram-v2-4f6560a1-0CghL5HI.js","assets/erDiagram-0228fc6a-CUZ9BzH8.js","assets/ganttDiagram-a2739b55-D6Q30GZh.js","assets/linear-tGzu26em.js","assets/init-Gi6I4Gst.js","assets/pieDiagram-a8764435-DjOVo6Sf.js","assets/arc-GaBYQdoR.js","assets/ordinal-Cboi1Yqb.js","assets/quadrantDiagram-1e28029f-CSoh_d-V.js","assets/xychartDiagram-f5964ef8-CbplWb7Q.js","assets/requirementDiagram-08caed73-C4XuxK0F.js","assets/sequenceDiagram-c5b8d532-CQr76Y5m.js","assets/classDiagram-beda092f-vT5teLay.js","assets/styles-b4e223ce-CE8Ru5Is.js","assets/classDiagram-v2-2358418a-Dmqo2a3p.js","assets/stateDiagram-1ecb1508-BXnnVgDm.js","assets/styles-ca3715f6-DXAyczJi.js","assets/stateDiagram-v2-c2b004d7-dVWXv5iG.js","assets/journeyDiagram-c64418c1-DlLQ5UYz.js","assets/flowchart-elk-definition-6af322e1-Cj_m3D2y.js","assets/timeline-definition-faaaa080-Bz4MkSjH.js","assets/mindmap-definition-8da855dc-BHLMm11-.js","assets/sankeyDiagram-a04cb91d-CkLI2Y4q.js","assets/Tableau10-B-NsZVaP.js","assets/blockDiagram-c4efeb88-CKvwoflz.js"])))=>i.map(i=>d[i]);
var Rq=Object.defineProperty;var Fk=t=>{throw TypeError(t)};var Uq=(t,e,n)=>e in t?Rq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var He=(t,e,n)=>Uq(t,typeof e!="symbol"?e+"":e,n),Lx=(t,e,n)=>e.has(t)||Fk("Cannot "+n);var b=(t,e,n)=>(Lx(t,e,"read from private field"),n?n.call(t):e.get(t)),j=(t,e,n)=>e.has(t)?Fk("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),H=(t,e,n,i)=>(Lx(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n),Y=(t,e,n)=>(Lx(t,e,"access private method"),n);var mi=(t,e,n,i)=>({set _(r){H(t,e,r,n)},get _(){return b(t,e,i)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var Ve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function QE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Lq(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var wU={exports:{}},Hb={},TU={exports:{}},ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $y=Symbol.for("react.element"),Pq=Symbol.for("react.portal"),Mq=Symbol.for("react.fragment"),Oq=Symbol.for("react.strict_mode"),Bq=Symbol.for("react.profiler"),qq=Symbol.for("react.provider"),Wq=Symbol.for("react.context"),$q=Symbol.for("react.forward_ref"),zq=Symbol.for("react.suspense"),Hq=Symbol.for("react.memo"),Vq=Symbol.for("react.lazy"),Nk=Symbol.iterator;function Gq(t){return t===null||typeof t!="object"?null:(t=Nk&&t[Nk]||t["@@iterator"],typeof t=="function"?t:null)}var CU={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},EU=Object.assign,AU={};function Hf(t,e,n){this.props=t,this.context=e,this.refs=AU,this.updater=n||CU}Hf.prototype.isReactComponent={};Hf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Hf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function SU(){}SU.prototype=Hf.prototype;function eA(t,e,n){this.props=t,this.context=e,this.refs=AU,this.updater=n||CU}var tA=eA.prototype=new SU;tA.constructor=eA;EU(tA,Hf.prototype);tA.isPureReactComponent=!0;var Rk=Array.isArray,DU=Object.prototype.hasOwnProperty,nA={current:null},kU={key:!0,ref:!0,__self:!0,__source:!0};function IU(t,e,n){var i,r={},o=null,s=null;if(e!=null)for(i in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)DU.call(e,i)&&!kU.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:$y,type:t,key:o,ref:s,props:r,_owner:nA.current}}function jq(t,e){return{$$typeof:$y,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function iA(t){return typeof t=="object"&&t!==null&&t.$$typeof===$y}function Xq(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Uk=/\/+/g;function Px(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Xq(""+t.key):e.toString(36)}function e0(t,e,n,i,r){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case $y:case Pq:s=!0}}if(s)return s=t,r=r(s),t=i===""?"."+Px(s,0):i,Rk(r)?(n="",t!=null&&(n=t.replace(Uk,"$&/")+"/"),e0(r,e,n,"",function(u){return u})):r!=null&&(iA(r)&&(r=jq(r,n+(!r.key||s&&s.key===r.key?"":(""+r.key).replace(Uk,"$&/")+"/")+t)),e.push(r)),1;if(s=0,i=i===""?".":i+":",Rk(t))for(var a=0;a<t.length;a++){o=t[a];var l=i+Px(o,a);s+=e0(o,e,n,l,r)}else if(l=Gq(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=i+Px(o,a++),s+=e0(o,e,n,l,r);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function gv(t,e,n){if(t==null)return t;var i=[],r=0;return e0(t,i,"","",function(o){return e.call(n,o,r++)}),i}function Yq(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ri={current:null},t0={transition:null},Kq={ReactCurrentDispatcher:Ri,ReactCurrentBatchConfig:t0,ReactCurrentOwner:nA};function FU(){throw Error("act(...) is not supported in production builds of React.")}ot.Children={map:gv,forEach:function(t,e,n){gv(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gv(t,function(){e++}),e},toArray:function(t){return gv(t,function(e){return e})||[]},only:function(t){if(!iA(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ot.Component=Hf;ot.Fragment=Mq;ot.Profiler=Bq;ot.PureComponent=eA;ot.StrictMode=Oq;ot.Suspense=zq;ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kq;ot.act=FU;ot.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=EU({},t.props),r=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=nA.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)DU.call(e,l)&&!kU.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}return{$$typeof:$y,type:t.type,key:r,ref:o,props:i,_owner:s}};ot.createContext=function(t){return t={$$typeof:Wq,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:qq,_context:t},t.Consumer=t};ot.createElement=IU;ot.createFactory=function(t){var e=IU.bind(null,t);return e.type=t,e};ot.createRef=function(){return{current:null}};ot.forwardRef=function(t){return{$$typeof:$q,render:t}};ot.isValidElement=iA;ot.lazy=function(t){return{$$typeof:Vq,_payload:{_status:-1,_result:t},_init:Yq}};ot.memo=function(t,e){return{$$typeof:Hq,type:t,compare:e===void 0?null:e}};ot.startTransition=function(t){var e=t0.transition;t0.transition={};try{t()}finally{t0.transition=e}};ot.unstable_act=FU;ot.useCallback=function(t,e){return Ri.current.useCallback(t,e)};ot.useContext=function(t){return Ri.current.useContext(t)};ot.useDebugValue=function(){};ot.useDeferredValue=function(t){return Ri.current.useDeferredValue(t)};ot.useEffect=function(t,e){return Ri.current.useEffect(t,e)};ot.useId=function(){return Ri.current.useId()};ot.useImperativeHandle=function(t,e,n){return Ri.current.useImperativeHandle(t,e,n)};ot.useInsertionEffect=function(t,e){return Ri.current.useInsertionEffect(t,e)};ot.useLayoutEffect=function(t,e){return Ri.current.useLayoutEffect(t,e)};ot.useMemo=function(t,e){return Ri.current.useMemo(t,e)};ot.useReducer=function(t,e,n){return Ri.current.useReducer(t,e,n)};ot.useRef=function(t){return Ri.current.useRef(t)};ot.useState=function(t){return Ri.current.useState(t)};ot.useSyncExternalStore=function(t,e,n){return Ri.current.useSyncExternalStore(t,e,n)};ot.useTransition=function(){return Ri.current.useTransition()};ot.version="18.3.1";TU.exports=ot;var be=TU.exports;const Jq=QE(be);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zq=be,Qq=Symbol.for("react.element"),eW=Symbol.for("react.fragment"),tW=Object.prototype.hasOwnProperty,nW=Zq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iW={key:!0,ref:!0,__self:!0,__source:!0};function NU(t,e,n){var i,r={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(i in e)tW.call(e,i)&&!iW.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:Qq,type:t,key:o,ref:s,props:r,_owner:nW.current}}Hb.Fragment=eW;Hb.jsx=NU;Hb.jsxs=NU;wU.exports=Hb;var X=wU.exports,tT={},RU={exports:{}},kr={},UU={exports:{}},LU={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,M){var q=z.length;z.push(M);e:for(;0<q;){var F=q-1>>>1,O=z[F];if(0<r(O,M))z[F]=M,z[q]=O,q=F;else break e}}function n(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var M=z[0],q=z.pop();if(q!==M){z[0]=q;e:for(var F=0,O=z.length,W=O>>>1;F<W;){var J=2*(F+1)-1,K=z[J],G=J+1,Z=z[G];if(0>r(K,q))G<O&&0>r(Z,K)?(z[F]=Z,z[G]=q,F=G):(z[F]=K,z[J]=q,F=J);else if(G<O&&0>r(Z,q))z[F]=Z,z[G]=q,F=G;else break e}}return M}function r(z,M){var q=z.sortIndex-M.sortIndex;return q!==0?q:z.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,y=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(z){for(var M=n(u);M!==null;){if(M.callback===null)i(u);else if(M.startTime<=z)i(u),M.sortIndex=M.expirationTime,e(l,M);else break;M=n(u)}}function x(z){if(m=!1,_(z),!y)if(n(l)!==null)y=!0,R(T);else{var M=n(u);M!==null&&P(x,M.startTime-z)}}function T(z,M){y=!1,m&&(m=!1,g(k),k=-1),f=!0;var q=d;try{for(_(M),h=n(l);h!==null&&(!(h.expirationTime>M)||z&&!I());){var F=h.callback;if(typeof F=="function"){h.callback=null,d=h.priorityLevel;var O=F(h.expirationTime<=M);M=t.unstable_now(),typeof O=="function"?h.callback=O:h===n(l)&&i(l),_(M)}else i(l);h=n(l)}if(h!==null)var W=!0;else{var J=n(u);J!==null&&P(x,J.startTime-M),W=!1}return W}finally{h=null,d=q,f=!1}}var A=!1,E=null,k=-1,U=5,N=-1;function I(){return!(t.unstable_now()-N<U)}function S(){if(E!==null){var z=t.unstable_now();N=z;var M=!0;try{M=E(!0,z)}finally{M?L():(A=!1,E=null)}}else A=!1}var L;if(typeof p=="function")L=function(){p(S)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,$=D.port2;D.port1.onmessage=S,L=function(){$.postMessage(null)}}else L=function(){v(S,0)};function R(z){E=z,A||(A=!0,L())}function P(z,M){k=v(function(){z(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){y||f||(y=!0,R(T))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(d){case 1:case 2:case 3:var M=3;break;default:M=d}var q=d;d=M;try{return z()}finally{d=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,M){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var q=d;d=z;try{return M()}finally{d=q}},t.unstable_scheduleCallback=function(z,M,q){var F=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?F+q:F):q=F,z){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=q+O,z={id:c++,callback:M,priorityLevel:z,startTime:q,expirationTime:O,sortIndex:-1},q>F?(z.sortIndex=q,e(u,z),n(l)===null&&z===n(u)&&(m?(g(k),k=-1):m=!0,P(x,q-F))):(z.sortIndex=O,e(l,z),y||f||(y=!0,R(T))),z},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(z){var M=d;return function(){var q=d;d=M;try{return z.apply(this,arguments)}finally{d=q}}}})(LU);UU.exports=LU;var rW=UU.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oW=be,Sr=rW;function Te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var PU=new Set,kg={};function rd(t,e){bf(t,e),bf(t+"Capture",e)}function bf(t,e){for(kg[t]=e,t=0;t<e.length;t++)PU.add(e[t])}var Sa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nT=Object.prototype.hasOwnProperty,sW=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lk={},Pk={};function aW(t){return nT.call(Pk,t)?!0:nT.call(Lk,t)?!1:sW.test(t)?Pk[t]=!0:(Lk[t]=!0,!1)}function lW(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function uW(t,e,n,i){if(e===null||typeof e>"u"||lW(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ui(t,e,n,i,r,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var $n={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$n[t]=new Ui(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];$n[e]=new Ui(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){$n[t]=new Ui(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$n[t]=new Ui(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$n[t]=new Ui(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){$n[t]=new Ui(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){$n[t]=new Ui(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){$n[t]=new Ui(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){$n[t]=new Ui(t,5,!1,t.toLowerCase(),null,!1,!1)});var rA=/[\-:]([a-z])/g;function oA(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rA,oA);$n[e]=new Ui(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rA,oA);$n[e]=new Ui(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rA,oA);$n[e]=new Ui(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){$n[t]=new Ui(t,1,!1,t.toLowerCase(),null,!1,!1)});$n.xlinkHref=new Ui("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){$n[t]=new Ui(t,1,!1,t.toLowerCase(),null,!0,!0)});function sA(t,e,n,i){var r=$n.hasOwnProperty(e)?$n[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(uW(e,n,r,i)&&(n=null),i||r===null?aW(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Oa=oW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mv=Symbol.for("react.element"),Nd=Symbol.for("react.portal"),Rd=Symbol.for("react.fragment"),aA=Symbol.for("react.strict_mode"),iT=Symbol.for("react.profiler"),MU=Symbol.for("react.provider"),OU=Symbol.for("react.context"),lA=Symbol.for("react.forward_ref"),rT=Symbol.for("react.suspense"),oT=Symbol.for("react.suspense_list"),uA=Symbol.for("react.memo"),Ja=Symbol.for("react.lazy"),BU=Symbol.for("react.offscreen"),Mk=Symbol.iterator;function hp(t){return t===null||typeof t!="object"?null:(t=Mk&&t[Mk]||t["@@iterator"],typeof t=="function"?t:null)}var Yt=Object.assign,Mx;function Bp(t){if(Mx===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Mx=e&&e[1]||""}return`
`+Mx+t}var Ox=!1;function Bx(t,e){if(!t||Ox)return"";Ox=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){i=u}t.call(e.prototype)}else{try{throw Error()}catch(u){i=u}t()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),o=i.stack.split(`
`),s=r.length-1,a=o.length-1;1<=s&&0<=a&&r[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(r[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||r[s]!==o[a]){var l=`
`+r[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Ox=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Bp(t):""}function cW(t){switch(t.tag){case 5:return Bp(t.type);case 16:return Bp("Lazy");case 13:return Bp("Suspense");case 19:return Bp("SuspenseList");case 0:case 2:case 15:return t=Bx(t.type,!1),t;case 11:return t=Bx(t.type.render,!1),t;case 1:return t=Bx(t.type,!0),t;default:return""}}function sT(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Rd:return"Fragment";case Nd:return"Portal";case iT:return"Profiler";case aA:return"StrictMode";case rT:return"Suspense";case oT:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case OU:return(t.displayName||"Context")+".Consumer";case MU:return(t._context.displayName||"Context")+".Provider";case lA:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case uA:return e=t.displayName||null,e!==null?e:sT(t.type)||"Memo";case Ja:e=t._payload,t=t._init;try{return sT(t(e))}catch{}}return null}function dW(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sT(e);case 8:return e===aA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Jl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qU(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hW(t){var e=qU(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(s){i=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yv(t){t._valueTracker||(t._valueTracker=hW(t))}function WU(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=qU(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function n1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function aT(t,e){var n=e.checked;return Yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ok(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Jl(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $U(t,e){e=e.checked,e!=null&&sA(t,"checked",e,!1)}function lT(t,e){$U(t,e);var n=Jl(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?uT(t,e.type,n):e.hasOwnProperty("defaultValue")&&uT(t,e.type,Jl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Bk(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function uT(t,e,n){(e!=="number"||n1(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var qp=Array.isArray;function Jd(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Jl(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function cT(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Te(91));return Yt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function qk(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Te(92));if(qp(n)){if(1<n.length)throw Error(Te(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Jl(n)}}function zU(t,e){var n=Jl(e.value),i=Jl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function Wk(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function HU(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dT(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?HU(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vv,VU=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vv=vv||document.createElement("div"),vv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vv.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ig(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var cg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fW=["Webkit","ms","Moz","O"];Object.keys(cg).forEach(function(t){fW.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),cg[e]=cg[t]})});function GU(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||cg.hasOwnProperty(t)&&cg[t]?(""+e).trim():e+"px"}function jU(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=GU(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var pW=Yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hT(t,e){if(e){if(pW[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Te(62))}}function fT(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pT=null;function cA(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gT=null,Zd=null,Qd=null;function $k(t){if(t=Vy(t)){if(typeof gT!="function")throw Error(Te(280));var e=t.stateNode;e&&(e=Yb(e),gT(t.stateNode,t.type,e))}}function XU(t){Zd?Qd?Qd.push(t):Qd=[t]:Zd=t}function YU(){if(Zd){var t=Zd,e=Qd;if(Qd=Zd=null,$k(t),e)for(t=0;t<e.length;t++)$k(e[t])}}function KU(t,e){return t(e)}function JU(){}var qx=!1;function ZU(t,e,n){if(qx)return t(e,n);qx=!0;try{return KU(t,e,n)}finally{qx=!1,(Zd!==null||Qd!==null)&&(JU(),YU())}}function Fg(t,e){var n=t.stateNode;if(n===null)return null;var i=Yb(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Te(231,e,typeof n));return n}var mT=!1;if(Sa)try{var fp={};Object.defineProperty(fp,"passive",{get:function(){mT=!0}}),window.addEventListener("test",fp,fp),window.removeEventListener("test",fp,fp)}catch{mT=!1}function gW(t,e,n,i,r,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var dg=!1,i1=null,r1=!1,yT=null,mW={onError:function(t){dg=!0,i1=t}};function yW(t,e,n,i,r,o,s,a,l){dg=!1,i1=null,gW.apply(mW,arguments)}function vW(t,e,n,i,r,o,s,a,l){if(yW.apply(this,arguments),dg){if(dg){var u=i1;dg=!1,i1=null}else throw Error(Te(198));r1||(r1=!0,yT=u)}}function od(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function QU(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function zk(t){if(od(t)!==t)throw Error(Te(188))}function bW(t){var e=t.alternate;if(!e){if(e=od(t),e===null)throw Error(Te(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var o=r.alternate;if(o===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return zk(r),t;if(o===i)return zk(r),e;o=o.sibling}throw Error(Te(188))}if(n.return!==i.return)n=r,i=o;else{for(var s=!1,a=r.child;a;){if(a===n){s=!0,n=r,i=o;break}if(a===i){s=!0,i=r,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,i=r;break}if(a===i){s=!0,i=o,n=r;break}a=a.sibling}if(!s)throw Error(Te(189))}}if(n.alternate!==i)throw Error(Te(190))}if(n.tag!==3)throw Error(Te(188));return n.stateNode.current===n?t:e}function eL(t){return t=bW(t),t!==null?tL(t):null}function tL(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=tL(t);if(e!==null)return e;t=t.sibling}return null}var nL=Sr.unstable_scheduleCallback,Hk=Sr.unstable_cancelCallback,_W=Sr.unstable_shouldYield,xW=Sr.unstable_requestPaint,tn=Sr.unstable_now,wW=Sr.unstable_getCurrentPriorityLevel,dA=Sr.unstable_ImmediatePriority,iL=Sr.unstable_UserBlockingPriority,o1=Sr.unstable_NormalPriority,TW=Sr.unstable_LowPriority,rL=Sr.unstable_IdlePriority,Vb=null,gs=null;function CW(t){if(gs&&typeof gs.onCommitFiberRoot=="function")try{gs.onCommitFiberRoot(Vb,t,void 0,(t.current.flags&128)===128)}catch{}}var Io=Math.clz32?Math.clz32:SW,EW=Math.log,AW=Math.LN2;function SW(t){return t>>>=0,t===0?32:31-(EW(t)/AW|0)|0}var bv=64,_v=4194304;function Wp(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function s1(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~r;a!==0?i=Wp(a):(o&=s,o!==0&&(i=Wp(o)))}else s=n&~r,s!==0?i=Wp(s):o!==0&&(i=Wp(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,o=e&-e,r>=o||r===16&&(o&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Io(e),r=1<<n,i|=t[n],e&=~r;return i}function DW(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kW(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Io(o),a=1<<s,l=r[s];l===-1?(!(a&n)||a&i)&&(r[s]=DW(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function vT(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function oL(){var t=bv;return bv<<=1,!(bv&4194240)&&(bv=64),t}function Wx(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function zy(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Io(e),t[e]=n}function IW(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Io(n),o=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~o}}function hA(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Io(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var bt=0;function sL(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var aL,fA,lL,uL,cL,bT=!1,xv=[],Ol=null,Bl=null,ql=null,Ng=new Map,Rg=new Map,tl=[],FW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vk(t,e){switch(t){case"focusin":case"focusout":Ol=null;break;case"dragenter":case"dragleave":Bl=null;break;case"mouseover":case"mouseout":ql=null;break;case"pointerover":case"pointerout":Ng.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rg.delete(e.pointerId)}}function pp(t,e,n,i,r,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},e!==null&&(e=Vy(e),e!==null&&fA(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function NW(t,e,n,i,r){switch(e){case"focusin":return Ol=pp(Ol,t,e,n,i,r),!0;case"dragenter":return Bl=pp(Bl,t,e,n,i,r),!0;case"mouseover":return ql=pp(ql,t,e,n,i,r),!0;case"pointerover":var o=r.pointerId;return Ng.set(o,pp(Ng.get(o)||null,t,e,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Rg.set(o,pp(Rg.get(o)||null,t,e,n,i,r)),!0}return!1}function dL(t){var e=Du(t.target);if(e!==null){var n=od(e);if(n!==null){if(e=n.tag,e===13){if(e=QU(n),e!==null){t.blockedOn=e,cL(t.priority,function(){lL(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function n0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=_T(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);pT=i,n.target.dispatchEvent(i),pT=null}else return e=Vy(n),e!==null&&fA(e),t.blockedOn=n,!1;e.shift()}return!0}function Gk(t,e,n){n0(t)&&n.delete(e)}function RW(){bT=!1,Ol!==null&&n0(Ol)&&(Ol=null),Bl!==null&&n0(Bl)&&(Bl=null),ql!==null&&n0(ql)&&(ql=null),Ng.forEach(Gk),Rg.forEach(Gk)}function gp(t,e){t.blockedOn===e&&(t.blockedOn=null,bT||(bT=!0,Sr.unstable_scheduleCallback(Sr.unstable_NormalPriority,RW)))}function Ug(t){function e(r){return gp(r,t)}if(0<xv.length){gp(xv[0],t);for(var n=1;n<xv.length;n++){var i=xv[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Ol!==null&&gp(Ol,t),Bl!==null&&gp(Bl,t),ql!==null&&gp(ql,t),Ng.forEach(e),Rg.forEach(e),n=0;n<tl.length;n++)i=tl[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<tl.length&&(n=tl[0],n.blockedOn===null);)dL(n),n.blockedOn===null&&tl.shift()}var eh=Oa.ReactCurrentBatchConfig,a1=!0;function UW(t,e,n,i){var r=bt,o=eh.transition;eh.transition=null;try{bt=1,pA(t,e,n,i)}finally{bt=r,eh.transition=o}}function LW(t,e,n,i){var r=bt,o=eh.transition;eh.transition=null;try{bt=4,pA(t,e,n,i)}finally{bt=r,eh.transition=o}}function pA(t,e,n,i){if(a1){var r=_T(t,e,n,i);if(r===null)Jx(t,e,i,l1,n),Vk(t,i);else if(NW(r,t,e,n,i))i.stopPropagation();else if(Vk(t,i),e&4&&-1<FW.indexOf(t)){for(;r!==null;){var o=Vy(r);if(o!==null&&aL(o),o=_T(t,e,n,i),o===null&&Jx(t,e,i,l1,n),o===r)break;r=o}r!==null&&i.stopPropagation()}else Jx(t,e,i,null,n)}}var l1=null;function _T(t,e,n,i){if(l1=null,t=cA(i),t=Du(t),t!==null)if(e=od(t),e===null)t=null;else if(n=e.tag,n===13){if(t=QU(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return l1=t,null}function hL(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wW()){case dA:return 1;case iL:return 4;case o1:case TW:return 16;case rL:return 536870912;default:return 16}default:return 16}}var Ul=null,gA=null,i0=null;function fL(){if(i0)return i0;var t,e=gA,n=e.length,i,r="value"in Ul?Ul.value:Ul.textContent,o=r.length;for(t=0;t<n&&e[t]===r[t];t++);var s=n-t;for(i=1;i<=s&&e[n-i]===r[o-i];i++);return i0=r.slice(t,1<i?1-i:void 0)}function r0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wv(){return!0}function jk(){return!1}function Ir(t){function e(n,i,r,o,s){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?wv:jk,this.isPropagationStopped=jk,this}return Yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wv)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wv)},persist:function(){},isPersistent:wv}),e}var Vf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mA=Ir(Vf),Hy=Yt({},Vf,{view:0,detail:0}),PW=Ir(Hy),$x,zx,mp,Gb=Yt({},Hy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yA,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==mp&&(mp&&t.type==="mousemove"?($x=t.screenX-mp.screenX,zx=t.screenY-mp.screenY):zx=$x=0,mp=t),$x)},movementY:function(t){return"movementY"in t?t.movementY:zx}}),Xk=Ir(Gb),MW=Yt({},Gb,{dataTransfer:0}),OW=Ir(MW),BW=Yt({},Hy,{relatedTarget:0}),Hx=Ir(BW),qW=Yt({},Vf,{animationName:0,elapsedTime:0,pseudoElement:0}),WW=Ir(qW),$W=Yt({},Vf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zW=Ir($W),HW=Yt({},Vf,{data:0}),Yk=Ir(HW),VW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XW(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jW[t])?!!e[t]:!1}function yA(){return XW}var YW=Yt({},Hy,{key:function(t){if(t.key){var e=VW[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=r0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?GW[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yA,charCode:function(t){return t.type==="keypress"?r0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?r0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),KW=Ir(YW),JW=Yt({},Gb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kk=Ir(JW),ZW=Yt({},Hy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yA}),QW=Ir(ZW),e$=Yt({},Vf,{propertyName:0,elapsedTime:0,pseudoElement:0}),t$=Ir(e$),n$=Yt({},Gb,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),i$=Ir(n$),r$=[9,13,27,32],vA=Sa&&"CompositionEvent"in window,hg=null;Sa&&"documentMode"in document&&(hg=document.documentMode);var o$=Sa&&"TextEvent"in window&&!hg,pL=Sa&&(!vA||hg&&8<hg&&11>=hg),Jk=" ",Zk=!1;function gL(t,e){switch(t){case"keyup":return r$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mL(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ud=!1;function s$(t,e){switch(t){case"compositionend":return mL(e);case"keypress":return e.which!==32?null:(Zk=!0,Jk);case"textInput":return t=e.data,t===Jk&&Zk?null:t;default:return null}}function a$(t,e){if(Ud)return t==="compositionend"||!vA&&gL(t,e)?(t=fL(),i0=gA=Ul=null,Ud=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pL&&e.locale!=="ko"?null:e.data;default:return null}}var l$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!l$[t.type]:e==="textarea"}function yL(t,e,n,i){XU(i),e=u1(e,"onChange"),0<e.length&&(n=new mA("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var fg=null,Lg=null;function u$(t){DL(t,0)}function jb(t){var e=Md(t);if(WU(e))return t}function c$(t,e){if(t==="change")return e}var vL=!1;if(Sa){var Vx;if(Sa){var Gx="oninput"in document;if(!Gx){var e3=document.createElement("div");e3.setAttribute("oninput","return;"),Gx=typeof e3.oninput=="function"}Vx=Gx}else Vx=!1;vL=Vx&&(!document.documentMode||9<document.documentMode)}function t3(){fg&&(fg.detachEvent("onpropertychange",bL),Lg=fg=null)}function bL(t){if(t.propertyName==="value"&&jb(Lg)){var e=[];yL(e,Lg,t,cA(t)),ZU(u$,e)}}function d$(t,e,n){t==="focusin"?(t3(),fg=e,Lg=n,fg.attachEvent("onpropertychange",bL)):t==="focusout"&&t3()}function h$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jb(Lg)}function f$(t,e){if(t==="click")return jb(e)}function p$(t,e){if(t==="input"||t==="change")return jb(e)}function g$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ro=typeof Object.is=="function"?Object.is:g$;function Pg(t,e){if(Ro(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!nT.call(e,r)||!Ro(t[r],e[r]))return!1}return!0}function n3(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function i3(t,e){var n=n3(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=n3(n)}}function _L(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_L(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function xL(){for(var t=window,e=n1();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=n1(t.document)}return e}function bA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function m$(t){var e=xL(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_L(n.ownerDocument.documentElement,n)){if(i!==null&&bA(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=i.end===void 0?o:Math.min(i.end,r),!t.extend&&o>i&&(r=i,i=o,o=r),r=i3(n,o);var s=i3(n,i);r&&s&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),o>i?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var y$=Sa&&"documentMode"in document&&11>=document.documentMode,Ld=null,xT=null,pg=null,wT=!1;function r3(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wT||Ld==null||Ld!==n1(i)||(i=Ld,"selectionStart"in i&&bA(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),pg&&Pg(pg,i)||(pg=i,i=u1(xT,"onSelect"),0<i.length&&(e=new mA("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Ld)))}function Tv(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Pd={animationend:Tv("Animation","AnimationEnd"),animationiteration:Tv("Animation","AnimationIteration"),animationstart:Tv("Animation","AnimationStart"),transitionend:Tv("Transition","TransitionEnd")},jx={},wL={};Sa&&(wL=document.createElement("div").style,"AnimationEvent"in window||(delete Pd.animationend.animation,delete Pd.animationiteration.animation,delete Pd.animationstart.animation),"TransitionEvent"in window||delete Pd.transitionend.transition);function Xb(t){if(jx[t])return jx[t];if(!Pd[t])return t;var e=Pd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in wL)return jx[t]=e[n];return t}var TL=Xb("animationend"),CL=Xb("animationiteration"),EL=Xb("animationstart"),AL=Xb("transitionend"),SL=new Map,o3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function su(t,e){SL.set(t,e),rd(e,[t])}for(var Xx=0;Xx<o3.length;Xx++){var Yx=o3[Xx],v$=Yx.toLowerCase(),b$=Yx[0].toUpperCase()+Yx.slice(1);su(v$,"on"+b$)}su(TL,"onAnimationEnd");su(CL,"onAnimationIteration");su(EL,"onAnimationStart");su("dblclick","onDoubleClick");su("focusin","onFocus");su("focusout","onBlur");su(AL,"onTransitionEnd");bf("onMouseEnter",["mouseout","mouseover"]);bf("onMouseLeave",["mouseout","mouseover"]);bf("onPointerEnter",["pointerout","pointerover"]);bf("onPointerLeave",["pointerout","pointerover"]);rd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rd("onBeforeInput",["compositionend","keypress","textInput","paste"]);rd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $p="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_$=new Set("cancel close invalid load scroll toggle".split(" ").concat($p));function s3(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,vW(i,e,void 0,t),t.currentTarget=null}function DL(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var s=i.length-1;0<=s;s--){var a=i[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&r.isPropagationStopped())break e;s3(r,a,u),o=l}else for(s=0;s<i.length;s++){if(a=i[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&r.isPropagationStopped())break e;s3(r,a,u),o=l}}}if(r1)throw t=yT,r1=!1,yT=null,t}function It(t,e){var n=e[ST];n===void 0&&(n=e[ST]=new Set);var i=t+"__bubble";n.has(i)||(kL(e,t,2,!1),n.add(i))}function Kx(t,e,n){var i=0;e&&(i|=4),kL(n,t,i,e)}var Cv="_reactListening"+Math.random().toString(36).slice(2);function Mg(t){if(!t[Cv]){t[Cv]=!0,PU.forEach(function(n){n!=="selectionchange"&&(_$.has(n)||Kx(n,!1,t),Kx(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Cv]||(e[Cv]=!0,Kx("selectionchange",!1,e))}}function kL(t,e,n,i){switch(hL(e)){case 1:var r=UW;break;case 4:r=LW;break;default:r=pA}n=r.bind(null,e,n,t),r=void 0,!mT||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Jx(t,e,n,i,r){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(s===4)for(s=i.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;s=s.return}for(;a!==null;){if(s=Du(a),s===null)return;if(l=s.tag,l===5||l===6){i=o=s;continue e}a=a.parentNode}}i=i.return}ZU(function(){var u=o,c=cA(n),h=[];e:{var d=SL.get(t);if(d!==void 0){var f=mA,y=t;switch(t){case"keypress":if(r0(n)===0)break e;case"keydown":case"keyup":f=KW;break;case"focusin":y="focus",f=Hx;break;case"focusout":y="blur",f=Hx;break;case"beforeblur":case"afterblur":f=Hx;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Xk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=OW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=QW;break;case TL:case CL:case EL:f=WW;break;case AL:f=t$;break;case"scroll":f=PW;break;case"wheel":f=i$;break;case"copy":case"cut":case"paste":f=zW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Kk}var m=(e&4)!==0,v=!m&&t==="scroll",g=m?d!==null?d+"Capture":null:d;m=[];for(var p=u,_;p!==null;){_=p;var x=_.stateNode;if(_.tag===5&&x!==null&&(_=x,g!==null&&(x=Fg(p,g),x!=null&&m.push(Og(p,x,_)))),v)break;p=p.return}0<m.length&&(d=new f(d,y,null,n,c),h.push({event:d,listeners:m}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==pT&&(y=n.relatedTarget||n.fromElement)&&(Du(y)||y[Da]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(y=n.relatedTarget||n.toElement,f=u,y=y?Du(y):null,y!==null&&(v=od(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(f=null,y=u),f!==y)){if(m=Xk,x="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(m=Kk,x="onPointerLeave",g="onPointerEnter",p="pointer"),v=f==null?d:Md(f),_=y==null?d:Md(y),d=new m(x,p+"leave",f,n,c),d.target=v,d.relatedTarget=_,x=null,Du(c)===u&&(m=new m(g,p+"enter",y,n,c),m.target=_,m.relatedTarget=v,x=m),v=x,f&&y)t:{for(m=f,g=y,p=0,_=m;_;_=yd(_))p++;for(_=0,x=g;x;x=yd(x))_++;for(;0<p-_;)m=yd(m),p--;for(;0<_-p;)g=yd(g),_--;for(;p--;){if(m===g||g!==null&&m===g.alternate)break t;m=yd(m),g=yd(g)}m=null}else m=null;f!==null&&a3(h,d,f,m,!1),y!==null&&v!==null&&a3(h,v,y,m,!0)}}e:{if(d=u?Md(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var T=c$;else if(Qk(d))if(vL)T=p$;else{T=h$;var A=d$}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(T=f$);if(T&&(T=T(t,u))){yL(h,T,n,c);break e}A&&A(t,d,u),t==="focusout"&&(A=d._wrapperState)&&A.controlled&&d.type==="number"&&uT(d,"number",d.value)}switch(A=u?Md(u):window,t){case"focusin":(Qk(A)||A.contentEditable==="true")&&(Ld=A,xT=u,pg=null);break;case"focusout":pg=xT=Ld=null;break;case"mousedown":wT=!0;break;case"contextmenu":case"mouseup":case"dragend":wT=!1,r3(h,n,c);break;case"selectionchange":if(y$)break;case"keydown":case"keyup":r3(h,n,c)}var E;if(vA)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Ud?gL(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(pL&&n.locale!=="ko"&&(Ud||k!=="onCompositionStart"?k==="onCompositionEnd"&&Ud&&(E=fL()):(Ul=c,gA="value"in Ul?Ul.value:Ul.textContent,Ud=!0)),A=u1(u,k),0<A.length&&(k=new Yk(k,t,null,n,c),h.push({event:k,listeners:A}),E?k.data=E:(E=mL(n),E!==null&&(k.data=E)))),(E=o$?s$(t,n):a$(t,n))&&(u=u1(u,"onBeforeInput"),0<u.length&&(c=new Yk("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=E))}DL(h,e)})}function Og(t,e,n){return{instance:t,listener:e,currentTarget:n}}function u1(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=Fg(t,n),o!=null&&i.unshift(Og(t,o,r)),o=Fg(t,e),o!=null&&i.push(Og(t,o,r))),t=t.return}return i}function yd(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function a3(t,e,n,i,r){for(var o=e._reactName,s=[];n!==null&&n!==i;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&u!==null&&(a=u,r?(l=Fg(n,o),l!=null&&s.unshift(Og(n,l,a))):r||(l=Fg(n,o),l!=null&&s.push(Og(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var x$=/\r\n?/g,w$=/\u0000|\uFFFD/g;function l3(t){return(typeof t=="string"?t:""+t).replace(x$,`
`).replace(w$,"")}function Ev(t,e,n){if(e=l3(e),l3(t)!==e&&n)throw Error(Te(425))}function c1(){}var TT=null,CT=null;function ET(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var AT=typeof setTimeout=="function"?setTimeout:void 0,T$=typeof clearTimeout=="function"?clearTimeout:void 0,u3=typeof Promise=="function"?Promise:void 0,C$=typeof queueMicrotask=="function"?queueMicrotask:typeof u3<"u"?function(t){return u3.resolve(null).then(t).catch(E$)}:AT;function E$(t){setTimeout(function(){throw t})}function Zx(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Ug(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Ug(e)}function Wl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function c3(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Gf=Math.random().toString(36).slice(2),fs="__reactFiber$"+Gf,Bg="__reactProps$"+Gf,Da="__reactContainer$"+Gf,ST="__reactEvents$"+Gf,A$="__reactListeners$"+Gf,S$="__reactHandles$"+Gf;function Du(t){var e=t[fs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Da]||n[fs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=c3(t);t!==null;){if(n=t[fs])return n;t=c3(t)}return e}t=n,n=t.parentNode}return null}function Vy(t){return t=t[fs]||t[Da],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Md(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Te(33))}function Yb(t){return t[Bg]||null}var DT=[],Od=-1;function au(t){return{current:t}}function Lt(t){0>Od||(t.current=DT[Od],DT[Od]=null,Od--)}function St(t,e){Od++,DT[Od]=t.current,t.current=e}var Zl={},di=au(Zl),Ji=au(!1),$c=Zl;function _f(t,e){var n=t.type.contextTypes;if(!n)return Zl;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in n)r[o]=e[o];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Zi(t){return t=t.childContextTypes,t!=null}function d1(){Lt(Ji),Lt(di)}function d3(t,e,n){if(di.current!==Zl)throw Error(Te(168));St(di,e),St(Ji,n)}function IL(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Te(108,dW(t)||"Unknown",r));return Yt({},n,i)}function h1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zl,$c=di.current,St(di,t),St(Ji,Ji.current),!0}function h3(t,e,n){var i=t.stateNode;if(!i)throw Error(Te(169));n?(t=IL(t,e,$c),i.__reactInternalMemoizedMergedChildContext=t,Lt(Ji),Lt(di),St(di,t)):Lt(Ji),St(Ji,n)}var Gs=null,Kb=!1,Qx=!1;function FL(t){Gs===null?Gs=[t]:Gs.push(t)}function D$(t){Kb=!0,FL(t)}function lu(){if(!Qx&&Gs!==null){Qx=!0;var t=0,e=bt;try{var n=Gs;for(bt=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Gs=null,Kb=!1}catch(r){throw Gs!==null&&(Gs=Gs.slice(t+1)),nL(dA,lu),r}finally{bt=e,Qx=!1}}return null}var Bd=[],qd=0,f1=null,p1=0,Vr=[],Gr=0,zc=null,_a=1,xa="";function bu(t,e){Bd[qd++]=p1,Bd[qd++]=f1,f1=t,p1=e}function NL(t,e,n){Vr[Gr++]=_a,Vr[Gr++]=xa,Vr[Gr++]=zc,zc=t;var i=_a;t=xa;var r=32-Io(i)-1;i&=~(1<<r),n+=1;var o=32-Io(e)+r;if(30<o){var s=r-r%5;o=(i&(1<<s)-1).toString(32),i>>=s,r-=s,_a=1<<32-Io(e)+r|n<<r|i,xa=o+t}else _a=1<<o|n<<r|i,xa=t}function _A(t){t.return!==null&&(bu(t,1),NL(t,1,0))}function xA(t){for(;t===f1;)f1=Bd[--qd],Bd[qd]=null,p1=Bd[--qd],Bd[qd]=null;for(;t===zc;)zc=Vr[--Gr],Vr[Gr]=null,xa=Vr[--Gr],Vr[Gr]=null,_a=Vr[--Gr],Vr[Gr]=null}var Er=null,Cr=null,Wt=!1,So=null;function RL(t,e){var n=Kr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function f3(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Er=t,Cr=Wl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Er=t,Cr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=zc!==null?{id:_a,overflow:xa}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Kr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Er=t,Cr=null,!0):!1;default:return!1}}function kT(t){return(t.mode&1)!==0&&(t.flags&128)===0}function IT(t){if(Wt){var e=Cr;if(e){var n=e;if(!f3(t,e)){if(kT(t))throw Error(Te(418));e=Wl(n.nextSibling);var i=Er;e&&f3(t,e)?RL(i,n):(t.flags=t.flags&-4097|2,Wt=!1,Er=t)}}else{if(kT(t))throw Error(Te(418));t.flags=t.flags&-4097|2,Wt=!1,Er=t}}}function p3(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Er=t}function Av(t){if(t!==Er)return!1;if(!Wt)return p3(t),Wt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ET(t.type,t.memoizedProps)),e&&(e=Cr)){if(kT(t))throw UL(),Error(Te(418));for(;e;)RL(t,e),e=Wl(e.nextSibling)}if(p3(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Cr=Wl(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Cr=null}}else Cr=Er?Wl(t.stateNode.nextSibling):null;return!0}function UL(){for(var t=Cr;t;)t=Wl(t.nextSibling)}function xf(){Cr=Er=null,Wt=!1}function wA(t){So===null?So=[t]:So.push(t)}var k$=Oa.ReactCurrentBatchConfig;function yp(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Te(309));var i=n.stateNode}if(!i)throw Error(Te(147,t));var r=i,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=r.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(Te(284));if(!n._owner)throw Error(Te(290,t))}return t}function Sv(t,e){throw t=Object.prototype.toString.call(e),Error(Te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function g3(t){var e=t._init;return e(t._payload)}function LL(t){function e(g,p){if(t){var _=g.deletions;_===null?(g.deletions=[p],g.flags|=16):_.push(p)}}function n(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function i(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function r(g,p){return g=Vl(g,p),g.index=0,g.sibling=null,g}function o(g,p,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<p?(g.flags|=2,p):_):(g.flags|=2,p)):(g.flags|=1048576,p)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,p,_,x){return p===null||p.tag!==6?(p=s2(_,g.mode,x),p.return=g,p):(p=r(p,_),p.return=g,p)}function l(g,p,_,x){var T=_.type;return T===Rd?c(g,p,_.props.children,x,_.key):p!==null&&(p.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ja&&g3(T)===p.type)?(x=r(p,_.props),x.ref=yp(g,p,_),x.return=g,x):(x=d0(_.type,_.key,_.props,null,g.mode,x),x.ref=yp(g,p,_),x.return=g,x)}function u(g,p,_,x){return p===null||p.tag!==4||p.stateNode.containerInfo!==_.containerInfo||p.stateNode.implementation!==_.implementation?(p=a2(_,g.mode,x),p.return=g,p):(p=r(p,_.children||[]),p.return=g,p)}function c(g,p,_,x,T){return p===null||p.tag!==7?(p=Oc(_,g.mode,x,T),p.return=g,p):(p=r(p,_),p.return=g,p)}function h(g,p,_){if(typeof p=="string"&&p!==""||typeof p=="number")return p=s2(""+p,g.mode,_),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case mv:return _=d0(p.type,p.key,p.props,null,g.mode,_),_.ref=yp(g,null,p),_.return=g,_;case Nd:return p=a2(p,g.mode,_),p.return=g,p;case Ja:var x=p._init;return h(g,x(p._payload),_)}if(qp(p)||hp(p))return p=Oc(p,g.mode,_,null),p.return=g,p;Sv(g,p)}return null}function d(g,p,_,x){var T=p!==null?p.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return T!==null?null:a(g,p,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case mv:return _.key===T?l(g,p,_,x):null;case Nd:return _.key===T?u(g,p,_,x):null;case Ja:return T=_._init,d(g,p,T(_._payload),x)}if(qp(_)||hp(_))return T!==null?null:c(g,p,_,x,null);Sv(g,_)}return null}function f(g,p,_,x,T){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(_)||null,a(p,g,""+x,T);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case mv:return g=g.get(x.key===null?_:x.key)||null,l(p,g,x,T);case Nd:return g=g.get(x.key===null?_:x.key)||null,u(p,g,x,T);case Ja:var A=x._init;return f(g,p,_,A(x._payload),T)}if(qp(x)||hp(x))return g=g.get(_)||null,c(p,g,x,T,null);Sv(p,x)}return null}function y(g,p,_,x){for(var T=null,A=null,E=p,k=p=0,U=null;E!==null&&k<_.length;k++){E.index>k?(U=E,E=null):U=E.sibling;var N=d(g,E,_[k],x);if(N===null){E===null&&(E=U);break}t&&E&&N.alternate===null&&e(g,E),p=o(N,p,k),A===null?T=N:A.sibling=N,A=N,E=U}if(k===_.length)return n(g,E),Wt&&bu(g,k),T;if(E===null){for(;k<_.length;k++)E=h(g,_[k],x),E!==null&&(p=o(E,p,k),A===null?T=E:A.sibling=E,A=E);return Wt&&bu(g,k),T}for(E=i(g,E);k<_.length;k++)U=f(E,g,k,_[k],x),U!==null&&(t&&U.alternate!==null&&E.delete(U.key===null?k:U.key),p=o(U,p,k),A===null?T=U:A.sibling=U,A=U);return t&&E.forEach(function(I){return e(g,I)}),Wt&&bu(g,k),T}function m(g,p,_,x){var T=hp(_);if(typeof T!="function")throw Error(Te(150));if(_=T.call(_),_==null)throw Error(Te(151));for(var A=T=null,E=p,k=p=0,U=null,N=_.next();E!==null&&!N.done;k++,N=_.next()){E.index>k?(U=E,E=null):U=E.sibling;var I=d(g,E,N.value,x);if(I===null){E===null&&(E=U);break}t&&E&&I.alternate===null&&e(g,E),p=o(I,p,k),A===null?T=I:A.sibling=I,A=I,E=U}if(N.done)return n(g,E),Wt&&bu(g,k),T;if(E===null){for(;!N.done;k++,N=_.next())N=h(g,N.value,x),N!==null&&(p=o(N,p,k),A===null?T=N:A.sibling=N,A=N);return Wt&&bu(g,k),T}for(E=i(g,E);!N.done;k++,N=_.next())N=f(E,g,k,N.value,x),N!==null&&(t&&N.alternate!==null&&E.delete(N.key===null?k:N.key),p=o(N,p,k),A===null?T=N:A.sibling=N,A=N);return t&&E.forEach(function(S){return e(g,S)}),Wt&&bu(g,k),T}function v(g,p,_,x){if(typeof _=="object"&&_!==null&&_.type===Rd&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case mv:e:{for(var T=_.key,A=p;A!==null;){if(A.key===T){if(T=_.type,T===Rd){if(A.tag===7){n(g,A.sibling),p=r(A,_.props.children),p.return=g,g=p;break e}}else if(A.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ja&&g3(T)===A.type){n(g,A.sibling),p=r(A,_.props),p.ref=yp(g,A,_),p.return=g,g=p;break e}n(g,A);break}else e(g,A);A=A.sibling}_.type===Rd?(p=Oc(_.props.children,g.mode,x,_.key),p.return=g,g=p):(x=d0(_.type,_.key,_.props,null,g.mode,x),x.ref=yp(g,p,_),x.return=g,g=x)}return s(g);case Nd:e:{for(A=_.key;p!==null;){if(p.key===A)if(p.tag===4&&p.stateNode.containerInfo===_.containerInfo&&p.stateNode.implementation===_.implementation){n(g,p.sibling),p=r(p,_.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else e(g,p);p=p.sibling}p=a2(_,g.mode,x),p.return=g,g=p}return s(g);case Ja:return A=_._init,v(g,p,A(_._payload),x)}if(qp(_))return y(g,p,_,x);if(hp(_))return m(g,p,_,x);Sv(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,p!==null&&p.tag===6?(n(g,p.sibling),p=r(p,_),p.return=g,g=p):(n(g,p),p=s2(_,g.mode,x),p.return=g,g=p),s(g)):n(g,p)}return v}var wf=LL(!0),PL=LL(!1),g1=au(null),m1=null,Wd=null,TA=null;function CA(){TA=Wd=m1=null}function EA(t){var e=g1.current;Lt(g1),t._currentValue=e}function FT(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function th(t,e){m1=t,TA=Wd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Xi=!0),t.firstContext=null)}function no(t){var e=t._currentValue;if(TA!==t)if(t={context:t,memoizedValue:e,next:null},Wd===null){if(m1===null)throw Error(Te(308));Wd=t,m1.dependencies={lanes:0,firstContext:t}}else Wd=Wd.next=t;return e}var ku=null;function AA(t){ku===null?ku=[t]:ku.push(t)}function ML(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,AA(e)):(n.next=r.next,r.next=n),e.interleaved=n,ka(t,i)}function ka(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Za=!1;function SA(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function OL(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $l(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ct&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,ka(t,n)}return r=i.interleaved,r===null?(e.next=e,AA(i)):(e.next=r.next,r.next=e),i.interleaved=e,ka(t,n)}function o0(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,hA(t,n)}}function m3(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?r=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?r=o=e:o=o.next=e}else r=o=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function y1(t,e,n,i){var r=t.updateQueue;Za=!1;var o=r.firstBaseUpdate,s=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var h=r.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,f=a.eventTime;if((i&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,m=a;switch(d=e,f=n,m.tag){case 1:if(y=m.payload,typeof y=="function"){h=y.call(f,h,d);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,d=typeof y=="function"?y.call(f,h,d):y,d==null)break e;h=Yt({},h,d);break e;case 2:Za=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=r.effects,d===null?r.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,s|=d;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;d=a,a=d.next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}while(!0);if(c===null&&(l=h),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,e=r.shared.interleaved,e!==null){r=e;do s|=r.lane,r=r.next;while(r!==e)}else o===null&&(r.shared.lanes=0);Vc|=s,t.lanes=s,t.memoizedState=h}}function y3(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(Te(191,r));r.call(i)}}}var Gy={},ms=au(Gy),qg=au(Gy),Wg=au(Gy);function Iu(t){if(t===Gy)throw Error(Te(174));return t}function DA(t,e){switch(St(Wg,e),St(qg,t),St(ms,Gy),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dT(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=dT(e,t)}Lt(ms),St(ms,e)}function Tf(){Lt(ms),Lt(qg),Lt(Wg)}function BL(t){Iu(Wg.current);var e=Iu(ms.current),n=dT(e,t.type);e!==n&&(St(qg,t),St(ms,n))}function kA(t){qg.current===t&&(Lt(ms),Lt(qg))}var Gt=au(0);function v1(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var e2=[];function IA(){for(var t=0;t<e2.length;t++)e2[t]._workInProgressVersionPrimary=null;e2.length=0}var s0=Oa.ReactCurrentDispatcher,t2=Oa.ReactCurrentBatchConfig,Hc=0,Xt=null,vn=null,kn=null,b1=!1,gg=!1,$g=0,I$=0;function jn(){throw Error(Te(321))}function FA(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ro(t[n],e[n]))return!1;return!0}function NA(t,e,n,i,r,o){if(Hc=o,Xt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,s0.current=t===null||t.memoizedState===null?U$:L$,t=n(i,r),gg){o=0;do{if(gg=!1,$g=0,25<=o)throw Error(Te(301));o+=1,kn=vn=null,e.updateQueue=null,s0.current=P$,t=n(i,r)}while(gg)}if(s0.current=_1,e=vn!==null&&vn.next!==null,Hc=0,kn=vn=Xt=null,b1=!1,e)throw Error(Te(300));return t}function RA(){var t=$g!==0;return $g=0,t}function Xo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?Xt.memoizedState=kn=t:kn=kn.next=t,kn}function io(){if(vn===null){var t=Xt.alternate;t=t!==null?t.memoizedState:null}else t=vn.next;var e=kn===null?Xt.memoizedState:kn.next;if(e!==null)kn=e,vn=t;else{if(t===null)throw Error(Te(310));vn=t,t={memoizedState:vn.memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},kn===null?Xt.memoizedState=kn=t:kn=kn.next=t}return kn}function zg(t,e){return typeof e=="function"?e(t):e}function n2(t){var e=io(),n=e.queue;if(n===null)throw Error(Te(311));n.lastRenderedReducer=t;var i=vn,r=i.baseQueue,o=n.pending;if(o!==null){if(r!==null){var s=r.next;r.next=o.next,o.next=s}i.baseQueue=r=o,n.pending=null}if(r!==null){o=r.next,i=i.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Hc&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,s=i):l=l.next=h,Xt.lanes|=c,Vc|=c}u=u.next}while(u!==null&&u!==o);l===null?s=i:l.next=a,Ro(i,e.memoizedState)||(Xi=!0),e.memoizedState=i,e.baseState=s,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do o=r.lane,Xt.lanes|=o,Vc|=o,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function i2(t){var e=io(),n=e.queue;if(n===null)throw Error(Te(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(r!==null){n.pending=null;var s=r=r.next;do o=t(o,s.action),s=s.next;while(s!==r);Ro(o,e.memoizedState)||(Xi=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function qL(){}function WL(t,e){var n=Xt,i=io(),r=e(),o=!Ro(i.memoizedState,r);if(o&&(i.memoizedState=r,Xi=!0),i=i.queue,UA(HL.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||kn!==null&&kn.memoizedState.tag&1){if(n.flags|=2048,Hg(9,zL.bind(null,n,i,r,e),void 0,null),In===null)throw Error(Te(349));Hc&30||$L(n,e,r)}return r}function $L(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xt.updateQueue,e===null?(e={lastEffect:null,stores:null},Xt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function zL(t,e,n,i){e.value=n,e.getSnapshot=i,VL(e)&&GL(t)}function HL(t,e,n){return n(function(){VL(e)&&GL(t)})}function VL(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ro(t,n)}catch{return!0}}function GL(t){var e=ka(t,1);e!==null&&Fo(e,t,1,-1)}function v3(t){var e=Xo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zg,lastRenderedState:t},e.queue=t,t=t.dispatch=R$.bind(null,Xt,t),[e.memoizedState,t]}function Hg(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Xt.updateQueue,e===null?(e={lastEffect:null,stores:null},Xt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function jL(){return io().memoizedState}function a0(t,e,n,i){var r=Xo();Xt.flags|=t,r.memoizedState=Hg(1|e,n,void 0,i===void 0?null:i)}function Jb(t,e,n,i){var r=io();i=i===void 0?null:i;var o=void 0;if(vn!==null){var s=vn.memoizedState;if(o=s.destroy,i!==null&&FA(i,s.deps)){r.memoizedState=Hg(e,n,o,i);return}}Xt.flags|=t,r.memoizedState=Hg(1|e,n,o,i)}function b3(t,e){return a0(8390656,8,t,e)}function UA(t,e){return Jb(2048,8,t,e)}function XL(t,e){return Jb(4,2,t,e)}function YL(t,e){return Jb(4,4,t,e)}function KL(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function JL(t,e,n){return n=n!=null?n.concat([t]):null,Jb(4,4,KL.bind(null,e,t),n)}function LA(){}function ZL(t,e){var n=io();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&FA(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function QL(t,e){var n=io();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&FA(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function eP(t,e,n){return Hc&21?(Ro(n,e)||(n=oL(),Xt.lanes|=n,Vc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Xi=!0),t.memoizedState=n)}function F$(t,e){var n=bt;bt=n!==0&&4>n?n:4,t(!0);var i=t2.transition;t2.transition={};try{t(!1),e()}finally{bt=n,t2.transition=i}}function tP(){return io().memoizedState}function N$(t,e,n){var i=Hl(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},nP(t))iP(e,n);else if(n=ML(t,e,n,i),n!==null){var r=Ai();Fo(n,t,i,r),rP(n,e,i)}}function R$(t,e,n){var i=Hl(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(nP(t))iP(e,r);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(r.hasEagerState=!0,r.eagerState=a,Ro(a,s)){var l=e.interleaved;l===null?(r.next=r,AA(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=ML(t,e,r,i),n!==null&&(r=Ai(),Fo(n,t,i,r),rP(n,e,i))}}function nP(t){var e=t.alternate;return t===Xt||e!==null&&e===Xt}function iP(t,e){gg=b1=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function rP(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,hA(t,n)}}var _1={readContext:no,useCallback:jn,useContext:jn,useEffect:jn,useImperativeHandle:jn,useInsertionEffect:jn,useLayoutEffect:jn,useMemo:jn,useReducer:jn,useRef:jn,useState:jn,useDebugValue:jn,useDeferredValue:jn,useTransition:jn,useMutableSource:jn,useSyncExternalStore:jn,useId:jn,unstable_isNewReconciler:!1},U$={readContext:no,useCallback:function(t,e){return Xo().memoizedState=[t,e===void 0?null:e],t},useContext:no,useEffect:b3,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,a0(4194308,4,KL.bind(null,e,t),n)},useLayoutEffect:function(t,e){return a0(4194308,4,t,e)},useInsertionEffect:function(t,e){return a0(4,2,t,e)},useMemo:function(t,e){var n=Xo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Xo();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=N$.bind(null,Xt,t),[i.memoizedState,t]},useRef:function(t){var e=Xo();return t={current:t},e.memoizedState=t},useState:v3,useDebugValue:LA,useDeferredValue:function(t){return Xo().memoizedState=t},useTransition:function(){var t=v3(!1),e=t[0];return t=F$.bind(null,t[1]),Xo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Xt,r=Xo();if(Wt){if(n===void 0)throw Error(Te(407));n=n()}else{if(n=e(),In===null)throw Error(Te(349));Hc&30||$L(i,e,n)}r.memoizedState=n;var o={value:n,getSnapshot:e};return r.queue=o,b3(HL.bind(null,i,o,t),[t]),i.flags|=2048,Hg(9,zL.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=Xo(),e=In.identifierPrefix;if(Wt){var n=xa,i=_a;n=(i&~(1<<32-Io(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=$g++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=I$++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},L$={readContext:no,useCallback:ZL,useContext:no,useEffect:UA,useImperativeHandle:JL,useInsertionEffect:XL,useLayoutEffect:YL,useMemo:QL,useReducer:n2,useRef:jL,useState:function(){return n2(zg)},useDebugValue:LA,useDeferredValue:function(t){var e=io();return eP(e,vn.memoizedState,t)},useTransition:function(){var t=n2(zg)[0],e=io().memoizedState;return[t,e]},useMutableSource:qL,useSyncExternalStore:WL,useId:tP,unstable_isNewReconciler:!1},P$={readContext:no,useCallback:ZL,useContext:no,useEffect:UA,useImperativeHandle:JL,useInsertionEffect:XL,useLayoutEffect:YL,useMemo:QL,useReducer:i2,useRef:jL,useState:function(){return i2(zg)},useDebugValue:LA,useDeferredValue:function(t){var e=io();return vn===null?e.memoizedState=t:eP(e,vn.memoizedState,t)},useTransition:function(){var t=i2(zg)[0],e=io().memoizedState;return[t,e]},useMutableSource:qL,useSyncExternalStore:WL,useId:tP,unstable_isNewReconciler:!1};function ho(t,e){if(t&&t.defaultProps){e=Yt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function NT(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Yt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Zb={isMounted:function(t){return(t=t._reactInternals)?od(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Ai(),r=Hl(t),o=wa(i,r);o.payload=e,n!=null&&(o.callback=n),e=$l(t,o,r),e!==null&&(Fo(e,t,r,i),o0(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Ai(),r=Hl(t),o=wa(i,r);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=$l(t,o,r),e!==null&&(Fo(e,t,r,i),o0(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ai(),i=Hl(t),r=wa(n,i);r.tag=2,e!=null&&(r.callback=e),e=$l(t,r,i),e!==null&&(Fo(e,t,i,n),o0(e,t,i))}};function _3(t,e,n,i,r,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,s):e.prototype&&e.prototype.isPureReactComponent?!Pg(n,i)||!Pg(r,o):!0}function oP(t,e,n){var i=!1,r=Zl,o=e.contextType;return typeof o=="object"&&o!==null?o=no(o):(r=Zi(e)?$c:di.current,i=e.contextTypes,o=(i=i!=null)?_f(t,r):Zl),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Zb,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function x3(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Zb.enqueueReplaceState(e,e.state,null)}function RT(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},SA(t);var o=e.contextType;typeof o=="object"&&o!==null?r.context=no(o):(o=Zi(e)?$c:di.current,r.context=_f(t,o)),r.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(NT(t,e,o,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Zb.enqueueReplaceState(r,r.state,null),y1(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Cf(t,e){try{var n="",i=e;do n+=cW(i),i=i.return;while(i);var r=n}catch(o){r=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:r,digest:null}}function r2(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function UT(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var M$=typeof WeakMap=="function"?WeakMap:Map;function sP(t,e,n){n=wa(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){w1||(w1=!0,HT=i),UT(t,e)},n}function aP(t,e,n){n=wa(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){UT(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){UT(t,e),typeof i!="function"&&(zl===null?zl=new Set([this]):zl.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function w3(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new M$;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=J$.bind(null,t,e,n),e.then(t,t))}function T3(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function C3(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=wa(-1,1),e.tag=2,$l(n,e,1))),n.lanes|=1),t)}var O$=Oa.ReactCurrentOwner,Xi=!1;function Ti(t,e,n,i){e.child=t===null?PL(e,null,n,i):wf(e,t.child,n,i)}function E3(t,e,n,i,r){n=n.render;var o=e.ref;return th(e,r),i=NA(t,e,n,i,o,r),n=RA(),t!==null&&!Xi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ia(t,e,r)):(Wt&&n&&_A(e),e.flags|=1,Ti(t,e,i,r),e.child)}function A3(t,e,n,i,r){if(t===null){var o=n.type;return typeof o=="function"&&!zA(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,lP(t,e,o,i,r)):(t=d0(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&r)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Pg,n(s,i)&&t.ref===e.ref)return Ia(t,e,r)}return e.flags|=1,t=Vl(o,i),t.ref=e.ref,t.return=e,e.child=t}function lP(t,e,n,i,r){if(t!==null){var o=t.memoizedProps;if(Pg(o,i)&&t.ref===e.ref)if(Xi=!1,e.pendingProps=i=o,(t.lanes&r)!==0)t.flags&131072&&(Xi=!0);else return e.lanes=t.lanes,Ia(t,e,r)}return LT(t,e,n,i,r)}function uP(t,e,n){var i=e.pendingProps,r=i.children,o=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},St(zd,xr),xr|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,St(zd,xr),xr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,St(zd,xr),xr|=i}else o!==null?(i=o.baseLanes|n,e.memoizedState=null):i=n,St(zd,xr),xr|=i;return Ti(t,e,r,n),e.child}function cP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function LT(t,e,n,i,r){var o=Zi(n)?$c:di.current;return o=_f(e,o),th(e,r),n=NA(t,e,n,i,o,r),i=RA(),t!==null&&!Xi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ia(t,e,r)):(Wt&&i&&_A(e),e.flags|=1,Ti(t,e,n,r),e.child)}function S3(t,e,n,i,r){if(Zi(n)){var o=!0;h1(e)}else o=!1;if(th(e,r),e.stateNode===null)l0(t,e),oP(e,n,i),RT(e,n,i,r),i=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=no(u):(u=Zi(n)?$c:di.current,u=_f(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==i||l!==u)&&x3(e,s,i,u),Za=!1;var d=e.memoizedState;s.state=d,y1(e,i,s,r),l=e.memoizedState,a!==i||d!==l||Ji.current||Za?(typeof c=="function"&&(NT(e,n,c,i),l=e.memoizedState),(a=Za||_3(e,n,a,i,d,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),s.props=i,s.state=l,s.context=u,i=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,OL(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:ho(e.type,a),s.props=u,h=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=no(l):(l=Zi(n)?$c:di.current,l=_f(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||d!==l)&&x3(e,s,i,l),Za=!1,d=e.memoizedState,s.state=d,y1(e,i,s,r);var y=e.memoizedState;a!==h||d!==y||Ji.current||Za?(typeof f=="function"&&(NT(e,n,f,i),y=e.memoizedState),(u=Za||_3(e,n,u,i,d,y,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,y,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),s.props=i,s.state=y,s.context=l,i=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return PT(t,e,n,i,o,r)}function PT(t,e,n,i,r,o){cP(t,e);var s=(e.flags&128)!==0;if(!i&&!s)return r&&h3(e,n,!1),Ia(t,e,o);i=e.stateNode,O$.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&s?(e.child=wf(e,t.child,null,o),e.child=wf(e,null,a,o)):Ti(t,e,a,o),e.memoizedState=i.state,r&&h3(e,n,!0),e.child}function dP(t){var e=t.stateNode;e.pendingContext?d3(t,e.pendingContext,e.pendingContext!==e.context):e.context&&d3(t,e.context,!1),DA(t,e.containerInfo)}function D3(t,e,n,i,r){return xf(),wA(r),e.flags|=256,Ti(t,e,n,i),e.child}var MT={dehydrated:null,treeContext:null,retryLane:0};function OT(t){return{baseLanes:t,cachePool:null,transitions:null}}function hP(t,e,n){var i=e.pendingProps,r=Gt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),St(Gt,r&1),t===null)return IT(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=i.children,t=i.fallback,o?(i=e.mode,o=e.child,s={mode:"hidden",children:s},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=t_(s,i,0,null),t=Oc(t,i,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=OT(n),e.memoizedState=MT,t):PA(e,s));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return B$(t,e,s,i,a,r,n);if(o){o=i.fallback,s=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(s&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Vl(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?o=Vl(a,o):(o=Oc(o,s,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,s=t.child.memoizedState,s=s===null?OT(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=MT,i}return o=t.child,t=o.sibling,i=Vl(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function PA(t,e){return e=t_({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Dv(t,e,n,i){return i!==null&&wA(i),wf(e,t.child,null,n),t=PA(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function B$(t,e,n,i,r,o,s){if(n)return e.flags&256?(e.flags&=-257,i=r2(Error(Te(422))),Dv(t,e,s,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=i.fallback,r=e.mode,i=t_({mode:"visible",children:i.children},r,0,null),o=Oc(o,r,s,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&wf(e,t.child,null,s),e.child.memoizedState=OT(s),e.memoizedState=MT,o);if(!(e.mode&1))return Dv(t,e,s,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,o=Error(Te(419)),i=r2(o,i,void 0),Dv(t,e,s,i)}if(a=(s&t.childLanes)!==0,Xi||a){if(i=In,i!==null){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|s)?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,ka(t,r),Fo(i,t,r,-1))}return $A(),i=r2(Error(Te(421))),Dv(t,e,s,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=Z$.bind(null,t),r._reactRetry=e,null):(t=o.treeContext,Cr=Wl(r.nextSibling),Er=e,Wt=!0,So=null,t!==null&&(Vr[Gr++]=_a,Vr[Gr++]=xa,Vr[Gr++]=zc,_a=t.id,xa=t.overflow,zc=e),e=PA(e,i.children),e.flags|=4096,e)}function k3(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),FT(t.return,e,n)}function o2(t,e,n,i,r){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function fP(t,e,n){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(Ti(t,e,i.children,n),i=Gt.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&k3(t,n,e);else if(t.tag===19)k3(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(St(Gt,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&v1(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),o2(e,!1,r,n,o);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&v1(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}o2(e,!0,n,null,o);break;case"together":o2(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function l0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ia(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Vc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Te(153));if(e.child!==null){for(t=e.child,n=Vl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Vl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function q$(t,e,n){switch(e.tag){case 3:dP(e),xf();break;case 5:BL(e);break;case 1:Zi(e.type)&&h1(e);break;case 4:DA(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;St(g1,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(St(Gt,Gt.current&1),e.flags|=128,null):n&e.child.childLanes?hP(t,e,n):(St(Gt,Gt.current&1),t=Ia(t,e,n),t!==null?t.sibling:null);St(Gt,Gt.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return fP(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),St(Gt,Gt.current),i)break;return null;case 22:case 23:return e.lanes=0,uP(t,e,n)}return Ia(t,e,n)}var pP,BT,gP,mP;pP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};BT=function(){};gP=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Iu(ms.current);var o=null;switch(n){case"input":r=aT(t,r),i=aT(t,i),o=[];break;case"select":r=Yt({},r,{value:void 0}),i=Yt({},i,{value:void 0}),o=[];break;case"textarea":r=cT(t,r),i=cT(t,i),o=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=c1)}hT(n,i);var s;n=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(kg.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in i){var l=i[u];if(a=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(kg.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&It("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};mP=function(t,e,n,i){n!==i&&(e.flags|=4)};function vp(t,e){if(!Wt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Xn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function W$(t,e,n){var i=e.pendingProps;switch(xA(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xn(e),null;case 1:return Zi(e.type)&&d1(),Xn(e),null;case 3:return i=e.stateNode,Tf(),Lt(Ji),Lt(di),IA(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Av(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,So!==null&&(jT(So),So=null))),BT(t,e),Xn(e),null;case 5:kA(e);var r=Iu(Wg.current);if(n=e.type,t!==null&&e.stateNode!=null)gP(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Te(166));return Xn(e),null}if(t=Iu(ms.current),Av(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[fs]=e,i[Bg]=o,t=(e.mode&1)!==0,n){case"dialog":It("cancel",i),It("close",i);break;case"iframe":case"object":case"embed":It("load",i);break;case"video":case"audio":for(r=0;r<$p.length;r++)It($p[r],i);break;case"source":It("error",i);break;case"img":case"image":case"link":It("error",i),It("load",i);break;case"details":It("toggle",i);break;case"input":Ok(i,o),It("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},It("invalid",i);break;case"textarea":qk(i,o),It("invalid",i)}hT(n,o),r=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?i.textContent!==a&&(o.suppressHydrationWarning!==!0&&Ev(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Ev(i.textContent,a,t),r=["children",""+a]):kg.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&It("scroll",i)}switch(n){case"input":yv(i),Bk(i,o,!0);break;case"textarea":yv(i),Wk(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=c1)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{s=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=HU(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=s.createElement(n,{is:i.is}):(t=s.createElement(n),n==="select"&&(s=t,i.multiple?s.multiple=!0:i.size&&(s.size=i.size))):t=s.createElementNS(t,n),t[fs]=e,t[Bg]=i,pP(t,e,!1,!1),e.stateNode=t;e:{switch(s=fT(n,i),n){case"dialog":It("cancel",t),It("close",t),r=i;break;case"iframe":case"object":case"embed":It("load",t),r=i;break;case"video":case"audio":for(r=0;r<$p.length;r++)It($p[r],t);r=i;break;case"source":It("error",t),r=i;break;case"img":case"image":case"link":It("error",t),It("load",t),r=i;break;case"details":It("toggle",t),r=i;break;case"input":Ok(t,i),r=aT(t,i),It("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Yt({},i,{value:void 0}),It("invalid",t);break;case"textarea":qk(t,i),r=cT(t,i),It("invalid",t);break;default:r=i}hT(n,r),a=r;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?jU(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&VU(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ig(t,l):typeof l=="number"&&Ig(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(kg.hasOwnProperty(o)?l!=null&&o==="onScroll"&&It("scroll",t):l!=null&&sA(t,o,l,s))}switch(n){case"input":yv(t),Bk(t,i,!1);break;case"textarea":yv(t),Wk(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Jl(i.value));break;case"select":t.multiple=!!i.multiple,o=i.value,o!=null?Jd(t,!!i.multiple,o,!1):i.defaultValue!=null&&Jd(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=c1)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xn(e),null;case 6:if(t&&e.stateNode!=null)mP(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Te(166));if(n=Iu(Wg.current),Iu(ms.current),Av(e)){if(i=e.stateNode,n=e.memoizedProps,i[fs]=e,(o=i.nodeValue!==n)&&(t=Er,t!==null))switch(t.tag){case 3:Ev(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ev(i.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[fs]=e,e.stateNode=i}return Xn(e),null;case 13:if(Lt(Gt),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Wt&&Cr!==null&&e.mode&1&&!(e.flags&128))UL(),xf(),e.flags|=98560,o=!1;else if(o=Av(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error(Te(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Te(317));o[fs]=e}else xf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xn(e),o=!1}else So!==null&&(jT(So),So=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Gt.current&1?bn===0&&(bn=3):$A())),e.updateQueue!==null&&(e.flags|=4),Xn(e),null);case 4:return Tf(),BT(t,e),t===null&&Mg(e.stateNode.containerInfo),Xn(e),null;case 10:return EA(e.type._context),Xn(e),null;case 17:return Zi(e.type)&&d1(),Xn(e),null;case 19:if(Lt(Gt),o=e.memoizedState,o===null)return Xn(e),null;if(i=(e.flags&128)!==0,s=o.rendering,s===null)if(i)vp(o,!1);else{if(bn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=v1(t),s!==null){for(e.flags|=128,vp(o,!1),i=s.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)o=n,t=i,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return St(Gt,Gt.current&1|2),e.child}t=t.sibling}o.tail!==null&&tn()>Ef&&(e.flags|=128,i=!0,vp(o,!1),e.lanes=4194304)}else{if(!i)if(t=v1(s),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),vp(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Wt)return Xn(e),null}else 2*tn()-o.renderingStartTime>Ef&&n!==1073741824&&(e.flags|=128,i=!0,vp(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=tn(),e.sibling=null,n=Gt.current,St(Gt,i?n&1|2:n&1),e):(Xn(e),null);case 22:case 23:return WA(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?xr&1073741824&&(Xn(e),e.subtreeFlags&6&&(e.flags|=8192)):Xn(e),null;case 24:return null;case 25:return null}throw Error(Te(156,e.tag))}function $$(t,e){switch(xA(e),e.tag){case 1:return Zi(e.type)&&d1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Tf(),Lt(Ji),Lt(di),IA(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return kA(e),null;case 13:if(Lt(Gt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Te(340));xf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Lt(Gt),null;case 4:return Tf(),null;case 10:return EA(e.type._context),null;case 22:case 23:return WA(),null;case 24:return null;default:return null}}var kv=!1,oi=!1,z$=typeof WeakSet=="function"?WeakSet:Set,Re=null;function $d(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Jt(t,e,i)}else n.current=null}function qT(t,e,n){try{n()}catch(i){Jt(t,e,i)}}var I3=!1;function H$(t,e){if(TT=a1,t=xL(),bA(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var f;h!==n||r!==0&&h.nodeType!==3||(a=s+r),h!==o||i!==0&&h.nodeType!==3||(l=s+i),h.nodeType===3&&(s+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++u===r&&(a=s),d===o&&++c===i&&(l=s),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(CT={focusedElem:t,selectionRange:n},a1=!1,Re=e;Re!==null;)if(e=Re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Re=t;else for(;Re!==null;){e=Re;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,v=y.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:ho(e.type,m),v);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Te(163))}}catch(x){Jt(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,Re=t;break}Re=e.return}return y=I3,I3=!1,y}function mg(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var o=r.destroy;r.destroy=void 0,o!==void 0&&qT(e,n,o)}r=r.next}while(r!==i)}}function Qb(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function WT(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function yP(t){var e=t.alternate;e!==null&&(t.alternate=null,yP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fs],delete e[Bg],delete e[ST],delete e[A$],delete e[S$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vP(t){return t.tag===5||t.tag===3||t.tag===4}function F3(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $T(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=c1));else if(i!==4&&(t=t.child,t!==null))for($T(t,e,n),t=t.sibling;t!==null;)$T(t,e,n),t=t.sibling}function zT(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(zT(t,e,n),t=t.sibling;t!==null;)zT(t,e,n),t=t.sibling}var Bn=null,Ao=!1;function Ga(t,e,n){for(n=n.child;n!==null;)bP(t,e,n),n=n.sibling}function bP(t,e,n){if(gs&&typeof gs.onCommitFiberUnmount=="function")try{gs.onCommitFiberUnmount(Vb,n)}catch{}switch(n.tag){case 5:oi||$d(n,e);case 6:var i=Bn,r=Ao;Bn=null,Ga(t,e,n),Bn=i,Ao=r,Bn!==null&&(Ao?(t=Bn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Bn.removeChild(n.stateNode));break;case 18:Bn!==null&&(Ao?(t=Bn,n=n.stateNode,t.nodeType===8?Zx(t.parentNode,n):t.nodeType===1&&Zx(t,n),Ug(t)):Zx(Bn,n.stateNode));break;case 4:i=Bn,r=Ao,Bn=n.stateNode.containerInfo,Ao=!0,Ga(t,e,n),Bn=i,Ao=r;break;case 0:case 11:case 14:case 15:if(!oi&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var o=r,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&qT(n,e,s),r=r.next}while(r!==i)}Ga(t,e,n);break;case 1:if(!oi&&($d(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Jt(n,e,a)}Ga(t,e,n);break;case 21:Ga(t,e,n);break;case 22:n.mode&1?(oi=(i=oi)||n.memoizedState!==null,Ga(t,e,n),oi=i):Ga(t,e,n);break;default:Ga(t,e,n)}}function N3(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new z$),e.forEach(function(i){var r=Q$.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function ao(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Bn=a.stateNode,Ao=!1;break e;case 3:Bn=a.stateNode.containerInfo,Ao=!0;break e;case 4:Bn=a.stateNode.containerInfo,Ao=!0;break e}a=a.return}if(Bn===null)throw Error(Te(160));bP(o,s,r),Bn=null,Ao=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){Jt(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_P(e,t),e=e.sibling}function _P(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ao(e,t),zo(t),i&4){try{mg(3,t,t.return),Qb(3,t)}catch(m){Jt(t,t.return,m)}try{mg(5,t,t.return)}catch(m){Jt(t,t.return,m)}}break;case 1:ao(e,t),zo(t),i&512&&n!==null&&$d(n,n.return);break;case 5:if(ao(e,t),zo(t),i&512&&n!==null&&$d(n,n.return),t.flags&32){var r=t.stateNode;try{Ig(r,"")}catch(m){Jt(t,t.return,m)}}if(i&4&&(r=t.stateNode,r!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&$U(r,o),fT(a,s);var u=fT(a,o);for(s=0;s<l.length;s+=2){var c=l[s],h=l[s+1];c==="style"?jU(r,h):c==="dangerouslySetInnerHTML"?VU(r,h):c==="children"?Ig(r,h):sA(r,c,h,u)}switch(a){case"input":lT(r,o);break;case"textarea":zU(r,o);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?Jd(r,!!o.multiple,f,!1):d!==!!o.multiple&&(o.defaultValue!=null?Jd(r,!!o.multiple,o.defaultValue,!0):Jd(r,!!o.multiple,o.multiple?[]:"",!1))}r[Bg]=o}catch(m){Jt(t,t.return,m)}}break;case 6:if(ao(e,t),zo(t),i&4){if(t.stateNode===null)throw Error(Te(162));r=t.stateNode,o=t.memoizedProps;try{r.nodeValue=o}catch(m){Jt(t,t.return,m)}}break;case 3:if(ao(e,t),zo(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Ug(e.containerInfo)}catch(m){Jt(t,t.return,m)}break;case 4:ao(e,t),zo(t);break;case 13:ao(e,t),zo(t),r=t.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(BA=tn())),i&4&&N3(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(oi=(u=oi)||c,ao(e,t),oi=u):ao(e,t),zo(t),i&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Re=t,c=t.child;c!==null;){for(h=Re=c;Re!==null;){switch(d=Re,f=d.child,d.tag){case 0:case 11:case 14:case 15:mg(4,d,d.return);break;case 1:$d(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){i=d,n=d.return;try{e=i,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(m){Jt(i,n,m)}}break;case 5:$d(d,d.return);break;case 22:if(d.memoizedState!==null){U3(h);continue}}f!==null?(f.return=d,Re=f):U3(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{r=h.stateNode,u?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=GU("display",s))}catch(m){Jt(t,t.return,m)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){Jt(t,t.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ao(e,t),zo(t),i&4&&N3(t);break;case 21:break;default:ao(e,t),zo(t)}}function zo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(vP(n)){var i=n;break e}n=n.return}throw Error(Te(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Ig(r,""),i.flags&=-33);var o=F3(t);zT(t,o,r);break;case 3:case 4:var s=i.stateNode.containerInfo,a=F3(t);$T(t,a,s);break;default:throw Error(Te(161))}}catch(l){Jt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function V$(t,e,n){Re=t,xP(t)}function xP(t,e,n){for(var i=(t.mode&1)!==0;Re!==null;){var r=Re,o=r.child;if(r.tag===22&&i){var s=r.memoizedState!==null||kv;if(!s){var a=r.alternate,l=a!==null&&a.memoizedState!==null||oi;a=kv;var u=oi;if(kv=s,(oi=l)&&!u)for(Re=r;Re!==null;)s=Re,l=s.child,s.tag===22&&s.memoizedState!==null?L3(r):l!==null?(l.return=s,Re=l):L3(r);for(;o!==null;)Re=o,xP(o),o=o.sibling;Re=r,kv=a,oi=u}R3(t)}else r.subtreeFlags&8772&&o!==null?(o.return=r,Re=o):R3(t)}}function R3(t){for(;Re!==null;){var e=Re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:oi||Qb(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!oi)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:ho(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&y3(e,o,i);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}y3(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Ug(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Te(163))}oi||e.flags&512&&WT(e)}catch(d){Jt(e,e.return,d)}}if(e===t){Re=null;break}if(n=e.sibling,n!==null){n.return=e.return,Re=n;break}Re=e.return}}function U3(t){for(;Re!==null;){var e=Re;if(e===t){Re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Re=n;break}Re=e.return}}function L3(t){for(;Re!==null;){var e=Re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Qb(4,e)}catch(l){Jt(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Jt(e,r,l)}}var o=e.return;try{WT(e)}catch(l){Jt(e,o,l)}break;case 5:var s=e.return;try{WT(e)}catch(l){Jt(e,s,l)}}}catch(l){Jt(e,e.return,l)}if(e===t){Re=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Re=a;break}Re=e.return}}var G$=Math.ceil,x1=Oa.ReactCurrentDispatcher,MA=Oa.ReactCurrentOwner,Jr=Oa.ReactCurrentBatchConfig,ct=0,In=null,cn=null,Wn=0,xr=0,zd=au(0),bn=0,Vg=null,Vc=0,e_=0,OA=0,yg=null,Hi=null,BA=0,Ef=1/0,zs=null,w1=!1,HT=null,zl=null,Iv=!1,Ll=null,T1=0,vg=0,VT=null,u0=-1,c0=0;function Ai(){return ct&6?tn():u0!==-1?u0:u0=tn()}function Hl(t){return t.mode&1?ct&2&&Wn!==0?Wn&-Wn:k$.transition!==null?(c0===0&&(c0=oL()),c0):(t=bt,t!==0||(t=window.event,t=t===void 0?16:hL(t.type)),t):1}function Fo(t,e,n,i){if(50<vg)throw vg=0,VT=null,Error(Te(185));zy(t,n,i),(!(ct&2)||t!==In)&&(t===In&&(!(ct&2)&&(e_|=n),bn===4&&nl(t,Wn)),Qi(t,i),n===1&&ct===0&&!(e.mode&1)&&(Ef=tn()+500,Kb&&lu()))}function Qi(t,e){var n=t.callbackNode;kW(t,e);var i=s1(t,t===In?Wn:0);if(i===0)n!==null&&Hk(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&Hk(n),e===1)t.tag===0?D$(P3.bind(null,t)):FL(P3.bind(null,t)),C$(function(){!(ct&6)&&lu()}),n=null;else{switch(sL(i)){case 1:n=dA;break;case 4:n=iL;break;case 16:n=o1;break;case 536870912:n=rL;break;default:n=o1}n=kP(n,wP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function wP(t,e){if(u0=-1,c0=0,ct&6)throw Error(Te(327));var n=t.callbackNode;if(nh()&&t.callbackNode!==n)return null;var i=s1(t,t===In?Wn:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=C1(t,i);else{e=i;var r=ct;ct|=2;var o=CP();(In!==t||Wn!==e)&&(zs=null,Ef=tn()+500,Mc(t,e));do try{Y$();break}catch(a){TP(t,a)}while(!0);CA(),x1.current=o,ct=r,cn!==null?e=0:(In=null,Wn=0,e=bn)}if(e!==0){if(e===2&&(r=vT(t),r!==0&&(i=r,e=GT(t,r))),e===1)throw n=Vg,Mc(t,0),nl(t,i),Qi(t,tn()),n;if(e===6)nl(t,i);else{if(r=t.current.alternate,!(i&30)&&!j$(r)&&(e=C1(t,i),e===2&&(o=vT(t),o!==0&&(i=o,e=GT(t,o))),e===1))throw n=Vg,Mc(t,0),nl(t,i),Qi(t,tn()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(Te(345));case 2:_u(t,Hi,zs);break;case 3:if(nl(t,i),(i&130023424)===i&&(e=BA+500-tn(),10<e)){if(s1(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){Ai(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=AT(_u.bind(null,t,Hi,zs),e);break}_u(t,Hi,zs);break;case 4:if(nl(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var s=31-Io(i);o=1<<s,s=e[s],s>r&&(r=s),i&=~o}if(i=r,i=tn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*G$(i/1960))-i,10<i){t.timeoutHandle=AT(_u.bind(null,t,Hi,zs),i);break}_u(t,Hi,zs);break;case 5:_u(t,Hi,zs);break;default:throw Error(Te(329))}}}return Qi(t,tn()),t.callbackNode===n?wP.bind(null,t):null}function GT(t,e){var n=yg;return t.current.memoizedState.isDehydrated&&(Mc(t,e).flags|=256),t=C1(t,e),t!==2&&(e=Hi,Hi=n,e!==null&&jT(e)),t}function jT(t){Hi===null?Hi=t:Hi.push.apply(Hi,t)}function j$(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!Ro(o(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function nl(t,e){for(e&=~OA,e&=~e_,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Io(e),i=1<<n;t[n]=-1,e&=~i}}function P3(t){if(ct&6)throw Error(Te(327));nh();var e=s1(t,0);if(!(e&1))return Qi(t,tn()),null;var n=C1(t,e);if(t.tag!==0&&n===2){var i=vT(t);i!==0&&(e=i,n=GT(t,i))}if(n===1)throw n=Vg,Mc(t,0),nl(t,e),Qi(t,tn()),n;if(n===6)throw Error(Te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_u(t,Hi,zs),Qi(t,tn()),null}function qA(t,e){var n=ct;ct|=1;try{return t(e)}finally{ct=n,ct===0&&(Ef=tn()+500,Kb&&lu())}}function Gc(t){Ll!==null&&Ll.tag===0&&!(ct&6)&&nh();var e=ct;ct|=1;var n=Jr.transition,i=bt;try{if(Jr.transition=null,bt=1,t)return t()}finally{bt=i,Jr.transition=n,ct=e,!(ct&6)&&lu()}}function WA(){xr=zd.current,Lt(zd)}function Mc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,T$(n)),cn!==null)for(n=cn.return;n!==null;){var i=n;switch(xA(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&d1();break;case 3:Tf(),Lt(Ji),Lt(di),IA();break;case 5:kA(i);break;case 4:Tf();break;case 13:Lt(Gt);break;case 19:Lt(Gt);break;case 10:EA(i.type._context);break;case 22:case 23:WA()}n=n.return}if(In=t,cn=t=Vl(t.current,null),Wn=xr=e,bn=0,Vg=null,OA=e_=Vc=0,Hi=yg=null,ku!==null){for(e=0;e<ku.length;e++)if(n=ku[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,o=n.pending;if(o!==null){var s=o.next;o.next=r,i.next=s}n.pending=i}ku=null}return t}function TP(t,e){do{var n=cn;try{if(CA(),s0.current=_1,b1){for(var i=Xt.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}b1=!1}if(Hc=0,kn=vn=Xt=null,gg=!1,$g=0,MA.current=null,n===null||n.return===null){bn=1,Vg=e,cn=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Wn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=T3(s);if(f!==null){f.flags&=-257,C3(f,s,a,o,e),f.mode&1&&w3(o,u,e),e=f,l=u;var y=e.updateQueue;if(y===null){var m=new Set;m.add(l),e.updateQueue=m}else y.add(l);break e}else{if(!(e&1)){w3(o,u,e),$A();break e}l=Error(Te(426))}}else if(Wt&&a.mode&1){var v=T3(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),C3(v,s,a,o,e),wA(Cf(l,a));break e}}o=l=Cf(l,a),bn!==4&&(bn=2),yg===null?yg=[o]:yg.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=sP(o,l,e);m3(o,g);break e;case 1:a=l;var p=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(zl===null||!zl.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var x=aP(o,a,e);m3(o,x);break e}}o=o.return}while(o!==null)}AP(n)}catch(T){e=T,cn===n&&n!==null&&(cn=n=n.return);continue}break}while(!0)}function CP(){var t=x1.current;return x1.current=_1,t===null?_1:t}function $A(){(bn===0||bn===3||bn===2)&&(bn=4),In===null||!(Vc&268435455)&&!(e_&268435455)||nl(In,Wn)}function C1(t,e){var n=ct;ct|=2;var i=CP();(In!==t||Wn!==e)&&(zs=null,Mc(t,e));do try{X$();break}catch(r){TP(t,r)}while(!0);if(CA(),ct=n,x1.current=i,cn!==null)throw Error(Te(261));return In=null,Wn=0,bn}function X$(){for(;cn!==null;)EP(cn)}function Y$(){for(;cn!==null&&!_W();)EP(cn)}function EP(t){var e=DP(t.alternate,t,xr);t.memoizedProps=t.pendingProps,e===null?AP(t):cn=e,MA.current=null}function AP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$$(n,e),n!==null){n.flags&=32767,cn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{bn=6,cn=null;return}}else if(n=W$(n,e,xr),n!==null){cn=n;return}if(e=e.sibling,e!==null){cn=e;return}cn=e=t}while(e!==null);bn===0&&(bn=5)}function _u(t,e,n){var i=bt,r=Jr.transition;try{Jr.transition=null,bt=1,K$(t,e,n,i)}finally{Jr.transition=r,bt=i}return null}function K$(t,e,n,i){do nh();while(Ll!==null);if(ct&6)throw Error(Te(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Te(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(IW(t,o),t===In&&(cn=In=null,Wn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Iv||(Iv=!0,kP(o1,function(){return nh(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Jr.transition,Jr.transition=null;var s=bt;bt=1;var a=ct;ct|=4,MA.current=null,H$(t,n),_P(n,t),m$(CT),a1=!!TT,CT=TT=null,t.current=n,V$(n),xW(),ct=a,bt=s,Jr.transition=o}else t.current=n;if(Iv&&(Iv=!1,Ll=t,T1=r),o=t.pendingLanes,o===0&&(zl=null),CW(n.stateNode),Qi(t,tn()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(w1)throw w1=!1,t=HT,HT=null,t;return T1&1&&t.tag!==0&&nh(),o=t.pendingLanes,o&1?t===VT?vg++:(vg=0,VT=t):vg=0,lu(),null}function nh(){if(Ll!==null){var t=sL(T1),e=Jr.transition,n=bt;try{if(Jr.transition=null,bt=16>t?16:t,Ll===null)var i=!1;else{if(t=Ll,Ll=null,T1=0,ct&6)throw Error(Te(331));var r=ct;for(ct|=4,Re=t.current;Re!==null;){var o=Re,s=o.child;if(Re.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Re=u;Re!==null;){var c=Re;switch(c.tag){case 0:case 11:case 15:mg(8,c,o)}var h=c.child;if(h!==null)h.return=c,Re=h;else for(;Re!==null;){c=Re;var d=c.sibling,f=c.return;if(yP(c),c===u){Re=null;break}if(d!==null){d.return=f,Re=d;break}Re=f}}}var y=o.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}Re=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Re=s;else e:for(;Re!==null;){if(o=Re,o.flags&2048)switch(o.tag){case 0:case 11:case 15:mg(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,Re=g;break e}Re=o.return}}var p=t.current;for(Re=p;Re!==null;){s=Re;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,Re=_;else e:for(s=p;Re!==null;){if(a=Re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Qb(9,a)}}catch(T){Jt(a,a.return,T)}if(a===s){Re=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,Re=x;break e}Re=a.return}}if(ct=r,lu(),gs&&typeof gs.onPostCommitFiberRoot=="function")try{gs.onPostCommitFiberRoot(Vb,t)}catch{}i=!0}return i}finally{bt=n,Jr.transition=e}}return!1}function M3(t,e,n){e=Cf(n,e),e=sP(t,e,1),t=$l(t,e,1),e=Ai(),t!==null&&(zy(t,1,e),Qi(t,e))}function Jt(t,e,n){if(t.tag===3)M3(t,t,n);else for(;e!==null;){if(e.tag===3){M3(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(zl===null||!zl.has(i))){t=Cf(n,t),t=aP(e,t,1),e=$l(e,t,1),t=Ai(),e!==null&&(zy(e,1,t),Qi(e,t));break}}e=e.return}}function J$(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Ai(),t.pingedLanes|=t.suspendedLanes&n,In===t&&(Wn&n)===n&&(bn===4||bn===3&&(Wn&130023424)===Wn&&500>tn()-BA?Mc(t,0):OA|=n),Qi(t,e)}function SP(t,e){e===0&&(t.mode&1?(e=_v,_v<<=1,!(_v&130023424)&&(_v=4194304)):e=1);var n=Ai();t=ka(t,e),t!==null&&(zy(t,e,n),Qi(t,n))}function Z$(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),SP(t,n)}function Q$(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(Te(314))}i!==null&&i.delete(e),SP(t,n)}var DP;DP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ji.current)Xi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Xi=!1,q$(t,e,n);Xi=!!(t.flags&131072)}else Xi=!1,Wt&&e.flags&1048576&&NL(e,p1,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;l0(t,e),t=e.pendingProps;var r=_f(e,di.current);th(e,n),r=NA(null,e,i,t,r,n);var o=RA();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zi(i)?(o=!0,h1(e)):o=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,SA(e),r.updater=Zb,e.stateNode=r,r._reactInternals=e,RT(e,i,t,n),e=PT(null,e,i,!0,o,n)):(e.tag=0,Wt&&o&&_A(e),Ti(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(l0(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=tz(i),t=ho(i,t),r){case 0:e=LT(null,e,i,t,n);break e;case 1:e=S3(null,e,i,t,n);break e;case 11:e=E3(null,e,i,t,n);break e;case 14:e=A3(null,e,i,ho(i.type,t),n);break e}throw Error(Te(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ho(i,r),LT(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ho(i,r),S3(t,e,i,r,n);case 3:e:{if(dP(e),t===null)throw Error(Te(387));i=e.pendingProps,o=e.memoizedState,r=o.element,OL(t,e),y1(e,i,null,n);var s=e.memoizedState;if(i=s.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){r=Cf(Error(Te(423)),e),e=D3(t,e,i,n,r);break e}else if(i!==r){r=Cf(Error(Te(424)),e),e=D3(t,e,i,n,r);break e}else for(Cr=Wl(e.stateNode.containerInfo.firstChild),Er=e,Wt=!0,So=null,n=PL(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xf(),i===r){e=Ia(t,e,n);break e}Ti(t,e,i,n)}e=e.child}return e;case 5:return BL(e),t===null&&IT(e),i=e.type,r=e.pendingProps,o=t!==null?t.memoizedProps:null,s=r.children,ET(i,r)?s=null:o!==null&&ET(i,o)&&(e.flags|=32),cP(t,e),Ti(t,e,s,n),e.child;case 6:return t===null&&IT(e),null;case 13:return hP(t,e,n);case 4:return DA(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=wf(e,null,i,n):Ti(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ho(i,r),E3(t,e,i,r,n);case 7:return Ti(t,e,e.pendingProps,n),e.child;case 8:return Ti(t,e,e.pendingProps.children,n),e.child;case 12:return Ti(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,o=e.memoizedProps,s=r.value,St(g1,i._currentValue),i._currentValue=s,o!==null)if(Ro(o.value,s)){if(o.children===r.children&&!Ji.current){e=Ia(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(o.tag===1){l=wa(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),FT(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Te(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),FT(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Ti(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,th(e,n),r=no(r),i=i(r),e.flags|=1,Ti(t,e,i,n),e.child;case 14:return i=e.type,r=ho(i,e.pendingProps),r=ho(i.type,r),A3(t,e,i,r,n);case 15:return lP(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ho(i,r),l0(t,e),e.tag=1,Zi(i)?(t=!0,h1(e)):t=!1,th(e,n),oP(e,i,r),RT(e,i,r,n),PT(null,e,i,!0,t,n);case 19:return fP(t,e,n);case 22:return uP(t,e,n)}throw Error(Te(156,e.tag))};function kP(t,e){return nL(t,e)}function ez(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(t,e,n,i){return new ez(t,e,n,i)}function zA(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tz(t){if(typeof t=="function")return zA(t)?1:0;if(t!=null){if(t=t.$$typeof,t===lA)return 11;if(t===uA)return 14}return 2}function Vl(t,e){var n=t.alternate;return n===null?(n=Kr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function d0(t,e,n,i,r,o){var s=2;if(i=t,typeof t=="function")zA(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Rd:return Oc(n.children,r,o,e);case aA:s=8,r|=8;break;case iT:return t=Kr(12,n,e,r|2),t.elementType=iT,t.lanes=o,t;case rT:return t=Kr(13,n,e,r),t.elementType=rT,t.lanes=o,t;case oT:return t=Kr(19,n,e,r),t.elementType=oT,t.lanes=o,t;case BU:return t_(n,r,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case MU:s=10;break e;case OU:s=9;break e;case lA:s=11;break e;case uA:s=14;break e;case Ja:s=16,i=null;break e}throw Error(Te(130,t==null?t:typeof t,""))}return e=Kr(s,n,e,r),e.elementType=t,e.type=i,e.lanes=o,e}function Oc(t,e,n,i){return t=Kr(7,t,i,e),t.lanes=n,t}function t_(t,e,n,i){return t=Kr(22,t,i,e),t.elementType=BU,t.lanes=n,t.stateNode={isHidden:!1},t}function s2(t,e,n){return t=Kr(6,t,null,e),t.lanes=n,t}function a2(t,e,n){return e=Kr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function nz(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wx(0),this.expirationTimes=Wx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wx(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function HA(t,e,n,i,r,o,s,a,l){return t=new nz(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Kr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},SA(o),t}function iz(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nd,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function IP(t){if(!t)return Zl;t=t._reactInternals;e:{if(od(t)!==t||t.tag!==1)throw Error(Te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Te(171))}if(t.tag===1){var n=t.type;if(Zi(n))return IL(t,n,e)}return e}function FP(t,e,n,i,r,o,s,a,l){return t=HA(n,i,!0,t,r,o,s,a,l),t.context=IP(null),n=t.current,i=Ai(),r=Hl(n),o=wa(i,r),o.callback=e??null,$l(n,o,r),t.current.lanes=r,zy(t,r,i),Qi(t,i),t}function n_(t,e,n,i){var r=e.current,o=Ai(),s=Hl(r);return n=IP(n),e.context===null?e.context=n:e.pendingContext=n,e=wa(o,s),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=$l(r,e,s),t!==null&&(Fo(t,r,s,o),o0(t,r,s)),s}function E1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function O3(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function VA(t,e){O3(t,e),(t=t.alternate)&&O3(t,e)}function rz(){return null}var NP=typeof reportError=="function"?reportError:function(t){console.error(t)};function GA(t){this._internalRoot=t}i_.prototype.render=GA.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Te(409));n_(t,e,null,null)};i_.prototype.unmount=GA.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Gc(function(){n_(null,t,null,null)}),e[Da]=null}};function i_(t){this._internalRoot=t}i_.prototype.unstable_scheduleHydration=function(t){if(t){var e=uL();t={blockedOn:null,target:t,priority:e};for(var n=0;n<tl.length&&e!==0&&e<tl[n].priority;n++);tl.splice(n,0,t),n===0&&dL(t)}};function jA(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function r_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function B3(){}function oz(t,e,n,i,r){if(r){if(typeof i=="function"){var o=i;i=function(){var u=E1(s);o.call(u)}}var s=FP(e,i,t,0,null,!1,!1,"",B3);return t._reactRootContainer=s,t[Da]=s.current,Mg(t.nodeType===8?t.parentNode:t),Gc(),s}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var u=E1(l);a.call(u)}}var l=HA(t,0,!1,null,null,!1,!1,"",B3);return t._reactRootContainer=l,t[Da]=l.current,Mg(t.nodeType===8?t.parentNode:t),Gc(function(){n_(e,l,n,i)}),l}function o_(t,e,n,i,r){var o=n._reactRootContainer;if(o){var s=o;if(typeof r=="function"){var a=r;r=function(){var l=E1(s);a.call(l)}}n_(e,s,t,r)}else s=oz(n,e,t,r,i);return E1(s)}aL=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Wp(e.pendingLanes);n!==0&&(hA(e,n|1),Qi(e,tn()),!(ct&6)&&(Ef=tn()+500,lu()))}break;case 13:Gc(function(){var i=ka(t,1);if(i!==null){var r=Ai();Fo(i,t,1,r)}}),VA(t,1)}};fA=function(t){if(t.tag===13){var e=ka(t,134217728);if(e!==null){var n=Ai();Fo(e,t,134217728,n)}VA(t,134217728)}};lL=function(t){if(t.tag===13){var e=Hl(t),n=ka(t,e);if(n!==null){var i=Ai();Fo(n,t,e,i)}VA(t,e)}};uL=function(){return bt};cL=function(t,e){var n=bt;try{return bt=t,e()}finally{bt=n}};gT=function(t,e,n){switch(e){case"input":if(lT(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Yb(i);if(!r)throw Error(Te(90));WU(i),lT(i,r)}}}break;case"textarea":zU(t,n);break;case"select":e=n.value,e!=null&&Jd(t,!!n.multiple,e,!1)}};KU=qA;JU=Gc;var sz={usingClientEntryPoint:!1,Events:[Vy,Md,Yb,XU,YU,qA]},bp={findFiberByHostInstance:Du,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},az={bundleType:bp.bundleType,version:bp.version,rendererPackageName:bp.rendererPackageName,rendererConfig:bp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Oa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=eL(t),t===null?null:t.stateNode},findFiberByHostInstance:bp.findFiberByHostInstance||rz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fv.isDisabled&&Fv.supportsFiber)try{Vb=Fv.inject(az),gs=Fv}catch{}}kr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sz;kr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jA(e))throw Error(Te(200));return iz(t,e,null,n)};kr.createRoot=function(t,e){if(!jA(t))throw Error(Te(299));var n=!1,i="",r=NP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=HA(t,1,!1,null,null,n,!1,i,r),t[Da]=e.current,Mg(t.nodeType===8?t.parentNode:t),new GA(e)};kr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Te(188)):(t=Object.keys(t).join(","),Error(Te(268,t)));return t=eL(e),t=t===null?null:t.stateNode,t};kr.flushSync=function(t){return Gc(t)};kr.hydrate=function(t,e,n){if(!r_(e))throw Error(Te(200));return o_(null,t,e,!0,n)};kr.hydrateRoot=function(t,e,n){if(!jA(t))throw Error(Te(405));var i=n!=null&&n.hydratedSources||null,r=!1,o="",s=NP;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=FP(e,null,t,1,n??null,r,!1,o,s),t[Da]=e.current,Mg(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new i_(e)};kr.render=function(t,e,n){if(!r_(e))throw Error(Te(200));return o_(null,t,e,!1,n)};kr.unmountComponentAtNode=function(t){if(!r_(t))throw Error(Te(40));return t._reactRootContainer?(Gc(function(){o_(null,null,t,!1,function(){t._reactRootContainer=null,t[Da]=null})}),!0):!1};kr.unstable_batchedUpdates=qA;kr.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!r_(n))throw Error(Te(200));if(t==null||t._reactInternals===void 0)throw Error(Te(38));return o_(t,e,n,!1,i)};kr.version="18.3.1-next-f1338f8080-20240426";function RP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RP)}catch(t){console.error(t)}}RP(),RU.exports=kr;var UP=RU.exports,q3=UP;tT.createRoot=q3.createRoot,tT.hydrateRoot=q3.hydrateRoot;const lz=({className:t="w-6 h-6"})=>X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})}),uz=({className:t="w-6 h-6"})=>X.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12v0a9 9 0 01-9 9s-9-4.03-9-9 4.03-9 9-9v0a9 9 0 019 9z"}),X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 10h4v4h-4v-4z"})]}),XA=({className:t="w-6 h-6"})=>X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),A1=({className:t="w-6 h-6"})=>X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),LP=({className:t="w-6 h-6"})=>X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),cz=({className:t="w-6 h-6"})=>X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),dz=({className:t="w-6 h-6"})=>X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3M3 17v1a2 2 0 002 2h14a2 2 0 002-2v-1"})}),PP=({className:t="w-6 h-6"})=>X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),MP=({className:t="w-6 h-6"})=>X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L15.232 5.232z"})}),hz=({className:t="w-6 h-6"})=>X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.653-.124-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.653.124-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),fz=({className:t="w-6 h-6"})=>X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),pz=({className:t="w-6 h-6"})=>X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})}),gz=({className:t="w-6 h-6"})=>X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 2h6v6M3 12a9 9 0 0114.65-6.65L20 8M3 16h5v-5M4 12a9 9 0 01.35-2.65L1 8"})}),OP=({className:t="w-6 h-6"})=>X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),Gl=({className:t="w-6 h-6"})=>X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),mz=({className:t="w-6 h-6"})=>X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 4H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2v-5M9 15H9.01M14 5l2.121-2.121a1 1 0 0 1 1.414 0l1.414 1.414a1 1 0 0 1 0 1.414L16 8m-2-3l3 3"})}),yz=({className:t="w-6 h-6"})=>X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),BP=({className:t="w-6 h-6"})=>X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),vz=({className:t="w-6 h-6"})=>X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),bz=({className:t="w-6 h-6"})=>X.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m1-12a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H8a1 1 0 01-1-1V6z"}),X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h4m-2-2v4"})]}),_z=({className:t="w-6 h-6"})=>X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),xz=({className:t="w-6 h-6"})=>X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.546-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),wz=({className:t="w-6 h-6"})=>X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),Tz=({className:t="w-6 h-6"})=>X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),qP=({className:t="w-6 h-6"})=>X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),Cz=({className:t="w-6 h-6"})=>X.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),Ez=({className:t="w-6 h-6"})=>X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),Az=({className:t="w-6 h-6"})=>X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),Sz=({lectures:t,activeLectureId:e,onSelectLecture:n,onNewLiveLecture:i,onUpload:r,onDeleteLecture:o,isMobile:s,onCloseRequest:a,onOpenSettings:l})=>{const[u,c]=be.useState(""),[h,d]=be.useState(null),f=be.useMemo(()=>{const m=new Set;return t.forEach(v=>{v.tags.forEach(g=>m.add(g))}),Array.from(m).sort()},[t]),y=be.useMemo(()=>{let m=t;if(h&&(m=m.filter(v=>v.tags.includes(h))),u.trim()){const v=u.toLowerCase();m=m.filter(g=>g.title.toLowerCase().includes(v)||g.date.toLowerCase().includes(v)||g.tags.some(p=>p.toLowerCase().includes(v)))}return m},[t,u,h]);return X.jsxs("div",{className:"w-80 bg-gray-100 dark:bg-gray-900 border-r border-gray-200 dark:border-gray-700 flex flex-col h-screen p-4",children:[X.jsxs("div",{className:"flex items-center justify-between mb-6",children:[X.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"IntelliNote"}),s&&X.jsx("button",{onClick:a,className:"p-1 text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full",children:X.jsx(Gl,{className:"w-6 h-6"})})]}),X.jsxs("div",{className:"flex flex-col space-y-2 mb-6",children:[X.jsxs("button",{onClick:i,className:"flex items-center justify-center w-full px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 dark:focus:ring-offset-gray-900 focus:ring-indigo-500 transition-all duration-200",children:[X.jsx(cz,{className:"w-5 h-5 mr-2"}),"New Live Lecture"]}),X.jsxs("button",{onClick:r,className:"flex items-center justify-center w-full px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-200 dark:bg-gray-700 rounded-md hover:bg-gray-300 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 dark:focus:ring-offset-gray-900 focus:ring-indigo-500 transition-all duration-200",children:[X.jsx(XA,{className:"w-5 h-5 mr-2"}),"Upload Notes/PDFs"]})]}),X.jsxs("div",{className:"relative mb-4",children:[X.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:X.jsx(PP,{className:"w-5 h-5 text-gray-400 dark:text-gray-500"})}),X.jsx("input",{type:"text",placeholder:"Search by title, date, tag...",value:u,onChange:m=>c(m.target.value),className:"w-full pl-10 pr-4 py-2 text-sm text-gray-800 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors"})]}),f.length>0&&X.jsxs("div",{className:"mb-4",children:[X.jsxs("h3",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2 flex items-center",children:[X.jsx(mz,{className:"w-4 h-4 mr-2"})," Tags"]}),X.jsxs("div",{className:"flex flex-wrap gap-2",children:[X.jsx("button",{onClick:()=>d(null),className:`px-2 py-1 text-xs rounded-full transition-colors ${h?"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600":"bg-indigo-500 text-white"}`,children:"All"}),f.map(m=>X.jsx("button",{onClick:()=>d(m),className:`px-2 py-1 text-xs rounded-full transition-colors ${h===m?"bg-indigo-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:m},m))]})]}),X.jsx("h2",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2",children:"My Lectures"}),X.jsx("div",{className:"flex-1 overflow-y-auto pr-2",children:X.jsx("nav",{className:"space-y-1",children:y.length===0?X.jsx("p",{className:"text-gray-500 text-sm p-2",children:u||h?"No results found.":"No lectures yet."}):y.map(m=>X.jsxs("a",{href:"#",onClick:v=>{v.preventDefault(),n(m.id)},className:`group relative flex items-center justify-between px-3 py-2 text-sm font-medium rounded-md transition-colors duration-150 ${e===m.id?"bg-indigo-100 dark:bg-indigo-500 dark:bg-opacity-20 text-indigo-600 dark:text-indigo-300":"text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-white"}`,children:[X.jsxs("div",{className:"flex flex-col overflow-hidden",children:[X.jsx("span",{className:"font-semibold truncate",children:m.title}),X.jsx("span",{className:"text-xs text-gray-500",children:m.date})]}),X.jsx("button",{onClick:v=>{v.preventDefault(),v.stopPropagation(),o(m.id)},className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded-full text-gray-500 hover:bg-red-500 hover:text-white opacity-0 group-hover:opacity-100 transition-opacity z-10",title:"Delete Lecture",children:X.jsx(Gl,{className:"w-4 h-4"})})]},m.id))})}),X.jsx("div",{className:"mt-auto pt-4 border-t border-gray-200 dark:border-gray-700",children:X.jsxs("button",{onClick:l,className:"w-full flex items-center justify-center p-2 rounded-md text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 hover:text-gray-700 dark:hover:text-gray-200 transition-colors","aria-label":"Open AI Settings",children:[X.jsx(Cz,{className:"w-5 h-5"}),X.jsx("span",{className:"ml-2 text-sm",children:"Settings"})]})})]})};var jl=(t=>(t.Notes="notes",t.StudyGuide="guide",t.TestQuestions="questions",t.Flashcards="flashcards",t))(jl||{}),lo=(t=>(t[t.Live=0]="Live",t[t.Note=1]="Note",t[t.Welcome=2]="Welcome",t))(lo||{}),zi=(t=>(t.Improve="improve",t.Format="format",t.Topics="topics",t.Summarize="summarize",t.Custom="custom",t))(zi||{});const Dz="modulepreload",kz=function(t){return"/"+t},W3={},Tt=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));r=Promise.allSettled(n.map(l=>{if(l=kz(l),l in W3)return;W3[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Dz,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((d,f)=>{h.addEventListener("load",d),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return r.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};function Iz(){return window.crypto.getRandomValues(new Uint32Array(1))[0]}function XT(t,e=!1){const n=Iz(),i=`_${n}`;return Object.defineProperty(window,i,{value:r=>(e&&Reflect.deleteProperty(window,i),t==null?void 0:t(r)),writable:!1,configurable:!0}),n}async function WP(t,e={}){return new Promise((n,i)=>{const r=XT(s=>{n(s),Reflect.deleteProperty(window,`_${o}`)},!0),o=XT(s=>{i(s),Reflect.deleteProperty(window,`_${r}`)},!0);window.__TAURI_IPC__({cmd:t,callback:r,error:o,...e})})}const l2=Object.freeze(Object.defineProperty({__proto__:null,invoke:WP,transformCallback:XT},Symbol.toStringTag,{value:"Module"}));async function $P(t){return WP("tauri",t)}async function Fz(t={}){return typeof t=="object"&&Object.freeze(t),$P({__tauriModule:"Dialog",message:{cmd:"saveDialog",options:t}})}var $3;(function(t){t[t.Audio=1]="Audio",t[t.Cache=2]="Cache",t[t.Config=3]="Config",t[t.Data=4]="Data",t[t.LocalData=5]="LocalData",t[t.Desktop=6]="Desktop",t[t.Document=7]="Document",t[t.Download=8]="Download",t[t.Executable=9]="Executable",t[t.Font=10]="Font",t[t.Home=11]="Home",t[t.Picture=12]="Picture",t[t.Public=13]="Public",t[t.Runtime=14]="Runtime",t[t.Template=15]="Template",t[t.Video=16]="Video",t[t.Resource=17]="Resource",t[t.App=18]="App",t[t.Log=19]="Log",t[t.Temp=20]="Temp",t[t.AppConfig=21]="AppConfig",t[t.AppData=22]="AppData",t[t.AppLocalData=23]="AppLocalData",t[t.AppCache=24]="AppCache",t[t.AppLog=25]="AppLog"})($3||($3={}));async function Nz(t,e,n){typeof t=="object"&&Object.freeze(t);const i={path:"",contents:""};let r=n;return typeof t=="string"?i.path=t:(i.path=t.path,i.contents=t.contents),typeof e=="string"?i.contents=e??"":r=e,$P({__tauriModule:"Fs",message:{cmd:"writeFile",path:i.path,contents:Array.from(new TextEncoder().encode(i.contents)),options:r}})}const bg=()=>typeof window<"u"&&!!window.__TAURI__,Rz=async(t,e)=>{if(!bg())return console.warn("Tauri API not available. Falling back to web download."),!1;try{const n=await Fz({defaultPath:e,filters:[{name:"Markdown",extensions:["md"]}]});return n&&await Nz(n,t),!0}catch(n){return console.error("Tauri save dialog failed:",n),!1}},u2="intellinote-api-config",c2="intellinote_api_config",h0=()=>{if(typeof window>"u")return!1;const t=window.Capacitor;return!!t&&typeof t.isNativePlatform=="function"&&t.isNativePlatform()},d2={load:()=>{if(typeof window>"u"||typeof localStorage>"u")return null;const t=localStorage.getItem(u2);if(!t)return null;try{return JSON.parse(t)}catch{return null}},save:t=>{typeof window>"u"||typeof localStorage>"u"||localStorage.setItem(u2,JSON.stringify(t))},clear:()=>{typeof window>"u"||typeof localStorage>"u"||localStorage.removeItem(u2)}},h2=async()=>{if(!h0())return null;try{return(await Tt(()=>import("./index-kb1fhuu3.js"),[])).SecureStoragePlugin}catch(t){return console.warn("Capacitor secure storage plugin unavailable, falling back to localStorage.",t),null}},YA={async get(){var t;if(bg())try{return await(await Tt(async()=>{const{invoke:n}=await Promise.resolve().then(()=>l2);return{invoke:n}},void 0)).invoke("secure_load_api_config")??null}catch(e){console.warn("Failed to load config from Tauri keychain:",e)}else if(h0()){const e=await h2();if(e)try{const{value:n}=await e.get({key:c2});return n?JSON.parse(n):null}catch(n){if((t=n==null?void 0:n.message)!=null&&t.includes("Item with the given key"))return null;console.warn("Capacitor secure storage read failed:",n)}}return d2.load()},async set(t){if(bg())try{await(await Tt(async()=>{const{invoke:e}=await Promise.resolve().then(()=>l2);return{invoke:e}},void 0)).invoke("secure_save_api_config",{config:t});return}catch(e){console.warn("Failed to persist config via Tauri keychain:",e)}else if(h0()){const e=await h2();if(e)try{await e.set({key:c2,value:JSON.stringify(t)});return}catch(n){console.warn("Capacitor secure storage save failed:",n)}}d2.save(t)},async clear(){if(bg())try{await(await Tt(async()=>{const{invoke:t}=await Promise.resolve().then(()=>l2);return{invoke:t}},void 0)).invoke("secure_clear_api_config");return}catch(t){console.warn("Failed to clear Tauri keychain entry:",t)}else if(h0()){const t=await h2();if(t)try{await t.remove({key:c2});return}catch(e){console.warn("Capacitor secure storage clear failed:",e)}}d2.clear()}};let s_=null;const KA=t=>{typeof window>"u"||(t?window.__INTELLINOTE_API_CONFIG=t:delete window.__INTELLINOTE_API_CONFIG)},zP=()=>{if(typeof window<"u"){const t=window.__INTELLINOTE_API_CONFIG;if(t&&typeof t.apiKey=="string")return t}return s_},Uz=async()=>{const t=zP();if(t)return t;const e=await YA.get();return e?(s_=e,KA(e),e):null},Lz=async t=>{s_=t,KA(t),await YA.set(t)},Pz=async()=>{s_=null,KA(null),await YA.clear()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Mz,Oz;function Bz(){return{geminiUrl:Mz,vertexUrl:Oz}}function qz(t,e,n,i){var r,o;if(!(t!=null&&t.baseUrl)){const s=Bz();return e?(r=s.vertexUrl)!==null&&r!==void 0?r:n:(o=s.geminiUrl)!==null&&o!==void 0?o:i}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ba{}function Ie(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const o=e[r];return o!=null?String(o):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function C(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const a=s.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[a])){const l=t[a];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];C(c,e.slice(o+1),n[u])}else for(const u of l)C(u,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const a=s.slice(0,-3);a in t||(t[a]=[{}]);const l=t[a];C(l[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const i=e[e.length-1],r=t[i];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[i]=n}function w(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let i=0;i<e.length;i++){if(typeof t!="object"||t===null)return n;const r=e[i];if(r.endsWith("[]")){const o=r.slice(0,-2);if(o in t){const s=t[o];return Array.isArray(s)?s.map(a=>w(a,e.slice(i+1),n)):n}else return n}else t=t[r]}return t}catch(i){if(i instanceof TypeError)return n;throw i}}function Wz(t,e){for(const[n,i]of Object.entries(e)){const r=n.split("."),o=i.split("."),s=new Set;let a=-1;for(let l=0;l<r.length;l++)if(r[l]==="*"){a=l;break}if(a!==-1&&o.length>a)for(let l=a;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&s.add(u)}YT(t,r,o,0,s)}}function YT(t,e,n,i,r){if(i>=e.length||typeof t!="object"||t===null)return;const o=e[i];if(o.endsWith("[]")){const s=o.slice(0,-2),a=t;if(s in a&&Array.isArray(a[s]))for(const l of a[s])YT(l,e,n,i+1,r)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,a=Object.keys(s).filter(u=>!u.startsWith("_")&&!r.has(u)),l={};for(const u of a)l[u]=s[u];for(const[u,c]of Object.entries(l)){const h=[];for(const d of n.slice(i))d==="*"?h.push(u):h.push(d);C(s,h,c)}for(const u of a)delete s[u]}}else{const s=t;o in s&&YT(s[o],e,n,i+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JA(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $z(t){const e={},n=w(t,["operationName"]);n!=null&&C(e,["operationName"],n);const i=w(t,["resourceName"]);return i!=null&&C(e,["_url","resourceName"],i),e}function zz(t){const e={},n=w(t,["name"]);n!=null&&C(e,["name"],n);const i=w(t,["metadata"]);i!=null&&C(e,["metadata"],i);const r=w(t,["done"]);r!=null&&C(e,["done"],r);const o=w(t,["error"]);o!=null&&C(e,["error"],o);const s=w(t,["response","generateVideoResponse"]);return s!=null&&C(e,["response"],Vz(s)),e}function Hz(t){const e={},n=w(t,["name"]);n!=null&&C(e,["name"],n);const i=w(t,["metadata"]);i!=null&&C(e,["metadata"],i);const r=w(t,["done"]);r!=null&&C(e,["done"],r);const o=w(t,["error"]);o!=null&&C(e,["error"],o);const s=w(t,["response"]);return s!=null&&C(e,["response"],Gz(s)),e}function Vz(t){const e={},n=w(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>jz(s))),C(e,["generatedVideos"],o)}const i=w(t,["raiMediaFilteredCount"]);i!=null&&C(e,["raiMediaFilteredCount"],i);const r=w(t,["raiMediaFilteredReasons"]);return r!=null&&C(e,["raiMediaFilteredReasons"],r),e}function Gz(t){const e={},n=w(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Xz(s))),C(e,["generatedVideos"],o)}const i=w(t,["raiMediaFilteredCount"]);i!=null&&C(e,["raiMediaFilteredCount"],i);const r=w(t,["raiMediaFilteredReasons"]);return r!=null&&C(e,["raiMediaFilteredReasons"],r),e}function jz(t){const e={},n=w(t,["video"]);return n!=null&&C(e,["video"],eH(n)),e}function Xz(t){const e={},n=w(t,["_self"]);return n!=null&&C(e,["video"],tH(n)),e}function Yz(t){const e={},n=w(t,["operationName"]);return n!=null&&C(e,["_url","operationName"],n),e}function Kz(t){const e={},n=w(t,["operationName"]);return n!=null&&C(e,["_url","operationName"],n),e}function Jz(t){const e={},n=w(t,["name"]);n!=null&&C(e,["name"],n);const i=w(t,["metadata"]);i!=null&&C(e,["metadata"],i);const r=w(t,["done"]);r!=null&&C(e,["done"],r);const o=w(t,["error"]);o!=null&&C(e,["error"],o);const s=w(t,["response"]);return s!=null&&C(e,["response"],Zz(s)),e}function Zz(t){const e={},n=w(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const i=w(t,["parent"]);i!=null&&C(e,["parent"],i);const r=w(t,["documentName"]);return r!=null&&C(e,["documentName"],r),e}function HP(t){const e={},n=w(t,["name"]);n!=null&&C(e,["name"],n);const i=w(t,["metadata"]);i!=null&&C(e,["metadata"],i);const r=w(t,["done"]);r!=null&&C(e,["done"],r);const o=w(t,["error"]);o!=null&&C(e,["error"],o);const s=w(t,["response"]);return s!=null&&C(e,["response"],Qz(s)),e}function Qz(t){const e={},n=w(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const i=w(t,["parent"]);i!=null&&C(e,["parent"],i);const r=w(t,["documentName"]);return r!=null&&C(e,["documentName"],r),e}function eH(t){const e={},n=w(t,["uri"]);n!=null&&C(e,["uri"],n);const i=w(t,["encodedVideo"]);i!=null&&C(e,["videoBytes"],JA(i));const r=w(t,["encoding"]);return r!=null&&C(e,["mimeType"],r),e}function tH(t){const e={},n=w(t,["gcsUri"]);n!=null&&C(e,["uri"],n);const i=w(t,["bytesBase64Encoded"]);i!=null&&C(e,["videoBytes"],JA(i));const r=w(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var z3;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(z3||(z3={}));var H3;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(H3||(H3={}));var V3;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(V3||(V3={}));var Vi;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Vi||(Vi={}));var G3;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(G3||(G3={}));var j3;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(j3||(j3={}));var X3;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(X3||(X3={}));var Y3;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Y3||(Y3={}));var K3;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(K3||(K3={}));var J3;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(J3||(J3={}));var Z3;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Z3||(Z3={}));var Q3;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Q3||(Q3={}));var eI;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(eI||(eI={}));var tI;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(tI||(tI={}));var nI;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(nI||(nI={}));var iI;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(iI||(iI={}));var rI;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(rI||(rI={}));var oI;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(oI||(oI={}));var Gg;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Gg||(Gg={}));var sI;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(sI||(sI={}));var aI;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(aI||(aI={}));var lI;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(lI||(lI={}));var KT;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(KT||(KT={}));var uI;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(uI||(uI={}));var cI;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(cI||(cI={}));var dI;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(dI||(dI={}));var hI;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(hI||(hI={}));var fI;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(fI||(fI={}));var pI;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(pI||(pI={}));var gI;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(gI||(gI={}));var mI;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(mI||(mI={}));var yI;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(yI||(yI={}));var vI;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(vI||(vI={}));var bI;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(bI||(bI={}));var _I;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(_I||(_I={}));var xI;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(xI||(xI={}));var wI;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(wI||(wI={}));var TI;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(TI||(TI={}));var CI;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(CI||(CI={}));var EI;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(EI||(EI={}));var AI;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(AI||(AI={}));var SI;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(SI||(SI={}));var DI;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(DI||(DI={}));var kI;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(kI||(kI={}));var II;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(II||(II={}));var FI;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(FI||(FI={}));var NI;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(NI||(NI={}));var RI;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(RI||(RI={}));var UI;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(UI||(UI={}));var LI;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(LI||(LI={}));var PI;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(PI||(PI={}));var MI;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(MI||(MI={}));var Hd;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Hd||(Hd={}));class JT{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class _p{get text(){var e,n,i,r,o,s,a,l;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const h=[];for(const d of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[f,y]of Object.entries(d))f!=="text"&&f!=="thought"&&f!=="thoughtSignature"&&(y!==null||y!==void 0)&&h.push(f);if(typeof d.text=="string"){if(typeof d.thought=="boolean"&&d.thought)continue;c=!0,u+=d.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,i,r,o,s,a,l;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const h of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[d,f]of Object.entries(h))d!=="inlineData"&&(f!==null||f!==void 0)&&c.push(d);h.inlineData&&typeof h.inlineData.data=="string"&&(u+=atob(h.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,i,r,o,s,a,l;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,i,r,o,s,a,l,u;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,i,r,o,s,a,l,u;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class OI{}class BI{}class nH{}class iH{}class rH{}class oH{}class qI{}class WI{}class $I{}class sH{}class S1{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new S1;let r;const o=e;return n?r=Hz(o):r=zz(o),Object.assign(i,r),i}}class zI{}class HI{}class VI{}class aH{}class lH{}class uH{}class ZA{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new ZA,o=Jz(e);return Object.assign(i,o),i}}class cH{}class dH{}class hH{}class GI{}class fH{get text(){var e,n,i;let r="",o=!1;const s=[];for(const a of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[l,u]of Object.entries(a))l!=="text"&&l!=="thought"&&u!==null&&s.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;o=!0,r+=a.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?r:void 0}get data(){var e,n,i;let r="";const o=[];for(const s of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[a,l]of Object.entries(s))a!=="inlineData"&&l!==null&&o.push(a);s.inlineData&&typeof s.inlineData.data=="string"&&(r+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class pH{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class QA{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new QA,o=HP(e);return Object.assign(i,o),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ft(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function VP(t,e){const n=ft(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function GP(t){return Array.isArray(t)?t.map(e=>D1(e)):[D1(t)]}function D1(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function jP(t){const e=D1(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function XP(t){const e=D1(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function jI(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function YP(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>jI(e)):[jI(t)]}function ZT(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function XI(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function YI(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function li(t){if(t==null)throw new Error("ContentUnion is required");return ZT(t)?t:{role:"user",parts:YP(t)}}function eS(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=li(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=li(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>li(n)):[li(e)]}function Zr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(XI(t)||YI(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[li(t)]}const e=[],n=[],i=ZT(t[0]);for(const r of t){const o=ZT(r);if(o!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(r);else{if(XI(r)||YI(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return i||e.push({role:"user",parts:YP(n)}),e}function gH(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(Vi).includes(n[0].toUpperCase())?n[0].toUpperCase():Vi.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(Vi).includes(i.toUpperCase())?i.toUpperCase():Vi.TYPE_UNSPECIFIED})}}function ih(t){const e={},n=["items"],i=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&gH(t.type,e);for(const[s,a]of Object.entries(t))if(a!=null)if(s=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(Vi).includes(a.toUpperCase())?a.toUpperCase():Vi.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=ih(a);else if(i.includes(s)){const l=[];for(const u of a){if(u.type=="null"){e.nullable=!0;continue}l.push(ih(u))}e[s]=l}else if(r.includes(s)){const l={};for(const[u,c]of Object.entries(a))l[u]=ih(c);e[s]=l}else{if(s==="additionalProperties")continue;e[s]=a}return e}function tS(t){return ih(t)}function nS(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function iS(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function jf(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ih(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ih(e.response));return t}function Xf(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function mH(t,e,n,i=1){const r=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:r?`${n}/${e}`:e}function qa(t,e){if(typeof e!="string")throw new Error("name must be a string");return mH(t,e,"cachedContents")}function KP(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function uu(t){return JA(t)}function yH(t){return t!=null&&typeof t=="object"&&"name"in t}function vH(t){return t!=null&&typeof t=="object"&&"video"in t}function bH(t){return t!=null&&typeof t=="object"&&"uri"in t}function JP(t){var e;let n;if(yH(t)&&(n=t.name),!(bH(t)&&(n=t.uri,n===void 0))&&!(vH(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function ZP(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function QP(t){for(const e of["models","tunedModels","publisherModels"])if(_H(t,e))return t[e];return[]}function _H(t,e){return t!==null&&typeof t=="object"&&e in t}function xH(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function wH(t,e={}){const n=[],i=new Set;for(const r of t){const o=r.name;if(i.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);i.add(o);const s=xH(r,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function eM(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(r>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function TH(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function tM(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return t;let o=!1;for(const s of r){if(typeof s!="object"||s===null)continue;const l=s.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Yf(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function nM(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CH(t){const e={},n=w(t,["responsesFile"]);n!=null&&C(e,["fileName"],n);const i=w(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>tV(s))),C(e,["inlinedResponses"],o)}const r=w(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),C(e,["inlinedEmbedContentResponses"],o)}return e}function EH(t){const e={},n=w(t,["predictionsFormat"]);n!=null&&C(e,["format"],n);const i=w(t,["gcsDestination","outputUriPrefix"]);i!=null&&C(e,["gcsUri"],i);const r=w(t,["bigqueryDestination","outputUri"]);return r!=null&&C(e,["bigqueryUri"],r),e}function AH(t){const e={},n=w(t,["format"]);n!=null&&C(e,["predictionsFormat"],n);const i=w(t,["gcsUri"]);i!=null&&C(e,["gcsDestination","outputUriPrefix"],i);const r=w(t,["bigqueryUri"]);if(r!=null&&C(e,["bigqueryDestination","outputUri"],r),w(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(w(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(w(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function f0(t){const e={},n=w(t,["name"]);n!=null&&C(e,["name"],n);const i=w(t,["metadata","displayName"]);i!=null&&C(e,["displayName"],i);const r=w(t,["metadata","state"]);r!=null&&C(e,["state"],nM(r));const o=w(t,["metadata","createTime"]);o!=null&&C(e,["createTime"],o);const s=w(t,["metadata","endTime"]);s!=null&&C(e,["endTime"],s);const a=w(t,["metadata","updateTime"]);a!=null&&C(e,["updateTime"],a);const l=w(t,["metadata","model"]);l!=null&&C(e,["model"],l);const u=w(t,["metadata","output"]);return u!=null&&C(e,["dest"],CH(tM(u))),e}function QT(t){const e={},n=w(t,["name"]);n!=null&&C(e,["name"],n);const i=w(t,["displayName"]);i!=null&&C(e,["displayName"],i);const r=w(t,["state"]);r!=null&&C(e,["state"],nM(r));const o=w(t,["error"]);o!=null&&C(e,["error"],o);const s=w(t,["createTime"]);s!=null&&C(e,["createTime"],s);const a=w(t,["startTime"]);a!=null&&C(e,["startTime"],a);const l=w(t,["endTime"]);l!=null&&C(e,["endTime"],l);const u=w(t,["updateTime"]);u!=null&&C(e,["updateTime"],u);const c=w(t,["model"]);c!=null&&C(e,["model"],c);const h=w(t,["inputConfig"]);h!=null&&C(e,["src"],SH(h));const d=w(t,["outputConfig"]);d!=null&&C(e,["dest"],EH(tM(d)));const f=w(t,["completionStats"]);return f!=null&&C(e,["completionStats"],f),e}function SH(t){const e={},n=w(t,["instancesFormat"]);n!=null&&C(e,["format"],n);const i=w(t,["gcsSource","uris"]);i!=null&&C(e,["gcsUri"],i);const r=w(t,["bigquerySource","inputUri"]);return r!=null&&C(e,["bigqueryUri"],r),e}function DH(t,e){const n={};if(w(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(w(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(w(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=w(e,["fileName"]);i!=null&&C(n,["fileName"],i);const r=w(e,["inlinedRequests"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>eV(t,s))),C(n,["requests","requests"],o)}return n}function kH(t){const e={},n=w(t,["format"]);n!=null&&C(e,["instancesFormat"],n);const i=w(t,["gcsUri"]);i!=null&&C(e,["gcsSource","uris"],i);const r=w(t,["bigqueryUri"]);if(r!=null&&C(e,["bigquerySource","inputUri"],r),w(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(w(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function IH(t){const e={},n=w(t,["data"]);if(n!=null&&C(e,["data"],n),w(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=w(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}function FH(t,e){const n={},i=w(e,["name"]);return i!=null&&C(n,["_url","name"],Yf(t,i)),n}function NH(t,e){const n={},i=w(e,["name"]);return i!=null&&C(n,["_url","name"],Yf(t,i)),n}function RH(t){const e={},n=w(t,["content"]);n!=null&&C(e,["content"],n);const i=w(t,["citationMetadata"]);i!=null&&C(e,["citationMetadata"],UH(i));const r=w(t,["tokenCount"]);r!=null&&C(e,["tokenCount"],r);const o=w(t,["finishReason"]);o!=null&&C(e,["finishReason"],o);const s=w(t,["avgLogprobs"]);s!=null&&C(e,["avgLogprobs"],s);const a=w(t,["groundingMetadata"]);a!=null&&C(e,["groundingMetadata"],a);const l=w(t,["index"]);l!=null&&C(e,["index"],l);const u=w(t,["logprobsResult"]);u!=null&&C(e,["logprobsResult"],u);const c=w(t,["safetyRatings"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(f=>f)),C(e,["safetyRatings"],d)}const h=w(t,["urlContextMetadata"]);return h!=null&&C(e,["urlContextMetadata"],h),e}function UH(t){const e={},n=w(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r)),C(e,["citations"],i)}return e}function iM(t){const e={},n=w(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>lV(o))),C(e,["parts"],r)}const i=w(t,["role"]);return i!=null&&C(e,["role"],i),e}function LH(t,e){const n={},i=w(t,["displayName"]);if(e!==void 0&&i!=null&&C(e,["batch","displayName"],i),w(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function PH(t,e){const n={},i=w(t,["displayName"]);e!==void 0&&i!=null&&C(e,["displayName"],i);const r=w(t,["dest"]);return e!==void 0&&r!=null&&C(e,["outputConfig"],AH(TH(r))),n}function KI(t,e){const n={},i=w(e,["model"]);i!=null&&C(n,["_url","model"],ft(t,i));const r=w(e,["src"]);r!=null&&C(n,["batch","inputConfig"],DH(t,eM(t,r)));const o=w(e,["config"]);return o!=null&&LH(o,n),n}function MH(t,e){const n={},i=w(e,["model"]);i!=null&&C(n,["model"],ft(t,i));const r=w(e,["src"]);r!=null&&C(n,["inputConfig"],kH(eM(t,r)));const o=w(e,["config"]);return o!=null&&PH(o,n),n}function OH(t,e){const n={},i=w(t,["displayName"]);return e!==void 0&&i!=null&&C(e,["batch","displayName"],i),n}function BH(t,e){const n={},i=w(e,["model"]);i!=null&&C(n,["_url","model"],ft(t,i));const r=w(e,["src"]);r!=null&&C(n,["batch","inputConfig"],GH(t,r));const o=w(e,["config"]);return o!=null&&OH(o,n),n}function qH(t,e){const n={},i=w(e,["name"]);return i!=null&&C(n,["_url","name"],Yf(t,i)),n}function WH(t,e){const n={},i=w(e,["name"]);return i!=null&&C(n,["_url","name"],Yf(t,i)),n}function $H(t){const e={},n=w(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const i=w(t,["name"]);i!=null&&C(e,["name"],i);const r=w(t,["done"]);r!=null&&C(e,["done"],r);const o=w(t,["error"]);return o!=null&&C(e,["error"],o),e}function zH(t){const e={},n=w(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const i=w(t,["name"]);i!=null&&C(e,["name"],i);const r=w(t,["done"]);r!=null&&C(e,["done"],r);const o=w(t,["error"]);return o!=null&&C(e,["error"],o),e}function HH(t,e){const n={},i=w(e,["contents"]);if(i!=null){let o=eS(t,i);Array.isArray(o)&&(o=o.map(s=>s)),C(n,["requests[]","request","content"],o)}const r=w(e,["config"]);return r!=null&&(C(n,["_self"],VH(r,n)),Wz(n,{"requests[].*":"requests[].request.*"})),n}function VH(t,e){const n={},i=w(t,["taskType"]);e!==void 0&&i!=null&&C(e,["requests[]","taskType"],i);const r=w(t,["title"]);e!==void 0&&r!=null&&C(e,["requests[]","title"],r);const o=w(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&C(e,["requests[]","outputDimensionality"],o),w(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(w(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function GH(t,e){const n={},i=w(e,["fileName"]);i!=null&&C(n,["file_name"],i);const r=w(e,["inlinedRequests"]);return r!=null&&C(n,["requests"],HH(t,r)),n}function jH(t){const e={};if(w(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=w(t,["fileUri"]);n!=null&&C(e,["fileUri"],n);const i=w(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}function XH(t,e,n){const i={},r=w(e,["systemInstruction"]);n!==void 0&&r!=null&&C(n,["systemInstruction"],iM(li(r)));const o=w(e,["temperature"]);o!=null&&C(i,["temperature"],o);const s=w(e,["topP"]);s!=null&&C(i,["topP"],s);const a=w(e,["topK"]);a!=null&&C(i,["topK"],a);const l=w(e,["candidateCount"]);l!=null&&C(i,["candidateCount"],l);const u=w(e,["maxOutputTokens"]);u!=null&&C(i,["maxOutputTokens"],u);const c=w(e,["stopSequences"]);c!=null&&C(i,["stopSequences"],c);const h=w(e,["responseLogprobs"]);h!=null&&C(i,["responseLogprobs"],h);const d=w(e,["logprobs"]);d!=null&&C(i,["logprobs"],d);const f=w(e,["presencePenalty"]);f!=null&&C(i,["presencePenalty"],f);const y=w(e,["frequencyPenalty"]);y!=null&&C(i,["frequencyPenalty"],y);const m=w(e,["seed"]);m!=null&&C(i,["seed"],m);const v=w(e,["responseMimeType"]);v!=null&&C(i,["responseMimeType"],v);const g=w(e,["responseSchema"]);g!=null&&C(i,["responseSchema"],tS(g));const p=w(e,["responseJsonSchema"]);if(p!=null&&C(i,["responseJsonSchema"],p),w(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(w(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=w(e,["safetySettings"]);if(n!==void 0&&_!=null){let S=_;Array.isArray(S)&&(S=S.map(L=>uV(L))),C(n,["safetySettings"],S)}const x=w(e,["tools"]);if(n!==void 0&&x!=null){let S=Xf(x);Array.isArray(S)&&(S=S.map(L=>cV(jf(L)))),C(n,["tools"],S)}const T=w(e,["toolConfig"]);if(n!==void 0&&T!=null&&C(n,["toolConfig"],T),w(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=w(e,["cachedContent"]);n!==void 0&&A!=null&&C(n,["cachedContent"],qa(t,A));const E=w(e,["responseModalities"]);E!=null&&C(i,["responseModalities"],E);const k=w(e,["mediaResolution"]);k!=null&&C(i,["mediaResolution"],k);const U=w(e,["speechConfig"]);if(U!=null&&C(i,["speechConfig"],nS(U)),w(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=w(e,["thinkingConfig"]);N!=null&&C(i,["thinkingConfig"],N);const I=w(e,["imageConfig"]);return I!=null&&C(i,["imageConfig"],I),i}function YH(t){const e={},n=w(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const i=w(t,["candidates"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>RH(u))),C(e,["candidates"],l)}const r=w(t,["modelVersion"]);r!=null&&C(e,["modelVersion"],r);const o=w(t,["promptFeedback"]);o!=null&&C(e,["promptFeedback"],o);const s=w(t,["responseId"]);s!=null&&C(e,["responseId"],s);const a=w(t,["usageMetadata"]);return a!=null&&C(e,["usageMetadata"],a),e}function KH(t,e){const n={},i=w(e,["name"]);return i!=null&&C(n,["_url","name"],Yf(t,i)),n}function JH(t,e){const n={},i=w(e,["name"]);return i!=null&&C(n,["_url","name"],Yf(t,i)),n}function ZH(t){const e={};if(w(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=w(t,["enableWidget"]);return n!=null&&C(e,["enableWidget"],n),e}function QH(t){const e={};if(w(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(w(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=w(t,["timeRangeFilter"]);return n!=null&&C(e,["timeRangeFilter"],n),e}function eV(t,e){const n={},i=w(e,["model"]);i!=null&&C(n,["request","model"],ft(t,i));const r=w(e,["contents"]);if(r!=null){let a=Zr(r);Array.isArray(a)&&(a=a.map(l=>iM(l))),C(n,["request","contents"],a)}const o=w(e,["metadata"]);o!=null&&C(n,["metadata"],o);const s=w(e,["config"]);return s!=null&&C(n,["request","generationConfig"],XH(t,s,w(n,["request"],{}))),n}function tV(t){const e={},n=w(t,["response"]);n!=null&&C(e,["response"],YH(n));const i=w(t,["error"]);return i!=null&&C(e,["error"],i),e}function nV(t,e){const n={},i=w(t,["pageSize"]);e!==void 0&&i!=null&&C(e,["_query","pageSize"],i);const r=w(t,["pageToken"]);if(e!==void 0&&r!=null&&C(e,["_query","pageToken"],r),w(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function iV(t,e){const n={},i=w(t,["pageSize"]);e!==void 0&&i!=null&&C(e,["_query","pageSize"],i);const r=w(t,["pageToken"]);e!==void 0&&r!=null&&C(e,["_query","pageToken"],r);const o=w(t,["filter"]);return e!==void 0&&o!=null&&C(e,["_query","filter"],o),n}function rV(t){const e={},n=w(t,["config"]);return n!=null&&nV(n,e),e}function oV(t){const e={},n=w(t,["config"]);return n!=null&&iV(n,e),e}function sV(t){const e={},n=w(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const i=w(t,["nextPageToken"]);i!=null&&C(e,["nextPageToken"],i);const r=w(t,["operations"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>f0(s))),C(e,["batchJobs"],o)}return e}function aV(t){const e={},n=w(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const i=w(t,["nextPageToken"]);i!=null&&C(e,["nextPageToken"],i);const r=w(t,["batchPredictionJobs"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>QT(s))),C(e,["batchJobs"],o)}return e}function lV(t){const e={},n=w(t,["functionCall"]);n!=null&&C(e,["functionCall"],n);const i=w(t,["codeExecutionResult"]);i!=null&&C(e,["codeExecutionResult"],i);const r=w(t,["executableCode"]);r!=null&&C(e,["executableCode"],r);const o=w(t,["fileData"]);o!=null&&C(e,["fileData"],jH(o));const s=w(t,["functionResponse"]);s!=null&&C(e,["functionResponse"],s);const a=w(t,["inlineData"]);a!=null&&C(e,["inlineData"],IH(a));const l=w(t,["text"]);l!=null&&C(e,["text"],l);const u=w(t,["thought"]);u!=null&&C(e,["thought"],u);const c=w(t,["thoughtSignature"]);c!=null&&C(e,["thoughtSignature"],c);const h=w(t,["videoMetadata"]);return h!=null&&C(e,["videoMetadata"],h),e}function uV(t){const e={},n=w(t,["category"]);if(n!=null&&C(e,["category"],n),w(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=w(t,["threshold"]);return i!=null&&C(e,["threshold"],i),e}function cV(t){const e={},n=w(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(h=>h)),C(e,["functionDeclarations"],c)}if(w(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=w(t,["googleSearchRetrieval"]);i!=null&&C(e,["googleSearchRetrieval"],i);const r=w(t,["computerUse"]);r!=null&&C(e,["computerUse"],r);const o=w(t,["fileSearch"]);o!=null&&C(e,["fileSearch"],o);const s=w(t,["codeExecution"]);if(s!=null&&C(e,["codeExecution"],s),w(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=w(t,["googleMaps"]);a!=null&&C(e,["googleMaps"],ZH(a));const l=w(t,["googleSearch"]);l!=null&&C(e,["googleSearch"],QH(l));const u=w(t,["urlContext"]);return u!=null&&C(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Fa;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Fa||(Fa={}));class sd{constructor(e,n,i,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,r)}init(e,n,i){var r,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!i||Object.keys(i).length===0?s={config:{}}:typeof i=="object"?s=Object.assign({},i):s=i,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(r=s.config)===null||r===void 0?void 0:r.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dV extends Ba{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new sd(Fa.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=KI(this.apiClient,e),i=n._url,r=Ie("{model}:batchGenerateContent",i),a=n.batch.inputConfig.requests,l=a.requests,u=[];for(const c of l){const h=Object.assign({},c);if(h.systemInstruction){const d=h.systemInstruction;delete h.systemInstruction;const f=h.request;f.systemInstruction=d,h.request=f}u.push(h)}return a.requests=u,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const i=n?Object.assign({},n):{},r=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${r}`),i.dest===void 0){const o=this.getGcsUri(e),s=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?i.dest=`${o.slice(0,-6)}/dest`:i.dest=`${o}_dest_${r}`;else if(s)i.dest=`${s}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var n,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=MH(this.apiClient,e);return a=Ie("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),s.then(c=>QT(c))}else{const u=KI(this.apiClient,e);return a=Ie("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>f0(c))}}async createEmbeddingsInternal(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=BH(this.apiClient,e);return o=Ie("{model}:asyncBatchEmbedContent",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>f0(l))}}async get(e){var n,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=JH(this.apiClient,e);return a=Ie("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),s.then(c=>QT(c))}else{const u=KH(this.apiClient,e);return a=Ie("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>f0(c))}}async cancel(e){var n,i,r,o;let s="",a={};if(this.apiClient.isVertexAI()){const l=NH(this.apiClient,e);s=Ie("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const l=FH(this.apiClient,e);s=Ie("batches/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=oV(e);return a=Ie("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=aV(c),d=new GI;return Object.assign(d,h),d})}else{const u=rV(e);return a=Ie("batches",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=sV(c),d=new GI;return Object.assign(d,h),d})}}async delete(e){var n,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=WH(this.apiClient,e);return a=Ie("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>zH(c))}else{const u=qH(this.apiClient,e);return a=Ie("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>$H(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hV(t){const e={},n=w(t,["data"]);if(n!=null&&C(e,["data"],n),w(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=w(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}function JI(t){const e={},n=w(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>RV(o))),C(e,["parts"],r)}const i=w(t,["role"]);return i!=null&&C(e,["role"],i),e}function fV(t,e){const n={},i=w(t,["ttl"]);e!==void 0&&i!=null&&C(e,["ttl"],i);const r=w(t,["expireTime"]);e!==void 0&&r!=null&&C(e,["expireTime"],r);const o=w(t,["displayName"]);e!==void 0&&o!=null&&C(e,["displayName"],o);const s=w(t,["contents"]);if(e!==void 0&&s!=null){let c=Zr(s);Array.isArray(c)&&(c=c.map(h=>JI(h))),C(e,["contents"],c)}const a=w(t,["systemInstruction"]);e!==void 0&&a!=null&&C(e,["systemInstruction"],JI(li(a)));const l=w(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>UV(h))),C(e,["tools"],c)}const u=w(t,["toolConfig"]);if(e!==void 0&&u!=null&&C(e,["toolConfig"],u),w(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function pV(t,e){const n={},i=w(t,["ttl"]);e!==void 0&&i!=null&&C(e,["ttl"],i);const r=w(t,["expireTime"]);e!==void 0&&r!=null&&C(e,["expireTime"],r);const o=w(t,["displayName"]);e!==void 0&&o!=null&&C(e,["displayName"],o);const s=w(t,["contents"]);if(e!==void 0&&s!=null){let h=Zr(s);Array.isArray(h)&&(h=h.map(d=>d)),C(e,["contents"],h)}const a=w(t,["systemInstruction"]);e!==void 0&&a!=null&&C(e,["systemInstruction"],li(a));const l=w(t,["tools"]);if(e!==void 0&&l!=null){let h=l;Array.isArray(h)&&(h=h.map(d=>LV(d))),C(e,["tools"],h)}const u=w(t,["toolConfig"]);e!==void 0&&u!=null&&C(e,["toolConfig"],u);const c=w(t,["kmsKeyName"]);return e!==void 0&&c!=null&&C(e,["encryption_spec","kmsKeyName"],c),n}function gV(t,e){const n={},i=w(e,["model"]);i!=null&&C(n,["model"],VP(t,i));const r=w(e,["config"]);return r!=null&&fV(r,n),n}function mV(t,e){const n={},i=w(e,["model"]);i!=null&&C(n,["model"],VP(t,i));const r=w(e,["config"]);return r!=null&&pV(r,n),n}function yV(t,e){const n={},i=w(e,["name"]);return i!=null&&C(n,["_url","name"],qa(t,i)),n}function vV(t,e){const n={},i=w(e,["name"]);return i!=null&&C(n,["_url","name"],qa(t,i)),n}function bV(t){const e={},n=w(t,["sdkHttpResponse"]);return n!=null&&C(e,["sdkHttpResponse"],n),e}function _V(t){const e={},n=w(t,["sdkHttpResponse"]);return n!=null&&C(e,["sdkHttpResponse"],n),e}function xV(t){const e={};if(w(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=w(t,["fileUri"]);n!=null&&C(e,["fileUri"],n);const i=w(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}function wV(t){const e={};if(w(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=w(t,["description"]);n!=null&&C(e,["description"],n);const i=w(t,["name"]);i!=null&&C(e,["name"],i);const r=w(t,["parameters"]);r!=null&&C(e,["parameters"],r);const o=w(t,["parametersJsonSchema"]);o!=null&&C(e,["parametersJsonSchema"],o);const s=w(t,["response"]);s!=null&&C(e,["response"],s);const a=w(t,["responseJsonSchema"]);return a!=null&&C(e,["responseJsonSchema"],a),e}function TV(t,e){const n={},i=w(e,["name"]);return i!=null&&C(n,["_url","name"],qa(t,i)),n}function CV(t,e){const n={},i=w(e,["name"]);return i!=null&&C(n,["_url","name"],qa(t,i)),n}function EV(t){const e={};if(w(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=w(t,["enableWidget"]);return n!=null&&C(e,["enableWidget"],n),e}function AV(t){const e={};if(w(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(w(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=w(t,["timeRangeFilter"]);return n!=null&&C(e,["timeRangeFilter"],n),e}function SV(t,e){const n={},i=w(t,["pageSize"]);e!==void 0&&i!=null&&C(e,["_query","pageSize"],i);const r=w(t,["pageToken"]);return e!==void 0&&r!=null&&C(e,["_query","pageToken"],r),n}function DV(t,e){const n={},i=w(t,["pageSize"]);e!==void 0&&i!=null&&C(e,["_query","pageSize"],i);const r=w(t,["pageToken"]);return e!==void 0&&r!=null&&C(e,["_query","pageToken"],r),n}function kV(t){const e={},n=w(t,["config"]);return n!=null&&SV(n,e),e}function IV(t){const e={},n=w(t,["config"]);return n!=null&&DV(n,e),e}function FV(t){const e={},n=w(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const i=w(t,["nextPageToken"]);i!=null&&C(e,["nextPageToken"],i);const r=w(t,["cachedContents"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),C(e,["cachedContents"],o)}return e}function NV(t){const e={},n=w(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const i=w(t,["nextPageToken"]);i!=null&&C(e,["nextPageToken"],i);const r=w(t,["cachedContents"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),C(e,["cachedContents"],o)}return e}function RV(t){const e={},n=w(t,["functionCall"]);n!=null&&C(e,["functionCall"],n);const i=w(t,["codeExecutionResult"]);i!=null&&C(e,["codeExecutionResult"],i);const r=w(t,["executableCode"]);r!=null&&C(e,["executableCode"],r);const o=w(t,["fileData"]);o!=null&&C(e,["fileData"],xV(o));const s=w(t,["functionResponse"]);s!=null&&C(e,["functionResponse"],s);const a=w(t,["inlineData"]);a!=null&&C(e,["inlineData"],hV(a));const l=w(t,["text"]);l!=null&&C(e,["text"],l);const u=w(t,["thought"]);u!=null&&C(e,["thought"],u);const c=w(t,["thoughtSignature"]);c!=null&&C(e,["thoughtSignature"],c);const h=w(t,["videoMetadata"]);return h!=null&&C(e,["videoMetadata"],h),e}function UV(t){const e={},n=w(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(h=>h)),C(e,["functionDeclarations"],c)}if(w(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=w(t,["googleSearchRetrieval"]);i!=null&&C(e,["googleSearchRetrieval"],i);const r=w(t,["computerUse"]);r!=null&&C(e,["computerUse"],r);const o=w(t,["fileSearch"]);o!=null&&C(e,["fileSearch"],o);const s=w(t,["codeExecution"]);if(s!=null&&C(e,["codeExecution"],s),w(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=w(t,["googleMaps"]);a!=null&&C(e,["googleMaps"],EV(a));const l=w(t,["googleSearch"]);l!=null&&C(e,["googleSearch"],AV(l));const u=w(t,["urlContext"]);return u!=null&&C(e,["urlContext"],u),e}function LV(t){const e={},n=w(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(d=>wV(d))),C(e,["functionDeclarations"],h)}const i=w(t,["retrieval"]);i!=null&&C(e,["retrieval"],i);const r=w(t,["googleSearchRetrieval"]);r!=null&&C(e,["googleSearchRetrieval"],r);const o=w(t,["computerUse"]);if(o!=null&&C(e,["computerUse"],o),w(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=w(t,["codeExecution"]);s!=null&&C(e,["codeExecution"],s);const a=w(t,["enterpriseWebSearch"]);a!=null&&C(e,["enterpriseWebSearch"],a);const l=w(t,["googleMaps"]);l!=null&&C(e,["googleMaps"],l);const u=w(t,["googleSearch"]);u!=null&&C(e,["googleSearch"],u);const c=w(t,["urlContext"]);return c!=null&&C(e,["urlContext"],c),e}function PV(t,e){const n={},i=w(t,["ttl"]);e!==void 0&&i!=null&&C(e,["ttl"],i);const r=w(t,["expireTime"]);return e!==void 0&&r!=null&&C(e,["expireTime"],r),n}function MV(t,e){const n={},i=w(t,["ttl"]);e!==void 0&&i!=null&&C(e,["ttl"],i);const r=w(t,["expireTime"]);return e!==void 0&&r!=null&&C(e,["expireTime"],r),n}function OV(t,e){const n={},i=w(e,["name"]);i!=null&&C(n,["_url","name"],qa(t,i));const r=w(e,["config"]);return r!=null&&PV(r,n),n}function BV(t,e){const n={},i=w(e,["name"]);i!=null&&C(n,["_url","name"],qa(t,i));const r=w(e,["config"]);return r!=null&&MV(r,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qV extends Ba{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new sd(Fa.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=mV(this.apiClient,e);return a=Ie("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=gV(this.apiClient,e);return a=Ie("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async get(e){var n,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=CV(this.apiClient,e);return a=Ie("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=TV(this.apiClient,e);return a=Ie("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(e){var n,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=vV(this.apiClient,e);return a=Ie("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=_V(c),d=new HI;return Object.assign(d,h),d})}else{const u=yV(this.apiClient,e);return a=Ie("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=bV(c),d=new HI;return Object.assign(d,h),d})}}async update(e){var n,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=BV(this.apiClient,e);return a=Ie("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=OV(this.apiClient,e);return a=Ie("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async listInternal(e){var n,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=IV(e);return a=Ie("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=NV(c),d=new VI;return Object.assign(d,h),d})}else{const u=kV(e);return a=Ie("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=FV(c),d=new VI;return Object.assign(d,h),d})}}}function ZI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nt(t){return this instanceof Nt?(this.v=t,this):new Nt(t)}function rh(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(f){return function(y){return Promise.resolve(y).then(f,h)}}function a(f,y){i[f]&&(r[f]=function(m){return new Promise(function(v,g){o.push([f,m,v,g])>1||l(f,m)})},y&&(r[f]=y(r[f])))}function l(f,y){try{u(i[f](y))}catch(m){d(o[0][3],m)}}function u(f){f.value instanceof Nt?Promise.resolve(f.value.v).then(c,h):d(o[0][2],f)}function c(f){l("next",f)}function h(f){l("throw",f)}function d(f,y){f(y),o.shift(),o.length&&l(o[0][0],o[0][1])}}function _g(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ZI=="function"?ZI(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WV(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:rM(n)}function rM(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function $V(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function QI(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const r=[];let o=!0;for(;i<n&&t[i].role==="model";)r.push(t[i]),o&&!rM(t[i])&&(o=!1),i++;o?e.push(...r):e.pop()}return e}class zV{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new HV(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class HV{constructor(e,n,i,r={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=r,this.history=o,this.sendPromise=Promise.resolve(),$V(o)}async sendMessage(e){var n;await this.sendPromise;const i=li(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,a;const l=await r,u=(s=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,c=l.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let d=[];c!=null&&(d=(a=c.slice(h))!==null&&a!==void 0?a:[]);const f=u?[u]:[];this.recordHistory(i,f,d)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var n;await this.sendPromise;const i=li(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const o=await r;return this.processStreamResponse(o,i)}getHistory(e=!1){const n=e?QI(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var i,r;return rh(this,arguments,function*(){var s,a,l,u;const c=[];try{for(var h=!0,d=_g(e),f;f=yield Nt(d.next()),s=f.done,!s;h=!0){u=f.value,h=!1;const y=u;if(WV(y)){const m=(r=(i=y.candidates)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.content;m!==void 0&&c.push(m)}yield yield Nt(y)}}catch(y){a={error:y}}finally{try{!h&&!s&&(l=d.return)&&(yield Nt(l.call(d)))}finally{if(a)throw a.error}}this.recordHistory(n,c)})}recordHistory(e,n,i){let r=[];n.length>0&&n.every(o=>o.role!==void 0)?r=n:r.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...QI(i)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class a_ extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,a_.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VV(t){const e={},n=w(t,["file"]);return n!=null&&C(e,["file"],n),e}function GV(t){const e={},n=w(t,["sdkHttpResponse"]);return n!=null&&C(e,["sdkHttpResponse"],n),e}function jV(t){const e={},n=w(t,["name"]);return n!=null&&C(e,["_url","file"],JP(n)),e}function XV(t){const e={},n=w(t,["sdkHttpResponse"]);return n!=null&&C(e,["sdkHttpResponse"],n),e}function YV(t){const e={},n=w(t,["name"]);return n!=null&&C(e,["_url","file"],JP(n)),e}function KV(t,e){const n={},i=w(t,["pageSize"]);e!==void 0&&i!=null&&C(e,["_query","pageSize"],i);const r=w(t,["pageToken"]);return e!==void 0&&r!=null&&C(e,["_query","pageToken"],r),n}function JV(t){const e={},n=w(t,["config"]);return n!=null&&KV(n,e),e}function ZV(t){const e={},n=w(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const i=w(t,["nextPageToken"]);i!=null&&C(e,["nextPageToken"],i);const r=w(t,["files"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),C(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let QV=class extends Ba{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new sd(Fa.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=JV(e);return o=Ie("files",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),r.then(l=>{const u=ZV(l),c=new cH;return Object.assign(c,u),c})}}async createInternal(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=VV(e);return o=Ie("upload/v1beta/files",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=GV(l),c=new dH;return Object.assign(c,u),c})}}async get(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=YV(e);return o=Ie("files/{file}",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async delete(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=jV(e);return o=Ie("files/{file}",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),r.then(l=>{const u=XV(l),c=new hH;return Object.assign(c,u),c})}}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function p0(t){const e={},n=w(t,["data"]);if(n!=null&&C(e,["data"],n),w(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=w(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}function eG(t){const e={},n=w(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>gG(o))),C(e,["parts"],r)}const i=w(t,["role"]);return i!=null&&C(e,["role"],i),e}function tG(t){const e={};if(w(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=w(t,["fileUri"]);n!=null&&C(e,["fileUri"],n);const i=w(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}function nG(t){const e={};if(w(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=w(t,["description"]);n!=null&&C(e,["description"],n);const i=w(t,["name"]);i!=null&&C(e,["name"],i);const r=w(t,["parameters"]);r!=null&&C(e,["parameters"],r);const o=w(t,["parametersJsonSchema"]);o!=null&&C(e,["parametersJsonSchema"],o);const s=w(t,["response"]);s!=null&&C(e,["response"],s);const a=w(t,["responseJsonSchema"]);return a!=null&&C(e,["responseJsonSchema"],a),e}function iG(t){const e={},n=w(t,["modelSelectionConfig"]);n!=null&&C(e,["modelConfig"],n);const i=w(t,["responseJsonSchema"]);i!=null&&C(e,["responseJsonSchema"],i);const r=w(t,["audioTimestamp"]);r!=null&&C(e,["audioTimestamp"],r);const o=w(t,["candidateCount"]);o!=null&&C(e,["candidateCount"],o);const s=w(t,["enableAffectiveDialog"]);s!=null&&C(e,["enableAffectiveDialog"],s);const a=w(t,["frequencyPenalty"]);a!=null&&C(e,["frequencyPenalty"],a);const l=w(t,["logprobs"]);l!=null&&C(e,["logprobs"],l);const u=w(t,["maxOutputTokens"]);u!=null&&C(e,["maxOutputTokens"],u);const c=w(t,["mediaResolution"]);c!=null&&C(e,["mediaResolution"],c);const h=w(t,["presencePenalty"]);h!=null&&C(e,["presencePenalty"],h);const d=w(t,["responseLogprobs"]);d!=null&&C(e,["responseLogprobs"],d);const f=w(t,["responseMimeType"]);f!=null&&C(e,["responseMimeType"],f);const y=w(t,["responseModalities"]);y!=null&&C(e,["responseModalities"],y);const m=w(t,["responseSchema"]);m!=null&&C(e,["responseSchema"],m);const v=w(t,["routingConfig"]);v!=null&&C(e,["routingConfig"],v);const g=w(t,["seed"]);g!=null&&C(e,["seed"],g);const p=w(t,["speechConfig"]);p!=null&&C(e,["speechConfig"],oM(p));const _=w(t,["stopSequences"]);_!=null&&C(e,["stopSequences"],_);const x=w(t,["temperature"]);x!=null&&C(e,["temperature"],x);const T=w(t,["thinkingConfig"]);T!=null&&C(e,["thinkingConfig"],T);const A=w(t,["topK"]);A!=null&&C(e,["topK"],A);const E=w(t,["topP"]);if(E!=null&&C(e,["topP"],E),w(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function rG(t){const e={};if(w(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=w(t,["enableWidget"]);return n!=null&&C(e,["enableWidget"],n),e}function oG(t){const e={};if(w(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(w(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=w(t,["timeRangeFilter"]);return n!=null&&C(e,["timeRangeFilter"],n),e}function sG(t,e){const n={},i=w(t,["generationConfig"]);e!==void 0&&i!=null&&C(e,["setup","generationConfig"],i);const r=w(t,["responseModalities"]);e!==void 0&&r!=null&&C(e,["setup","generationConfig","responseModalities"],r);const o=w(t,["temperature"]);e!==void 0&&o!=null&&C(e,["setup","generationConfig","temperature"],o);const s=w(t,["topP"]);e!==void 0&&s!=null&&C(e,["setup","generationConfig","topP"],s);const a=w(t,["topK"]);e!==void 0&&a!=null&&C(e,["setup","generationConfig","topK"],a);const l=w(t,["maxOutputTokens"]);e!==void 0&&l!=null&&C(e,["setup","generationConfig","maxOutputTokens"],l);const u=w(t,["mediaResolution"]);e!==void 0&&u!=null&&C(e,["setup","generationConfig","mediaResolution"],u);const c=w(t,["seed"]);e!==void 0&&c!=null&&C(e,["setup","generationConfig","seed"],c);const h=w(t,["speechConfig"]);e!==void 0&&h!=null&&C(e,["setup","generationConfig","speechConfig"],iS(h));const d=w(t,["thinkingConfig"]);e!==void 0&&d!=null&&C(e,["setup","generationConfig","thinkingConfig"],d);const f=w(t,["enableAffectiveDialog"]);e!==void 0&&f!=null&&C(e,["setup","generationConfig","enableAffectiveDialog"],f);const y=w(t,["systemInstruction"]);e!==void 0&&y!=null&&C(e,["setup","systemInstruction"],eG(li(y)));const m=w(t,["tools"]);if(e!==void 0&&m!=null){let A=Xf(m);Array.isArray(A)&&(A=A.map(E=>yG(jf(E)))),C(e,["setup","tools"],A)}const v=w(t,["sessionResumption"]);e!==void 0&&v!=null&&C(e,["setup","sessionResumption"],mG(v));const g=w(t,["inputAudioTranscription"]);e!==void 0&&g!=null&&C(e,["setup","inputAudioTranscription"],g);const p=w(t,["outputAudioTranscription"]);e!==void 0&&p!=null&&C(e,["setup","outputAudioTranscription"],p);const _=w(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&C(e,["setup","realtimeInputConfig"],_);const x=w(t,["contextWindowCompression"]);e!==void 0&&x!=null&&C(e,["setup","contextWindowCompression"],x);const T=w(t,["proactivity"]);return e!==void 0&&T!=null&&C(e,["setup","proactivity"],T),n}function aG(t,e){const n={},i=w(t,["generationConfig"]);e!==void 0&&i!=null&&C(e,["setup","generationConfig"],iG(i));const r=w(t,["responseModalities"]);e!==void 0&&r!=null&&C(e,["setup","generationConfig","responseModalities"],r);const o=w(t,["temperature"]);e!==void 0&&o!=null&&C(e,["setup","generationConfig","temperature"],o);const s=w(t,["topP"]);e!==void 0&&s!=null&&C(e,["setup","generationConfig","topP"],s);const a=w(t,["topK"]);e!==void 0&&a!=null&&C(e,["setup","generationConfig","topK"],a);const l=w(t,["maxOutputTokens"]);e!==void 0&&l!=null&&C(e,["setup","generationConfig","maxOutputTokens"],l);const u=w(t,["mediaResolution"]);e!==void 0&&u!=null&&C(e,["setup","generationConfig","mediaResolution"],u);const c=w(t,["seed"]);e!==void 0&&c!=null&&C(e,["setup","generationConfig","seed"],c);const h=w(t,["speechConfig"]);e!==void 0&&h!=null&&C(e,["setup","generationConfig","speechConfig"],oM(iS(h)));const d=w(t,["thinkingConfig"]);e!==void 0&&d!=null&&C(e,["setup","generationConfig","thinkingConfig"],d);const f=w(t,["enableAffectiveDialog"]);e!==void 0&&f!=null&&C(e,["setup","generationConfig","enableAffectiveDialog"],f);const y=w(t,["systemInstruction"]);e!==void 0&&y!=null&&C(e,["setup","systemInstruction"],li(y));const m=w(t,["tools"]);if(e!==void 0&&m!=null){let A=Xf(m);Array.isArray(A)&&(A=A.map(E=>vG(jf(E)))),C(e,["setup","tools"],A)}const v=w(t,["sessionResumption"]);e!==void 0&&v!=null&&C(e,["setup","sessionResumption"],v);const g=w(t,["inputAudioTranscription"]);e!==void 0&&g!=null&&C(e,["setup","inputAudioTranscription"],g);const p=w(t,["outputAudioTranscription"]);e!==void 0&&p!=null&&C(e,["setup","outputAudioTranscription"],p);const _=w(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&C(e,["setup","realtimeInputConfig"],_);const x=w(t,["contextWindowCompression"]);e!==void 0&&x!=null&&C(e,["setup","contextWindowCompression"],x);const T=w(t,["proactivity"]);return e!==void 0&&T!=null&&C(e,["setup","proactivity"],T),n}function lG(t,e){const n={},i=w(e,["model"]);i!=null&&C(n,["setup","model"],ft(t,i));const r=w(e,["config"]);return r!=null&&C(n,["config"],sG(r,n)),n}function uG(t,e){const n={},i=w(e,["model"]);i!=null&&C(n,["setup","model"],ft(t,i));const r=w(e,["config"]);return r!=null&&C(n,["config"],aG(r,n)),n}function cG(t){const e={},n=w(t,["musicGenerationConfig"]);return n!=null&&C(e,["musicGenerationConfig"],n),e}function dG(t){const e={},n=w(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r)),C(e,["weightedPrompts"],i)}return e}function hG(t){const e={},n=w(t,["media"]);if(n!=null){let u=GP(n);Array.isArray(u)&&(u=u.map(c=>p0(c))),C(e,["mediaChunks"],u)}const i=w(t,["audio"]);i!=null&&C(e,["audio"],p0(XP(i)));const r=w(t,["audioStreamEnd"]);r!=null&&C(e,["audioStreamEnd"],r);const o=w(t,["video"]);o!=null&&C(e,["video"],p0(jP(o)));const s=w(t,["text"]);s!=null&&C(e,["text"],s);const a=w(t,["activityStart"]);a!=null&&C(e,["activityStart"],a);const l=w(t,["activityEnd"]);return l!=null&&C(e,["activityEnd"],l),e}function fG(t){const e={},n=w(t,["media"]);if(n!=null){let u=GP(n);Array.isArray(u)&&(u=u.map(c=>c)),C(e,["mediaChunks"],u)}const i=w(t,["audio"]);i!=null&&C(e,["audio"],XP(i));const r=w(t,["audioStreamEnd"]);r!=null&&C(e,["audioStreamEnd"],r);const o=w(t,["video"]);o!=null&&C(e,["video"],jP(o));const s=w(t,["text"]);s!=null&&C(e,["text"],s);const a=w(t,["activityStart"]);a!=null&&C(e,["activityStart"],a);const l=w(t,["activityEnd"]);return l!=null&&C(e,["activityEnd"],l),e}function pG(t){const e={},n=w(t,["setupComplete"]);n!=null&&C(e,["setupComplete"],n);const i=w(t,["serverContent"]);i!=null&&C(e,["serverContent"],i);const r=w(t,["toolCall"]);r!=null&&C(e,["toolCall"],r);const o=w(t,["toolCallCancellation"]);o!=null&&C(e,["toolCallCancellation"],o);const s=w(t,["usageMetadata"]);s!=null&&C(e,["usageMetadata"],bG(s));const a=w(t,["goAway"]);a!=null&&C(e,["goAway"],a);const l=w(t,["sessionResumptionUpdate"]);return l!=null&&C(e,["sessionResumptionUpdate"],l),e}function gG(t){const e={},n=w(t,["functionCall"]);n!=null&&C(e,["functionCall"],n);const i=w(t,["codeExecutionResult"]);i!=null&&C(e,["codeExecutionResult"],i);const r=w(t,["executableCode"]);r!=null&&C(e,["executableCode"],r);const o=w(t,["fileData"]);o!=null&&C(e,["fileData"],tG(o));const s=w(t,["functionResponse"]);s!=null&&C(e,["functionResponse"],s);const a=w(t,["inlineData"]);a!=null&&C(e,["inlineData"],p0(a));const l=w(t,["text"]);l!=null&&C(e,["text"],l);const u=w(t,["thought"]);u!=null&&C(e,["thought"],u);const c=w(t,["thoughtSignature"]);c!=null&&C(e,["thoughtSignature"],c);const h=w(t,["videoMetadata"]);return h!=null&&C(e,["videoMetadata"],h),e}function mG(t){const e={},n=w(t,["handle"]);if(n!=null&&C(e,["handle"],n),w(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function oM(t){const e={},n=w(t,["languageCode"]);n!=null&&C(e,["languageCode"],n);const i=w(t,["voiceConfig"]);if(i!=null&&C(e,["voiceConfig"],i),w(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function yG(t){const e={},n=w(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(h=>h)),C(e,["functionDeclarations"],c)}if(w(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=w(t,["googleSearchRetrieval"]);i!=null&&C(e,["googleSearchRetrieval"],i);const r=w(t,["computerUse"]);r!=null&&C(e,["computerUse"],r);const o=w(t,["fileSearch"]);o!=null&&C(e,["fileSearch"],o);const s=w(t,["codeExecution"]);if(s!=null&&C(e,["codeExecution"],s),w(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=w(t,["googleMaps"]);a!=null&&C(e,["googleMaps"],rG(a));const l=w(t,["googleSearch"]);l!=null&&C(e,["googleSearch"],oG(l));const u=w(t,["urlContext"]);return u!=null&&C(e,["urlContext"],u),e}function vG(t){const e={},n=w(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(d=>nG(d))),C(e,["functionDeclarations"],h)}const i=w(t,["retrieval"]);i!=null&&C(e,["retrieval"],i);const r=w(t,["googleSearchRetrieval"]);r!=null&&C(e,["googleSearchRetrieval"],r);const o=w(t,["computerUse"]);if(o!=null&&C(e,["computerUse"],o),w(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=w(t,["codeExecution"]);s!=null&&C(e,["codeExecution"],s);const a=w(t,["enterpriseWebSearch"]);a!=null&&C(e,["enterpriseWebSearch"],a);const l=w(t,["googleMaps"]);l!=null&&C(e,["googleMaps"],l);const u=w(t,["googleSearch"]);u!=null&&C(e,["googleSearch"],u);const c=w(t,["urlContext"]);return c!=null&&C(e,["urlContext"],c),e}function bG(t){const e={},n=w(t,["promptTokenCount"]);n!=null&&C(e,["promptTokenCount"],n);const i=w(t,["cachedContentTokenCount"]);i!=null&&C(e,["cachedContentTokenCount"],i);const r=w(t,["candidatesTokenCount"]);r!=null&&C(e,["responseTokenCount"],r);const o=w(t,["toolUsePromptTokenCount"]);o!=null&&C(e,["toolUsePromptTokenCount"],o);const s=w(t,["thoughtsTokenCount"]);s!=null&&C(e,["thoughtsTokenCount"],s);const a=w(t,["totalTokenCount"]);a!=null&&C(e,["totalTokenCount"],a);const l=w(t,["promptTokensDetails"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(y=>y)),C(e,["promptTokensDetails"],f)}const u=w(t,["cacheTokensDetails"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(y=>y)),C(e,["cacheTokensDetails"],f)}const c=w(t,["candidatesTokensDetails"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(y=>y)),C(e,["responseTokensDetails"],f)}const h=w(t,["toolUsePromptTokensDetails"]);if(h!=null){let f=h;Array.isArray(f)&&(f=f.map(y=>y)),C(e,["toolUsePromptTokensDetails"],f)}const d=w(t,["trafficType"]);return d!=null&&C(e,["trafficType"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _G(t){const e={},n=w(t,["data"]);if(n!=null&&C(e,["data"],n),w(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=w(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}function xG(t){const e={},n=w(t,["content"]);n!=null&&C(e,["content"],n);const i=w(t,["citationMetadata"]);i!=null&&C(e,["citationMetadata"],wG(i));const r=w(t,["tokenCount"]);r!=null&&C(e,["tokenCount"],r);const o=w(t,["finishReason"]);o!=null&&C(e,["finishReason"],o);const s=w(t,["avgLogprobs"]);s!=null&&C(e,["avgLogprobs"],s);const a=w(t,["groundingMetadata"]);a!=null&&C(e,["groundingMetadata"],a);const l=w(t,["index"]);l!=null&&C(e,["index"],l);const u=w(t,["logprobsResult"]);u!=null&&C(e,["logprobsResult"],u);const c=w(t,["safetyRatings"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(f=>f)),C(e,["safetyRatings"],d)}const h=w(t,["urlContextMetadata"]);return h!=null&&C(e,["urlContextMetadata"],h),e}function wG(t){const e={},n=w(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r)),C(e,["citations"],i)}return e}function TG(t,e){const n={},i=w(e,["model"]);i!=null&&C(n,["_url","model"],ft(t,i));const r=w(e,["contents"]);if(r!=null){let o=Zr(r);Array.isArray(o)&&(o=o.map(s=>s)),C(n,["contents"],o)}return n}function CG(t){const e={},n=w(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const i=w(t,["tokensInfo"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>o)),C(e,["tokensInfo"],r)}return e}function EG(t){const e={},n=w(t,["values"]);n!=null&&C(e,["values"],n);const i=w(t,["statistics"]);return i!=null&&C(e,["statistics"],AG(i)),e}function AG(t){const e={},n=w(t,["truncated"]);n!=null&&C(e,["truncated"],n);const i=w(t,["token_count"]);return i!=null&&C(e,["tokenCount"],i),e}function l_(t){const e={},n=w(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>Fj(o))),C(e,["parts"],r)}const i=w(t,["role"]);return i!=null&&C(e,["role"],i),e}function SG(t){const e={},n=w(t,["controlType"]);n!=null&&C(e,["controlType"],n);const i=w(t,["enableControlImageComputation"]);return i!=null&&C(e,["computeControl"],i),e}function DG(t){const e={};if(w(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(w(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(w(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function kG(t,e){const n={},i=w(t,["systemInstruction"]);e!==void 0&&i!=null&&C(e,["systemInstruction"],li(i));const r=w(t,["tools"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(a=>cM(a))),C(e,["tools"],s)}const o=w(t,["generationConfig"]);return e!==void 0&&o!=null&&C(e,["generationConfig"],vj(o)),n}function IG(t,e){const n={},i=w(e,["model"]);i!=null&&C(n,["_url","model"],ft(t,i));const r=w(e,["contents"]);if(r!=null){let s=Zr(r);Array.isArray(s)&&(s=s.map(a=>l_(a))),C(n,["contents"],s)}const o=w(e,["config"]);return o!=null&&DG(o),n}function FG(t,e){const n={},i=w(e,["model"]);i!=null&&C(n,["_url","model"],ft(t,i));const r=w(e,["contents"]);if(r!=null){let s=Zr(r);Array.isArray(s)&&(s=s.map(a=>a)),C(n,["contents"],s)}const o=w(e,["config"]);return o!=null&&kG(o,n),n}function NG(t){const e={},n=w(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const i=w(t,["totalTokens"]);i!=null&&C(e,["totalTokens"],i);const r=w(t,["cachedContentTokenCount"]);return r!=null&&C(e,["cachedContentTokenCount"],r),e}function RG(t){const e={},n=w(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const i=w(t,["totalTokens"]);return i!=null&&C(e,["totalTokens"],i),e}function UG(t,e){const n={},i=w(e,["model"]);return i!=null&&C(n,["_url","name"],ft(t,i)),n}function LG(t,e){const n={},i=w(e,["model"]);return i!=null&&C(n,["_url","name"],ft(t,i)),n}function PG(t){const e={},n=w(t,["sdkHttpResponse"]);return n!=null&&C(e,["sdkHttpResponse"],n),e}function MG(t){const e={},n=w(t,["sdkHttpResponse"]);return n!=null&&C(e,["sdkHttpResponse"],n),e}function OG(t,e){const n={},i=w(t,["outputGcsUri"]);e!==void 0&&i!=null&&C(e,["parameters","storageUri"],i);const r=w(t,["negativePrompt"]);e!==void 0&&r!=null&&C(e,["parameters","negativePrompt"],r);const o=w(t,["numberOfImages"]);e!==void 0&&o!=null&&C(e,["parameters","sampleCount"],o);const s=w(t,["aspectRatio"]);e!==void 0&&s!=null&&C(e,["parameters","aspectRatio"],s);const a=w(t,["guidanceScale"]);e!==void 0&&a!=null&&C(e,["parameters","guidanceScale"],a);const l=w(t,["seed"]);e!==void 0&&l!=null&&C(e,["parameters","seed"],l);const u=w(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&C(e,["parameters","safetySetting"],u);const c=w(t,["personGeneration"]);e!==void 0&&c!=null&&C(e,["parameters","personGeneration"],c);const h=w(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&C(e,["parameters","includeSafetyAttributes"],h);const d=w(t,["includeRaiReason"]);e!==void 0&&d!=null&&C(e,["parameters","includeRaiReason"],d);const f=w(t,["language"]);e!==void 0&&f!=null&&C(e,["parameters","language"],f);const y=w(t,["outputMimeType"]);e!==void 0&&y!=null&&C(e,["parameters","outputOptions","mimeType"],y);const m=w(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&C(e,["parameters","outputOptions","compressionQuality"],m);const v=w(t,["addWatermark"]);e!==void 0&&v!=null&&C(e,["parameters","addWatermark"],v);const g=w(t,["labels"]);e!==void 0&&g!=null&&C(e,["labels"],g);const p=w(t,["editMode"]);e!==void 0&&p!=null&&C(e,["parameters","editMode"],p);const _=w(t,["baseSteps"]);return e!==void 0&&_!=null&&C(e,["parameters","editConfig","baseSteps"],_),n}function BG(t,e){const n={},i=w(e,["model"]);i!=null&&C(n,["_url","model"],ft(t,i));const r=w(e,["prompt"]);r!=null&&C(n,["instances[0]","prompt"],r);const o=w(e,["referenceImages"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>Mj(l))),C(n,["instances[0]","referenceImages"],a)}const s=w(e,["config"]);return s!=null&&OG(s,n),n}function qG(t){const e={},n=w(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const i=w(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>u_(o))),C(e,["generatedImages"],r)}return e}function WG(t,e){const n={},i=w(t,["taskType"]);e!==void 0&&i!=null&&C(e,["requests[]","taskType"],i);const r=w(t,["title"]);e!==void 0&&r!=null&&C(e,["requests[]","title"],r);const o=w(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&C(e,["requests[]","outputDimensionality"],o),w(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(w(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function $G(t,e){const n={},i=w(t,["taskType"]);e!==void 0&&i!=null&&C(e,["instances[]","task_type"],i);const r=w(t,["title"]);e!==void 0&&r!=null&&C(e,["instances[]","title"],r);const o=w(t,["outputDimensionality"]);e!==void 0&&o!=null&&C(e,["parameters","outputDimensionality"],o);const s=w(t,["mimeType"]);e!==void 0&&s!=null&&C(e,["instances[]","mimeType"],s);const a=w(t,["autoTruncate"]);return e!==void 0&&a!=null&&C(e,["parameters","autoTruncate"],a),n}function zG(t,e){const n={},i=w(e,["model"]);i!=null&&C(n,["_url","model"],ft(t,i));const r=w(e,["contents"]);if(r!=null){let a=eS(t,r);Array.isArray(a)&&(a=a.map(l=>l)),C(n,["requests[]","content"],a)}const o=w(e,["config"]);o!=null&&WG(o,n);const s=w(e,["model"]);return s!==void 0&&C(n,["requests[]","model"],ft(t,s)),n}function HG(t,e){const n={},i=w(e,["model"]);i!=null&&C(n,["_url","model"],ft(t,i));const r=w(e,["contents"]);if(r!=null){let s=eS(t,r);Array.isArray(s)&&(s=s.map(a=>a)),C(n,["instances[]","content"],s)}const o=w(e,["config"]);return o!=null&&$G(o,n),n}function VG(t){const e={},n=w(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const i=w(t,["embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),C(e,["embeddings"],o)}const r=w(t,["metadata"]);return r!=null&&C(e,["metadata"],r),e}function GG(t){const e={},n=w(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const i=w(t,["predictions[]","embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>EG(s))),C(e,["embeddings"],o)}const r=w(t,["metadata"]);return r!=null&&C(e,["metadata"],r),e}function jG(t){const e={},n=w(t,["endpoint"]);n!=null&&C(e,["name"],n);const i=w(t,["deployedModelId"]);return i!=null&&C(e,["deployedModelId"],i),e}function XG(t){const e={};if(w(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=w(t,["fileUri"]);n!=null&&C(e,["fileUri"],n);const i=w(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}function YG(t){const e={};if(w(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=w(t,["description"]);n!=null&&C(e,["description"],n);const i=w(t,["name"]);i!=null&&C(e,["name"],i);const r=w(t,["parameters"]);r!=null&&C(e,["parameters"],r);const o=w(t,["parametersJsonSchema"]);o!=null&&C(e,["parametersJsonSchema"],o);const s=w(t,["response"]);s!=null&&C(e,["response"],s);const a=w(t,["responseJsonSchema"]);return a!=null&&C(e,["responseJsonSchema"],a),e}function KG(t,e,n){const i={},r=w(e,["systemInstruction"]);n!==void 0&&r!=null&&C(n,["systemInstruction"],l_(li(r)));const o=w(e,["temperature"]);o!=null&&C(i,["temperature"],o);const s=w(e,["topP"]);s!=null&&C(i,["topP"],s);const a=w(e,["topK"]);a!=null&&C(i,["topK"],a);const l=w(e,["candidateCount"]);l!=null&&C(i,["candidateCount"],l);const u=w(e,["maxOutputTokens"]);u!=null&&C(i,["maxOutputTokens"],u);const c=w(e,["stopSequences"]);c!=null&&C(i,["stopSequences"],c);const h=w(e,["responseLogprobs"]);h!=null&&C(i,["responseLogprobs"],h);const d=w(e,["logprobs"]);d!=null&&C(i,["logprobs"],d);const f=w(e,["presencePenalty"]);f!=null&&C(i,["presencePenalty"],f);const y=w(e,["frequencyPenalty"]);y!=null&&C(i,["frequencyPenalty"],y);const m=w(e,["seed"]);m!=null&&C(i,["seed"],m);const v=w(e,["responseMimeType"]);v!=null&&C(i,["responseMimeType"],v);const g=w(e,["responseSchema"]);g!=null&&C(i,["responseSchema"],tS(g));const p=w(e,["responseJsonSchema"]);if(p!=null&&C(i,["responseJsonSchema"],p),w(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(w(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=w(e,["safetySettings"]);if(n!==void 0&&_!=null){let S=_;Array.isArray(S)&&(S=S.map(L=>Oj(L))),C(n,["safetySettings"],S)}const x=w(e,["tools"]);if(n!==void 0&&x!=null){let S=Xf(x);Array.isArray(S)&&(S=S.map(L=>Hj(jf(L)))),C(n,["tools"],S)}const T=w(e,["toolConfig"]);if(n!==void 0&&T!=null&&C(n,["toolConfig"],T),w(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=w(e,["cachedContent"]);n!==void 0&&A!=null&&C(n,["cachedContent"],qa(t,A));const E=w(e,["responseModalities"]);E!=null&&C(i,["responseModalities"],E);const k=w(e,["mediaResolution"]);k!=null&&C(i,["mediaResolution"],k);const U=w(e,["speechConfig"]);if(U!=null&&C(i,["speechConfig"],nS(U)),w(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=w(e,["thinkingConfig"]);N!=null&&C(i,["thinkingConfig"],N);const I=w(e,["imageConfig"]);return I!=null&&C(i,["imageConfig"],I),i}function JG(t,e,n){const i={},r=w(e,["systemInstruction"]);n!==void 0&&r!=null&&C(n,["systemInstruction"],li(r));const o=w(e,["temperature"]);o!=null&&C(i,["temperature"],o);const s=w(e,["topP"]);s!=null&&C(i,["topP"],s);const a=w(e,["topK"]);a!=null&&C(i,["topK"],a);const l=w(e,["candidateCount"]);l!=null&&C(i,["candidateCount"],l);const u=w(e,["maxOutputTokens"]);u!=null&&C(i,["maxOutputTokens"],u);const c=w(e,["stopSequences"]);c!=null&&C(i,["stopSequences"],c);const h=w(e,["responseLogprobs"]);h!=null&&C(i,["responseLogprobs"],h);const d=w(e,["logprobs"]);d!=null&&C(i,["logprobs"],d);const f=w(e,["presencePenalty"]);f!=null&&C(i,["presencePenalty"],f);const y=w(e,["frequencyPenalty"]);y!=null&&C(i,["frequencyPenalty"],y);const m=w(e,["seed"]);m!=null&&C(i,["seed"],m);const v=w(e,["responseMimeType"]);v!=null&&C(i,["responseMimeType"],v);const g=w(e,["responseSchema"]);g!=null&&C(i,["responseSchema"],tS(g));const p=w(e,["responseJsonSchema"]);p!=null&&C(i,["responseJsonSchema"],p);const _=w(e,["routingConfig"]);_!=null&&C(i,["routingConfig"],_);const x=w(e,["modelSelectionConfig"]);x!=null&&C(i,["modelConfig"],x);const T=w(e,["safetySettings"]);if(n!==void 0&&T!=null){let R=T;Array.isArray(R)&&(R=R.map(P=>P)),C(n,["safetySettings"],R)}const A=w(e,["tools"]);if(n!==void 0&&A!=null){let R=Xf(A);Array.isArray(R)&&(R=R.map(P=>cM(jf(P)))),C(n,["tools"],R)}const E=w(e,["toolConfig"]);n!==void 0&&E!=null&&C(n,["toolConfig"],E);const k=w(e,["labels"]);n!==void 0&&k!=null&&C(n,["labels"],k);const U=w(e,["cachedContent"]);n!==void 0&&U!=null&&C(n,["cachedContent"],qa(t,U));const N=w(e,["responseModalities"]);N!=null&&C(i,["responseModalities"],N);const I=w(e,["mediaResolution"]);I!=null&&C(i,["mediaResolution"],I);const S=w(e,["speechConfig"]);S!=null&&C(i,["speechConfig"],uM(nS(S)));const L=w(e,["audioTimestamp"]);L!=null&&C(i,["audioTimestamp"],L);const D=w(e,["thinkingConfig"]);D!=null&&C(i,["thinkingConfig"],D);const $=w(e,["imageConfig"]);return $!=null&&C(i,["imageConfig"],$),i}function eF(t,e){const n={},i=w(e,["model"]);i!=null&&C(n,["_url","model"],ft(t,i));const r=w(e,["contents"]);if(r!=null){let s=Zr(r);Array.isArray(s)&&(s=s.map(a=>l_(a))),C(n,["contents"],s)}const o=w(e,["config"]);return o!=null&&C(n,["generationConfig"],KG(t,o,n)),n}function tF(t,e){const n={},i=w(e,["model"]);i!=null&&C(n,["_url","model"],ft(t,i));const r=w(e,["contents"]);if(r!=null){let s=Zr(r);Array.isArray(s)&&(s=s.map(a=>a)),C(n,["contents"],s)}const o=w(e,["config"]);return o!=null&&C(n,["generationConfig"],JG(t,o,n)),n}function nF(t){const e={},n=w(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const i=w(t,["candidates"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>xG(u))),C(e,["candidates"],l)}const r=w(t,["modelVersion"]);r!=null&&C(e,["modelVersion"],r);const o=w(t,["promptFeedback"]);o!=null&&C(e,["promptFeedback"],o);const s=w(t,["responseId"]);s!=null&&C(e,["responseId"],s);const a=w(t,["usageMetadata"]);return a!=null&&C(e,["usageMetadata"],a),e}function iF(t){const e={},n=w(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const i=w(t,["candidates"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>c)),C(e,["candidates"],u)}const r=w(t,["createTime"]);r!=null&&C(e,["createTime"],r);const o=w(t,["modelVersion"]);o!=null&&C(e,["modelVersion"],o);const s=w(t,["promptFeedback"]);s!=null&&C(e,["promptFeedback"],s);const a=w(t,["responseId"]);a!=null&&C(e,["responseId"],a);const l=w(t,["usageMetadata"]);return l!=null&&C(e,["usageMetadata"],l),e}function ZG(t,e){const n={};if(w(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(w(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=w(t,["numberOfImages"]);e!==void 0&&i!=null&&C(e,["parameters","sampleCount"],i);const r=w(t,["aspectRatio"]);e!==void 0&&r!=null&&C(e,["parameters","aspectRatio"],r);const o=w(t,["guidanceScale"]);if(e!==void 0&&o!=null&&C(e,["parameters","guidanceScale"],o),w(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=w(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&C(e,["parameters","safetySetting"],s);const a=w(t,["personGeneration"]);e!==void 0&&a!=null&&C(e,["parameters","personGeneration"],a);const l=w(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&C(e,["parameters","includeSafetyAttributes"],l);const u=w(t,["includeRaiReason"]);e!==void 0&&u!=null&&C(e,["parameters","includeRaiReason"],u);const c=w(t,["language"]);e!==void 0&&c!=null&&C(e,["parameters","language"],c);const h=w(t,["outputMimeType"]);e!==void 0&&h!=null&&C(e,["parameters","outputOptions","mimeType"],h);const d=w(t,["outputCompressionQuality"]);if(e!==void 0&&d!=null&&C(e,["parameters","outputOptions","compressionQuality"],d),w(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(w(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const f=w(t,["imageSize"]);if(e!==void 0&&f!=null&&C(e,["parameters","sampleImageSize"],f),w(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function QG(t,e){const n={},i=w(t,["outputGcsUri"]);e!==void 0&&i!=null&&C(e,["parameters","storageUri"],i);const r=w(t,["negativePrompt"]);e!==void 0&&r!=null&&C(e,["parameters","negativePrompt"],r);const o=w(t,["numberOfImages"]);e!==void 0&&o!=null&&C(e,["parameters","sampleCount"],o);const s=w(t,["aspectRatio"]);e!==void 0&&s!=null&&C(e,["parameters","aspectRatio"],s);const a=w(t,["guidanceScale"]);e!==void 0&&a!=null&&C(e,["parameters","guidanceScale"],a);const l=w(t,["seed"]);e!==void 0&&l!=null&&C(e,["parameters","seed"],l);const u=w(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&C(e,["parameters","safetySetting"],u);const c=w(t,["personGeneration"]);e!==void 0&&c!=null&&C(e,["parameters","personGeneration"],c);const h=w(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&C(e,["parameters","includeSafetyAttributes"],h);const d=w(t,["includeRaiReason"]);e!==void 0&&d!=null&&C(e,["parameters","includeRaiReason"],d);const f=w(t,["language"]);e!==void 0&&f!=null&&C(e,["parameters","language"],f);const y=w(t,["outputMimeType"]);e!==void 0&&y!=null&&C(e,["parameters","outputOptions","mimeType"],y);const m=w(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&C(e,["parameters","outputOptions","compressionQuality"],m);const v=w(t,["addWatermark"]);e!==void 0&&v!=null&&C(e,["parameters","addWatermark"],v);const g=w(t,["labels"]);e!==void 0&&g!=null&&C(e,["labels"],g);const p=w(t,["imageSize"]);e!==void 0&&p!=null&&C(e,["parameters","sampleImageSize"],p);const _=w(t,["enhancePrompt"]);return e!==void 0&&_!=null&&C(e,["parameters","enhancePrompt"],_),n}function ej(t,e){const n={},i=w(e,["model"]);i!=null&&C(n,["_url","model"],ft(t,i));const r=w(e,["prompt"]);r!=null&&C(n,["instances[0]","prompt"],r);const o=w(e,["config"]);return o!=null&&ZG(o,n),n}function tj(t,e){const n={},i=w(e,["model"]);i!=null&&C(n,["_url","model"],ft(t,i));const r=w(e,["prompt"]);r!=null&&C(n,["instances[0]","prompt"],r);const o=w(e,["config"]);return o!=null&&QG(o,n),n}function nj(t){const e={},n=w(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const i=w(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>pj(s))),C(e,["generatedImages"],o)}const r=w(t,["positivePromptSafetyAttributes"]);return r!=null&&C(e,["positivePromptSafetyAttributes"],aM(r)),e}function ij(t){const e={},n=w(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const i=w(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>u_(s))),C(e,["generatedImages"],o)}const r=w(t,["positivePromptSafetyAttributes"]);return r!=null&&C(e,["positivePromptSafetyAttributes"],lM(r)),e}function rj(t,e){const n={},i=w(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&C(e,["parameters","sampleCount"],i),w(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(w(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=w(t,["durationSeconds"]);if(e!==void 0&&r!=null&&C(e,["parameters","durationSeconds"],r),w(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=w(t,["aspectRatio"]);e!==void 0&&o!=null&&C(e,["parameters","aspectRatio"],o);const s=w(t,["resolution"]);e!==void 0&&s!=null&&C(e,["parameters","resolution"],s);const a=w(t,["personGeneration"]);if(e!==void 0&&a!=null&&C(e,["parameters","personGeneration"],a),w(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=w(t,["negativePrompt"]);e!==void 0&&l!=null&&C(e,["parameters","negativePrompt"],l);const u=w(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&C(e,["parameters","enhancePrompt"],u),w(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const c=w(t,["lastFrame"]);e!==void 0&&c!=null&&C(e,["instances[0]","lastFrame"],c_(c));const h=w(t,["referenceImages"]);if(e!==void 0&&h!=null){let d=h;Array.isArray(d)&&(d=d.map(f=>iX(f))),C(e,["instances[0]","referenceImages"],d)}if(w(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(w(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function oj(t,e){const n={},i=w(t,["numberOfVideos"]);e!==void 0&&i!=null&&C(e,["parameters","sampleCount"],i);const r=w(t,["outputGcsUri"]);e!==void 0&&r!=null&&C(e,["parameters","storageUri"],r);const o=w(t,["fps"]);e!==void 0&&o!=null&&C(e,["parameters","fps"],o);const s=w(t,["durationSeconds"]);e!==void 0&&s!=null&&C(e,["parameters","durationSeconds"],s);const a=w(t,["seed"]);e!==void 0&&a!=null&&C(e,["parameters","seed"],a);const l=w(t,["aspectRatio"]);e!==void 0&&l!=null&&C(e,["parameters","aspectRatio"],l);const u=w(t,["resolution"]);e!==void 0&&u!=null&&C(e,["parameters","resolution"],u);const c=w(t,["personGeneration"]);e!==void 0&&c!=null&&C(e,["parameters","personGeneration"],c);const h=w(t,["pubsubTopic"]);e!==void 0&&h!=null&&C(e,["parameters","pubsubTopic"],h);const d=w(t,["negativePrompt"]);e!==void 0&&d!=null&&C(e,["parameters","negativePrompt"],d);const f=w(t,["enhancePrompt"]);e!==void 0&&f!=null&&C(e,["parameters","enhancePrompt"],f);const y=w(t,["generateAudio"]);e!==void 0&&y!=null&&C(e,["parameters","generateAudio"],y);const m=w(t,["lastFrame"]);e!==void 0&&m!=null&&C(e,["instances[0]","lastFrame"],Oo(m));const v=w(t,["referenceImages"]);if(e!==void 0&&v!=null){let _=v;Array.isArray(_)&&(_=_.map(x=>rX(x))),C(e,["instances[0]","referenceImages"],_)}const g=w(t,["mask"]);e!==void 0&&g!=null&&C(e,["instances[0]","mask"],nX(g));const p=w(t,["compressionQuality"]);return e!==void 0&&p!=null&&C(e,["parameters","compressionQuality"],p),n}function sj(t){const e={},n=w(t,["name"]);n!=null&&C(e,["name"],n);const i=w(t,["metadata"]);i!=null&&C(e,["metadata"],i);const r=w(t,["done"]);r!=null&&C(e,["done"],r);const o=w(t,["error"]);o!=null&&C(e,["error"],o);const s=w(t,["response","generateVideoResponse"]);return s!=null&&C(e,["response"],cj(s)),e}function aj(t){const e={},n=w(t,["name"]);n!=null&&C(e,["name"],n);const i=w(t,["metadata"]);i!=null&&C(e,["metadata"],i);const r=w(t,["done"]);r!=null&&C(e,["done"],r);const o=w(t,["error"]);o!=null&&C(e,["error"],o);const s=w(t,["response"]);return s!=null&&C(e,["response"],dj(s)),e}function lj(t,e){const n={},i=w(e,["model"]);i!=null&&C(n,["_url","model"],ft(t,i));const r=w(e,["prompt"]);r!=null&&C(n,["instances[0]","prompt"],r);const o=w(e,["image"]);o!=null&&C(n,["instances[0]","image"],c_(o));const s=w(e,["video"]);s!=null&&C(n,["instances[0]","video"],dM(s));const a=w(e,["source"]);a!=null&&hj(a,n);const l=w(e,["config"]);return l!=null&&rj(l,n),n}function uj(t,e){const n={},i=w(e,["model"]);i!=null&&C(n,["_url","model"],ft(t,i));const r=w(e,["prompt"]);r!=null&&C(n,["instances[0]","prompt"],r);const o=w(e,["image"]);o!=null&&C(n,["instances[0]","image"],Oo(o));const s=w(e,["video"]);s!=null&&C(n,["instances[0]","video"],hM(s));const a=w(e,["source"]);a!=null&&fj(a,n);const l=w(e,["config"]);return l!=null&&oj(l,n),n}function cj(t){const e={},n=w(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>mj(s))),C(e,["generatedVideos"],o)}const i=w(t,["raiMediaFilteredCount"]);i!=null&&C(e,["raiMediaFilteredCount"],i);const r=w(t,["raiMediaFilteredReasons"]);return r!=null&&C(e,["raiMediaFilteredReasons"],r),e}function dj(t){const e={},n=w(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>yj(s))),C(e,["generatedVideos"],o)}const i=w(t,["raiMediaFilteredCount"]);i!=null&&C(e,["raiMediaFilteredCount"],i);const r=w(t,["raiMediaFilteredReasons"]);return r!=null&&C(e,["raiMediaFilteredReasons"],r),e}function hj(t,e){const n={},i=w(t,["prompt"]);e!==void 0&&i!=null&&C(e,["instances[0]","prompt"],i);const r=w(t,["image"]);e!==void 0&&r!=null&&C(e,["instances[0]","image"],c_(r));const o=w(t,["video"]);return e!==void 0&&o!=null&&C(e,["instances[0]","video"],dM(o)),n}function fj(t,e){const n={},i=w(t,["prompt"]);e!==void 0&&i!=null&&C(e,["instances[0]","prompt"],i);const r=w(t,["image"]);e!==void 0&&r!=null&&C(e,["instances[0]","image"],Oo(r));const o=w(t,["video"]);return e!==void 0&&o!=null&&C(e,["instances[0]","video"],hM(o)),n}function pj(t){const e={},n=w(t,["_self"]);n!=null&&C(e,["image"],Tj(n));const i=w(t,["raiFilteredReason"]);i!=null&&C(e,["raiFilteredReason"],i);const r=w(t,["_self"]);return r!=null&&C(e,["safetyAttributes"],aM(r)),e}function u_(t){const e={},n=w(t,["_self"]);n!=null&&C(e,["image"],sM(n));const i=w(t,["raiFilteredReason"]);i!=null&&C(e,["raiFilteredReason"],i);const r=w(t,["_self"]);r!=null&&C(e,["safetyAttributes"],lM(r));const o=w(t,["prompt"]);return o!=null&&C(e,["enhancedPrompt"],o),e}function gj(t){const e={},n=w(t,["_self"]);n!=null&&C(e,["mask"],sM(n));const i=w(t,["labels"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>o)),C(e,["labels"],r)}return e}function mj(t){const e={},n=w(t,["video"]);return n!=null&&C(e,["video"],eX(n)),e}function yj(t){const e={},n=w(t,["_self"]);return n!=null&&C(e,["video"],tX(n)),e}function vj(t){const e={},n=w(t,["modelSelectionConfig"]);n!=null&&C(e,["modelConfig"],n);const i=w(t,["responseJsonSchema"]);i!=null&&C(e,["responseJsonSchema"],i);const r=w(t,["audioTimestamp"]);r!=null&&C(e,["audioTimestamp"],r);const o=w(t,["candidateCount"]);o!=null&&C(e,["candidateCount"],o);const s=w(t,["enableAffectiveDialog"]);s!=null&&C(e,["enableAffectiveDialog"],s);const a=w(t,["frequencyPenalty"]);a!=null&&C(e,["frequencyPenalty"],a);const l=w(t,["logprobs"]);l!=null&&C(e,["logprobs"],l);const u=w(t,["maxOutputTokens"]);u!=null&&C(e,["maxOutputTokens"],u);const c=w(t,["mediaResolution"]);c!=null&&C(e,["mediaResolution"],c);const h=w(t,["presencePenalty"]);h!=null&&C(e,["presencePenalty"],h);const d=w(t,["responseLogprobs"]);d!=null&&C(e,["responseLogprobs"],d);const f=w(t,["responseMimeType"]);f!=null&&C(e,["responseMimeType"],f);const y=w(t,["responseModalities"]);y!=null&&C(e,["responseModalities"],y);const m=w(t,["responseSchema"]);m!=null&&C(e,["responseSchema"],m);const v=w(t,["routingConfig"]);v!=null&&C(e,["routingConfig"],v);const g=w(t,["seed"]);g!=null&&C(e,["seed"],g);const p=w(t,["speechConfig"]);p!=null&&C(e,["speechConfig"],uM(p));const _=w(t,["stopSequences"]);_!=null&&C(e,["stopSequences"],_);const x=w(t,["temperature"]);x!=null&&C(e,["temperature"],x);const T=w(t,["thinkingConfig"]);T!=null&&C(e,["thinkingConfig"],T);const A=w(t,["topK"]);A!=null&&C(e,["topK"],A);const E=w(t,["topP"]);if(E!=null&&C(e,["topP"],E),w(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function bj(t,e){const n={},i=w(e,["model"]);return i!=null&&C(n,["_url","name"],ft(t,i)),n}function _j(t,e){const n={},i=w(e,["model"]);return i!=null&&C(n,["_url","name"],ft(t,i)),n}function xj(t){const e={};if(w(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=w(t,["enableWidget"]);return n!=null&&C(e,["enableWidget"],n),e}function wj(t){const e={};if(w(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(w(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=w(t,["timeRangeFilter"]);return n!=null&&C(e,["timeRangeFilter"],n),e}function Tj(t){const e={},n=w(t,["bytesBase64Encoded"]);n!=null&&C(e,["imageBytes"],uu(n));const i=w(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}function sM(t){const e={},n=w(t,["gcsUri"]);n!=null&&C(e,["gcsUri"],n);const i=w(t,["bytesBase64Encoded"]);i!=null&&C(e,["imageBytes"],uu(i));const r=w(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function c_(t){const e={};if(w(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=w(t,["imageBytes"]);n!=null&&C(e,["bytesBase64Encoded"],uu(n));const i=w(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}function Oo(t){const e={},n=w(t,["gcsUri"]);n!=null&&C(e,["gcsUri"],n);const i=w(t,["imageBytes"]);i!=null&&C(e,["bytesBase64Encoded"],uu(i));const r=w(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function Cj(t,e,n){const i={},r=w(e,["pageSize"]);n!==void 0&&r!=null&&C(n,["_query","pageSize"],r);const o=w(e,["pageToken"]);n!==void 0&&o!=null&&C(n,["_query","pageToken"],o);const s=w(e,["filter"]);n!==void 0&&s!=null&&C(n,["_query","filter"],s);const a=w(e,["queryBase"]);return n!==void 0&&a!=null&&C(n,["_url","models_url"],ZP(t,a)),i}function Ej(t,e,n){const i={},r=w(e,["pageSize"]);n!==void 0&&r!=null&&C(n,["_query","pageSize"],r);const o=w(e,["pageToken"]);n!==void 0&&o!=null&&C(n,["_query","pageToken"],o);const s=w(e,["filter"]);n!==void 0&&s!=null&&C(n,["_query","filter"],s);const a=w(e,["queryBase"]);return n!==void 0&&a!=null&&C(n,["_url","models_url"],ZP(t,a)),i}function Aj(t,e){const n={},i=w(e,["config"]);return i!=null&&Cj(t,i,n),n}function Sj(t,e){const n={},i=w(e,["config"]);return i!=null&&Ej(t,i,n),n}function Dj(t){const e={},n=w(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const i=w(t,["nextPageToken"]);i!=null&&C(e,["nextPageToken"],i);const r=w(t,["_self"]);if(r!=null){let o=QP(r);Array.isArray(o)&&(o=o.map(s=>eC(s))),C(e,["models"],o)}return e}function kj(t){const e={},n=w(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const i=w(t,["nextPageToken"]);i!=null&&C(e,["nextPageToken"],i);const r=w(t,["_self"]);if(r!=null){let o=QP(r);Array.isArray(o)&&(o=o.map(s=>tC(s))),C(e,["models"],o)}return e}function Ij(t){const e={},n=w(t,["maskMode"]);n!=null&&C(e,["maskMode"],n);const i=w(t,["segmentationClasses"]);i!=null&&C(e,["maskClasses"],i);const r=w(t,["maskDilation"]);return r!=null&&C(e,["dilation"],r),e}function eC(t){const e={},n=w(t,["name"]);n!=null&&C(e,["name"],n);const i=w(t,["displayName"]);i!=null&&C(e,["displayName"],i);const r=w(t,["description"]);r!=null&&C(e,["description"],r);const o=w(t,["version"]);o!=null&&C(e,["version"],o);const s=w(t,["_self"]);s!=null&&C(e,["tunedModelInfo"],Vj(s));const a=w(t,["inputTokenLimit"]);a!=null&&C(e,["inputTokenLimit"],a);const l=w(t,["outputTokenLimit"]);l!=null&&C(e,["outputTokenLimit"],l);const u=w(t,["supportedGenerationMethods"]);u!=null&&C(e,["supportedActions"],u);const c=w(t,["temperature"]);c!=null&&C(e,["temperature"],c);const h=w(t,["maxTemperature"]);h!=null&&C(e,["maxTemperature"],h);const d=w(t,["topP"]);d!=null&&C(e,["topP"],d);const f=w(t,["topK"]);f!=null&&C(e,["topK"],f);const y=w(t,["thinking"]);return y!=null&&C(e,["thinking"],y),e}function tC(t){const e={},n=w(t,["name"]);n!=null&&C(e,["name"],n);const i=w(t,["displayName"]);i!=null&&C(e,["displayName"],i);const r=w(t,["description"]);r!=null&&C(e,["description"],r);const o=w(t,["versionId"]);o!=null&&C(e,["version"],o);const s=w(t,["deployedModels"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(d=>jG(d))),C(e,["endpoints"],h)}const a=w(t,["labels"]);a!=null&&C(e,["labels"],a);const l=w(t,["_self"]);l!=null&&C(e,["tunedModelInfo"],Gj(l));const u=w(t,["defaultCheckpointId"]);u!=null&&C(e,["defaultCheckpointId"],u);const c=w(t,["checkpoints"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(d=>d)),C(e,["checkpoints"],h)}return e}function Fj(t){const e={},n=w(t,["functionCall"]);n!=null&&C(e,["functionCall"],n);const i=w(t,["codeExecutionResult"]);i!=null&&C(e,["codeExecutionResult"],i);const r=w(t,["executableCode"]);r!=null&&C(e,["executableCode"],r);const o=w(t,["fileData"]);o!=null&&C(e,["fileData"],XG(o));const s=w(t,["functionResponse"]);s!=null&&C(e,["functionResponse"],s);const a=w(t,["inlineData"]);a!=null&&C(e,["inlineData"],_G(a));const l=w(t,["text"]);l!=null&&C(e,["text"],l);const u=w(t,["thought"]);u!=null&&C(e,["thought"],u);const c=w(t,["thoughtSignature"]);c!=null&&C(e,["thoughtSignature"],c);const h=w(t,["videoMetadata"]);return h!=null&&C(e,["videoMetadata"],h),e}function Nj(t){const e={},n=w(t,["productImage"]);return n!=null&&C(e,["image"],Oo(n)),e}function Rj(t,e){const n={},i=w(t,["numberOfImages"]);e!==void 0&&i!=null&&C(e,["parameters","sampleCount"],i);const r=w(t,["baseSteps"]);e!==void 0&&r!=null&&C(e,["parameters","baseSteps"],r);const o=w(t,["outputGcsUri"]);e!==void 0&&o!=null&&C(e,["parameters","storageUri"],o);const s=w(t,["seed"]);e!==void 0&&s!=null&&C(e,["parameters","seed"],s);const a=w(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&C(e,["parameters","safetySetting"],a);const l=w(t,["personGeneration"]);e!==void 0&&l!=null&&C(e,["parameters","personGeneration"],l);const u=w(t,["addWatermark"]);e!==void 0&&u!=null&&C(e,["parameters","addWatermark"],u);const c=w(t,["outputMimeType"]);e!==void 0&&c!=null&&C(e,["parameters","outputOptions","mimeType"],c);const h=w(t,["outputCompressionQuality"]);e!==void 0&&h!=null&&C(e,["parameters","outputOptions","compressionQuality"],h);const d=w(t,["enhancePrompt"]);e!==void 0&&d!=null&&C(e,["parameters","enhancePrompt"],d);const f=w(t,["labels"]);return e!==void 0&&f!=null&&C(e,["labels"],f),n}function Uj(t,e){const n={},i=w(e,["model"]);i!=null&&C(n,["_url","model"],ft(t,i));const r=w(e,["source"]);r!=null&&Pj(r,n);const o=w(e,["config"]);return o!=null&&Rj(o,n),n}function Lj(t){const e={},n=w(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>u_(r))),C(e,["generatedImages"],i)}return e}function Pj(t,e){const n={},i=w(t,["prompt"]);e!==void 0&&i!=null&&C(e,["instances[0]","prompt"],i);const r=w(t,["personImage"]);e!==void 0&&r!=null&&C(e,["instances[0]","personImage","image"],Oo(r));const o=w(t,["productImages"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>Nj(a))),C(e,["instances[0]","productImages"],s)}return n}function Mj(t){const e={},n=w(t,["referenceImage"]);n!=null&&C(e,["referenceImage"],Oo(n));const i=w(t,["referenceId"]);i!=null&&C(e,["referenceId"],i);const r=w(t,["referenceType"]);r!=null&&C(e,["referenceType"],r);const o=w(t,["maskImageConfig"]);o!=null&&C(e,["maskImageConfig"],Ij(o));const s=w(t,["controlImageConfig"]);s!=null&&C(e,["controlImageConfig"],SG(s));const a=w(t,["styleImageConfig"]);a!=null&&C(e,["styleImageConfig"],a);const l=w(t,["subjectImageConfig"]);return l!=null&&C(e,["subjectImageConfig"],l),e}function aM(t){const e={},n=w(t,["safetyAttributes","categories"]);n!=null&&C(e,["categories"],n);const i=w(t,["safetyAttributes","scores"]);i!=null&&C(e,["scores"],i);const r=w(t,["contentType"]);return r!=null&&C(e,["contentType"],r),e}function lM(t){const e={},n=w(t,["safetyAttributes","categories"]);n!=null&&C(e,["categories"],n);const i=w(t,["safetyAttributes","scores"]);i!=null&&C(e,["scores"],i);const r=w(t,["contentType"]);return r!=null&&C(e,["contentType"],r),e}function Oj(t){const e={},n=w(t,["category"]);if(n!=null&&C(e,["category"],n),w(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=w(t,["threshold"]);return i!=null&&C(e,["threshold"],i),e}function Bj(t){const e={},n=w(t,["image"]);return n!=null&&C(e,["image"],Oo(n)),e}function qj(t,e){const n={},i=w(t,["mode"]);e!==void 0&&i!=null&&C(e,["parameters","mode"],i);const r=w(t,["maxPredictions"]);e!==void 0&&r!=null&&C(e,["parameters","maxPredictions"],r);const o=w(t,["confidenceThreshold"]);e!==void 0&&o!=null&&C(e,["parameters","confidenceThreshold"],o);const s=w(t,["maskDilation"]);e!==void 0&&s!=null&&C(e,["parameters","maskDilation"],s);const a=w(t,["binaryColorThreshold"]);e!==void 0&&a!=null&&C(e,["parameters","binaryColorThreshold"],a);const l=w(t,["labels"]);return e!==void 0&&l!=null&&C(e,["labels"],l),n}function Wj(t,e){const n={},i=w(e,["model"]);i!=null&&C(n,["_url","model"],ft(t,i));const r=w(e,["source"]);r!=null&&zj(r,n);const o=w(e,["config"]);return o!=null&&qj(o,n),n}function $j(t){const e={},n=w(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>gj(r))),C(e,["generatedMasks"],i)}return e}function zj(t,e){const n={},i=w(t,["prompt"]);e!==void 0&&i!=null&&C(e,["instances[0]","prompt"],i);const r=w(t,["image"]);e!==void 0&&r!=null&&C(e,["instances[0]","image"],Oo(r));const o=w(t,["scribbleImage"]);return e!==void 0&&o!=null&&C(e,["instances[0]","scribble"],Bj(o)),n}function uM(t){const e={},n=w(t,["languageCode"]);n!=null&&C(e,["languageCode"],n);const i=w(t,["voiceConfig"]);if(i!=null&&C(e,["voiceConfig"],i),w(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Hj(t){const e={},n=w(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(h=>h)),C(e,["functionDeclarations"],c)}if(w(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=w(t,["googleSearchRetrieval"]);i!=null&&C(e,["googleSearchRetrieval"],i);const r=w(t,["computerUse"]);r!=null&&C(e,["computerUse"],r);const o=w(t,["fileSearch"]);o!=null&&C(e,["fileSearch"],o);const s=w(t,["codeExecution"]);if(s!=null&&C(e,["codeExecution"],s),w(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=w(t,["googleMaps"]);a!=null&&C(e,["googleMaps"],xj(a));const l=w(t,["googleSearch"]);l!=null&&C(e,["googleSearch"],wj(l));const u=w(t,["urlContext"]);return u!=null&&C(e,["urlContext"],u),e}function cM(t){const e={},n=w(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(d=>YG(d))),C(e,["functionDeclarations"],h)}const i=w(t,["retrieval"]);i!=null&&C(e,["retrieval"],i);const r=w(t,["googleSearchRetrieval"]);r!=null&&C(e,["googleSearchRetrieval"],r);const o=w(t,["computerUse"]);if(o!=null&&C(e,["computerUse"],o),w(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=w(t,["codeExecution"]);s!=null&&C(e,["codeExecution"],s);const a=w(t,["enterpriseWebSearch"]);a!=null&&C(e,["enterpriseWebSearch"],a);const l=w(t,["googleMaps"]);l!=null&&C(e,["googleMaps"],l);const u=w(t,["googleSearch"]);u!=null&&C(e,["googleSearch"],u);const c=w(t,["urlContext"]);return c!=null&&C(e,["urlContext"],c),e}function Vj(t){const e={},n=w(t,["baseModel"]);n!=null&&C(e,["baseModel"],n);const i=w(t,["createTime"]);i!=null&&C(e,["createTime"],i);const r=w(t,["updateTime"]);return r!=null&&C(e,["updateTime"],r),e}function Gj(t){const e={},n=w(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&C(e,["baseModel"],n);const i=w(t,["createTime"]);i!=null&&C(e,["createTime"],i);const r=w(t,["updateTime"]);return r!=null&&C(e,["updateTime"],r),e}function jj(t,e){const n={},i=w(t,["displayName"]);e!==void 0&&i!=null&&C(e,["displayName"],i);const r=w(t,["description"]);e!==void 0&&r!=null&&C(e,["description"],r);const o=w(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&C(e,["defaultCheckpointId"],o),n}function Xj(t,e){const n={},i=w(t,["displayName"]);e!==void 0&&i!=null&&C(e,["displayName"],i);const r=w(t,["description"]);e!==void 0&&r!=null&&C(e,["description"],r);const o=w(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&C(e,["defaultCheckpointId"],o),n}function Yj(t,e){const n={},i=w(e,["model"]);i!=null&&C(n,["_url","name"],ft(t,i));const r=w(e,["config"]);return r!=null&&jj(r,n),n}function Kj(t,e){const n={},i=w(e,["model"]);i!=null&&C(n,["_url","model"],ft(t,i));const r=w(e,["config"]);return r!=null&&Xj(r,n),n}function Jj(t,e){const n={},i=w(t,["outputGcsUri"]);e!==void 0&&i!=null&&C(e,["parameters","storageUri"],i);const r=w(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&C(e,["parameters","safetySetting"],r);const o=w(t,["personGeneration"]);e!==void 0&&o!=null&&C(e,["parameters","personGeneration"],o);const s=w(t,["includeRaiReason"]);e!==void 0&&s!=null&&C(e,["parameters","includeRaiReason"],s);const a=w(t,["outputMimeType"]);e!==void 0&&a!=null&&C(e,["parameters","outputOptions","mimeType"],a);const l=w(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&C(e,["parameters","outputOptions","compressionQuality"],l);const u=w(t,["enhanceInputImage"]);e!==void 0&&u!=null&&C(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=w(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&C(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const h=w(t,["labels"]);e!==void 0&&h!=null&&C(e,["labels"],h);const d=w(t,["numberOfImages"]);e!==void 0&&d!=null&&C(e,["parameters","sampleCount"],d);const f=w(t,["mode"]);return e!==void 0&&f!=null&&C(e,["parameters","mode"],f),n}function Zj(t,e){const n={},i=w(e,["model"]);i!=null&&C(n,["_url","model"],ft(t,i));const r=w(e,["image"]);r!=null&&C(n,["instances[0]","image"],Oo(r));const o=w(e,["upscaleFactor"]);o!=null&&C(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=w(e,["config"]);return s!=null&&Jj(s,n),n}function Qj(t){const e={},n=w(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const i=w(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>u_(o))),C(e,["generatedImages"],r)}return e}function eX(t){const e={},n=w(t,["uri"]);n!=null&&C(e,["uri"],n);const i=w(t,["encodedVideo"]);i!=null&&C(e,["videoBytes"],uu(i));const r=w(t,["encoding"]);return r!=null&&C(e,["mimeType"],r),e}function tX(t){const e={},n=w(t,["gcsUri"]);n!=null&&C(e,["uri"],n);const i=w(t,["bytesBase64Encoded"]);i!=null&&C(e,["videoBytes"],uu(i));const r=w(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}function nX(t){const e={},n=w(t,["image"]);n!=null&&C(e,["_self"],Oo(n));const i=w(t,["maskMode"]);return i!=null&&C(e,["maskMode"],i),e}function iX(t){const e={},n=w(t,["image"]);n!=null&&C(e,["image"],c_(n));const i=w(t,["referenceType"]);return i!=null&&C(e,["referenceType"],i),e}function rX(t){const e={},n=w(t,["image"]);n!=null&&C(e,["image"],Oo(n));const i=w(t,["referenceType"]);return i!=null&&C(e,["referenceType"],i),e}function dM(t){const e={},n=w(t,["uri"]);n!=null&&C(e,["uri"],n);const i=w(t,["videoBytes"]);i!=null&&C(e,["encodedVideo"],uu(i));const r=w(t,["mimeType"]);return r!=null&&C(e,["encoding"],r),e}function hM(t){const e={},n=w(t,["uri"]);n!=null&&C(e,["gcsUri"],n);const i=w(t,["videoBytes"]);i!=null&&C(e,["bytesBase64Encoded"],uu(i));const r=w(t,["mimeType"]);return r!=null&&C(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oX="Content-Type",sX="X-Server-Timeout",aX="User-Agent",nC="x-goog-api-client",lX="1.29.1",uX=`google-genai-sdk/${lX}`,cX="v1beta1",dX="v1beta",rF=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class hX{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:cX,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:dX,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const r=[this.getRequestUrlInternal(n)];return i&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[s,a]of Object.entries(e.queryParams))r.searchParams.append(s,String(a));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,r.toString(),e.abortSignal),this.unaryApiCall(r,o,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[r,o]of Object.entries(n))typeof o=="object"?i[r]=Object.assign(Object.assign({},i[r]),o):o!==void 0&&(i[r]=o);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,i);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,r.toString(),e.abortSignal),this.streamApiCall(r,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i,r){if(n&&n.timeout||r){const o=new AbortController,s=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>o.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}r&&r.addEventListener("abort",()=>{o.abort()}),e.signal=s}return n&&n.extraBody!==null&&fX(e,n.extraBody),e.headers=await this.getHeadersInternal(n,i),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async r=>(await oF(r),new JT(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async r=>(await oF(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var n;return rh(this,arguments,function*(){const r=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let s="";for(;;){const{done:a,value:l}=yield Nt(r.read());if(a){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=o.decode(l,{stream:!0});try{const h=JSON.parse(u);if("error"in h){const d=JSON.parse(JSON.stringify(h.error)),f=d.status,y=d.code,m=`got status: ${f}. ${JSON.stringify(h)}`;if(y>=400&&y<600)throw new a_({message:m,status:y})}}catch(h){if(h.name==="ApiError")throw h}s+=u;let c=s.match(rF);for(;c;){const h=c[1];try{const d=new Response(h,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Nt(new JT(d)),s=s.slice(c[0].length),c=s.match(rF)}catch(d){throw new Error(`exception parsing stream chunk ${h}. ${d}`)}}}}finally{r.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=uX+" "+this.clientOptions.userAgentExtra;return e[aX]=n,e[nC]=n,e[oX]="application/json",e}async getHeadersInternal(e,n){const i=new Headers;if(e&&e.headers){for(const[r,o]of Object.entries(e.headers))i.append(r,o);e.timeout&&e.timeout>0&&i.append(sX,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(e){var n;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(e,n){var i;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);r.sizeBytes=String(s.size);const a=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=a;const l={file:r},u=this.getFileName(e),c=Ie("upload/v1beta/files",l._url),h=await this.fetchUploadUrl(c,r.sizeBytes,r.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(e,h,this)}async uploadFileToFileSearchStore(e,n,i){var r;const o=this.clientOptions.uploader,s=await o.stat(n),a=String(s.size),l=(r=i==null?void 0:i.mimeType)!==null&&r!==void 0?r:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(n),h={};i!=null&&i.customMetadata&&(h.customMetadata=i.customMetadata),i!=null&&i.chunkingConfig&&(h.chunkingConfig=i.chunkingConfig);const d=await this.fetchUploadUrl(u,a,l,c,h,i==null?void 0:i.httpOptions);return o.uploadToFileSearchStore(n,d,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,i,r,o,s){var a;let l={};s?l=s:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},r?{"X-Goog-Upload-File-Name":r}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(a=u==null?void 0:u.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function oF(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const r=JSON.stringify(i);throw n>=400&&n<600?new a_({message:r,status:n}):new Error(r)}}function fX(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(o,s){const a=Object.assign({},o);for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const u=s[l],c=a[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?a[l]=i(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),a[l]=u)}return a}const r=i(n,e);t.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pX="mcp_used/unknown";let gX=!1;function fM(t){for(const e of t)if(mX(e)||typeof e=="object"&&"inputSchema"in e)return!0;return gX}function pM(t){var e;const n=(e=t[nC])!==null&&e!==void 0?e:"";t[nC]=(n+` ${pX}`).trimStart()}function mX(t){return t!==null&&typeof t=="object"&&t instanceof rS}function yX(t,e=100){return rh(this,arguments,function*(){let i,r=0;for(;r<e;){const o=yield Nt(t.listTools({cursor:i}));for(const s of o.tools)yield yield Nt(s),r++;if(!o.nextCursor)break;i=o.nextCursor}})}class rS{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new rS(e,n)}async initialize(){var e,n,i,r;if(this.mcpTools.length>0)return;const o={},s=[];for(const c of this.mcpClients)try{for(var a=!0,l=(n=void 0,_g(yX(c))),u;u=await l.next(),e=u.done,!e;a=!0){r=u.value,a=!1;const h=r;s.push(h);const d=h.name;if(o[d])throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);o[d]=c}}catch(h){n={error:h}}finally{try{!a&&!e&&(i=l.return)&&await i.call(l)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),wH(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[i.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await r.callTool({name:i.name,arguments:i.args},void 0,o);n.push({functionResponse:{name:i.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function vX(t,e,n){const i=new pH;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(i,r),e(i)}class bX{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=wX(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${r}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${a}`;let u=()=>{};const c=new Promise(_=>{u=_}),h=e.callbacks,d=function(){u({})},f=this.apiClient,y={onopen:d,onmessage:_=>{vX(f,h.onmessage,_)},onerror:(n=h==null?void 0:h.onerror)!==null&&n!==void 0?n:function(_){},onclose:(i=h==null?void 0:h.onclose)!==null&&i!==void 0?i:function(_){}},m=this.webSocketFactory.create(l,xX(s),y);m.connect(),await c;const p={setup:{model:ft(this.apiClient,e.model)}};return m.send(JSON.stringify(p)),new _X(m,this.apiClient)}}class _X{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=dG(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=cG(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Hd.PLAY)}pause(){this.sendPlaybackControl(Hd.PAUSE)}stop(){this.sendPlaybackControl(Hd.STOP)}resetContext(){this.sendPlaybackControl(Hd.RESET_CONTEXT)}close(){this.conn.close()}}function xX(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function wX(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TX="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function CX(t,e,n){const i=new fH;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const o=JSON.parse(r);if(t.isVertexAI()){const s=pG(o);Object.assign(i,s)}else Object.assign(i,o);e(i)}class EX{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new bX(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,r,o,s,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const h=this.apiClient.getHeaders();e.config&&e.config.tools&&fM(e.config.tools)&&pM(h);const d=kX(h);if(this.apiClient.isVertexAI())c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(d,c);else{const U=this.apiClient.getApiKey();let N="BidiGenerateContent",I="key";U!=null&&U.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),N="BidiGenerateContentConstrained",I="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${N}?${I}=${U}`}let f=()=>{};const y=new Promise(U=>{f=U}),m=e.callbacks,v=function(){var U;(U=m==null?void 0:m.onopen)===null||U===void 0||U.call(m),f({})},g=this.apiClient,p={onopen:v,onmessage:U=>{CX(g,m.onmessage,U)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(U){},onclose:(i=m==null?void 0:m.onclose)!==null&&i!==void 0?i:function(U){}},_=this.webSocketFactory.create(c,DX(d),p);_.connect(),await y;let x=ft(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&x.startsWith("publishers/")){const U=this.apiClient.getProject(),N=this.apiClient.getLocation();x=`projects/${U}/locations/${N}/`+x}let T={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Gg.AUDIO]}:e.config.responseModalities=[Gg.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const A=(a=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[],E=[];for(const U of A)if(this.isCallableTool(U)){const N=U;E.push(await N.tool())}else E.push(U);E.length>0&&(e.config.tools=E);const k={model:x,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?T=uG(this.apiClient,k):T=lG(this.apiClient,k),delete T.config,_.send(JSON.stringify(T)),new SX(_,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const AX={turnComplete:!0};class SX{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=Zr(n.turns),e.isVertexAI()||(i=i.map(r=>l_(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const o of i){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(TX)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},AX),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:fG(e)}:n={realtimeInput:hG(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function DX(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function kX(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sF=10;function aF(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(oh(s)){r=!0;break}if(!r)return!0;const o=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function oh(t){return"callTool"in t&&typeof t.callTool=="function"}function IX(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>oh(r)))!==null&&i!==void 0?i:!1}function lF(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((i,r)=>{if(oh(i))return;const o=i;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(r)}),n}function uF(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FX extends Ba{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,r,o,s,a;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!IX(n)||aF(n.config))return await this.generateContentInternal(l);const u=lF(n);if(u.length>0){const m=u.map(v=>`tools[${v}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${m}.`)}let c,h;const d=Zr(l.contents),f=(o=(r=(i=l.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&o!==void 0?o:sF;let y=0;for(;y<f&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const m=c.candidates[0].content,v=[];for(const g of(a=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[])if(oh(g)){const _=await g.callTool(c.functionCalls);v.push(..._)}y++,h={role:"user",parts:v},l.contents=Zr(l.contents),l.contents.push(m),l.contents.push(h),uF(l.config)&&(d.push(m),d.push(h))}return uF(l.config)&&(c.automaticFunctionCallingHistory=d),c},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),aF(n.config)){const r=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(r)}const i=lF(n);if(i.length>0){const r=i.map(o=>`tools[${o}]`).join(", ");throw new Error(`Incompatible tools found at ${r}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var r;let o;const s=[];if(i!=null&&i.generatedImages)for(const l of i.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((r=l==null?void 0:l.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:s.push(l);let a;return o?a={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:i.sdkHttpResponse}:a={generatedImages:s,sdkHttpResponse:i.sdkHttpResponse},a}),this.list=async n=>{var i;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((i=s.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new sd(Fa.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(s),s)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var i,r,o,s,a,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(o=n.source)===null||o===void 0?void 0:o.video)===null||s===void 0)&&s.uri&&(!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,r;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async l=>oh(l)?await l.tool():l)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(a.config.tools=s,e.config&&e.config.tools&&fM(e.config.tools)){const l=(r=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&r!==void 0?r:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),pM(u),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return a}async initAfcToolsMap(e){var n,i,r;const o=new Map;for(const s of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(oh(s)){const a=s,l=await a.tool();for(const u of(r=l.functionDeclarations)!==null&&r!==void 0?r:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,a)}}return o}async processAfcStream(e){var n,i,r;const o=(r=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:sF;let s=!1,a=0;const l=await this.initAfcToolsMap(e);return function(u,c,h){var d,f;return rh(this,arguments,function*(){for(var y,m,v,g;a<o;){s&&(a++,s=!1);const T=yield Nt(u.processParamsMaybeAddMcpUsage(h)),A=yield Nt(u.generateContentStreamInternal(T)),E=[],k=[];try{for(var p=!0,_=(m=void 0,_g(A)),x;x=yield Nt(_.next()),y=x.done,!y;p=!0){g=x.value,p=!1;const U=g;if(yield yield Nt(U),U.candidates&&(!((d=U.candidates[0])===null||d===void 0)&&d.content)){k.push(U.candidates[0].content);for(const N of(f=U.candidates[0].content.parts)!==null&&f!==void 0?f:[])if(a<o&&N.functionCall){if(!N.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(N.functionCall.name)){const I=yield Nt(c.get(N.functionCall.name).callTool([N.functionCall]));E.push(...I)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${N.functionCall.name}`)}}}}catch(U){m={error:U}}finally{try{!p&&!y&&(v=_.return)&&(yield Nt(v.call(_)))}finally{if(m)throw m.error}}if(E.length>0){s=!0;const U=new _p;U.candidates=[{content:{role:"user",parts:E}}],yield yield Nt(U);const N=[];N.push(...k),N.push({role:"user",parts:E});const I=Zr(h.contents).concat(N);h.contents=I}else break}})}(this,l,e)}async generateContentInternal(e){var n,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=tF(this.apiClient,e);return a=Ie("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=iF(c),d=new _p;return Object.assign(d,h),d})}else{const u=eF(this.apiClient,e);return a=Ie("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=nF(c),d=new _p;return Object.assign(d,h),d})}}async generateContentStreamInternal(e){var n,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=tF(this.apiClient,e);return a=Ie("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(h){return rh(this,arguments,function*(){var d,f,y,m;try{for(var v=!0,g=_g(h),p;p=yield Nt(g.next()),d=p.done,!d;v=!0){m=p.value,v=!1;const _=m,x=iF(yield Nt(_.json()));x.sdkHttpResponse={headers:_.headers};const T=new _p;Object.assign(T,x),yield yield Nt(T)}}catch(_){f={error:_}}finally{try{!v&&!d&&(y=g.return)&&(yield Nt(y.call(g)))}finally{if(f)throw f.error}}})})}else{const u=eF(this.apiClient,e);return a=Ie("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(h){return rh(this,arguments,function*(){var d,f,y,m;try{for(var v=!0,g=_g(h),p;p=yield Nt(g.next()),d=p.done,!d;v=!0){m=p.value,v=!1;const _=m,x=nF(yield Nt(_.json()));x.sdkHttpResponse={headers:_.headers};const T=new _p;Object.assign(T,x),yield yield Nt(T)}}catch(_){f={error:_}}finally{try{!v&&!d&&(y=g.return)&&(yield Nt(y.call(g)))}finally{if(f)throw f.error}}})})}}async embedContent(e){var n,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=HG(this.apiClient,e);return a=Ie("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=GG(c),d=new OI;return Object.assign(d,h),d})}else{const u=zG(this.apiClient,e);return a=Ie("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=VG(c),d=new OI;return Object.assign(d,h),d})}}async generateImagesInternal(e){var n,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=tj(this.apiClient,e);return a=Ie("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=ij(c),d=new BI;return Object.assign(d,h),d})}else{const u=ej(this.apiClient,e);return a=Ie("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=nj(c),d=new BI;return Object.assign(d,h),d})}}async editImageInternal(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI()){const a=BG(this.apiClient,e);return o=Ie("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),r.then(l=>{const u=qG(l),c=new nH;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI()){const a=Zj(this.apiClient,e);return o=Ie("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),r.then(l=>{const u=Qj(l),c=new iH;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI()){const a=Uj(this.apiClient,e);return o=Ie("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=Lj(l),c=new rH;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI()){const a=Wj(this.apiClient,e);return o=Ie("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=$j(l),c=new oH;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=_j(this.apiClient,e);return a=Ie("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),s.then(c=>tC(c))}else{const u=bj(this.apiClient,e);return a=Ie("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>eC(c))}}async listInternal(e){var n,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Sj(this.apiClient,e);return a=Ie("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=kj(c),d=new qI;return Object.assign(d,h),d})}else{const u=Aj(this.apiClient,e);return a=Ie("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=Dj(c),d=new qI;return Object.assign(d,h),d})}}async update(e){var n,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Kj(this.apiClient,e);return a=Ie("{model}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),s.then(c=>tC(c))}else{const u=Yj(this.apiClient,e);return a=Ie("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>eC(c))}}async delete(e){var n,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=LG(this.apiClient,e);return a=Ie("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=MG(c),d=new WI;return Object.assign(d,h),d})}else{const u=UG(this.apiClient,e);return a=Ie("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=PG(c),d=new WI;return Object.assign(d,h),d})}}async countTokens(e){var n,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=FG(this.apiClient,e);return a=Ie("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=RG(c),d=new $I;return Object.assign(d,h),d})}else{const u=IG(this.apiClient,e);return a=Ie("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=NG(c),d=new $I;return Object.assign(d,h),d})}}async computeTokens(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI()){const a=TG(this.apiClient,e);return o=Ie("{model}:computeTokens",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),r.then(l=>{const u=CG(l),c=new sH;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=uj(this.apiClient,e);return a=Ie("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),s.then(c=>{const h=aj(c),d=new S1;return Object.assign(d,h),d})}else{const u=lj(this.apiClient,e);return a=Ie("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const h=sj(c),d=new S1;return Object.assign(d,h),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NX extends Ba{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let o;i&&"httpOptions"in i&&(o=i.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let o;i&&"httpOptions"in i&&(o=i.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Kz(e);return a=Ie("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),s}else{const u=Yz(e);return a=Ie("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s}}async fetchPredictVideosOperationInternal(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI()){const a=$z(e);return o=Ie("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RX(t){const e={},n=w(t,["data"]);if(n!=null&&C(e,["data"],n),w(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=w(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}function UX(t){const e={},n=w(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>$X(o))),C(e,["parts"],r)}const i=w(t,["role"]);return i!=null&&C(e,["role"],i),e}function LX(t,e,n){const i={},r=w(e,["expireTime"]);n!==void 0&&r!=null&&C(n,["expireTime"],r);const o=w(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&C(n,["newSessionExpireTime"],o);const s=w(e,["uses"]);n!==void 0&&s!=null&&C(n,["uses"],s);const a=w(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&C(n,["bidiGenerateContentSetup"],WX(t,a));const l=w(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&C(n,["fieldMask"],l),i}function PX(t,e){const n={},i=w(e,["config"]);return i!=null&&C(n,["config"],LX(t,i,n)),n}function MX(t){const e={};if(w(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=w(t,["fileUri"]);n!=null&&C(e,["fileUri"],n);const i=w(t,["mimeType"]);return i!=null&&C(e,["mimeType"],i),e}function OX(t){const e={};if(w(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=w(t,["enableWidget"]);return n!=null&&C(e,["enableWidget"],n),e}function BX(t){const e={};if(w(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(w(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=w(t,["timeRangeFilter"]);return n!=null&&C(e,["timeRangeFilter"],n),e}function qX(t,e){const n={},i=w(t,["generationConfig"]);e!==void 0&&i!=null&&C(e,["setup","generationConfig"],i);const r=w(t,["responseModalities"]);e!==void 0&&r!=null&&C(e,["setup","generationConfig","responseModalities"],r);const o=w(t,["temperature"]);e!==void 0&&o!=null&&C(e,["setup","generationConfig","temperature"],o);const s=w(t,["topP"]);e!==void 0&&s!=null&&C(e,["setup","generationConfig","topP"],s);const a=w(t,["topK"]);e!==void 0&&a!=null&&C(e,["setup","generationConfig","topK"],a);const l=w(t,["maxOutputTokens"]);e!==void 0&&l!=null&&C(e,["setup","generationConfig","maxOutputTokens"],l);const u=w(t,["mediaResolution"]);e!==void 0&&u!=null&&C(e,["setup","generationConfig","mediaResolution"],u);const c=w(t,["seed"]);e!==void 0&&c!=null&&C(e,["setup","generationConfig","seed"],c);const h=w(t,["speechConfig"]);e!==void 0&&h!=null&&C(e,["setup","generationConfig","speechConfig"],iS(h));const d=w(t,["thinkingConfig"]);e!==void 0&&d!=null&&C(e,["setup","generationConfig","thinkingConfig"],d);const f=w(t,["enableAffectiveDialog"]);e!==void 0&&f!=null&&C(e,["setup","generationConfig","enableAffectiveDialog"],f);const y=w(t,["systemInstruction"]);e!==void 0&&y!=null&&C(e,["setup","systemInstruction"],UX(li(y)));const m=w(t,["tools"]);if(e!==void 0&&m!=null){let A=Xf(m);Array.isArray(A)&&(A=A.map(E=>HX(jf(E)))),C(e,["setup","tools"],A)}const v=w(t,["sessionResumption"]);e!==void 0&&v!=null&&C(e,["setup","sessionResumption"],zX(v));const g=w(t,["inputAudioTranscription"]);e!==void 0&&g!=null&&C(e,["setup","inputAudioTranscription"],g);const p=w(t,["outputAudioTranscription"]);e!==void 0&&p!=null&&C(e,["setup","outputAudioTranscription"],p);const _=w(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&C(e,["setup","realtimeInputConfig"],_);const x=w(t,["contextWindowCompression"]);e!==void 0&&x!=null&&C(e,["setup","contextWindowCompression"],x);const T=w(t,["proactivity"]);return e!==void 0&&T!=null&&C(e,["setup","proactivity"],T),n}function WX(t,e){const n={},i=w(e,["model"]);i!=null&&C(n,["setup","model"],ft(t,i));const r=w(e,["config"]);return r!=null&&C(n,["config"],qX(r,n)),n}function $X(t){const e={},n=w(t,["functionCall"]);n!=null&&C(e,["functionCall"],n);const i=w(t,["codeExecutionResult"]);i!=null&&C(e,["codeExecutionResult"],i);const r=w(t,["executableCode"]);r!=null&&C(e,["executableCode"],r);const o=w(t,["fileData"]);o!=null&&C(e,["fileData"],MX(o));const s=w(t,["functionResponse"]);s!=null&&C(e,["functionResponse"],s);const a=w(t,["inlineData"]);a!=null&&C(e,["inlineData"],RX(a));const l=w(t,["text"]);l!=null&&C(e,["text"],l);const u=w(t,["thought"]);u!=null&&C(e,["thought"],u);const c=w(t,["thoughtSignature"]);c!=null&&C(e,["thoughtSignature"],c);const h=w(t,["videoMetadata"]);return h!=null&&C(e,["videoMetadata"],h),e}function zX(t){const e={},n=w(t,["handle"]);if(n!=null&&C(e,["handle"],n),w(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function HX(t){const e={},n=w(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(h=>h)),C(e,["functionDeclarations"],c)}if(w(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=w(t,["googleSearchRetrieval"]);i!=null&&C(e,["googleSearchRetrieval"],i);const r=w(t,["computerUse"]);r!=null&&C(e,["computerUse"],r);const o=w(t,["fileSearch"]);o!=null&&C(e,["fileSearch"],o);const s=w(t,["codeExecution"]);if(s!=null&&C(e,["codeExecution"],s),w(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=w(t,["googleMaps"]);a!=null&&C(e,["googleMaps"],OX(a));const l=w(t,["googleSearch"]);l!=null&&C(e,["googleSearch"],BX(l));const u=w(t,["urlContext"]);return u!=null&&C(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VX(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const r=Object.keys(i).map(o=>`${n}.${o}`);e.push(...r)}else e.push(n)}return e.join(",")}function GX(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const o=i.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const r=t.fieldMask;if(n){const o=VX(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];r.length>0&&(a=r.map(u=>s.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),a.length>0&&l.push(...a),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}class jX extends Ba{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=PX(this.apiClient,e);o=Ie("auth_tokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query;const l=GX(a,e.config);return r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),r.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XX(t,e){const n={},i=w(t,["displayName"]);return e!==void 0&&i!=null&&C(e,["displayName"],i),n}function YX(t){const e={},n=w(t,["config"]);return n!=null&&XX(n,e),e}function KX(t,e){const n={},i=w(t,["force"]);return e!==void 0&&i!=null&&C(e,["_query","force"],i),n}function JX(t){const e={},n=w(t,["name"]);n!=null&&C(e,["_url","name"],n);const i=w(t,["config"]);return i!=null&&KX(i,e),e}function ZX(t){const e={},n=w(t,["name"]);return n!=null&&C(e,["_url","name"],n),e}function QX(t,e){const n={},i=w(t,["customMetadata"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),C(e,["customMetadata"],o)}const r=w(t,["chunkingConfig"]);return e!==void 0&&r!=null&&C(e,["chunkingConfig"],r),n}function eY(t){const e={},n=w(t,["name"]);n!=null&&C(e,["name"],n);const i=w(t,["metadata"]);i!=null&&C(e,["metadata"],i);const r=w(t,["done"]);r!=null&&C(e,["done"],r);const o=w(t,["error"]);o!=null&&C(e,["error"],o);const s=w(t,["response"]);return s!=null&&C(e,["response"],nY(s)),e}function tY(t){const e={},n=w(t,["fileSearchStoreName"]);n!=null&&C(e,["_url","file_search_store_name"],n);const i=w(t,["fileName"]);i!=null&&C(e,["fileName"],i);const r=w(t,["config"]);return r!=null&&QX(r,e),e}function nY(t){const e={},n=w(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const i=w(t,["parent"]);i!=null&&C(e,["parent"],i);const r=w(t,["documentName"]);return r!=null&&C(e,["documentName"],r),e}function iY(t,e){const n={},i=w(t,["pageSize"]);e!==void 0&&i!=null&&C(e,["_query","pageSize"],i);const r=w(t,["pageToken"]);return e!==void 0&&r!=null&&C(e,["_query","pageToken"],r),n}function rY(t){const e={},n=w(t,["config"]);return n!=null&&iY(n,e),e}function oY(t){const e={},n=w(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const i=w(t,["nextPageToken"]);i!=null&&C(e,["nextPageToken"],i);const r=w(t,["fileSearchStores"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),C(e,["fileSearchStores"],o)}return e}function sY(t,e){const n={},i=w(t,["mimeType"]);e!==void 0&&i!=null&&C(e,["mimeType"],i);const r=w(t,["displayName"]);e!==void 0&&r!=null&&C(e,["displayName"],r);const o=w(t,["customMetadata"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),C(e,["customMetadata"],a)}const s=w(t,["chunkingConfig"]);return e!==void 0&&s!=null&&C(e,["chunkingConfig"],s),n}function aY(t){const e={},n=w(t,["fileSearchStoreName"]);n!=null&&C(e,["_url","file_search_store_name"],n);const i=w(t,["config"]);return i!=null&&sY(i,e),e}function lY(t){const e={},n=w(t,["sdkHttpResponse"]);return n!=null&&C(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uY(t,e){const n={},i=w(t,["force"]);return e!==void 0&&i!=null&&C(e,["_query","force"],i),n}function cY(t){const e={},n=w(t,["name"]);n!=null&&C(e,["_url","name"],n);const i=w(t,["config"]);return i!=null&&uY(i,e),e}function dY(t){const e={},n=w(t,["name"]);return n!=null&&C(e,["_url","name"],n),e}function hY(t,e){const n={},i=w(t,["pageSize"]);e!==void 0&&i!=null&&C(e,["_query","pageSize"],i);const r=w(t,["pageToken"]);return e!==void 0&&r!=null&&C(e,["_query","pageToken"],r),n}function fY(t){const e={},n=w(t,["parent"]);n!=null&&C(e,["_url","parent"],n);const i=w(t,["config"]);return i!=null&&hY(i,e),e}function pY(t){const e={},n=w(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const i=w(t,["nextPageToken"]);i!=null&&C(e,["nextPageToken"],i);const r=w(t,["documents"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),C(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gY extends Ba{constructor(e){super(),this.apiClient=e,this.list=async n=>new sd(Fa.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=dY(e);return o=Ie("{name}",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async delete(e){var n,i;let r="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=cY(e);r=Ie("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:r,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=fY(e);return o=Ie("{parent}/documents",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=pY(l),c=new aH;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mY extends Ba{constructor(e,n=new gY(e)){super(),this.apiClient=e,this.documents=n,this.list=async(i={})=>new sd(Fa.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=YX(e);return o=Ie("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async get(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=ZX(e);return o=Ie("{name}",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>l)}}async delete(e){var n,i;let r="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=JX(e);r=Ie("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:r,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=rY(e);return o=Ie("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=oY(l),c=new lH;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=aY(e);return o=Ie("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=lY(l),c=new uH;return Object.assign(c,u),c})}}async importFile(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=tY(e);return o=Ie("{file_search_store_name}:importFile",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json()),r.then(l=>{const u=eY(l),c=new ZA;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yY(t,e){const n={},i=w(t,["name"]);return i!=null&&C(n,["_url","name"],i),n}function vY(t,e){const n={},i=w(t,["name"]);return i!=null&&C(n,["_url","name"],i),n}function bY(t,e,n){const i={};if(w(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=w(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&C(e,["displayName"],r),w(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=w(t,["epochCount"]);e!==void 0&&o!=null&&C(e,["tuningTask","hyperparameters","epochCount"],o);const s=w(t,["learningRateMultiplier"]);if(s!=null&&C(i,["tuningTask","hyperparameters","learningRateMultiplier"],s),w(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(w(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(w(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=w(t,["batchSize"]);e!==void 0&&a!=null&&C(e,["tuningTask","hyperparameters","batchSize"],a);const l=w(t,["learningRate"]);if(e!==void 0&&l!=null&&C(e,["tuningTask","hyperparameters","learningRate"],l),w(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(w(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function _Y(t,e,n){const i={};let r=w(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const f=w(t,["validationDataset"]);e!==void 0&&f!=null&&C(e,["supervisedTuningSpec"],cF(f))}else if(r==="PREFERENCE_TUNING"){const f=w(t,["validationDataset"]);e!==void 0&&f!=null&&C(e,["preferenceOptimizationSpec"],cF(f))}const o=w(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&C(e,["tunedModelDisplayName"],o);const s=w(t,["description"]);e!==void 0&&s!=null&&C(e,["description"],s);let a=w(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const f=w(t,["epochCount"]);e!==void 0&&f!=null&&C(e,["supervisedTuningSpec","hyperParameters","epochCount"],f)}else if(a==="PREFERENCE_TUNING"){const f=w(t,["epochCount"]);e!==void 0&&f!=null&&C(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],f)}let l=w(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const f=w(t,["learningRateMultiplier"]);e!==void 0&&f!=null&&C(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],f)}else if(l==="PREFERENCE_TUNING"){const f=w(t,["learningRateMultiplier"]);e!==void 0&&f!=null&&C(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],f)}let u=w(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const f=w(t,["exportLastCheckpointOnly"]);e!==void 0&&f!=null&&C(e,["supervisedTuningSpec","exportLastCheckpointOnly"],f)}else if(u==="PREFERENCE_TUNING"){const f=w(t,["exportLastCheckpointOnly"]);e!==void 0&&f!=null&&C(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],f)}let c=w(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const f=w(t,["adapterSize"]);e!==void 0&&f!=null&&C(e,["supervisedTuningSpec","hyperParameters","adapterSize"],f)}else if(c==="PREFERENCE_TUNING"){const f=w(t,["adapterSize"]);e!==void 0&&f!=null&&C(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],f)}if(w(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(w(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=w(t,["labels"]);e!==void 0&&h!=null&&C(e,["labels"],h);const d=w(t,["beta"]);return e!==void 0&&d!=null&&C(e,["preferenceOptimizationSpec","hyperParameters","beta"],d),i}function xY(t,e){const n={},i=w(t,["baseModel"]);i!=null&&C(n,["baseModel"],i);const r=w(t,["preTunedModel"]);r!=null&&C(n,["preTunedModel"],r);const o=w(t,["trainingDataset"]);o!=null&&NY(o);const s=w(t,["config"]);return s!=null&&bY(s,n),n}function wY(t,e){const n={},i=w(t,["baseModel"]);i!=null&&C(n,["baseModel"],i);const r=w(t,["preTunedModel"]);r!=null&&C(n,["preTunedModel"],r);const o=w(t,["trainingDataset"]);o!=null&&RY(o,n,e);const s=w(t,["config"]);return s!=null&&_Y(s,n,e),n}function TY(t,e){const n={},i=w(t,["name"]);return i!=null&&C(n,["_url","name"],i),n}function CY(t,e){const n={},i=w(t,["name"]);return i!=null&&C(n,["_url","name"],i),n}function EY(t,e,n){const i={},r=w(t,["pageSize"]);e!==void 0&&r!=null&&C(e,["_query","pageSize"],r);const o=w(t,["pageToken"]);e!==void 0&&o!=null&&C(e,["_query","pageToken"],o);const s=w(t,["filter"]);return e!==void 0&&s!=null&&C(e,["_query","filter"],s),i}function AY(t,e,n){const i={},r=w(t,["pageSize"]);e!==void 0&&r!=null&&C(e,["_query","pageSize"],r);const o=w(t,["pageToken"]);e!==void 0&&o!=null&&C(e,["_query","pageToken"],o);const s=w(t,["filter"]);return e!==void 0&&s!=null&&C(e,["_query","filter"],s),i}function SY(t,e){const n={},i=w(t,["config"]);return i!=null&&EY(i,n),n}function DY(t,e){const n={},i=w(t,["config"]);return i!=null&&AY(i,n),n}function kY(t,e){const n={},i=w(t,["sdkHttpResponse"]);i!=null&&C(n,["sdkHttpResponse"],i);const r=w(t,["nextPageToken"]);r!=null&&C(n,["nextPageToken"],r);const o=w(t,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>gM(a))),C(n,["tuningJobs"],s)}return n}function IY(t,e){const n={},i=w(t,["sdkHttpResponse"]);i!=null&&C(n,["sdkHttpResponse"],i);const r=w(t,["nextPageToken"]);r!=null&&C(n,["nextPageToken"],r);const o=w(t,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>iC(a))),C(n,["tuningJobs"],s)}return n}function FY(t,e){const n={},i=w(t,["name"]);i!=null&&C(n,["model"],i);const r=w(t,["name"]);return r!=null&&C(n,["endpoint"],r),n}function NY(t,e){const n={};if(w(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(w(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=w(t,["examples"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>o)),C(n,["examples","examples"],r)}return n}function RY(t,e,n){const i={};let r=w(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const s=w(t,["gcsUri"]);e!==void 0&&s!=null&&C(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(r==="PREFERENCE_TUNING"){const s=w(t,["gcsUri"]);e!==void 0&&s!=null&&C(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let o=w(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const s=w(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&C(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){const s=w(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&C(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(w(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function gM(t,e){const n={},i=w(t,["sdkHttpResponse"]);i!=null&&C(n,["sdkHttpResponse"],i);const r=w(t,["name"]);r!=null&&C(n,["name"],r);const o=w(t,["state"]);o!=null&&C(n,["state"],KP(o));const s=w(t,["createTime"]);s!=null&&C(n,["createTime"],s);const a=w(t,["tuningTask","startTime"]);a!=null&&C(n,["startTime"],a);const l=w(t,["tuningTask","completeTime"]);l!=null&&C(n,["endTime"],l);const u=w(t,["updateTime"]);u!=null&&C(n,["updateTime"],u);const c=w(t,["description"]);c!=null&&C(n,["description"],c);const h=w(t,["baseModel"]);h!=null&&C(n,["baseModel"],h);const d=w(t,["_self"]);return d!=null&&C(n,["tunedModel"],FY(d)),n}function iC(t,e){const n={},i=w(t,["sdkHttpResponse"]);i!=null&&C(n,["sdkHttpResponse"],i);const r=w(t,["name"]);r!=null&&C(n,["name"],r);const o=w(t,["state"]);o!=null&&C(n,["state"],KP(o));const s=w(t,["createTime"]);s!=null&&C(n,["createTime"],s);const a=w(t,["startTime"]);a!=null&&C(n,["startTime"],a);const l=w(t,["endTime"]);l!=null&&C(n,["endTime"],l);const u=w(t,["updateTime"]);u!=null&&C(n,["updateTime"],u);const c=w(t,["error"]);c!=null&&C(n,["error"],c);const h=w(t,["description"]);h!=null&&C(n,["description"],h);const d=w(t,["baseModel"]);d!=null&&C(n,["baseModel"],d);const f=w(t,["tunedModel"]);f!=null&&C(n,["tunedModel"],f);const y=w(t,["preTunedModel"]);y!=null&&C(n,["preTunedModel"],y);const m=w(t,["supervisedTuningSpec"]);m!=null&&C(n,["supervisedTuningSpec"],m);const v=w(t,["preferenceOptimizationSpec"]);v!=null&&C(n,["preferenceOptimizationSpec"],v);const g=w(t,["tuningDataStats"]);g!=null&&C(n,["tuningDataStats"],g);const p=w(t,["encryptionSpec"]);p!=null&&C(n,["encryptionSpec"],p);const _=w(t,["partnerModelTuningSpec"]);_!=null&&C(n,["partnerModelTuningSpec"],_);const x=w(t,["customBaseModel"]);x!=null&&C(n,["customBaseModel"],x);const T=w(t,["experiment"]);T!=null&&C(n,["experiment"],T);const A=w(t,["labels"]);A!=null&&C(n,["labels"],A);const E=w(t,["outputUri"]);E!=null&&C(n,["outputUri"],E);const k=w(t,["pipelineJob"]);k!=null&&C(n,["pipelineJob"],k);const U=w(t,["serviceAccount"]);U!=null&&C(n,["serviceAccount"],U);const N=w(t,["tunedModelDisplayName"]);N!=null&&C(n,["tunedModelDisplayName"],N);const I=w(t,["veoTuningSpec"]);return I!=null&&C(n,["veoTuningSpec"],I),n}function UY(t,e){const n={},i=w(t,["sdkHttpResponse"]);i!=null&&C(n,["sdkHttpResponse"],i);const r=w(t,["name"]);r!=null&&C(n,["name"],r);const o=w(t,["metadata"]);o!=null&&C(n,["metadata"],o);const s=w(t,["done"]);s!=null&&C(n,["done"],s);const a=w(t,["error"]);return a!=null&&C(n,["error"],a),n}function cF(t,e){const n={},i=w(t,["gcsUri"]);i!=null&&C(n,["validationDatasetUri"],i);const r=w(t,["vertexDatasetResource"]);return r!=null&&C(n,["validationDatasetUri"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LY extends Ba{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new sd(Fa.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:r});return o.baseModel=void 0,await this.tuneInternal(o)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),o=await this.tuneMldevInternal(r);let s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:KT.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=CY(e);return a=Ie("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>iC(c))}else{const u=TY(e);return a=Ie("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>gM(c))}}async listInternal(e){var n,i,r,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=DY(e);return a=Ie("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=IY(c),d=new zI;return Object.assign(d,h),d})}else{const u=SY(e);return a=Ie("tunedModels",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(h=>{const d=h;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const h=kY(c),d=new zI;return Object.assign(d,h),d})}}async cancel(e){var n,i,r,o;let s="",a={};if(this.apiClient.isVertexAI()){const l=vY(e);s=Ie("{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const l=yY(e);s=Ie("{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI()){const a=wY(e,e);return o=Ie("tuningJobs",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),r.then(l=>iC(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=xY(e);return o=Ie("tunedModels",a._url),s=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),r.then(l=>UY(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PY{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const MY=1024*1024*8,OY=3,BY=1e3,qY=2,k1="x-goog-upload-status";async function WY(t,e,n){var i;const r=await mM(t,e,n),o=await(r==null?void 0:r.json());if(((i=r==null?void 0:r.headers)===null||i===void 0?void 0:i[k1])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function $Y(t,e,n){var i;const r=await mM(t,e,n),o=await(r==null?void 0:r.json());if(((i=r==null?void 0:r.headers)===null||i===void 0?void 0:i[k1])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=HP(o),a=new QA;return Object.assign(a,s),a}async function mM(t,e,n){var i,r;let o=0,s=0,a=new JT(new Response),l="upload";for(o=t.size;s<o;){const u=Math.min(MY,o-s),c=t.slice(s,s+u);s+u>=o&&(l+=", finalize");let h=0,d=BY;for(;h<OY&&(a=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(s),"Content-Length":String(u)}}}),!(!((i=a==null?void 0:a.headers)===null||i===void 0)&&i[k1]));)h++,await HY(d),d=d*qY;if(s+=u,((r=a==null?void 0:a.headers)===null||r===void 0?void 0:r[k1])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function zY(t){return{size:t.size,type:t.type}}function HY(t){return new Promise(e=>setTimeout(e,t))}class VY{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await WY(e,n,i)}async uploadToFileSearchStore(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await $Y(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await zY(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GY{create(e,n,i){return new jY(e,n,i)}}class jY{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dF="x-goog-api-key";class XY{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(dF)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(dF,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YY="gl-node/";class yM{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=qz(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const r=new XY(this.apiKey);this.apiClient=new hX({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:YY+"web",uploader:new VY,downloader:new PY}),this.models=new FX(this.apiClient),this.live=new EX(this.apiClient,r,new GY),this.batches=new dV(this.apiClient),this.chats=new zV(this.models,this.apiClient),this.caches=new qV(this.apiClient),this.files=new QV(this.apiClient),this.operations=new NX(this.apiClient),this.authTokens=new jX(this.apiClient),this.tunings=new LY(this.apiClient),this.fileSearchStores=new mY(this.apiClient)}}const KY=t=>t.map(e=>e.text).join(" "),Pl=(t,e)=>{let i=`Transcript:
---
${KY(t)}
---`;if(e&&e.length>0){const r=e.map(o=>`Handout: ${o.name}
---
${o.content}`).join(`

`);i+=`

Supplementary Handouts:
===
${r}
===`}return i},vM=(t,e)=>{switch(t){case jl.Notes:return`You are an expert note-taker. Your task is to create a single, cohesive set of notes by integrating information from BOTH the lecture transcript and any supplementary handouts. Organize the combined information into a structured, easy-to-read document using semantic HTML.
- Your entire response MUST be valid HTML. Do not include Markdown.
- Use headings (e.g., <h1>, <h2>), paragraphs (<p>), lists (<ul>, <ol>, <li>), and bold important terms (<strong>).
- This HTML will be rendered in a rich text editor, so ensure it is clean and well-formatted.

${e}`;case jl.StudyGuide:return`You are an expert academic assistant. Based on the combined information from the following lecture transcript and supplementary handouts, create a comprehensive study guide in Markdown format. The guide must synthesize content from all sources and should include:
1.  A brief summary of the main topic, integrating points from both transcript and handouts.
2.  A list of key concepts with clear definitions, drawn from all provided material.
3.  An outline of the most important points, combining information from all sources.
4.  Potential areas of confusion or topics that require further study, considering all materials.

${e}`;case jl.TestQuestions:return`You are an expert educator. Based on the combined information from the following lecture transcript and supplementary handouts, create a set of potential test questions in Markdown format to assess understanding of the entire material. The questions should cover concepts present in either the transcript, the handouts, or the intersection of both. Generate the following:
- 3 multiple-choice questions, each with four options (A, B, C, D) and indicate the correct answer.
- 2 short-answer questions that require a brief explanation.
- 1 essay question that prompts for a more in-depth analysis.

${e}`;default:throw new Error("Invalid generation mode")}},bM=(t,e)=>`You are an expert academic assistant creating study materials. Based on the combined information from the following lecture transcript and supplementary handouts, generate a set of flashcards. The flashcards should promote active recall and deeper understanding, not just simple definitions.

For each flashcard, create a 'front' and a 'back'.
- The 'front' should be a clear, concise question. Vary the question types to cover different levels of understanding. Include questions like:
    - "What is [key term]?"
    - "Explain the concept of [concept]."
    - "Compare and contrast [concept A] and [concept B]."
    - "What is the significance of [event/finding]?"
    - "Describe the process of [process]."
- The 'back' should be a comprehensive answer to the question on the front.

Identify the most important key terms, concepts, facts, and relationships from the provided materials. Create flashcards for concepts found in either the transcript or the handouts. Return exactly ${e} flashcards if the content allows, otherwise return as many as possible up to that number.

${t}`,_M=t=>`Based on the following lecture transcript and handouts, identify 5 to 7 key topics or themes. Return these as a JSON array of strings.
        
Context:
---
${t}
---`,xM=t=>`You are a helpful academic assistant. Your knowledge base is the provided lecture transcript and handouts. Answer the user's questions based ONLY on this context. If the answer isn't in the context, say that you don't have enough information.

${t}`,wM=(t,e,n)=>{switch(t){case zi.Improve:return`You are an expert editor. Review the following text from a lecture transcript. Your task is to improve its readability by correcting any typos, grammatical errors, and awkward phrasing. Do not add new information or change the meaning. Return only the improved text.

Original text:
---
${e}
---`;case zi.Format:return`You are an expert note-taker. Convert the following lecture transcript into a structured set of notes. Use Markdown for formatting, including headings, lists, and bold text for key terms. Return only the formatted notes.

Original text:
---
${e}
---`;case zi.Topics:return`You are an expert analyst. Read the following text from a lecture transcript and identify the key topics and concepts discussed. Present them as a concise bulleted list in Markdown. Return only the list of topics.

Original text:
---
${e}
---`;case zi.Summarize:return`You are an expert summarizer. Provide a concise summary of the following text from a lecture transcript. The summary should capture the main points and be about 1/4 of the original length. Return only the summary.

Original text:
---
${e}
---`;case zi.Custom:if(!n)throw new Error("Custom prompt is required for custom edit mode.");return`You are an expert editor following user instructions. Apply the following instruction to the provided text. Return only the modified text, with no extra commentary.

Instruction: "${n}"

Original text:
---
${e}
---`;default:throw new Error("Invalid AI edit mode.")}},TM={id:"gemini",label:"Google Gemini",description:"Use Google AI Studio API keys to access Gemini 2.0/2.5 models. Supports live transcription.",docsUrl:"https://ai.google.dev/gemini-api/docs",keyLabel:"Gemini API Key",notes:"Best experience for live transcription and multimodal tasks.",supportsLiveTranscription:!0},JY=t=>{const e=new yM({apiKey:t.apiKey}),n=r=>r!=null&&r.useIntelligenceMode?{thinkingConfig:{thinkingBudget:32768}}:{},i=(r,o,s)=>s!=null&&s.useIntelligenceMode?o:r;return{id:"gemini",metadata:TM,rawConfig:t,processTranscript:async(r,o,s,a)=>{const l=Pl(r,s),u=vM(o,l);return(await e.models.generateContent({model:i("gemini-flash-lite-latest","gemini-2.5-pro",a),contents:u,config:n(a)})).text},generateFlashcards:async(r,o,s)=>{const a=(s==null?void 0:s.count)??10,l=Pl(r,o),u=bM(l,a),h=(await e.models.generateContent({model:i("gemini-flash-lite-latest","gemini-2.5-pro",s),contents:u,config:{responseMimeType:"application/json",responseSchema:{type:Vi.ARRAY,items:{type:Vi.OBJECT,properties:{front:{type:Vi.STRING},back:{type:Vi.STRING}},required:["front","back"]}},...n(s)}})).text.trim();return JSON.parse(h)},generateTags:async(r,o)=>{const s=Pl(r,o),a=_M(s),u=(await e.models.generateContent({model:"gemini-flash-lite-latest",contents:a,config:{responseMimeType:"application/json",responseSchema:{type:Vi.ARRAY,items:{type:Vi.STRING}}}})).text.trim();return JSON.parse(u)},generateChatStream:async function*(r,o,s,a,l){var d,f,y,m;const u=Pl(s,a),c=[...r.map(v=>({role:v.role,parts:[{text:v.content}]})),{role:"user",parts:[{text:o}]}],h=await e.models.generateContentStream({model:i("gemini-2.5-flash","gemini-2.5-pro",l),contents:c,config:{systemInstruction:xM(u),tools:l!=null&&l.useSearchGrounding?[{googleSearch:{}}]:void 0,...n(l)}});for await(const v of h){const g=(m=(y=(f=(d=v.candidates)==null?void 0:d[0])==null?void 0:f.groundingMetadata)==null?void 0:y.groundingChunks)==null?void 0:m.map(p=>p.web&&{uri:p.web.uri,title:p.web.title}).filter(p=>!!(p!=null&&p.uri));v.text&&(yield{textDelta:v.text,sources:g&&g.length>0?g:void 0})}},editTranscript:async(r,o,s)=>{const a=wM(o,r,s==null?void 0:s.customPrompt);return(await e.models.generateContent({model:i("gemini-flash-lite-latest","gemini-2.5-pro",s),contents:a,config:n(s)})).text}}},ZY="https://api.openai.com/v1",CM="gpt-4o-mini",QY="gpt-4o",EM={id:"openai",label:"OpenAI (Chat Completions)",description:"Use OpenAI API keys for GPT-4o family models. Supports all AI-powered features except live transcription.",docsUrl:"https://platform.openai.com/docs",keyLabel:"OpenAI API Key",notes:"Requires Chat Completions access. Live transcription currently unavailable.",supportsLiveTranscription:!1,allowsCustomBaseUrl:!0},eK=t=>{var n;return`${(((n=t.baseUrl)==null?void 0:n.trim())||ZY).replace(/\/$/,"")}/chat/completions`},xp=async(t,e)=>{const n=await fetch(eK(t),{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.apiKey}`},body:JSON.stringify(e)});if(!n.ok){const i=await n.text();throw new Error(`OpenAI request failed: ${i}`)}return n.json()},tK=t=>t.map(e=>({role:e.role==="model"?"assistant":"user",content:e.content})),Nv=t=>t!=null&&t.useIntelligenceMode?QY:CM,nK=t=>({id:"openai",metadata:EM,rawConfig:t,processTranscript:async(e,n,i,r)=>{var l,u,c,h;const o=Pl(e,i),s=vM(n,o);return((h=(c=(u=(l=(await xp(t,{model:Nv(r),messages:[{role:"system",content:"You are an expert academic assistant."},{role:"user",content:s}],temperature:.3})).choices)==null?void 0:l[0])==null?void 0:u.message)==null?void 0:c.content)==null?void 0:h.trim())??""},generateFlashcards:async(e,n,i)=>{var l,u,c;const r=Pl(e,n),o=`${bM(r,(i==null?void 0:i.count)??10)}

Return the flashcards as a JSON array with objects using keys "front" and "back".`,a=((c=(u=(l=(await xp(t,{model:Nv(i),messages:[{role:"system",content:"You create excellent study flashcards."},{role:"user",content:o}],temperature:.4})).choices)==null?void 0:l[0])==null?void 0:u.message)==null?void 0:c.content)??"[]";return JSON.parse(a)},generateTags:async(e,n)=>{var a,l,u;const i=Pl(e,n),r=`${_M(i)}

Return only a valid JSON array.`,s=((u=(l=(a=(await xp(t,{model:CM,messages:[{role:"system",content:"You extract concise topical tags."},{role:"user",content:r}],temperature:.2})).choices)==null?void 0:a[0])==null?void 0:l.message)==null?void 0:u.content)??"[]";return JSON.parse(s)},generateChatStream:async function*(e,n,i,r,o){var c,h,d;const s=Pl(i,r),a=[{role:"system",content:xM(s)},...tK(e),{role:"user",content:n}],u=((d=(h=(c=(await xp(t,{model:Nv(o),messages:a,temperature:.3})).choices)==null?void 0:c[0])==null?void 0:h.message)==null?void 0:d.content)??"";u&&(yield{textDelta:u})},editTranscript:async(e,n,i)=>{var s,a,l,u;const r=wM(n,e,i==null?void 0:i.customPrompt);return((u=(l=(a=(s=(await xp(t,{model:Nv(i),messages:[{role:"system",content:"You faithfully transform text according to instructions."},{role:"user",content:r}],temperature:.2})).choices)==null?void 0:s[0])==null?void 0:a.message)==null?void 0:l.content)==null?void 0:u.trim())??""}}),iK={gemini:TM,openai:EM},rK="gemini",oK=t=>{switch(t.provider){case"openai":return nK(t);case"gemini":default:return JY(t)}},sK={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};var Ns={};const aK=()=>{if(typeof window>"u")return null;const t=window.__INTELLINOTE_API_CONFIG;return t&&typeof t.apiKey=="string"&&t.apiKey.length>0?t:zP()},lK=()=>{try{return typeof import.meta<"u"?sK:void 0}catch{return}},uK=()=>{const t=lK(),e=t==null?void 0:t.VITE_API_KEY,n=typeof process<"u"?Ns==null?void 0:Ns.API_KEY:void 0,i=e||n;if(!i)return null;const r=(t==null?void 0:t.VITE_AI_PROVIDER)||(typeof process<"u"?Ns==null?void 0:Ns.AI_PROVIDER:void 0)||rK,o=(t==null?void 0:t.VITE_AI_BASE_URL)||(typeof process<"u"?Ns==null?void 0:Ns.AI_BASE_URL:void 0);return{provider:r,apiKey:i,baseUrl:o||void 0}},cK=()=>aK()??uK(),AM=()=>{const t=cK();if(!t||!t.apiKey)throw new Error("AI provider not configured. Open Settings to add an API key.");return t},jy=()=>{const t=AM();return oK(t)},SM=async(t,e,n,i)=>jy().processTranscript(t,e,n,{useIntelligenceMode:i}),dK=async(t,e,n,i)=>jy().generateFlashcards(t,e,{count:n,useIntelligenceMode:i}),hK=async(t,e)=>jy().generateTags(t,e),fK=async(t,e,n,i,r,o)=>jy().generateChatStream(t,e,n,i,{useSearchGrounding:r,useIntelligenceMode:o}),pK=async(t,e,n,i)=>jy().editTranscript(t,e,{useIntelligenceMode:n,customPrompt:i});var xg={};xg.d=(t,e)=>{for(var n in e)xg.o(e,n)&&!xg.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})};xg.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Ke=globalThis.pdfjsLib={};xg.d(Ke,{AbortException:()=>Ql,AnnotationEditorLayer:()=>hE,AnnotationEditorParamsType:()=>lt,AnnotationEditorType:()=>Ze,AnnotationEditorUIManager:()=>Xc,AnnotationLayer:()=>uZ,AnnotationMode:()=>il,ColorPicker:()=>L1,DOMSVGFactory:()=>fS,DrawLayer:()=>gE,FeatureTest:()=>Si,GlobalWorkerOptions:()=>va,ImageKind:()=>g0,InvalidPDFException:()=>oC,MissingPDFException:()=>jg,OPS:()=>fo,OutputScale:()=>aC,PDFDataRangeTransport:()=>k4,PDFDateString:()=>uS,PDFWorker:()=>ah,PasswordResponses:()=>vK,PermissionFlag:()=>yK,PixelsPerInch:()=>eu,RenderingCancelledException:()=>aS,TextLayer:()=>Xg,TouchManager:()=>R1,UnexpectedResponseException:()=>I1,Util:()=>Oe,VerbosityLevel:()=>d_,XfaLayer:()=>F4,build:()=>zJ,createValidAbsoluteUrl:()=>wK,fetchData:()=>g_,getDocument:()=>UJ,getFilenameFromUrl:()=>FK,getPdfFilenameFromUrl:()=>NK,getXfaPageViewport:()=>RK,isDataScheme:()=>m_,isPdfFile:()=>lS,noContextMenu:()=>Uo,normalizeUnicode:()=>DK,setLayerDimensions:()=>jc,shadow:()=>it,stopEvent:()=>Tr,version:()=>$J});const si=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),DM=[1,0,0,1,0,0],rC=[.001,0,0,.001,0,0],gK=1e7,f2=1.35,_r={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},il={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},mK="pdfjs_internal_editor_",Ze={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},lt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},yK={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Kn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},g0={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},pn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},wp={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},d_={ERRORS:0,WARNINGS:1,INFOS:5},fo={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},vK={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let h_=d_.WARNINGS;function bK(t){Number.isInteger(t)&&(h_=t)}function _K(){return h_}function f_(t){h_>=d_.INFOS&&console.log(`Info: ${t}`)}function Qe(t){h_>=d_.WARNINGS&&console.log(`Warning: ${t}`)}function Et(t){throw new Error(t)}function dn(t,e){t||Et(e)}function xK(t){switch(t==null?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function wK(t,e=null,n=null){if(!t)return null;try{if(n&&typeof t=="string"){if(n.addDefaultProtocol&&t.startsWith("www.")){const r=t.match(/\./g);(r==null?void 0:r.length)>=2&&(t=`http://${t}`)}if(n.tryConvertEncoding)try{t=SK(t)}catch{}}const i=e?new URL(t,e):new URL(t);if(xK(i))return i}catch{}return null}function it(t,e,n,i=!1){return Object.defineProperty(t,e,{value:n,enumerable:!i,configurable:!0,writable:!1}),n}const cu=function(){function e(n,i){this.message=n,this.name=i}return e.prototype=new Error,e.constructor=e,e}();class hF extends cu{constructor(e,n){super(e,"PasswordException"),this.code=n}}class p2 extends cu{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}}class oC extends cu{constructor(e){super(e,"InvalidPDFException")}}class jg extends cu{constructor(e){super(e,"MissingPDFException")}}class I1 extends cu{constructor(e,n){super(e,"UnexpectedResponseException"),this.status=n}}class TK extends cu{constructor(e){super(e,"FormatError")}}class Ql extends cu{constructor(e){super(e,"AbortException")}}function kM(t){(typeof t!="object"||(t==null?void 0:t.length)===void 0)&&Et("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const i=[];for(let r=0;r<e;r+=n){const o=Math.min(r+n,e),s=t.subarray(r,o);i.push(String.fromCharCode.apply(null,s))}return i.join("")}function p_(t){typeof t!="string"&&Et("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let i=0;i<e;++i)n[i]=t.charCodeAt(i)&255;return n}function CK(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function oS(t){const e=Object.create(null);for(const[n,i]of t)e[n]=i;return e}function EK(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function AK(){try{return new Function(""),!0}catch{return!1}}class Si{static get isLittleEndian(){return it(this,"isLittleEndian",EK())}static get isEvalSupported(){return it(this,"isEvalSupported",AK())}static get isOffscreenCanvasSupported(){return it(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return it(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?it(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):it(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,n;return it(this,"isCSSRoundSupported",(n=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:n.call(e,"width: round(1.5px, 1px)"))}}const g2=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));var Ea,m0,sC;class Oe{static makeHexColor(e,n,i){return`#${g2[e]}${g2[n]}${g2[i]}`}static scaleMinMax(e,n){let i;e[0]?(e[0]<0&&(i=n[0],n[0]=n[2],n[2]=i),n[0]*=e[0],n[2]*=e[0],e[3]<0&&(i=n[1],n[1]=n[3],n[3]=i),n[1]*=e[3],n[3]*=e[3]):(i=n[0],n[0]=n[1],n[1]=i,i=n[2],n[2]=n[3],n[3]=i,e[1]<0&&(i=n[1],n[1]=n[3],n[3]=i),n[1]*=e[1],n[3]*=e[1],e[2]<0&&(i=n[0],n[0]=n[2],n[2]=i),n[0]*=e[2],n[2]*=e[2]),n[0]+=e[4],n[1]+=e[5],n[2]+=e[4],n[3]+=e[5]}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static applyTransform(e,n){const i=e[0]*n[0]+e[1]*n[2]+n[4],r=e[0]*n[1]+e[1]*n[3]+n[5];return[i,r]}static applyInverseTransform(e,n){const i=n[0]*n[3]-n[1]*n[2],r=(e[0]*n[3]-e[1]*n[2]+n[2]*n[5]-n[4]*n[3])/i,o=(-e[0]*n[1]+e[1]*n[0]+n[4]*n[1]-n[5]*n[0])/i;return[r,o]}static getAxialAlignedBoundingBox(e,n){const i=this.applyTransform(e,n),r=this.applyTransform(e.slice(2,4),n),o=this.applyTransform([e[0],e[3]],n),s=this.applyTransform([e[2],e[1]],n);return[Math.min(i[0],r[0],o[0],s[0]),Math.min(i[1],r[1],o[1],s[1]),Math.max(i[0],r[0],o[0],s[0]),Math.max(i[1],r[1],o[1],s[1])]}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e){const n=[e[0],e[2],e[1],e[3]],i=e[0]*n[0]+e[1]*n[2],r=e[0]*n[1]+e[1]*n[3],o=e[2]*n[0]+e[3]*n[2],s=e[2]*n[1]+e[3]*n[3],a=(i+s)/2,l=Math.sqrt((i+s)**2-4*(i*s-o*r))/2,u=a+l||1,c=a-l||1;return[Math.sqrt(u),Math.sqrt(c)]}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const i=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(i>r)return null;const o=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),s=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return o>s?null:[i,o,r,s]}static bezierBoundingBox(e,n,i,r,o,s,a,l,u){return u?(u[0]=Math.min(u[0],e,a),u[1]=Math.min(u[1],n,l),u[2]=Math.max(u[2],e,a),u[3]=Math.max(u[3],n,l)):u=[Math.min(e,a),Math.min(n,l),Math.max(e,a),Math.max(n,l)],Y(this,Ea,sC).call(this,e,i,o,a,n,r,s,l,3*(-e+3*(i-o)+a),6*(e-2*i+o),3*(i-e),u),Y(this,Ea,sC).call(this,e,i,o,a,n,r,s,l,3*(-n+3*(r-s)+l),6*(n-2*r+s),3*(r-n),u),u}}Ea=new WeakSet,m0=function(e,n,i,r,o,s,a,l,u,c){if(u<=0||u>=1)return;const h=1-u,d=u*u,f=d*u,y=h*(h*(h*e+3*u*n)+3*d*i)+f*r,m=h*(h*(h*o+3*u*s)+3*d*a)+f*l;c[0]=Math.min(c[0],y),c[1]=Math.min(c[1],m),c[2]=Math.max(c[2],y),c[3]=Math.max(c[3],m)},sC=function(e,n,i,r,o,s,a,l,u,c,h,d){if(Math.abs(u)<1e-12){Math.abs(c)>=1e-12&&Y(this,Ea,m0).call(this,e,n,i,r,o,s,a,l,-h/c,d);return}const f=c**2-4*h*u;if(f<0)return;const y=Math.sqrt(f),m=2*u;Y(this,Ea,m0).call(this,e,n,i,r,o,s,a,l,(-c+y)/m,d),Y(this,Ea,m0).call(this,e,n,i,r,o,s,a,l,(-c-y)/m,d)},j(Oe,Ea);function SK(t){return decodeURIComponent(escape(t))}let m2=null,fF=null;function DK(t){return m2||(m2=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,fF=new Map([["","t"]])),t.replaceAll(m2,(e,n,i)=>n?n.normalize("NFKC"):fF.get(i))}function kK(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const t=new Uint8Array(32);return crypto.getRandomValues(t),kM(t)}const sS="pdfjs_internal_id_";function IK(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(kM(t))}typeof Promise.try!="function"&&(Promise.try=function(t,...e){return new Promise(n=>{n(t(...e))})});const Bs="http://www.w3.org/2000/svg",Au=class Au{};He(Au,"CSS",96),He(Au,"PDF",72),He(Au,"PDF_TO_CSS_UNITS",Au.CSS/Au.PDF);let eu=Au;async function g_(t,e="text"){if(zp(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,i)=>{const r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":n(r.response);return}n(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class Xy{constructor({viewBox:e,userUnit:n,scale:i,rotation:r,offsetX:o=0,offsetY:s=0,dontFlip:a=!1}){this.viewBox=e,this.userUnit=n,this.scale=i,this.rotation=r,this.offsetX=o,this.offsetY=s,i*=n;const l=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let c,h,d,f;switch(r%=360,r<0&&(r+=360),r){case 180:c=-1,h=0,d=0,f=1;break;case 90:c=0,h=1,d=1,f=0;break;case 270:c=0,h=-1,d=-1,f=0;break;case 0:c=1,h=0,d=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(d=-d,f=-f);let y,m,v,g;c===0?(y=Math.abs(u-e[1])*i+o,m=Math.abs(l-e[0])*i+s,v=(e[3]-e[1])*i,g=(e[2]-e[0])*i):(y=Math.abs(l-e[0])*i+o,m=Math.abs(u-e[1])*i+s,v=(e[2]-e[0])*i,g=(e[3]-e[1])*i),this.transform=[c*i,h*i,d*i,f*i,y-c*i*l-d*i*u,m-h*i*l-f*i*u],this.width=v,this.height=g}get rawDims(){const{userUnit:e,viewBox:n}=this,i=n.map(r=>r*e);return it(this,"rawDims",{pageWidth:i[2]-i[0],pageHeight:i[3]-i[1],pageX:i[0],pageY:i[1]})}clone({scale:e=this.scale,rotation:n=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:o=!1}={}){return new Xy({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:n,offsetX:i,offsetY:r,dontFlip:o})}convertToViewportPoint(e,n){return Oe.applyTransform([e,n],this.transform)}convertToViewportRectangle(e){const n=Oe.applyTransform([e[0],e[1]],this.transform),i=Oe.applyTransform([e[2],e[3]],this.transform);return[n[0],n[1],i[0],i[1]]}convertToPdfPoint(e,n){return Oe.applyInverseTransform([e,n],this.transform)}}class aS extends cu{constructor(e,n=0){super(e,"RenderingCancelledException"),this.extraDelay=n}}function m_(t){const e=t.length;let n=0;for(;n<e&&t[n].trim()==="";)n++;return t.substring(n,n+5).toLowerCase()==="data:"}function lS(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function FK(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function NK(t,e="document.pdf"){if(typeof t!="string")return e;if(m_(t))return Qe('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=n.exec(t);let o=i.exec(r[1])||i.exec(r[2])||i.exec(r[3]);if(o&&(o=o[0],o.includes("%")))try{o=i.exec(decodeURIComponent(o))[0]}catch{}return o||e}class pF{constructor(){He(this,"started",Object.create(null));He(this,"times",[])}time(e){e in this.started&&Qe(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Qe(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let n=0;for(const{name:i}of this.times)n=Math.max(i.length,n);for(const{name:i,start:r,end:o}of this.times)e.push(`${i.padEnd(n)} ${o-r}ms
`);return e.join("")}}function zp(t,e){try{const{protocol:n}=e?new URL(t,e):new URL(t);return n==="http:"||n==="https:"}catch{return!1}}function Uo(t){t.preventDefault()}function Tr(t){t.preventDefault(),t.stopPropagation()}var ym;class uS{static toDateObject(e){if(!e||typeof e!="string")return null;b(this,ym)||H(this,ym,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const n=b(this,ym).exec(e);if(!n)return null;const i=parseInt(n[1],10);let r=parseInt(n[2],10);r=r>=1&&r<=12?r-1:0;let o=parseInt(n[3],10);o=o>=1&&o<=31?o:1;let s=parseInt(n[4],10);s=s>=0&&s<=23?s:0;let a=parseInt(n[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(n[6],10);l=l>=0&&l<=59?l:0;const u=n[7]||"Z";let c=parseInt(n[8],10);c=c>=0&&c<=23?c:0;let h=parseInt(n[9],10)||0;return h=h>=0&&h<=59?h:0,u==="-"?(s+=c,a+=h):u==="+"&&(s-=c,a-=h),new Date(Date.UTC(i,r,o,s,a,l))}}ym=new WeakMap,j(uS,ym);function RK(t,{scale:e=1,rotation:n=0}){const{width:i,height:r}=t.attributes.style,o=[0,0,parseInt(i),parseInt(r)];return new Xy({viewBox:o,userUnit:1,scale:e,rotation:n})}function cS(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Qe(`Not a valid color format: "${t}"`),[0,0,0])}function UK(t){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const n of t.keys()){e.style.color=n;const i=window.getComputedStyle(e).color;t.set(n,cS(i))}e.remove()}function Bt(t){const{a:e,b:n,c:i,d:r,e:o,f:s}=t.getTransform();return[e,n,i,r,o,s]}function Ho(t){const{a:e,b:n,c:i,d:r,e:o,f:s}=t.getTransform().invertSelf();return[e,n,i,r,o,s]}function jc(t,e,n=!1,i=!0){if(e instanceof Xy){const{pageWidth:r,pageHeight:o}=e.rawDims,{style:s}=t,a=Si.isCSSRoundSupported,l=`var(--scale-factor) * ${r}px`,u=`var(--scale-factor) * ${o}px`,c=a?`round(down, ${l}, var(--scale-round-x, 1px))`:`calc(${l})`,h=a?`round(down, ${u}, var(--scale-round-y, 1px))`:`calc(${u})`;!n||e.rotation%180===0?(s.width=c,s.height=h):(s.width=h,s.height=c)}i&&t.setAttribute("data-main-rotation",e.rotation)}class aC{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var rl,Ru,po,Uu,vm,bm,Eb,IM,Di,FM,NM,y0,RM,uC;const Hs=class Hs{constructor(e){j(this,Di);j(this,rl,null);j(this,Ru,null);j(this,po);j(this,Uu,null);j(this,vm,null);H(this,po,e),b(Hs,bm)||H(Hs,bm,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=H(this,rl,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const n=b(this,po)._uiManager._signal;e.addEventListener("contextmenu",Uo,{signal:n}),e.addEventListener("pointerdown",Y(Hs,Eb,IM),{signal:n});const i=H(this,Uu,document.createElement("div"));i.className="buttons",e.append(i);const r=b(this,po).toolbarPosition;if(r){const{style:o}=e,s=b(this,po)._uiManager.direction==="ltr"?1-r[0]:r[0];o.insetInlineEnd=`${100*s}%`,o.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return Y(this,Di,RM).call(this),e}get div(){return b(this,rl)}hide(){var e;b(this,rl).classList.add("hidden"),(e=b(this,Ru))==null||e.hideDropdown()}show(){var e;b(this,rl).classList.remove("hidden"),(e=b(this,vm))==null||e.shown()}async addAltText(e){const n=await e.render();Y(this,Di,y0).call(this,n),b(this,Uu).prepend(n,b(this,Di,uC)),H(this,vm,e)}addColorPicker(e){H(this,Ru,e);const n=e.renderButton();Y(this,Di,y0).call(this,n),b(this,Uu).prepend(n,b(this,Di,uC))}remove(){var e;b(this,rl).remove(),(e=b(this,Ru))==null||e.destroy(),H(this,Ru,null)}};rl=new WeakMap,Ru=new WeakMap,po=new WeakMap,Uu=new WeakMap,vm=new WeakMap,bm=new WeakMap,Eb=new WeakSet,IM=function(e){e.stopPropagation()},Di=new WeakSet,FM=function(e){b(this,po)._focusEventsAllowed=!1,Tr(e)},NM=function(e){b(this,po)._focusEventsAllowed=!0,Tr(e)},y0=function(e){const n=b(this,po)._uiManager._signal;e.addEventListener("focusin",Y(this,Di,FM).bind(this),{capture:!0,signal:n}),e.addEventListener("focusout",Y(this,Di,NM).bind(this),{capture:!0,signal:n}),e.addEventListener("contextmenu",Uo,{signal:n})},RM=function(){const{editorType:e,_uiManager:n}=b(this,po),i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",b(Hs,bm)[e]),Y(this,Di,y0).call(this,i),i.addEventListener("click",r=>{n.delete()},{signal:n._signal}),b(this,Uu).append(i)},uC=function(){const e=document.createElement("div");return e.className="divider",e},j(Hs,Eb),j(Hs,bm,null);let lC=Hs;var _m,Lu,Pu,ou,UM,LM,PM;class LK{constructor(e){j(this,ou);j(this,_m,null);j(this,Lu,null);j(this,Pu);H(this,Pu,e)}show(e,n,i){const[r,o]=Y(this,ou,LM).call(this,n,i),{style:s}=b(this,Lu)||H(this,Lu,Y(this,ou,UM).call(this));e.append(b(this,Lu)),s.insetInlineEnd=`${100*r}%`,s.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){b(this,Lu).remove()}}_m=new WeakMap,Lu=new WeakMap,Pu=new WeakMap,ou=new WeakSet,UM=function(){const e=H(this,Lu,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Uo,{signal:b(this,Pu)._signal});const n=H(this,_m,document.createElement("div"));return n.className="buttons",e.append(n),Y(this,ou,PM).call(this),e},LM=function(e,n){let i=0,r=0;for(const o of e){const s=o.y+o.height;if(s<i)continue;const a=o.x+(n?o.width:0);if(s>i){r=a,i=s;continue}n?a>r&&(r=a):a<r&&(r=a)}return[n?1-r:r,i]},PM=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const n=document.createElement("span");e.append(n),n.className="visuallyHidden",n.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=b(this,Pu)._signal;e.addEventListener("contextmenu",Uo,{signal:i}),e.addEventListener("click",()=>{b(this,Pu).highlightSelection("floating_button")},{signal:i}),b(this,_m).append(e)};function F1(t,e,n){for(const i of n)e.addEventListener(i,t[i].bind(t))}var Ab;class PK{constructor(){j(this,Ab,0)}get id(){return`${mK}${mi(this,Ab)._++}`}}Ab=new WeakMap;var fh,xm,ei,ph,v0;const xk=class xk{constructor(){j(this,ph);j(this,fh,kK());j(this,xm,0);j(this,ei,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const o=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return it(this,"_isSVGFittingCanvas",o)}async getFromFile(e){const{lastModified:n,name:i,size:r,type:o}=e;return Y(this,ph,v0).call(this,`${n}_${i}_${r}_${o}`,e)}async getFromUrl(e){return Y(this,ph,v0).call(this,e,e)}async getFromBlob(e,n){const i=await n;return Y(this,ph,v0).call(this,e,i)}async getFromId(e){b(this,ei)||H(this,ei,new Map);const n=b(this,ei).get(e);if(!n)return null;if(n.bitmap)return n.refCounter+=1,n;if(n.file)return this.getFromFile(n.file);if(n.blobPromise){const{blobPromise:i}=n;return delete n.blobPromise,this.getFromBlob(n.id,i)}return this.getFromUrl(n.url)}getFromCanvas(e,n){b(this,ei)||H(this,ei,new Map);let i=b(this,ei).get(e);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const r=new OffscreenCanvas(n.width,n.height);return r.getContext("2d").drawImage(n,0,0),i={bitmap:r.transferToImageBitmap(),id:`image_${b(this,fh)}_${mi(this,xm)._++}`,refCounter:1,isSvg:!1},b(this,ei).set(e,i),b(this,ei).set(i.id,i),i}getSvgUrl(e){const n=b(this,ei).get(e);return n!=null&&n.isSvg?n.svgUrl:null}deleteId(e){var r;b(this,ei)||H(this,ei,new Map);const n=b(this,ei).get(e);if(!n||(n.refCounter-=1,n.refCounter!==0))return;const{bitmap:i}=n;if(!n.url&&!n.file){const o=new OffscreenCanvas(i.width,i.height);o.getContext("bitmaprenderer").transferFromImageBitmap(i),n.blobPromise=o.convertToBlob()}(r=i.close)==null||r.call(i),n.bitmap=null}isValidId(e){return e.startsWith(`image_${b(this,fh)}_`)}};fh=new WeakMap,xm=new WeakMap,ei=new WeakMap,ph=new WeakSet,v0=async function(e,n){b(this,ei)||H(this,ei,new Map);let i=b(this,ei).get(e);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${b(this,fh)}_${mi(this,xm)._++}`,refCounter:0,isSvg:!1});let r;if(typeof n=="string"?(i.url=n,r=await g_(n,"blob")):n instanceof File?r=i.file=n:n instanceof Blob&&(r=n),r.type==="image/svg+xml"){const o=xk._isSVGFittingCanvas,s=new FileReader,a=new Image,l=new Promise((u,c)=>{a.onload=()=>{i.bitmap=a,i.isSvg=!0,u()},s.onload=async()=>{const h=i.svgUrl=s.result;a.src=await o?`${h}#svgView(preserveAspectRatio(none))`:h},a.onerror=s.onerror=c});s.readAsDataURL(r),await l}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){Qe(r),i=null}return b(this,ei).set(e,i),i&&b(this,ei).set(i.id,i),i};let cC=xk;var Qt,ol,wm,Ht;class MK{constructor(e=128){j(this,Qt,[]);j(this,ol,!1);j(this,wm);j(this,Ht,-1);H(this,wm,e)}add({cmd:e,undo:n,post:i,mustExec:r,type:o=NaN,overwriteIfSameType:s=!1,keepUndo:a=!1}){if(r&&e(),b(this,ol))return;const l={cmd:e,undo:n,post:i,type:o};if(b(this,Ht)===-1){b(this,Qt).length>0&&(b(this,Qt).length=0),H(this,Ht,0),b(this,Qt).push(l);return}if(s&&b(this,Qt)[b(this,Ht)].type===o){a&&(l.undo=b(this,Qt)[b(this,Ht)].undo),b(this,Qt)[b(this,Ht)]=l;return}const u=b(this,Ht)+1;u===b(this,wm)?b(this,Qt).splice(0,1):(H(this,Ht,u),u<b(this,Qt).length&&b(this,Qt).splice(u)),b(this,Qt).push(l)}undo(){if(b(this,Ht)===-1)return;H(this,ol,!0);const{undo:e,post:n}=b(this,Qt)[b(this,Ht)];e(),n==null||n(),H(this,ol,!1),H(this,Ht,b(this,Ht)-1)}redo(){if(b(this,Ht)<b(this,Qt).length-1){H(this,Ht,b(this,Ht)+1),H(this,ol,!0);const{cmd:e,post:n}=b(this,Qt)[b(this,Ht)];e(),n==null||n(),H(this,ol,!1)}}hasSomethingToUndo(){return b(this,Ht)!==-1}hasSomethingToRedo(){return b(this,Ht)<b(this,Qt).length-1}cleanType(e){if(b(this,Ht)!==-1){for(let n=b(this,Ht);n>=0;n--)if(b(this,Qt)[n].type!==e){b(this,Qt).splice(n+1,b(this,Ht)-n),H(this,Ht,n);return}b(this,Qt).length=0,H(this,Ht,-1)}}destroy(){H(this,Qt,null)}}Qt=new WeakMap,ol=new WeakMap,wm=new WeakMap,Ht=new WeakMap;var Sb,MM;class Yy{constructor(e){j(this,Sb);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=Si.platform;for(const[i,r,o={}]of e)for(const s of i){const a=s.startsWith("mac+");n&&a?(this.callbacks.set(s.slice(4),{callback:r,options:o}),this.allKeys.add(s.split("+").at(-1))):!n&&!a&&(this.callbacks.set(s,{callback:r,options:o}),this.allKeys.add(s.split("+").at(-1)))}}exec(e,n){if(!this.allKeys.has(n.key))return;const i=this.callbacks.get(Y(this,Sb,MM).call(this,n));if(!i)return;const{callback:r,options:{bubbles:o=!1,args:s=[],checker:a=null}}=i;a&&!a(e,n)||(r.bind(e,...s,n)(),o||Tr(n))}}Sb=new WeakSet,MM=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const n=this.buffer.join("+");return this.buffer.length=0,n};const Db=class Db{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return UK(e),it(this,"_colors",e)}convert(e){const n=cS(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[i,r]of this._colors)if(r.every((o,s)=>o===n[s]))return Db._colorsMapping.get(i);return n}getHexCode(e){const n=this._colors.get(e);return n?Oe.makeHexColor(...n):e}};He(Db,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let dC=Db;var gh,lr,mn,Un,mh,js,yh,Mr,sl,Mu,vh,Ou,Ko,go,Bu,Tm,Cm,bh,Em,Jo,al,_h,ll,Zo,kb,ul,Am,cl,qu,Sm,Dm,Tn,yt,Xs,Wu,km,Im,dl,Qo,Ys,Fm,Or,ke,b0,hC,OM,BM,_0,qM,WM,$M,fC,zM,pC,gC,HM,vi,qs,VM,GM,mC,jM,Hp,yC;const Yd=class Yd{constructor(e,n,i,r,o,s,a,l,u,c,h,d,f){j(this,ke);j(this,gh,new AbortController);j(this,lr,null);j(this,mn,new Map);j(this,Un,new Map);j(this,mh,null);j(this,js,null);j(this,yh,null);j(this,Mr,new MK);j(this,sl,null);j(this,Mu,null);j(this,vh,0);j(this,Ou,new Set);j(this,Ko,null);j(this,go,null);j(this,Bu,new Set);He(this,"_editorUndoBar",null);j(this,Tm,!1);j(this,Cm,!1);j(this,bh,!1);j(this,Em,null);j(this,Jo,null);j(this,al,null);j(this,_h,null);j(this,ll,!1);j(this,Zo,null);j(this,kb,new PK);j(this,ul,!1);j(this,Am,!1);j(this,cl,null);j(this,qu,null);j(this,Sm,null);j(this,Dm,null);j(this,Tn,Ze.NONE);j(this,yt,new Set);j(this,Xs,null);j(this,Wu,null);j(this,km,null);j(this,Im,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});j(this,dl,[0,0]);j(this,Qo,null);j(this,Ys,null);j(this,Fm,null);j(this,Or,null);const y=this._signal=b(this,gh).signal;H(this,Ys,e),H(this,Fm,n),H(this,mh,i),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:y}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:y}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:y}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:y}),r._on("setpreference",this.onSetPreference.bind(this),{signal:y}),r._on("switchannotationeditorparams",m=>this.updateParams(m.type,m.value),{signal:y}),Y(this,ke,qM).call(this),Y(this,ke,HM).call(this),Y(this,ke,fC).call(this),H(this,js,o.annotationStorage),H(this,Em,o.filterFactory),H(this,Wu,s),H(this,_h,a||null),H(this,Tm,l),H(this,Cm,u),H(this,bh,c),H(this,Dm,h||null),this.viewParameters={realScale:eu.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=d||null,this._supportsPinchToZoom=f!==!1}static get _keyboardManager(){const e=Yd.prototype,n=s=>b(s,Ys).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&s.hasSomethingToControl(),i=(s,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},r=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return it(this,"_keyboardManager",new Yy([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],e.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:i}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(s,{target:a})=>!(a instanceof HTMLButtonElement)&&b(s,Ys).contains(a)&&!s.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(s,{target:a})=>!(a instanceof HTMLButtonElement)&&b(s,Ys).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:n}]]))}destroy(){var e,n,i,r,o;(e=b(this,Or))==null||e.resolve(),H(this,Or,null),(n=b(this,gh))==null||n.abort(),H(this,gh,null),this._signal=null;for(const s of b(this,Un).values())s.destroy();b(this,Un).clear(),b(this,mn).clear(),b(this,Bu).clear(),H(this,lr,null),b(this,yt).clear(),b(this,Mr).destroy(),(i=b(this,mh))==null||i.destroy(),(r=b(this,Zo))==null||r.hide(),H(this,Zo,null),b(this,Jo)&&(clearTimeout(b(this,Jo)),H(this,Jo,null)),b(this,Qo)&&(clearTimeout(b(this,Qo)),H(this,Qo,null)),(o=this._editorUndoBar)==null||o.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return b(this,Dm)}get useNewAltTextFlow(){return b(this,Cm)}get useNewAltTextWhenAddingImage(){return b(this,bh)}get hcmFilter(){return it(this,"hcmFilter",b(this,Wu)?b(this,Em).addHCMFilter(b(this,Wu).foreground,b(this,Wu).background):"none")}get direction(){return it(this,"direction",getComputedStyle(b(this,Ys)).direction)}get highlightColors(){return it(this,"highlightColors",b(this,_h)?new Map(b(this,_h).split(",").map(e=>e.split("=").map(n=>n.trim()))):null)}get highlightColorNames(){return it(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),H(this,Mu,e)}setMainHighlightColorPicker(e){H(this,Sm,e)}editAltText(e,n=!1){var i;(i=b(this,mh))==null||i.editAltText(this,e,n)}switchToMode(e,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,n){this._eventBus.dispatch("setpreference",{source:this,name:e,value:n})}onSetPreference({name:e,value:n}){switch(e){case"enableNewAltTextWhenAddingImage":H(this,bh,n);break}}onPageChanging({pageNumber:e}){H(this,vh,e-1)}focusMainContainer(){b(this,Ys).focus()}findParent(e,n){for(const i of b(this,Un).values()){const{x:r,y:o,width:s,height:a}=i.div.getBoundingClientRect();if(e>=r&&e<=r+s&&n>=o&&n<=o+a)return i}return null}disableUserSelect(e=!1){b(this,Fm).classList.toggle("noUserSelect",e)}addShouldRescale(e){b(this,Bu).add(e)}removeShouldRescale(e){b(this,Bu).delete(e)}onScaleChanging({scale:e}){var n;this.commitOrRemove(),this.viewParameters.realScale=e*eu.PDF_TO_CSS_UNITS;for(const i of b(this,Bu))i.onScaleChanging();(n=b(this,Mu))==null||n.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:i,anchorOffset:r,focusNode:o,focusOffset:s}=n,a=n.toString(),u=Y(this,ke,b0).call(this,n).closest(".textLayer"),c=this.getSelectionBoxes(u);if(!c)return;n.empty();const h=Y(this,ke,hC).call(this,u),d=b(this,Tn)===Ze.NONE,f=()=>{h==null||h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:c,anchorNode:i,anchorOffset:r,focusNode:o,focusOffset:s,text:a}),d&&this.showAllEditors("highlight",!0,!0)};if(d){this.switchToMode(Ze.HIGHLIGHT,f);return}f()}addToAnnotationStorage(e){!e.isEmpty()&&b(this,js)&&!b(this,js).has(e.id)&&b(this,js).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,b(this,ll)&&(H(this,ll,!1),Y(this,ke,_0).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const n of b(this,yt))if(n.div.contains(e)){H(this,qu,[n,e]),n._focusEventsAllowed=!1;break}}focus(){if(!b(this,qu))return;const[e,n]=b(this,qu);H(this,qu,null),n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}addEditListeners(){Y(this,ke,fC).call(this),Y(this,ke,pC).call(this)}removeEditListeners(){Y(this,ke,zM).call(this),Y(this,ke,gC).call(this)}dragOver(e){for(const{type:n}of e.dataTransfer.items)for(const i of b(this,go))if(i.isHandlingMimeForPasting(n)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const n of e.dataTransfer.items)for(const i of b(this,go))if(i.isHandlingMimeForPasting(n.type)){i.paste(n,this.currentLayer),e.preventDefault();return}}copy(e){var i;if(e.preventDefault(),(i=b(this,lr))==null||i.commitOrRemove(),!this.hasSelection)return;const n=[];for(const r of b(this,yt)){const o=r.serialize(!0);o&&n.push(o)}n.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:n}=e;for(const o of n.items)for(const s of b(this,go))if(s.isHandlingMimeForPasting(o.type)){s.paste(o,this.currentLayer);return}let i=n.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(o){Qe(`paste: "${o.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const o=[];for(const l of i){const u=await r.deserialize(l);if(!u)return;o.push(u)}const s=()=>{for(const l of o)Y(this,ke,mC).call(this,l);Y(this,ke,yC).call(this,o)},a=()=>{for(const l of o)l.remove()};this.addCommands({cmd:s,undo:a,mustExec:!0})}catch(o){Qe(`paste: "${o.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),b(this,Tn)!==Ze.NONE&&!this.isEditorHandlingKeyboard&&Yd._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,b(this,ll)&&(H(this,ll,!1),Y(this,ke,_0).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(Y(this,ke,WM).call(this),Y(this,ke,pC).call(this),Y(this,ke,vi).call(this,{isEditing:b(this,Tn)!==Ze.NONE,isEmpty:Y(this,ke,Hp).call(this),hasSomethingToUndo:b(this,Mr).hasSomethingToUndo(),hasSomethingToRedo:b(this,Mr).hasSomethingToRedo(),hasSelectedEditor:!1})):(Y(this,ke,$M).call(this),Y(this,ke,gC).call(this),Y(this,ke,vi).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!b(this,go)){H(this,go,e);for(const n of b(this,go))Y(this,ke,qs).call(this,n.defaultPropertiesToUpdate)}}getId(){return b(this,kb).id}get currentLayer(){return b(this,Un).get(b(this,vh))}getLayer(e){return b(this,Un).get(e)}get currentPageIndex(){return b(this,vh)}addLayer(e){b(this,Un).set(e.pageIndex,e),b(this,ul)?e.enable():e.disable()}removeLayer(e){b(this,Un).delete(e.pageIndex)}async updateMode(e,n=null,i=!1){var r;if(b(this,Tn)!==e&&!(b(this,Or)&&(await b(this,Or).promise,!b(this,Or)))){if(H(this,Or,Promise.withResolvers()),H(this,Tn,e),e===Ze.NONE){this.setEditingState(!1),Y(this,ke,GM).call(this),(r=this._editorUndoBar)==null||r.hide(),b(this,Or).resolve();return}this.setEditingState(!0),await Y(this,ke,VM).call(this),this.unselectAll();for(const o of b(this,Un).values())o.updateMode(e);if(!n){i&&this.addNewEditorFromKeyboard(),b(this,Or).resolve();return}for(const o of b(this,mn).values())o.annotationElementId===n?(this.setSelected(o),o.enterInEditMode()):o.unselect();b(this,Or).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==b(this,Tn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,n){var i;if(b(this,go)){switch(e){case lt.CREATE:this.currentLayer.addNewEditor();return;case lt.HIGHLIGHT_DEFAULT_COLOR:(i=b(this,Sm))==null||i.updateColor(n);break;case lt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(b(this,km)||H(this,km,new Map)).set(e,n),this.showAllEditors("highlight",n);break}for(const r of b(this,yt))r.updateParams(e,n);for(const r of b(this,go))r.updateDefaultParams(e,n)}}showAllEditors(e,n,i=!1){var o;for(const s of b(this,mn).values())s.editorType===e&&s.show(n);(((o=b(this,km))==null?void 0:o.get(lt.HIGHLIGHT_SHOW_ALL))??!0)!==n&&Y(this,ke,qs).call(this,[[lt.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(b(this,Am)!==e){H(this,Am,e);for(const n of b(this,Un).values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}getEditors(e){const n=[];for(const i of b(this,mn).values())i.pageIndex===e&&n.push(i);return n}getEditor(e){return b(this,mn).get(e)}addEditor(e){b(this,mn).set(e.id,e)}removeEditor(e){var n;e.div.contains(document.activeElement)&&(b(this,Jo)&&clearTimeout(b(this,Jo)),H(this,Jo,setTimeout(()=>{this.focusMainContainer(),H(this,Jo,null)},0))),b(this,mn).delete(e.id),this.unselect(e),(!e.annotationElementId||!b(this,Ou).has(e.annotationElementId))&&((n=b(this,js))==null||n.remove(e.id))}addDeletedAnnotationElement(e){b(this,Ou).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return b(this,Ou).has(e)}removeDeletedAnnotationElement(e){b(this,Ou).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){b(this,lr)!==e&&(H(this,lr,e),e&&Y(this,ke,qs).call(this,e.propertiesToUpdate))}updateUI(e){b(this,ke,jM)===e&&Y(this,ke,qs).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){Y(this,ke,qs).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(b(this,yt).has(e)){b(this,yt).delete(e),e.unselect(),Y(this,ke,vi).call(this,{hasSelectedEditor:this.hasSelection});return}b(this,yt).add(e),e.select(),Y(this,ke,qs).call(this,e.propertiesToUpdate),Y(this,ke,vi).call(this,{hasSelectedEditor:!0})}setSelected(e){var n;(n=b(this,Mu))==null||n.commitOrRemove();for(const i of b(this,yt))i!==e&&i.unselect();b(this,yt).clear(),b(this,yt).add(e),e.select(),Y(this,ke,qs).call(this,e.propertiesToUpdate),Y(this,ke,vi).call(this,{hasSelectedEditor:!0})}isSelected(e){return b(this,yt).has(e)}get firstSelectedEditor(){return b(this,yt).values().next().value}unselect(e){e.unselect(),b(this,yt).delete(e),Y(this,ke,vi).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return b(this,yt).size!==0}get isEnterHandled(){return b(this,yt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;b(this,Mr).undo(),Y(this,ke,vi).call(this,{hasSomethingToUndo:b(this,Mr).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Y(this,ke,Hp).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){b(this,Mr).redo(),Y(this,ke,vi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:b(this,Mr).hasSomethingToRedo(),isEmpty:Y(this,ke,Hp).call(this)})}addCommands(e){b(this,Mr).add(e),Y(this,ke,vi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Y(this,ke,Hp).call(this)})}cleanUndoStack(e){b(this,Mr).cleanType(e)}delete(){var o;this.commitOrRemove();const e=(o=this.currentLayer)==null?void 0:o.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const n=e?[e]:[...b(this,yt)],i=()=>{var s;(s=this._editorUndoBar)==null||s.show(r,n.length===1?n[0].editorType:n.length);for(const a of n)a.remove()},r=()=>{for(const s of n)Y(this,ke,mC).call(this,s)};this.addCommands({cmd:i,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=b(this,lr))==null||e.commitOrRemove()}hasSomethingToControl(){return b(this,lr)||this.hasSelection}selectAll(){for(const e of b(this,yt))e.commit();Y(this,ke,yC).call(this,b(this,mn).values())}unselectAll(){var e;if(!(b(this,lr)&&(b(this,lr).commitOrRemove(),b(this,Tn)!==Ze.NONE))&&!((e=b(this,Mu))!=null&&e.commitOrRemove())&&this.hasSelection){for(const n of b(this,yt))n.unselect();b(this,yt).clear(),Y(this,ke,vi).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,n,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;b(this,dl)[0]+=e,b(this,dl)[1]+=n;const[r,o]=b(this,dl),s=[...b(this,yt)],a=1e3;b(this,Qo)&&clearTimeout(b(this,Qo)),H(this,Qo,setTimeout(()=>{H(this,Qo,null),b(this,dl)[0]=b(this,dl)[1]=0,this.addCommands({cmd:()=>{for(const l of s)b(this,mn).has(l.id)&&l.translateInPage(r,o)},undo:()=>{for(const l of s)b(this,mn).has(l.id)&&l.translateInPage(-r,-o)},mustExec:!1})},a));for(const l of s)l.translateInPage(e,n)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),H(this,Ko,new Map);for(const e of b(this,yt))b(this,Ko).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!b(this,Ko))return!1;this.disableUserSelect(!1);const e=b(this,Ko);H(this,Ko,null);let n=!1;for(const[{x:r,y:o,pageIndex:s},a]of e)a.newX=r,a.newY=o,a.newPageIndex=s,n||(n=r!==a.savedX||o!==a.savedY||s!==a.savedPageIndex);if(!n)return!1;const i=(r,o,s,a)=>{if(b(this,mn).has(r.id)){const l=b(this,Un).get(a);l?r._setParentAndPosition(l,o,s):(r.pageIndex=a,r.x=o,r.y=s)}};return this.addCommands({cmd:()=>{for(const[r,{newX:o,newY:s,newPageIndex:a}]of e)i(r,o,s,a)},undo:()=>{for(const[r,{savedX:o,savedY:s,savedPageIndex:a}]of e)i(r,o,s,a)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(b(this,Ko))for(const i of b(this,Ko).keys())i.drag(e,n)}rebuild(e){if(e.parent===null){const n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||b(this,yt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return b(this,lr)===e}getActive(){return b(this,lr)}getMode(){return b(this,Tn)}get imageManager(){return it(this,"imageManager",new cC)}getSelectionBoxes(e){if(!e)return null;const n=document.getSelection();for(let u=0,c=n.rangeCount;u<c;u++)if(!e.contains(n.getRangeAt(u).commonAncestorContainer))return null;const{x:i,y:r,width:o,height:s}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(u,c,h,d)=>({x:(c-r)/s,y:1-(u+h-i)/o,width:d/s,height:h/o});break;case"180":a=(u,c,h,d)=>({x:1-(u+h-i)/o,y:1-(c+d-r)/s,width:h/o,height:d/s});break;case"270":a=(u,c,h,d)=>({x:1-(c+d-r)/s,y:(u-i)/o,width:d/s,height:h/o});break;default:a=(u,c,h,d)=>({x:(u-i)/o,y:(c-r)/s,width:h/o,height:d/s});break}const l=[];for(let u=0,c=n.rangeCount;u<c;u++){const h=n.getRangeAt(u);if(!h.collapsed)for(const{x:d,y:f,width:y,height:m}of h.getClientRects())y===0||m===0||l.push(a(d,f,y,m))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:n}){(b(this,yh)||H(this,yh,new Map)).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){var n;(n=b(this,yh))==null||n.delete(e)}renderAnnotationElement(e){var r;const n=(r=b(this,yh))==null?void 0:r.get(e.data.id);if(!n)return;const i=b(this,js).getRawValue(n);i&&(b(this,Tn)===Ze.NONE&&!i.hasBeenModified||i.renderAnnotationElement(e))}};gh=new WeakMap,lr=new WeakMap,mn=new WeakMap,Un=new WeakMap,mh=new WeakMap,js=new WeakMap,yh=new WeakMap,Mr=new WeakMap,sl=new WeakMap,Mu=new WeakMap,vh=new WeakMap,Ou=new WeakMap,Ko=new WeakMap,go=new WeakMap,Bu=new WeakMap,Tm=new WeakMap,Cm=new WeakMap,bh=new WeakMap,Em=new WeakMap,Jo=new WeakMap,al=new WeakMap,_h=new WeakMap,ll=new WeakMap,Zo=new WeakMap,kb=new WeakMap,ul=new WeakMap,Am=new WeakMap,cl=new WeakMap,qu=new WeakMap,Sm=new WeakMap,Dm=new WeakMap,Tn=new WeakMap,yt=new WeakMap,Xs=new WeakMap,Wu=new WeakMap,km=new WeakMap,Im=new WeakMap,dl=new WeakMap,Qo=new WeakMap,Ys=new WeakMap,Fm=new WeakMap,Or=new WeakMap,ke=new WeakSet,b0=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},hC=function(e){const{currentLayer:n}=this;if(n.hasTextLayer(e))return n;for(const i of b(this,Un).values())if(i.hasTextLayer(e))return i;return null},OM=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const i=Y(this,ke,b0).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(b(this,Zo)||H(this,Zo,new LK(this)),b(this,Zo).show(i,r,this.direction==="ltr"))},BM=function(){var o,s,a;const e=document.getSelection();if(!e||e.isCollapsed){b(this,Xs)&&((o=b(this,Zo))==null||o.hide(),H(this,Xs,null),Y(this,ke,vi).call(this,{hasSelectedText:!1}));return}const{anchorNode:n}=e;if(n===b(this,Xs))return;const r=Y(this,ke,b0).call(this,e).closest(".textLayer");if(!r){b(this,Xs)&&((s=b(this,Zo))==null||s.hide(),H(this,Xs,null),Y(this,ke,vi).call(this,{hasSelectedText:!1}));return}if((a=b(this,Zo))==null||a.hide(),H(this,Xs,n),Y(this,ke,vi).call(this,{hasSelectedText:!0}),!(b(this,Tn)!==Ze.HIGHLIGHT&&b(this,Tn)!==Ze.NONE)&&(b(this,Tn)===Ze.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),H(this,ll,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=b(this,Tn)===Ze.HIGHLIGHT?Y(this,ke,hC).call(this,r):null;l==null||l.toggleDrawing();const u=new AbortController,c=this.combinedSignal(u),h=d=>{d.type==="pointerup"&&d.button!==0||(u.abort(),l==null||l.toggleDrawing(!0),d.type==="pointerup"&&Y(this,ke,_0).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:c}),window.addEventListener("blur",h,{signal:c})}},_0=function(e=""){b(this,Tn)===Ze.HIGHLIGHT?this.highlightSelection(e):b(this,Tm)&&Y(this,ke,OM).call(this)},qM=function(){document.addEventListener("selectionchange",Y(this,ke,BM).bind(this),{signal:this._signal})},WM=function(){if(b(this,al))return;H(this,al,new AbortController);const e=this.combinedSignal(b(this,al));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},$M=function(){var e;(e=b(this,al))==null||e.abort(),H(this,al,null)},fC=function(){if(b(this,cl))return;H(this,cl,new AbortController);const e=this.combinedSignal(b(this,cl));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},zM=function(){var e;(e=b(this,cl))==null||e.abort(),H(this,cl,null)},pC=function(){if(b(this,sl))return;H(this,sl,new AbortController);const e=this.combinedSignal(b(this,sl));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},gC=function(){var e;(e=b(this,sl))==null||e.abort(),H(this,sl,null)},HM=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},vi=function(e){Object.entries(e).some(([i,r])=>b(this,Im)[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(b(this,Im),e)}),b(this,Tn)===Ze.HIGHLIGHT&&e.hasSelectedEditor===!1&&Y(this,ke,qs).call(this,[[lt.HIGHLIGHT_FREE,!0]]))},qs=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},VM=async function(){if(!b(this,ul)){H(this,ul,!0);const e=[];for(const n of b(this,Un).values())e.push(n.enable());await Promise.all(e);for(const n of b(this,mn).values())n.enable()}},GM=function(){if(this.unselectAll(),b(this,ul)){H(this,ul,!1);for(const e of b(this,Un).values())e.disable();for(const e of b(this,mn).values())e.disable()}},mC=function(e){const n=b(this,Un).get(e.pageIndex);n?n.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},jM=function(){let e=null;for(e of b(this,yt));return e},Hp=function(){if(b(this,mn).size===0)return!0;if(b(this,mn).size===1)for(const e of b(this,mn).values())return e.isEmpty();return!1},yC=function(e){for(const n of b(this,yt))n.unselect();b(this,yt).clear();for(const n of e)n.isEmpty()||(b(this,yt).add(n),n.select());Y(this,ke,vi).call(this,{hasSelectedEditor:this.hasSelection})},He(Yd,"TRANSLATE_SMALL",1),He(Yd,"TRANSLATE_BIG",10);let Xc=Yd;var Cn,es,mo,xh,ts,ur,wh,ns,Bi,Ks,$u,is,hl,ko,Vp,x0;const bi=class bi{constructor(e){j(this,ko);j(this,Cn,null);j(this,es,!1);j(this,mo,null);j(this,xh,null);j(this,ts,null);j(this,ur,null);j(this,wh,!1);j(this,ns,null);j(this,Bi,null);j(this,Ks,null);j(this,$u,null);j(this,is,!1);H(this,Bi,e),H(this,is,e._uiManager.useNewAltTextFlow),b(bi,hl)||H(bi,hl,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){bi._l10n??(bi._l10n=e)}async render(){const e=H(this,mo,document.createElement("button"));e.className="altText",e.tabIndex="0";const n=H(this,xh,document.createElement("span"));e.append(n),b(this,is)?(e.classList.add("new"),e.setAttribute("data-l10n-id",b(bi,hl).missing),n.setAttribute("data-l10n-id",b(bi,hl)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=b(this,Bi)._uiManager._signal;e.addEventListener("contextmenu",Uo,{signal:i}),e.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:i});const r=o=>{o.preventDefault(),b(this,Bi)._uiManager.editAltText(b(this,Bi)),b(this,is)&&b(this,Bi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:b(this,ko,Vp)}})};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",o=>{o.target===e&&o.key==="Enter"&&(H(this,wh,!0),r(o))},{signal:i}),await Y(this,ko,x0).call(this),e}finish(){b(this,mo)&&(b(this,mo).focus({focusVisible:b(this,wh)}),H(this,wh,!1))}isEmpty(){return b(this,is)?b(this,Cn)===null:!b(this,Cn)&&!b(this,es)}hasData(){return b(this,is)?b(this,Cn)!==null||!!b(this,Ks):this.isEmpty()}get guessedText(){return b(this,Ks)}async setGuessedText(e){b(this,Cn)===null&&(H(this,Ks,e),H(this,$u,await bi._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),Y(this,ko,x0).call(this))}toggleAltTextBadge(e=!1){var n;if(!b(this,is)||b(this,Cn)){(n=b(this,ns))==null||n.remove(),H(this,ns,null);return}if(!b(this,ns)){const i=H(this,ns,document.createElement("div"));i.className="noAltTextBadge",b(this,Bi).div.append(i)}b(this,ns).classList.toggle("hidden",!e)}serialize(e){let n=b(this,Cn);return!e&&b(this,Ks)===n&&(n=b(this,$u)),{altText:n,decorative:b(this,es),guessedText:b(this,Ks),textWithDisclaimer:b(this,$u)}}get data(){return{altText:b(this,Cn),decorative:b(this,es)}}set data({altText:e,decorative:n,guessedText:i,textWithDisclaimer:r,cancel:o=!1}){i&&(H(this,Ks,i),H(this,$u,r)),!(b(this,Cn)===e&&b(this,es)===n)&&(o||(H(this,Cn,e),H(this,es,n)),Y(this,ko,x0).call(this))}toggle(e=!1){b(this,mo)&&(!e&&b(this,ur)&&(clearTimeout(b(this,ur)),H(this,ur,null)),b(this,mo).disabled=!e)}shown(){b(this,Bi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:b(this,ko,Vp)}})}destroy(){var e,n;(e=b(this,mo))==null||e.remove(),H(this,mo,null),H(this,xh,null),H(this,ts,null),(n=b(this,ns))==null||n.remove(),H(this,ns,null)}};Cn=new WeakMap,es=new WeakMap,mo=new WeakMap,xh=new WeakMap,ts=new WeakMap,ur=new WeakMap,wh=new WeakMap,ns=new WeakMap,Bi=new WeakMap,Ks=new WeakMap,$u=new WeakMap,is=new WeakMap,hl=new WeakMap,ko=new WeakSet,Vp=function(){return b(this,Cn)&&"added"||b(this,Cn)===null&&this.guessedText&&"review"||"missing"},x0=async function(){var r,o,s;const e=b(this,mo);if(!e)return;if(b(this,is)){if(e.classList.toggle("done",!!b(this,Cn)),e.setAttribute("data-l10n-id",b(bi,hl)[b(this,ko,Vp)]),(r=b(this,xh))==null||r.setAttribute("data-l10n-id",b(bi,hl)[`${b(this,ko,Vp)}-label`]),!b(this,Cn)){(o=b(this,ts))==null||o.remove();return}}else{if(!b(this,Cn)&&!b(this,es)){e.classList.remove("done"),(s=b(this,ts))==null||s.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let n=b(this,ts);if(!n){H(this,ts,n=document.createElement("span")),n.className="tooltip",n.setAttribute("role","tooltip"),n.id=`alt-text-tooltip-${b(this,Bi).id}`;const a=100,l=b(this,Bi)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(b(this,ur)),H(this,ur,null)},{once:!0}),e.addEventListener("mouseenter",()=>{H(this,ur,setTimeout(()=>{H(this,ur,null),b(this,ts).classList.add("show"),b(this,Bi)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:l}),e.addEventListener("mouseleave",()=>{var u;b(this,ur)&&(clearTimeout(b(this,ur)),H(this,ur,null)),(u=b(this,ts))==null||u.classList.remove("show")},{signal:l})}b(this,es)?n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(n.removeAttribute("data-l10n-id"),n.textContent=b(this,Cn)),n.parentNode||e.append(n);const i=b(this,Bi).getImageForAltText();i==null||i.setAttribute("aria-describedby",n.id)},j(bi,hl,null),He(bi,"_l10n",null);let N1=bi;var Nm,zu,Rm,Um,Lm,Pm,Mm,Th,Js,Hu,fl,Pa,XM,YM,vC;const wk=class wk{constructor({container:e,isPinchingDisabled:n=null,isPinchingStopped:i=null,onPinchStart:r=null,onPinching:o=null,onPinchEnd:s=null,signal:a}){j(this,Pa);j(this,Nm);j(this,zu,!1);j(this,Rm,null);j(this,Um);j(this,Lm);j(this,Pm);j(this,Mm);j(this,Th);j(this,Js,null);j(this,Hu);j(this,fl,null);H(this,Nm,e),H(this,Rm,i),H(this,Um,n),H(this,Lm,r),H(this,Pm,o),H(this,Mm,s),H(this,Hu,new AbortController),H(this,Th,AbortSignal.any([a,b(this,Hu).signal])),e.addEventListener("touchstart",Y(this,Pa,XM).bind(this),{passive:!1,signal:b(this,Th)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return it(this,"MIN_TOUCH_DISTANCE_TO_PINCH",35/(window.devicePixelRatio||1))}destroy(){var e;(e=b(this,Hu))==null||e.abort(),H(this,Hu,null)}};Nm=new WeakMap,zu=new WeakMap,Rm=new WeakMap,Um=new WeakMap,Lm=new WeakMap,Pm=new WeakMap,Mm=new WeakMap,Th=new WeakMap,Js=new WeakMap,Hu=new WeakMap,fl=new WeakMap,Pa=new WeakSet,XM=function(e){var r,o,s;if((r=b(this,Um))!=null&&r.call(this)||e.touches.length<2)return;if(!b(this,fl)){H(this,fl,new AbortController);const a=AbortSignal.any([b(this,Th),b(this,fl).signal]),l=b(this,Nm),u={signal:a,passive:!1};l.addEventListener("touchmove",Y(this,Pa,YM).bind(this),u),l.addEventListener("touchend",Y(this,Pa,vC).bind(this),u),l.addEventListener("touchcancel",Y(this,Pa,vC).bind(this),u),(o=b(this,Lm))==null||o.call(this)}if(Tr(e),e.touches.length!==2||(s=b(this,Rm))!=null&&s.call(this)){H(this,Js,null);return}let[n,i]=e.touches;n.identifier>i.identifier&&([n,i]=[i,n]),H(this,Js,{touch0X:n.screenX,touch0Y:n.screenY,touch1X:i.screenX,touch1Y:i.screenY})},YM=function(e){var x;if(!b(this,Js)||e.touches.length!==2)return;let[n,i]=e.touches;n.identifier>i.identifier&&([n,i]=[i,n]);const{screenX:r,screenY:o}=n,{screenX:s,screenY:a}=i,l=b(this,Js),{touch0X:u,touch0Y:c,touch1X:h,touch1Y:d}=l,f=h-u,y=d-c,m=s-r,v=a-o,g=Math.hypot(m,v)||1,p=Math.hypot(f,y)||1;if(!b(this,zu)&&Math.abs(p-g)<=wk.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=r,l.touch0Y=o,l.touch1X=s,l.touch1Y=a,e.preventDefault(),!b(this,zu)){H(this,zu,!0);return}const _=[(r+s)/2,(o+a)/2];(x=b(this,Pm))==null||x.call(this,_,p,g)},vC=function(e){var n;b(this,fl).abort(),H(this,fl,null),(n=b(this,Mm))==null||n.call(this),b(this,Js)&&(e.preventDefault(),H(this,Js,null),H(this,zu,!1))};let R1=wk;var Vu,yo,Ft,Ch,pl,Om,Gu,Ln,ju,Zs,gl,Bm,Xu,cr,qm,Yu,Qs,rs,Eh,Ah,Br,Ku,Wm,Ib,Ge,bC,$m,_C,w0,KM,JM,xC,T0,wC,ZM,QM,e4,TC,t4,CC,n4,i4,r4,EC,Gp;const et=class et{constructor(e){j(this,Ge);j(this,Vu,null);j(this,yo,null);j(this,Ft,null);j(this,Ch,!1);j(this,pl,null);j(this,Om,"");j(this,Gu,!1);j(this,Ln,null);j(this,ju,null);j(this,Zs,null);j(this,gl,null);j(this,Bm,"");j(this,Xu,!1);j(this,cr,null);j(this,qm,!1);j(this,Yu,!1);j(this,Qs,!1);j(this,rs,null);j(this,Eh,0);j(this,Ah,0);j(this,Br,null);j(this,Ku,null);He(this,"_editToolbar",null);He(this,"_initialOptions",Object.create(null));He(this,"_initialData",null);He(this,"_isVisible",!0);He(this,"_uiManager",null);He(this,"_focusEventsAllowed",!0);j(this,Wm,!1);j(this,Ib,et._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:n,rawDims:{pageWidth:i,pageHeight:r,pageX:o,pageY:s}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[o,s];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=et.prototype._resizeWithKeyboard,n=Xc.TRANSLATE_SMALL,i=Xc.TRANSLATE_BIG;return it(this,"_resizerKeyboardManager",new Yy([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],et.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return it(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const n=new OK({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});n.annotationElementId=e.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(e,n){if(et._l10n??(et._l10n=e),et._l10nResizer||(et._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),et._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);et._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,n){Et("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return b(this,Wm)}set _isDraggable(e){var n;H(this,Wm,e),(n=this.div)==null||n.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(e*2),this.y+=this.width*e/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(e*2),this.y-=this.width*e/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=b(this,Ib)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):Y(this,Ge,Gp).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(b(this,Xu)?H(this,Xu,!1):this.parent.setSelected(this))}focusout(e){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const n=e.relatedTarget;n!=null&&n.closest(`#${this.id}`)||(e.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,n,i,r){const[o,s]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(e+i)/o,this.y=(n+r)/s,this.fixAndSetPosition()}translate(e,n){Y(this,Ge,bC).call(this,this.parentDimensions,e,n)}translateInPage(e,n){b(this,cr)||H(this,cr,[this.x,this.y,this.width,this.height]),Y(this,Ge,bC).call(this,this.pageDimensions,e,n),this.div.scrollIntoView({block:"nearest"})}drag(e,n){b(this,cr)||H(this,cr,[this.x,this.y,this.width,this.height]);const{div:i,parentDimensions:[r,o]}=this;if(this.x+=e/r,this.y+=n/o,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:d}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,d)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:a}=this;const[l,u]=this.getBaseTranslation();s+=l,a+=u;const{style:c}=i;c.left=`${(100*s).toFixed(2)}%`,c.top=`${(100*a).toFixed(2)}%`,this._onTranslating(s,a),i.scrollIntoView({block:"nearest"})}_onTranslating(e,n){}_onTranslated(e,n){}get _hasBeenMoved(){return!!b(this,cr)&&(b(this,cr)[0]!==this.x||b(this,cr)[1]!==this.y)}get _hasBeenResized(){return!!b(this,cr)&&(b(this,cr)[2]!==this.width||b(this,cr)[3]!==this.height)}getBaseTranslation(){const[e,n]=this.parentDimensions,{_borderLineWidth:i}=et,r=i/e,o=i/n;switch(this.rotation){case 90:return[-r,o];case 180:return[r,o];case 270:return[r,-o];default:return[-r,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:n},pageDimensions:[i,r]}=this;let{x:o,y:s,width:a,height:l}=this;if(a*=i,l*=r,o*=i,s*=r,this._mustFixPosition)switch(e){case 0:o=Math.max(0,Math.min(i-a,o)),s=Math.max(0,Math.min(r-l,s));break;case 90:o=Math.max(0,Math.min(i-l,o)),s=Math.min(r,Math.max(a,s));break;case 180:o=Math.min(i,Math.max(a,o)),s=Math.min(r,Math.max(l,s));break;case 270:o=Math.min(i,Math.max(l,o)),s=Math.max(0,Math.min(r-a,s));break}this.x=o/=i,this.y=s/=r;const[u,c]=this.getBaseTranslation();o+=u,s+=c,n.left=`${(100*o).toFixed(2)}%`,n.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,n){var i;return Y(i=et,$m,_C).call(i,e,n,this.parentRotation)}pageTranslationToScreen(e,n){var i;return Y(i=et,$m,_C).call(i,e,n,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[n,i]}=this;return[n*e,i*e]}setDims(e,n){const[i,r]=this.parentDimensions,{style:o}=this.div;o.width=`${(100*e/i).toFixed(2)}%`,b(this,Gu)||(o.height=`${(100*n/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:n,width:i}=e,r=i.endsWith("%"),o=!b(this,Gu)&&n.endsWith("%");if(r&&o)return;const[s,a]=this.parentDimensions;r||(e.width=`${(100*parseFloat(i)/s).toFixed(2)}%`),!b(this,Gu)&&!o&&(e.height=`${(100*parseFloat(n)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=b(this,Ft))==null||e.finish()}async addEditToolbar(){return this._editToolbar||b(this,Yu)?this._editToolbar:(this._editToolbar=new lC(this),this.div.append(this._editToolbar.render()),b(this,Ft)&&await this._editToolbar.addAltText(b(this,Ft)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=b(this,Ft))==null||e.destroy())}addContainer(e){var i;const n=(i=this._editToolbar)==null?void 0:i.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){b(this,Ft)||(N1.initialize(et._l10n),H(this,Ft,new N1(this)),b(this,Vu)&&(b(this,Ft).data=b(this,Vu),H(this,Vu,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=b(this,Ft))==null?void 0:e.data}set altTextData(e){b(this,Ft)&&(b(this,Ft).data=e)}get guessedAltText(){var e;return(e=b(this,Ft))==null?void 0:e.guessedText}async setGuessedAltText(e){var n;await((n=b(this,Ft))==null?void 0:n.setGuessedText(e))}serializeAltText(e){var n;return(n=b(this,Ft))==null?void 0:n.serialize(e)}hasAltText(){return!!b(this,Ft)&&!b(this,Ft).isEmpty()}hasAltTextData(){var e;return((e=b(this,Ft))==null?void 0:e.hasData())??!1}render(){var o;this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=b(this,Ch)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),Y(this,Ge,CC).call(this);const[e,n]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*n/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/n).toFixed(2)}%`);const[i,r]=this.getInitialTranslation();return this.translate(i,r),F1(this,this.div,["pointerdown"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(b(this,Ku)||H(this,Ku,new R1({container:this.div,isPinchingDisabled:()=>!this.isSelected,onPinchStart:Y(this,Ge,ZM).bind(this),onPinching:Y(this,Ge,QM).bind(this),onPinchEnd:Y(this,Ge,e4).bind(this),signal:this._uiManager._signal}))),(o=this._uiManager._editorUndoBar)==null||o.hide(),this.div}pointerdown(e){const{isMac:n}=Si.platform;if(e.button!==0||e.ctrlKey&&n){e.preventDefault();return}if(H(this,Xu,!0),this._isDraggable){Y(this,Ge,t4).call(this,e);return}Y(this,Ge,TC).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){b(this,rs)&&clearTimeout(b(this,rs)),H(this,rs,setTimeout(()=>{var e;H(this,rs,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,n,i){e.changeParent(this),this.x=n,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(e,n,i=this.rotation){const r=this.parentScale,[o,s]=this.pageDimensions,[a,l]=this.pageTranslation,u=e/r,c=n/r,h=this.x*o,d=this.y*s,f=this.width*o,y=this.height*s;switch(i){case 0:return[h+u+a,s-d-c-y+l,h+u+f+a,s-d-c+l];case 90:return[h+c+a,s-d+u+l,h+c+y+a,s-d+u+f+l];case 180:return[h-u-f+a,s-d+c+l,h-u+a,s-d+c+y+l];case 270:return[h-c-y+a,s-d-u-f+l,h-c+a,s-d-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,n){const[i,r,o,s]=e,a=o-i,l=s-r;switch(this.rotation){case 0:return[i,n-s,a,l];case 90:return[i,n-r,l,a];case 180:return[o,n-r,a,l];case 270:return[o,n-s,l,a];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){H(this,Yu,!0)}disableEditMode(){H(this,Yu,!1)}isInEditMode(){return b(this,Yu)}shouldGetKeyboardEvents(){return b(this,Qs)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:n,bottom:i,right:r}=this.getClientDimensions(),{innerHeight:o,innerWidth:s}=window;return n<s&&r>0&&e<o&&i>0}rebuild(){Y(this,Ge,CC).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,n=null){Et("An editor must be serializable")}static async deserialize(e,n,i){const r=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:i});r.rotation=e.rotation,H(r,Vu,e.accessibilityData);const[o,s]=r.pageDimensions,[a,l,u,c]=r.getRectInCurrentCoords(e.rect,s);return r.x=a/o,r.y=l/s,r.width=u/o,r.height=c/s,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,n;if((e=b(this,gl))==null||e.abort(),H(this,gl,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),b(this,rs)&&(clearTimeout(b(this,rs)),H(this,rs,null)),Y(this,Ge,Gp).call(this),this.removeEditToolbar(),b(this,Br)){for(const i of b(this,Br).values())clearTimeout(i);H(this,Br,null)}this.parent=null,(n=b(this,Ku))==null||n.destroy(),H(this,Ku,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Y(this,Ge,KM).call(this),b(this,Ln).classList.remove("hidden"),F1(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),H(this,Zs,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const n=b(this,Ln).children;if(!b(this,yo)){H(this,yo,Array.from(n));const s=Y(this,Ge,n4).bind(this),a=Y(this,Ge,i4).bind(this),l=this._uiManager._signal;for(const u of b(this,yo)){const c=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",s,{signal:l}),u.addEventListener("blur",a,{signal:l}),u.addEventListener("focus",Y(this,Ge,r4).bind(this,c),{signal:l}),u.setAttribute("data-l10n-id",et._l10nResizer[c])}}const i=b(this,yo)[0];let r=0;for(const s of n){if(s===i)break;r++}const o=(360-this.rotation+this.parentRotation)%360/90*(b(this,yo).length/4);if(o!==r){if(o<r)for(let a=0;a<r-o;a++)b(this,Ln).append(b(this,Ln).firstChild);else if(o>r)for(let a=0;a<o-r;a++)b(this,Ln).firstChild.before(b(this,Ln).lastChild);let s=0;for(const a of n){const u=b(this,yo)[s++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",et._l10nResizer[u])}}Y(this,Ge,EC).call(this,0),H(this,Qs,!0),b(this,Ln).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,n){b(this,Qs)&&Y(this,Ge,wC).call(this,b(this,Bm),{deltaX:e,deltaY:n,fromKeyboard:!0})}_stopResizingWithKeyboard(){Y(this,Ge,Gp).call(this),this.div.focus()}select(){var e,n,i;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,o;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((o=this._editToolbar)==null||o.show())});return}(n=this._editToolbar)==null||n.show(),(i=b(this,Ft))==null||i.toggleAltTextBadge(!1)}unselect(){var e,n,i,r,o;(e=b(this,Ln))==null||e.classList.add("hidden"),(n=this.div)==null||n.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(o=b(this,Ft))==null||o.toggleAltTextBadge(!0)}updateParams(e,n){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return b(this,qm)}set isEditing(e){H(this,qm,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,n){H(this,Gu,!0);const i=e/n,{style:r}=this.div;r.aspectRatio=i,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,n=!1){if(n){b(this,Br)||H(this,Br,new Map);const{action:i}=e;let r=b(this,Br).get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),b(this,Br).delete(i),b(this,Br).size===0&&H(this,Br,null)},et._telemetryTimeout),b(this,Br).set(i,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),H(this,Ch,!1)}disable(){this.div&&(this.div.tabIndex=-1),H(this,Ch,!0)}renderAnnotationElement(e){let n=e.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),e.container.prepend(n);else if(n.nodeName==="CANVAS"){const i=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),i.before(n)}return n}resetAnnotationElement(e){const{firstChild:n}=e.container;(n==null?void 0:n.nodeName)==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}};Vu=new WeakMap,yo=new WeakMap,Ft=new WeakMap,Ch=new WeakMap,pl=new WeakMap,Om=new WeakMap,Gu=new WeakMap,Ln=new WeakMap,ju=new WeakMap,Zs=new WeakMap,gl=new WeakMap,Bm=new WeakMap,Xu=new WeakMap,cr=new WeakMap,qm=new WeakMap,Yu=new WeakMap,Qs=new WeakMap,rs=new WeakMap,Eh=new WeakMap,Ah=new WeakMap,Br=new WeakMap,Ku=new WeakMap,Wm=new WeakMap,Ib=new WeakMap,Ge=new WeakSet,bC=function([e,n],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/e,this.y+=r/n,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},$m=new WeakSet,_C=function(e,n,i){switch(i){case 90:return[n,-e];case 180:return[-e,-n];case 270:return[-n,e];default:return[e,n]}},w0=function(e){switch(e){case 90:{const[n,i]=this.pageDimensions;return[0,-n/i,i/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,i]=this.pageDimensions;return[0,n/i,-i/n,0]}default:return[1,0,0,1]}},KM=function(){if(b(this,Ln))return;H(this,Ln,document.createElement("div")),b(this,Ln).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const i of e){const r=document.createElement("div");b(this,Ln).append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",Y(this,Ge,JM).bind(this,i),{signal:n}),r.addEventListener("contextmenu",Uo,{signal:n}),r.tabIndex=-1}this.div.prepend(b(this,Ln))},JM=function(e,n){var c;n.preventDefault();const{isMac:i}=Si.platform;if(n.button!==0||n.ctrlKey&&i)return;(c=b(this,Ft))==null||c.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,H(this,ju,[n.screenX,n.screenY]);const o=new AbortController,s=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",Y(this,Ge,wC).bind(this,e),{passive:!0,capture:!0,signal:s}),window.addEventListener("touchmove",Tr,{passive:!1,signal:s}),window.addEventListener("contextmenu",Uo,{signal:s}),H(this,Zs,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const a=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const u=()=>{var h;o.abort(),this.parent.togglePointerEvents(!0),(h=b(this,Ft))==null||h.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=a,this.div.style.cursor=l,Y(this,Ge,T0).call(this)};window.addEventListener("pointerup",u,{signal:s}),window.addEventListener("blur",u,{signal:s})},xC=function(e,n,i,r){this.width=i,this.height=r,this.x=e,this.y=n;const[o,s]=this.parentDimensions;this.setDims(o*i,s*r),this.fixAndSetPosition(),this._onResized()},T0=function(){if(!b(this,Zs))return;const{savedX:e,savedY:n,savedWidth:i,savedHeight:r}=b(this,Zs);H(this,Zs,null);const o=this.x,s=this.y,a=this.width,l=this.height;o===e&&s===n&&a===i&&l===r||this.addCommands({cmd:Y(this,Ge,xC).bind(this,o,s,a,l),undo:Y(this,Ge,xC).bind(this,e,n,i,r),mustExec:!0})},wC=function(e,n){const[i,r]=this.parentDimensions,o=this.x,s=this.y,a=this.width,l=this.height,u=et.MIN_SIZE/i,c=et.MIN_SIZE/r,h=Y(this,Ge,w0).call(this,this.rotation),d=(R,P)=>[h[0]*R+h[2]*P,h[1]*R+h[3]*P],f=Y(this,Ge,w0).call(this,360-this.rotation),y=(R,P)=>[f[0]*R+f[2]*P,f[1]*R+f[3]*P];let m,v,g=!1,p=!1;switch(e){case"topLeft":g=!0,m=(R,P)=>[0,0],v=(R,P)=>[R,P];break;case"topMiddle":m=(R,P)=>[R/2,0],v=(R,P)=>[R/2,P];break;case"topRight":g=!0,m=(R,P)=>[R,0],v=(R,P)=>[0,P];break;case"middleRight":p=!0,m=(R,P)=>[R,P/2],v=(R,P)=>[0,P/2];break;case"bottomRight":g=!0,m=(R,P)=>[R,P],v=(R,P)=>[0,0];break;case"bottomMiddle":m=(R,P)=>[R/2,P],v=(R,P)=>[R/2,0];break;case"bottomLeft":g=!0,m=(R,P)=>[0,P],v=(R,P)=>[R,0];break;case"middleLeft":p=!0,m=(R,P)=>[0,P/2],v=(R,P)=>[R,P/2];break}const _=m(a,l),x=v(a,l);let T=d(...x);const A=et._round(o+T[0]),E=et._round(s+T[1]);let k=1,U=1,N,I;if(n.fromKeyboard)({deltaX:N,deltaY:I}=n);else{const{screenX:R,screenY:P}=n,[z,M]=b(this,ju);[N,I]=this.screenToPageTranslation(R-z,P-M),b(this,ju)[0]=R,b(this,ju)[1]=P}if([N,I]=y(N/i,I/r),g){const R=Math.hypot(a,l);k=U=Math.max(Math.min(Math.hypot(x[0]-_[0]-N,x[1]-_[1]-I)/R,1/a,1/l),u/a,c/l)}else p?k=Math.max(u,Math.min(1,Math.abs(x[0]-_[0]-N)))/a:U=Math.max(c,Math.min(1,Math.abs(x[1]-_[1]-I)))/l;const S=et._round(a*k),L=et._round(l*U);T=d(...v(S,L));const D=A-T[0],$=E-T[1];b(this,cr)||H(this,cr,[this.x,this.y,this.width,this.height]),this.width=S,this.height=L,this.x=D,this.y=$,this.setDims(i*S,r*L),this.fixAndSetPosition(),this._onResizing()},ZM=function(){var e;H(this,Zs,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=b(this,Ft))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},QM=function(e,n,i){let o=.7*(i/n)+1-.7;if(o===1)return;const s=Y(this,Ge,w0).call(this,this.rotation),a=(A,E)=>[s[0]*A+s[2]*E,s[1]*A+s[3]*E],[l,u]=this.parentDimensions,c=this.x,h=this.y,d=this.width,f=this.height,y=et.MIN_SIZE/l,m=et.MIN_SIZE/u;o=Math.max(Math.min(o,1/d,1/f),y/d,m/f);const v=et._round(d*o),g=et._round(f*o);if(v===d&&g===f)return;b(this,cr)||H(this,cr,[c,h,d,f]);const p=a(d/2,f/2),_=et._round(c+p[0]),x=et._round(h+p[1]),T=a(v/2,g/2);this.x=_-T[0],this.y=x-T[1],this.width=v,this.height=g,this.setDims(l*v,u*g),this.fixAndSetPosition(),this._onResizing()},e4=function(){var e;(e=b(this,Ft))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),Y(this,Ge,T0).call(this)},TC=function(e){const{isMac:n}=Si.platform;e.ctrlKey&&!n||e.shiftKey||e.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)},t4=function(e){const{isSelected:n}=this;this._uiManager.setUpDragSession();let i=!1;const r=new AbortController,o=this._uiManager.combinedSignal(r),s={capture:!0,passive:!1,signal:o},a=u=>{r.abort(),H(this,pl,null),H(this,Xu,!1),this._uiManager.endDragSession()||Y(this,Ge,TC).call(this,u),i&&this._onStopDragging()};n&&(H(this,Eh,e.clientX),H(this,Ah,e.clientY),H(this,pl,e.pointerId),H(this,Om,e.pointerType),window.addEventListener("pointermove",u=>{i||(i=!0,this._onStartDragging());const{clientX:c,clientY:h,pointerId:d}=u;if(d!==b(this,pl)){Tr(u);return}const[f,y]=this.screenToPageTranslation(c-b(this,Eh),h-b(this,Ah));H(this,Eh,c),H(this,Ah,h),this._uiManager.dragSelectedEditors(f,y)},s),window.addEventListener("touchmove",Tr,s),window.addEventListener("pointerdown",u=>{u.pointerType===b(this,Om)&&(b(this,Ku)||u.isPrimary)&&a(u),Tr(u)},s));const l=u=>{if(!b(this,pl)||b(this,pl)===u.pointerId){a(u);return}Tr(u)};window.addEventListener("pointerup",l,{signal:o}),window.addEventListener("blur",l,{signal:o})},CC=function(){if(b(this,gl)||!this.div)return;H(this,gl,new AbortController);const e=this._uiManager.combinedSignal(b(this,gl));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},n4=function(e){et._resizerKeyboardManager.exec(this,e)},i4=function(e){var n;b(this,Qs)&&((n=e.relatedTarget)==null?void 0:n.parentNode)!==b(this,Ln)&&Y(this,Ge,Gp).call(this)},r4=function(e){H(this,Bm,b(this,Qs)?e:"")},EC=function(e){if(b(this,yo))for(const n of b(this,yo))n.tabIndex=e},Gp=function(){H(this,Qs,!1),Y(this,Ge,EC).call(this,-1),Y(this,Ge,T0).call(this)},j(et,$m),He(et,"_l10n",null),He(et,"_l10nResizer",null),He(et,"_borderLineWidth",-1),He(et,"_colorManager",new dC),He(et,"_zIndex",1),He(et,"_telemetryTimeout",1e3);let jt=et;class OK extends jt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const gF=3285377520,Rr=4294901760,Vo=65535;class o4{constructor(e){this.h1=e?e&4294967295:gF,this.h2=e?e&4294967295:gF}update(e){let n,i;if(typeof e=="string"){n=new Uint8Array(e.length*2),i=0;for(let m=0,v=e.length;m<v;m++){const g=e.charCodeAt(m);g<=255?n[i++]=g:(n[i++]=g>>>8,n[i++]=g&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),i=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,o=i-r*4,s=new Uint32Array(n.buffer,0,r);let a=0,l=0,u=this.h1,c=this.h2;const h=3432918353,d=461845907,f=h&Vo,y=d&Vo;for(let m=0;m<r;m++)m&1?(a=s[m],a=a*h&Rr|a*f&Vo,a=a<<15|a>>>17,a=a*d&Rr|a*y&Vo,u^=a,u=u<<13|u>>>19,u=u*5+3864292196):(l=s[m],l=l*h&Rr|l*f&Vo,l=l<<15|l>>>17,l=l*d&Rr|l*y&Vo,c^=l,c=c<<13|c>>>19,c=c*5+3864292196);switch(a=0,o){case 3:a^=n[r*4+2]<<16;case 2:a^=n[r*4+1]<<8;case 1:a^=n[r*4],a=a*h&Rr|a*f&Vo,a=a<<15|a>>>17,a=a*d&Rr|a*y&Vo,r&1?u^=a:c^=a}this.h1=u,this.h2=c}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&Rr|e*36045&Vo,n=n*4283543511&Rr|((n<<16|e>>>16)*2950163797&Rr)>>>16,e^=n>>>1,e=e*444984403&Rr|e*60499&Vo,n=n*3301882366&Rr|((n<<16|e>>>16)*3120437893&Rr)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const AC=Object.freeze({map:null,hash:"",transfer:void 0});var Ju,Zu,En,Fb,s4;class dS{constructor(){j(this,Fb);j(this,Ju,!1);j(this,Zu,null);j(this,En,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,n){const i=b(this,En).get(e);return i===void 0?n:Object.assign(n,i)}getRawValue(e){return b(this,En).get(e)}remove(e){if(b(this,En).delete(e),b(this,En).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const n of b(this,En).values())if(n instanceof jt)return;this.onAnnotationEditor(null)}}setValue(e,n){const i=b(this,En).get(e);let r=!1;if(i!==void 0)for(const[o,s]of Object.entries(n))i[o]!==s&&(r=!0,i[o]=s);else r=!0,b(this,En).set(e,n);r&&Y(this,Fb,s4).call(this),n instanceof jt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type)}has(e){return b(this,En).has(e)}getAll(){return b(this,En).size>0?oS(b(this,En)):null}setAll(e){for(const[n,i]of Object.entries(e))this.setValue(n,i)}get size(){return b(this,En).size}resetModified(){b(this,Ju)&&(H(this,Ju,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new a4(this)}get serializable(){if(b(this,En).size===0)return AC;const e=new Map,n=new o4,i=[],r=Object.create(null);let o=!1;for(const[s,a]of b(this,En)){const l=a instanceof jt?a.serialize(!1,r):a;l&&(e.set(s,l),n.update(`${s}:${JSON.stringify(l)}`),o||(o=!!l.bitmap))}if(o)for(const s of e.values())s.bitmap&&i.push(s.bitmap);return e.size>0?{map:e,hash:n.hexdigest(),transfer:i}:AC}get editorStats(){let e=null;const n=new Map;for(const i of b(this,En).values()){if(!(i instanceof jt))continue;const r=i.telemetryFinalData;if(!r)continue;const{type:o}=r;n.has(o)||n.set(o,Object.getPrototypeOf(i).constructor),e||(e=Object.create(null));const s=e[o]||(e[o]=new Map);for(const[a,l]of Object.entries(r)){if(a==="type")continue;let u=s.get(a);u||(u=new Map,s.set(a,u));const c=u.get(l)??0;u.set(l,c+1)}}for(const[i,r]of n)e[i]=r.computeTelemetryFinalData(e[i]);return e}resetModifiedIds(){H(this,Zu,null)}get modifiedIds(){if(b(this,Zu))return b(this,Zu);const e=[];for(const n of b(this,En).values())!(n instanceof jt)||!n.annotationElementId||!n.serialize()||e.push(n.annotationElementId);return H(this,Zu,{ids:new Set(e),hash:e.join(",")})}}Ju=new WeakMap,Zu=new WeakMap,En=new WeakMap,Fb=new WeakSet,s4=function(){b(this,Ju)||(H(this,Ju,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var zm;class a4 extends dS{constructor(n){super();j(this,zm);const{map:i,hash:r,transfer:o}=n.serializable,s=structuredClone(i,o?{transfer:o}:null);H(this,zm,{map:s,hash:r,transfer:o})}get print(){Et("Should not call PrintAnnotationStorage.print")}get serializable(){return b(this,zm)}get modifiedIds(){return it(this,"modifiedIds",{ids:new Set,hash:""})}}zm=new WeakMap;var Sh;class BK{constructor({ownerDocument:e=globalThis.document,styleElement:n=null}){j(this,Sh,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),b(this,Sh).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:n}){if(!(!e||b(this,Sh).has(e.loadedName))){if(dn(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:r,style:o}=e,s=new FontFace(i,r,o);this.addNativeFontFace(s);try{await s.load(),b(this,Sh).add(i),n==null||n(e)}catch{Qe(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(s)}return}Et("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw Qe(`Failed to load font '${i.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const n=e.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var n;const e=!!((n=this._document)!=null&&n.fonts);return it(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(si||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),it(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function n(){for(dn(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const o=i.shift();setTimeout(o.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:n,callback:e};return i.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return it(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,n){function i(x,T){return x.charCodeAt(T)<<24|x.charCodeAt(T+1)<<16|x.charCodeAt(T+2)<<8|x.charCodeAt(T+3)&255}function r(x,T,A,E){const k=x.substring(0,T),U=x.substring(T+A);return k+E+U}let o,s;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let u=0;function c(x,T){if(++u>30){Qe("Load test font never loaded."),T();return}if(l.font="30px "+x,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){T();return}setTimeout(c.bind(null,x,T))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let d=this._loadTestFont;d=r(d,976,h.length,h);const y=16,m=1482184792;let v=i(d,y);for(o=0,s=h.length-3;o<s;o+=4)v=v-m+i(h,o)|0;o<h.length&&(v=v-m+i(h+"XXX",o)|0),d=r(d,y,4,CK(v));const g=`url(data:font/opentype;base64,${btoa(d)});`,p=`@font-face {font-family:"${h}";src:${g}}`;this.insertRule(p);const _=this._document.createElement("div");_.style.visibility="hidden",_.style.width=_.style.height="10px",_.style.position="absolute",_.style.top=_.style.left="0px";for(const x of[e.loadedName,h]){const T=this._document.createElement("span");T.textContent="Hi",T.style.fontFamily=x,_.append(T)}this._document.body.append(_),c(h,()=>{_.remove(),n.complete()})}}Sh=new WeakMap;class qK{constructor(e,{disableFontFace:n=!1,fontExtraProperties:i=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(const o in e)this[o]=e[o];this.disableFontFace=n===!0,this.fontExtraProperties=i===!0,this._inspectFont=r}createNativeFontFace(){var n;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(n=this._inspectFont)==null||n.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${IK(this.data)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(i=this._inspectFont)==null||i.call(this,this,e),n}getPathGenerator(e,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];const i=this.loadedName+"_path_"+n;let r;try{r=e.get(i)}catch(s){Qe(`getPathGenerator - ignoring character: "${s}".`)}const o=new Path2D(r||"");return this.fontExtraProperties||e.delete(i),this.compiledGlyphs[n]=o}}const Rv={DATA:1,ERROR:2},ln={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function mF(){}function Mi(t){if(t instanceof Ql||t instanceof oC||t instanceof jg||t instanceof hF||t instanceof I1||t instanceof p2)return t;switch(t instanceof Error||typeof t=="object"&&t!==null||Et('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new Ql(t.message);case"InvalidPDFException":return new oC(t.message);case"MissingPDFException":return new jg(t.message);case"PasswordException":return new hF(t.message,t.code);case"UnexpectedResponseException":return new I1(t.message,t.status);case"UnknownErrorException":return new p2(t.message,t.details)}return new p2(t.message,t.toString())}var Dh,to,l4,u4,c4,C0;class jp{constructor(e,n,i){j(this,to);j(this,Dh,new AbortController);this.sourceName=e,this.targetName=n,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",Y(this,to,l4).bind(this),{signal:b(this,Dh).signal})}on(e,n){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=n}send(e,n,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},i)}sendWithPromise(e,n,i){const r=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[r]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:n},i)}catch(s){o.reject(s)}return o.promise}sendWithStream(e,n,i,r){const o=this.streamId++,s=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const c=Promise.withResolvers();return this.streamControllers[o]={controller:u,startCall:c,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:s,targetName:a,action:e,streamId:o,data:n,desiredSize:u.desiredSize},r),c.promise},pull:u=>{const c=Promise.withResolvers();return this.streamControllers[o].pullCall=c,l.postMessage({sourceName:s,targetName:a,stream:ln.PULL,streamId:o,desiredSize:u.desiredSize}),c.promise},cancel:u=>{dn(u instanceof Error,"cancel must have a valid reason");const c=Promise.withResolvers();return this.streamControllers[o].cancelCall=c,this.streamControllers[o].isClosed=!0,l.postMessage({sourceName:s,targetName:a,stream:ln.CANCEL,streamId:o,reason:Mi(u)}),c.promise}},i)}destroy(){var e;(e=b(this,Dh))==null||e.abort(),H(this,Dh,null)}}Dh=new WeakMap,to=new WeakSet,l4=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){Y(this,to,c4).call(this,e);return}if(e.callback){const i=e.callbackId,r=this.callbackCapabilities[i];if(!r)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],e.callback===Rv.DATA)r.resolve(e.data);else if(e.callback===Rv.ERROR)r.reject(Mi(e.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[e.action];if(!n)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const i=this.sourceName,r=e.sourceName,o=this.comObj;Promise.try(n,e.data).then(function(s){o.postMessage({sourceName:i,targetName:r,callback:Rv.DATA,callbackId:e.callbackId,data:s})},function(s){o.postMessage({sourceName:i,targetName:r,callback:Rv.ERROR,callbackId:e.callbackId,reason:Mi(s)})});return}if(e.streamId){Y(this,to,u4).call(this,e);return}n(e.data)},u4=function(e){const n=e.streamId,i=this.sourceName,r=e.sourceName,o=this.comObj,s=this,a=this.actionHandler[e.action],l={enqueue(u,c=1,h){if(this.isCancelled)return;const d=this.desiredSize;this.desiredSize-=c,d>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:i,targetName:r,stream:ln.ENQUEUE,streamId:n,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:i,targetName:r,stream:ln.CLOSE,streamId:n}),delete s.streamSinks[n])},error(u){dn(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:i,targetName:r,stream:ln.ERROR,streamId:n,reason:Mi(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[n]=l,Promise.try(a,e.data,l).then(function(){o.postMessage({sourceName:i,targetName:r,stream:ln.START_COMPLETE,streamId:n,success:!0})},function(u){o.postMessage({sourceName:i,targetName:r,stream:ln.START_COMPLETE,streamId:n,reason:Mi(u)})})},c4=function(e){const n=e.streamId,i=this.sourceName,r=e.sourceName,o=this.comObj,s=this.streamControllers[n],a=this.streamSinks[n];switch(e.stream){case ln.START_COMPLETE:e.success?s.startCall.resolve():s.startCall.reject(Mi(e.reason));break;case ln.PULL_COMPLETE:e.success?s.pullCall.resolve():s.pullCall.reject(Mi(e.reason));break;case ln.PULL:if(!a){o.postMessage({sourceName:i,targetName:r,stream:ln.PULL_COMPLETE,streamId:n,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,Promise.try(a.onPull||mF).then(function(){o.postMessage({sourceName:i,targetName:r,stream:ln.PULL_COMPLETE,streamId:n,success:!0})},function(u){o.postMessage({sourceName:i,targetName:r,stream:ln.PULL_COMPLETE,streamId:n,reason:Mi(u)})});break;case ln.ENQUEUE:if(dn(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(e.chunk);break;case ln.CLOSE:if(dn(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),Y(this,to,C0).call(this,s,n);break;case ln.ERROR:dn(s,"error should have stream controller"),s.controller.error(Mi(e.reason)),Y(this,to,C0).call(this,s,n);break;case ln.CANCEL_COMPLETE:e.success?s.cancelCall.resolve():s.cancelCall.reject(Mi(e.reason)),Y(this,to,C0).call(this,s,n);break;case ln.CANCEL:if(!a)break;const l=Mi(e.reason);Promise.try(a.onCancel||mF,l).then(function(){o.postMessage({sourceName:i,targetName:r,stream:ln.CANCEL_COMPLETE,streamId:n,success:!0})},function(u){o.postMessage({sourceName:i,targetName:r,stream:ln.CANCEL_COMPLETE,streamId:n,reason:Mi(u)})}),a.sinkCapability.reject(l),a.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}},C0=async function(e,n){var i,r,o;await Promise.allSettled([(i=e.startCall)==null?void 0:i.promise,(r=e.pullCall)==null?void 0:r.promise,(o=e.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[n]};var Hm;class d4{constructor({enableHWA:e=!1}){j(this,Hm,!1);H(this,Hm,e)}create(e,n){if(e<=0||n<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,n);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!b(this,Hm)})}}reset(e,n,i){if(!e.canvas)throw new Error("Canvas is not specified");if(n<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=n,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,n){Et("Abstract method `_createCanvas` called.")}}Hm=new WeakMap;class WK extends d4{constructor({ownerDocument:e=globalThis.document,enableHWA:n=!1}){super({enableHWA:n}),this._document=e}_createCanvas(e,n){const i=this._document.createElement("canvas");return i.width=e,i.height=n,i}}class h4{constructor({baseUrl:e=null,isCompressed:n=!0}){this.baseUrl=e,this.isCompressed=n}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(n).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}async _fetch(e){Et("Abstract method `_fetch` called.")}}class f4 extends h4{async _fetch(e){const n=await g_(e,this.isCompressed?"arraybuffer":"text");return n instanceof ArrayBuffer?new Uint8Array(n):p_(n)}}class p4{addFilter(e){return"none"}addHCMFilter(e,n){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,n,i,r,o){return"none"}destroy(e=!1){}}var Qu,kh,ea,ta,ti,ec,tc,Fe,Jn,Xp,Ed,E0,Ad,g4,SC,Sd,Yp,Kp,DC,Jp;class $K extends p4{constructor({docId:n,ownerDocument:i=globalThis.document}){super();j(this,Fe);j(this,Qu);j(this,kh);j(this,ea);j(this,ta);j(this,ti);j(this,ec);j(this,tc,0);H(this,ta,n),H(this,ti,i)}addFilter(n){if(!n)return"none";let i=b(this,Fe,Jn).get(n);if(i)return i;const[r,o,s]=Y(this,Fe,E0).call(this,n),a=n.length===1?r:`${r}${o}${s}`;if(i=b(this,Fe,Jn).get(a),i)return b(this,Fe,Jn).set(n,i),i;const l=`g_${b(this,ta)}_transfer_map_${mi(this,tc)._++}`,u=Y(this,Fe,Ad).call(this,l);b(this,Fe,Jn).set(n,u),b(this,Fe,Jn).set(a,u);const c=Y(this,Fe,Sd).call(this,l);return Y(this,Fe,Kp).call(this,r,o,s,c),u}addHCMFilter(n,i){var y;const r=`${n}-${i}`,o="base";let s=b(this,Fe,Xp).get(o);if((s==null?void 0:s.key)===r||(s?((y=s.filter)==null||y.remove(),s.key=r,s.url="none",s.filter=null):(s={key:r,url:"none",filter:null},b(this,Fe,Xp).set(o,s)),!n||!i))return s.url;const a=Y(this,Fe,Jp).call(this,n);n=Oe.makeHexColor(...a);const l=Y(this,Fe,Jp).call(this,i);if(i=Oe.makeHexColor(...l),b(this,Fe,Ed).style.color="",n==="#000000"&&i==="#ffffff"||n===i)return s.url;const u=new Array(256);for(let m=0;m<=255;m++){const v=m/255;u[m]=v<=.03928?v/12.92:((v+.055)/1.055)**2.4}const c=u.join(","),h=`g_${b(this,ta)}_hcm_filter`,d=s.filter=Y(this,Fe,Sd).call(this,h);Y(this,Fe,Kp).call(this,c,c,c,d),Y(this,Fe,SC).call(this,d);const f=(m,v)=>{const g=a[m]/255,p=l[m]/255,_=new Array(v+1);for(let x=0;x<=v;x++)_[x]=g+x/v*(p-g);return _.join(",")};return Y(this,Fe,Kp).call(this,f(0,5),f(1,5),f(2,5),d),s.url=Y(this,Fe,Ad).call(this,h),s.url}addAlphaFilter(n){let i=b(this,Fe,Jn).get(n);if(i)return i;const[r]=Y(this,Fe,E0).call(this,[n]),o=`alpha_${r}`;if(i=b(this,Fe,Jn).get(o),i)return b(this,Fe,Jn).set(n,i),i;const s=`g_${b(this,ta)}_alpha_map_${mi(this,tc)._++}`,a=Y(this,Fe,Ad).call(this,s);b(this,Fe,Jn).set(n,a),b(this,Fe,Jn).set(o,a);const l=Y(this,Fe,Sd).call(this,s);return Y(this,Fe,DC).call(this,r,l),a}addLuminosityFilter(n){let i=b(this,Fe,Jn).get(n||"luminosity");if(i)return i;let r,o;if(n?([r]=Y(this,Fe,E0).call(this,[n]),o=`luminosity_${r}`):o="luminosity",i=b(this,Fe,Jn).get(o),i)return b(this,Fe,Jn).set(n,i),i;const s=`g_${b(this,ta)}_luminosity_map_${mi(this,tc)._++}`,a=Y(this,Fe,Ad).call(this,s);b(this,Fe,Jn).set(n,a),b(this,Fe,Jn).set(o,a);const l=Y(this,Fe,Sd).call(this,s);return Y(this,Fe,g4).call(this,l),n&&Y(this,Fe,DC).call(this,r,l),a}addHighlightHCMFilter(n,i,r,o,s){var p;const a=`${i}-${r}-${o}-${s}`;let l=b(this,Fe,Xp).get(n);if((l==null?void 0:l.key)===a||(l?((p=l.filter)==null||p.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},b(this,Fe,Xp).set(n,l)),!i||!r))return l.url;const[u,c]=[i,r].map(Y(this,Fe,Jp).bind(this));let h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[f,y]=[o,s].map(Y(this,Fe,Jp).bind(this));d<h&&([h,d,f,y]=[d,h,y,f]),b(this,Fe,Ed).style.color="";const m=(_,x,T)=>{const A=new Array(256),E=(d-h)/T,k=_/255,U=(x-_)/(255*T);let N=0;for(let I=0;I<=T;I++){const S=Math.round(h+I*E),L=k+I*U;for(let D=N;D<=S;D++)A[D]=L;N=S+1}for(let I=N;I<256;I++)A[I]=A[N-1];return A.join(",")},v=`g_${b(this,ta)}_hcm_${n}_filter`,g=l.filter=Y(this,Fe,Sd).call(this,v);return Y(this,Fe,SC).call(this,g),Y(this,Fe,Kp).call(this,m(f[0],y[0],5),m(f[1],y[1],5),m(f[2],y[2],5),g),l.url=Y(this,Fe,Ad).call(this,v),l.url}destroy(n=!1){var i,r,o,s;n&&((i=b(this,ec))!=null&&i.size)||((r=b(this,ea))==null||r.parentNode.parentNode.remove(),H(this,ea,null),(o=b(this,kh))==null||o.clear(),H(this,kh,null),(s=b(this,ec))==null||s.clear(),H(this,ec,null),H(this,tc,0))}}Qu=new WeakMap,kh=new WeakMap,ea=new WeakMap,ta=new WeakMap,ti=new WeakMap,ec=new WeakMap,tc=new WeakMap,Fe=new WeakSet,Jn=function(){return b(this,kh)||H(this,kh,new Map)},Xp=function(){return b(this,ec)||H(this,ec,new Map)},Ed=function(){if(!b(this,ea)){const n=b(this,ti).createElement("div"),{style:i}=n;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const r=b(this,ti).createElementNS(Bs,"svg");r.setAttribute("width",0),r.setAttribute("height",0),H(this,ea,b(this,ti).createElementNS(Bs,"defs")),n.append(r),r.append(b(this,ea)),b(this,ti).body.append(n)}return b(this,ea)},E0=function(n){if(n.length===1){const u=n[0],c=new Array(256);for(let d=0;d<256;d++)c[d]=u[d]/255;const h=c.join(",");return[h,h,h]}const[i,r,o]=n,s=new Array(256),a=new Array(256),l=new Array(256);for(let u=0;u<256;u++)s[u]=i[u]/255,a[u]=r[u]/255,l[u]=o[u]/255;return[s.join(","),a.join(","),l.join(",")]},Ad=function(n){if(b(this,Qu)===void 0){H(this,Qu,"");const i=b(this,ti).URL;i!==b(this,ti).baseURI&&(m_(i)?Qe('#createUrl: ignore "data:"-URL for performance reasons.'):H(this,Qu,i.split("#",1)[0]))}return`url(${b(this,Qu)}#${n})`},g4=function(n){const i=b(this,ti).createElementNS(Bs,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),n.append(i)},SC=function(n){const i=b(this,ti).createElementNS(Bs,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),n.append(i)},Sd=function(n){const i=b(this,ti).createElementNS(Bs,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",n),b(this,Fe,Ed).append(i),i},Yp=function(n,i,r){const o=b(this,ti).createElementNS(Bs,i);o.setAttribute("type","discrete"),o.setAttribute("tableValues",r),n.append(o)},Kp=function(n,i,r,o){const s=b(this,ti).createElementNS(Bs,"feComponentTransfer");o.append(s),Y(this,Fe,Yp).call(this,s,"feFuncR",n),Y(this,Fe,Yp).call(this,s,"feFuncG",i),Y(this,Fe,Yp).call(this,s,"feFuncB",r)},DC=function(n,i){const r=b(this,ti).createElementNS(Bs,"feComponentTransfer");i.append(r),Y(this,Fe,Yp).call(this,r,"feFuncA",n)},Jp=function(n){return b(this,Fe,Ed).style.color=n,cS(getComputedStyle(b(this,Fe,Ed)).getPropertyValue("color"))};class m4{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(i=>{throw new Error(`Unable to load font data at: ${n}`)})}async _fetch(e){Et("Abstract method `_fetch` called.")}}class y4 extends m4{async _fetch(e){const n=await g_(e,"arraybuffer");return new Uint8Array(n)}}si&&Qe("Please use the `legacy` build in Node.js environments.");async function v4(t){const n=await process.getBuiltinModule("fs").promises.readFile(t);return new Uint8Array(n)}class zK extends p4{}class HK extends d4{_createCanvas(e,n){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,n)}}class VK extends h4{async _fetch(e){return v4(e)}}class GK extends m4{async _fetch(e){return v4(e)}}const ri={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function kC(t,e){if(!e)return;const n=e[2]-e[0],i=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],n,i),t.clip(r)}class hS{getPattern(){Et("Abstract method `getPattern` called.")}}class jK extends hS{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let n;this._type==="axial"?n=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)n.addColorStop(i[0],i[1]);return n}getPattern(e,n,i,r){let o;if(r===ri.STROKE||r===ri.FILL){const s=n.current.getClippedPathBoundingBox(r,Bt(e))||[0,0,0,0],a=Math.ceil(s[2]-s[0])||1,l=Math.ceil(s[3]-s[1])||1,u=n.cachedCanvases.getCanvas("pattern",a,l),c=u.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-s[0],-s[1]),i=Oe.transform(i,[1,0,0,1,s[0],s[1]]),c.transform(...n.baseTransform),this.matrix&&c.transform(...this.matrix),kC(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),o=e.createPattern(u.canvas,"no-repeat");const h=new DOMMatrix(i);o.setTransform(h)}else kC(e,this._bbox),o=this._createGradient(e);return o}}function y2(t,e,n,i,r,o,s,a){const l=e.coords,u=e.colors,c=t.data,h=t.width*4;let d;l[n+1]>l[i+1]&&(d=n,n=i,i=d,d=o,o=s,s=d),l[i+1]>l[r+1]&&(d=i,i=r,r=d,d=s,s=a,a=d),l[n+1]>l[i+1]&&(d=n,n=i,i=d,d=o,o=s,s=d);const f=(l[n]+e.offsetX)*e.scaleX,y=(l[n+1]+e.offsetY)*e.scaleY,m=(l[i]+e.offsetX)*e.scaleX,v=(l[i+1]+e.offsetY)*e.scaleY,g=(l[r]+e.offsetX)*e.scaleX,p=(l[r+1]+e.offsetY)*e.scaleY;if(y>=p)return;const _=u[o],x=u[o+1],T=u[o+2],A=u[s],E=u[s+1],k=u[s+2],U=u[a],N=u[a+1],I=u[a+2],S=Math.round(y),L=Math.round(p);let D,$,R,P,z,M,q,F;for(let O=S;O<=L;O++){if(O<v){const Z=O<y?0:(y-O)/(y-v);D=f-(f-m)*Z,$=_-(_-A)*Z,R=x-(x-E)*Z,P=T-(T-k)*Z}else{let Z;O>p?Z=1:v===p?Z=0:Z=(v-O)/(v-p),D=m-(m-g)*Z,$=A-(A-U)*Z,R=E-(E-N)*Z,P=k-(k-I)*Z}let W;O<y?W=0:O>p?W=1:W=(y-O)/(y-p),z=f-(f-g)*W,M=_-(_-U)*W,q=x-(x-N)*W,F=T-(T-I)*W;const J=Math.round(Math.min(D,z)),K=Math.round(Math.max(D,z));let G=h*O+J*4;for(let Z=J;Z<=K;Z++)W=(D-Z)/(D-z),W<0?W=0:W>1&&(W=1),c[G++]=$-($-M)*W|0,c[G++]=R-(R-q)*W|0,c[G++]=P-(P-F)*W|0,c[G++]=255}}function XK(t,e,n){const i=e.coords,r=e.colors;let o,s;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(i.length/a)-1,u=a-1;for(o=0;o<l;o++){let c=o*a;for(let h=0;h<u;h++,c++)y2(t,n,i[c],i[c+1],i[c+a],r[c],r[c+1],r[c+a]),y2(t,n,i[c+a+1],i[c+1],i[c+a],r[c+a+1],r[c+1],r[c+a])}break;case"triangles":for(o=0,s=i.length;o<s;o+=3)y2(t,n,i[o],i[o+1],i[o+2],r[o],r[o+1],r[o+2]);break;default:throw new Error("illegal figure")}}class YK extends hS{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,n,i){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-a,c=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),d=Math.min(Math.ceil(Math.abs(c*e[1]*1.1)),3e3),f=u/h,y=c/d,m={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/f,scaleY:1/y},v=h+2*2,g=d+2*2,p=i.getCanvas("mesh",v,g),_=p.context,x=_.createImageData(h,d);if(n){const A=x.data;for(let E=0,k=A.length;E<k;E+=4)A[E]=n[0],A[E+1]=n[1],A[E+2]=n[2],A[E+3]=255}for(const A of this._figures)XK(x,A,m);return _.putImageData(x,2,2),{canvas:p.canvas,offsetX:a-2*f,offsetY:l-2*y,scaleX:f,scaleY:y}}getPattern(e,n,i,r){kC(e,this._bbox);let o;if(r===ri.SHADING)o=Oe.singularValueDecompose2dScale(Bt(e));else if(o=Oe.singularValueDecompose2dScale(n.baseTransform),this.matrix){const a=Oe.singularValueDecompose2dScale(this.matrix);o=[o[0]*a[0],o[1]*a[1]]}const s=this._createMeshCanvas(o,r===ri.SHADING?null:this._background,n.cachedCanvases);return r!==ri.SHADING&&(e.setTransform(...n.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(s.offsetX,s.offsetY),e.scale(s.scaleX,s.scaleY),e.createPattern(s.canvas,"no-repeat")}}class KK extends hS{getPattern(){return"hotpink"}}function JK(t){switch(t[0]){case"RadialAxial":return new jK(t);case"Mesh":return new YK(t);case"Dummy":return new KK}throw new Error(`Unknown IR type: ${t[0]}`)}const yF={COLORED:1,UNCOLORED:2},Nb=class Nb{constructor(e,n,i,r,o){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=n,this.ctx=i,this.canvasGraphicsFactory=r,this.baseTransform=o}createPatternCanvas(e){const{bbox:n,operatorList:i,paintType:r,tilingType:o,color:s,canvasGraphicsFactory:a}=this;let{xstep:l,ystep:u}=this;l=Math.abs(l),u=Math.abs(u),f_("TilingType: "+o);const c=n[0],h=n[1],d=n[2],f=n[3],y=d-c,m=f-h,v=Oe.singularValueDecompose2dScale(this.matrix),g=Oe.singularValueDecompose2dScale(this.baseTransform),p=v[0]*g[0],_=v[1]*g[1];let x=y,T=m,A=!1,E=!1;const k=Math.ceil(l*p),U=Math.ceil(u*_),N=Math.ceil(y*p),I=Math.ceil(m*_);k>=N?x=l:A=!0,U>=I?T=u:E=!0;const S=this.getSizeAndScale(x,this.ctx.canvas.width,p),L=this.getSizeAndScale(T,this.ctx.canvas.height,_),D=e.cachedCanvases.getCanvas("pattern",S.size,L.size),$=D.context,R=a.createCanvasGraphics($);if(R.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(R,r,s),$.translate(-S.scale*c,-L.scale*h),R.transform(S.scale,0,0,L.scale,0,0),$.save(),this.clipBbox(R,c,h,d,f),R.baseTransform=Bt(R.ctx),R.executeOperatorList(i),R.endDrawing(),$.restore(),A||E){const P=D.canvas;A&&(x=l),E&&(T=u);const z=this.getSizeAndScale(x,this.ctx.canvas.width,p),M=this.getSizeAndScale(T,this.ctx.canvas.height,_),q=z.size,F=M.size,O=e.cachedCanvases.getCanvas("pattern-workaround",q,F),W=O.context,J=A?Math.floor(y/l):0,K=E?Math.floor(m/u):0;for(let G=0;G<=J;G++)for(let Z=0;Z<=K;Z++)W.drawImage(P,q*G,F*Z,q,F,0,0,q,F);return{canvas:O.canvas,scaleX:z.scale,scaleY:M.scale,offsetX:c,offsetY:h}}return{canvas:D.canvas,scaleX:S.scale,scaleY:L.scale,offsetX:c,offsetY:h}}getSizeAndScale(e,n,i){const r=Math.max(Nb.MAX_PATTERN_SIZE,n);let o=Math.ceil(e*i);return o>=r?o=r:i=o/e,{scale:i,size:o}}clipBbox(e,n,i,r,o){const s=r-n,a=o-i;e.ctx.rect(n,i,s,a),e.current.updateRectMinMax(Bt(e.ctx),[n,i,r,o]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,i){const r=e.ctx,o=e.current;switch(n){case yF.COLORED:const s=this.ctx;r.fillStyle=s.fillStyle,r.strokeStyle=s.strokeStyle,o.fillColor=s.fillStyle,o.strokeColor=s.strokeStyle;break;case yF.UNCOLORED:const a=Oe.makeHexColor(i[0],i[1],i[2]);r.fillStyle=a,r.strokeStyle=a,o.fillColor=a,o.strokeColor=a;break;default:throw new TK(`Unsupported paint type: ${n}`)}}getPattern(e,n,i,r){let o=i;r!==ri.SHADING&&(o=Oe.transform(o,n.baseTransform),this.matrix&&(o=Oe.transform(o,this.matrix)));const s=this.createPatternCanvas(n);let a=new DOMMatrix(o);a=a.translate(s.offsetX,s.offsetY),a=a.scale(1/s.scaleX,1/s.scaleY);const l=e.createPattern(s.canvas,"repeat");return l.setTransform(a),l}};He(Nb,"MAX_PATTERN_SIZE",3e3);let IC=Nb;function ZK({src:t,srcPos:e=0,dest:n,width:i,height:r,nonBlackColor:o=4294967295,inverseDecode:s=!1}){const a=Si.isLittleEndian?4278190080:255,[l,u]=s?[o,a]:[a,o],c=i>>3,h=i&7,d=t.length;n=new Uint32Array(n.buffer);let f=0;for(let y=0;y<r;y++){for(const v=e+c;e<v;e++){const g=e<d?t[e]:255;n[f++]=g&128?u:l,n[f++]=g&64?u:l,n[f++]=g&32?u:l,n[f++]=g&16?u:l,n[f++]=g&8?u:l,n[f++]=g&4?u:l,n[f++]=g&2?u:l,n[f++]=g&1?u:l}if(h===0)continue;const m=e<d?t[e++]:255;for(let v=0;v<h;v++)n[f++]=m&1<<7-v?u:l}return{srcPos:e,destPos:f}}const vF=16,bF=100,QK=15,_F=10,xF=1e3,$i=16;function eJ(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(i,r){e.translate(i,r),this.__originalTranslate(i,r)},t.scale=function(i,r){e.scale(i,r),this.__originalScale(i,r)},t.transform=function(i,r,o,s,a,l){e.transform(i,r,o,s,a,l),this.__originalTransform(i,r,o,s,a,l)},t.setTransform=function(i,r,o,s,a,l){e.setTransform(i,r,o,s,a,l),this.__originalSetTransform(i,r,o,s,a,l)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(i){e.rotate(i),this.__originalRotate(i)},t.clip=function(i){e.clip(i),this.__originalClip(i)},t.moveTo=function(n,i){e.moveTo(n,i),this.__originalMoveTo(n,i)},t.lineTo=function(n,i){e.lineTo(n,i),this.__originalLineTo(n,i)},t.bezierCurveTo=function(n,i,r,o,s,a){e.bezierCurveTo(n,i,r,o,s,a),this.__originalBezierCurveTo(n,i,r,o,s,a)},t.rect=function(n,i,r,o){e.rect(n,i,r,o),this.__originalRect(n,i,r,o)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class tJ{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,n,i){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,n,i)):(r=this.canvasFactory.create(n,i),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const n=this.cache[e];this.canvasFactory.destroy(n),delete this.cache[e]}}}function Uv(t,e,n,i,r,o,s,a,l,u){const[c,h,d,f,y,m]=Bt(t);if(h===0&&d===0){const p=s*c+y,_=Math.round(p),x=a*f+m,T=Math.round(x),A=(s+l)*c+y,E=Math.abs(Math.round(A)-_)||1,k=(a+u)*f+m,U=Math.abs(Math.round(k)-T)||1;return t.setTransform(Math.sign(c),0,0,Math.sign(f),_,T),t.drawImage(e,n,i,r,o,0,0,E,U),t.setTransform(c,h,d,f,y,m),[E,U]}if(c===0&&f===0){const p=a*d+y,_=Math.round(p),x=s*h+m,T=Math.round(x),A=(a+u)*d+y,E=Math.abs(Math.round(A)-_)||1,k=(s+l)*h+m,U=Math.abs(Math.round(k)-T)||1;return t.setTransform(0,Math.sign(h),Math.sign(d),0,_,T),t.drawImage(e,n,i,r,o,0,0,U,E),t.setTransform(c,h,d,f,y,m),[U,E]}t.drawImage(e,n,i,r,o,s,a,l,u);const v=Math.hypot(c,h),g=Math.hypot(d,f);return[v*l,g*u]}function nJ(t){const{width:e,height:n}=t;if(e>xF||n>xF)return null;const i=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=e+1;let s=new Uint8Array(o*(n+1)),a,l,u;const c=e+7&-8;let h=new Uint8Array(c*n),d=0;for(const g of t.data){let p=128;for(;p>0;)h[d++]=g&p?0:255,p>>=1}let f=0;for(d=0,h[d]!==0&&(s[0]=1,++f),l=1;l<e;l++)h[d]!==h[d+1]&&(s[l]=h[d]?2:1,++f),d++;for(h[d]!==0&&(s[l]=2,++f),a=1;a<n;a++){d=a*c,u=a*o,h[d-c]!==h[d]&&(s[u]=h[d]?1:8,++f);let g=(h[d]?4:0)+(h[d-c]?8:0);for(l=1;l<e;l++)g=(g>>2)+(h[d+1]?4:0)+(h[d-c+1]?8:0),r[g]&&(s[u+l]=r[g],++f),d++;if(h[d-c]!==h[d]&&(s[u+l]=h[d]?2:4,++f),f>i)return null}for(d=c*(n-1),u=a*o,h[d]!==0&&(s[u]=8,++f),l=1;l<e;l++)h[d]!==h[d+1]&&(s[u+l]=h[d]?4:8,++f),d++;if(h[d]!==0&&(s[u+l]=4,++f),f>i)return null;const y=new Int32Array([0,o,-1,0,-o,0,0,0,1]),m=new Path2D;for(a=0;f&&a<=n;a++){let g=a*o;const p=g+e;for(;g<p&&!s[g];)g++;if(g===p)continue;m.moveTo(g%o,a);const _=g;let x=s[g];do{const T=y[x];do g+=T;while(!s[g]);const A=s[g];A!==5&&A!==10?(x=A,s[g]=0):(x=A&51*x>>4,s[g]&=x>>2|x<<2),m.lineTo(g%o,g/o|0),s[g]||--f}while(_!==g);--a}return h=null,s=null,function(g){g.save(),g.scale(1/e,-1/n),g.translate(0,-n),g.fill(m),g.beginPath(),g.restore()}}class wF{constructor(e,n){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=DM,this.textMatrixScale=1,this.fontMatrix=rC,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Kn.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.patternStroke=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,n])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,n){this.x=e,this.y=n}updatePathMinMax(e,n,i){[n,i]=Oe.applyTransform([n,i],e),this.minX=Math.min(this.minX,n),this.minY=Math.min(this.minY,i),this.maxX=Math.max(this.maxX,n),this.maxY=Math.max(this.maxY,i)}updateRectMinMax(e,n){const i=Oe.applyTransform(n,e),r=Oe.applyTransform(n.slice(2),e),o=Oe.applyTransform([n[0],n[3]],e),s=Oe.applyTransform([n[2],n[1]],e);this.minX=Math.min(this.minX,i[0],r[0],o[0],s[0]),this.minY=Math.min(this.minY,i[1],r[1],o[1],s[1]),this.maxX=Math.max(this.maxX,i[0],r[0],o[0],s[0]),this.maxY=Math.max(this.maxY,i[1],r[1],o[1],s[1])}updateScalingPathMinMax(e,n){Oe.scaleMinMax(e,n),this.minX=Math.min(this.minX,n[0]),this.minY=Math.min(this.minY,n[1]),this.maxX=Math.max(this.maxX,n[2]),this.maxY=Math.max(this.maxY,n[3])}updateCurvePathMinMax(e,n,i,r,o,s,a,l,u,c){const h=Oe.bezierBoundingBox(n,i,r,o,s,a,l,u,c);c||this.updateRectMinMax(e,h)}getPathBoundingBox(e=ri.FILL,n=null){const i=[this.minX,this.minY,this.maxX,this.maxY];if(e===ri.STROKE){n||Et("Stroke bounding box must include transform.");const r=Oe.singularValueDecompose2dScale(n),o=r[0]*this.lineWidth/2,s=r[1]*this.lineWidth/2;i[0]-=o,i[1]-=s,i[2]+=o,i[3]+=s}return i}updateClipFromPath(){const e=Oe.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=ri.FILL,n=null){return Oe.intersect(this.clipBox,this.getPathBoundingBox(e,n))}}function TF(t,e){if(e instanceof ImageData){t.putImageData(e,0,0);return}const n=e.height,i=e.width,r=n%$i,o=(n-r)/$i,s=r===0?o:o+1,a=t.createImageData(i,$i);let l=0,u;const c=e.data,h=a.data;let d,f,y,m;if(e.kind===g0.GRAYSCALE_1BPP){const v=c.byteLength,g=new Uint32Array(h.buffer,0,h.byteLength>>2),p=g.length,_=i+7>>3,x=4294967295,T=Si.isLittleEndian?4278190080:255;for(d=0;d<s;d++){for(y=d<o?$i:r,u=0,f=0;f<y;f++){const A=v-l;let E=0;const k=A>_?i:A*8-7,U=k&-8;let N=0,I=0;for(;E<U;E+=8)I=c[l++],g[u++]=I&128?x:T,g[u++]=I&64?x:T,g[u++]=I&32?x:T,g[u++]=I&16?x:T,g[u++]=I&8?x:T,g[u++]=I&4?x:T,g[u++]=I&2?x:T,g[u++]=I&1?x:T;for(;E<k;E++)N===0&&(I=c[l++],N=128),g[u++]=I&N?x:T,N>>=1}for(;u<p;)g[u++]=0;t.putImageData(a,0,d*$i)}}else if(e.kind===g0.RGBA_32BPP){for(f=0,m=i*$i*4,d=0;d<o;d++)h.set(c.subarray(l,l+m)),l+=m,t.putImageData(a,0,f),f+=$i;d<s&&(m=i*r*4,h.set(c.subarray(l,l+m)),t.putImageData(a,0,f))}else if(e.kind===g0.RGB_24BPP)for(y=$i,m=i*y,d=0;d<s;d++){for(d>=o&&(y=r,m=i*y),u=0,f=m;f--;)h[u++]=c[l++],h[u++]=c[l++],h[u++]=c[l++],h[u++]=255;t.putImageData(a,0,d*$i)}else throw new Error(`bad image kind: ${e.kind}`)}function CF(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const n=e.height,i=e.width,r=n%$i,o=(n-r)/$i,s=r===0?o:o+1,a=t.createImageData(i,$i);let l=0;const u=e.data,c=a.data;for(let h=0;h<s;h++){const d=h<o?$i:r;({srcPos:l}=ZK({src:u,srcPos:l,dest:c,width:i,height:d,nonBlackColor:0})),t.putImageData(a,0,h*$i)}}function Tp(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of n)t[i]!==void 0&&(e[i]=t[i]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function Lv(t){if(t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0),!si){const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}}function EF(t,e){if(e)return!0;const n=Oe.singularValueDecompose2dScale(t);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*eu.PDF_TO_CSS_UNITS);return n[0]<=i&&n[1]<=i}const iJ=["butt","round","square"],rJ=["miter","round","bevel"],oJ={},AF={};var Mo,FC,NC,RC;const Tk=class Tk{constructor(e,n,i,r,o,{optionalContentConfig:s,markedContentStack:a=null},l,u){j(this,Mo);this.ctx=e,this.current=new wF(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=i,this.canvasFactory=r,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=s,this.cachedCanvases=new tJ(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,n=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):n}beginDrawing({transform:e,viewport:n,transparency:i=!1,background:r=null}){const o=this.ctx.canvas.width,s=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,o,s),this.ctx.fillStyle=a,i){const l=this.cachedCanvases.getCanvas("transparent",o,s);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Bt(this.compositeCtx))}this.ctx.save(),Lv(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=Bt(this.ctx)}executeOperatorList(e,n,i,r){const o=e.argsArray,s=e.fnArray;let a=n||0;const l=o.length;if(l===a)return a;const u=l-a>_F&&typeof i=="function",c=u?Date.now()+QK:0;let h=0;const d=this.commonObjs,f=this.objs;let y;for(;;){if(r!==void 0&&a===r.nextBreakPoint)return r.breakIt(a,i),a;if(y=s[a],y!==fo.dependency)this[y].apply(this,o[a]);else for(const m of o[a]){const v=m.startsWith("g_")?d:f;if(!v.has(m))return v.get(m,i),a}if(a++,a===l)return a;if(u&&++h>_F){if(Date.now()>c)return i(),a;h=0}}}endDrawing(){Y(this,Mo,FC).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const n of e.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);e.clear()}this._cachedBitmapsMap.clear(),Y(this,Mo,NC).call(this)}_scaleImage(e,n){const i=e.width??e.displayWidth,r=e.height??e.displayHeight;let o=Math.max(Math.hypot(n[0],n[1]),1),s=Math.max(Math.hypot(n[2],n[3]),1),a=i,l=r,u="prescale1",c,h;for(;o>2&&a>1||s>2&&l>1;){let d=a,f=l;o>2&&a>1&&(d=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),o/=a/d),s>2&&l>1&&(f=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,s/=l/f),c=this.cachedCanvases.getCanvas(u,d,f),h=c.context,h.clearRect(0,0,d,f),h.drawImage(e,0,0,a,l,0,0,d,f),e=c.canvas,a=d,l=f,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const n=this.ctx,{width:i,height:r}=e,o=this.current.fillColor,s=this.current.patternFill,a=Bt(n);let l,u,c,h;if((e.bitmap||e.data)&&e.count>1){const k=e.bitmap||e.data.buffer;u=JSON.stringify(s?a:[a.slice(0,4),o]),l=this._cachedBitmapsMap.get(k),l||(l=new Map,this._cachedBitmapsMap.set(k,l));const U=l.get(u);if(U&&!s){const N=Math.round(Math.min(a[0],a[2])+a[4]),I=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:U,offsetX:N,offsetY:I}}c=U}c||(h=this.cachedCanvases.getCanvas("maskCanvas",i,r),CF(h.context,e));let d=Oe.transform(a,[1/i,0,0,-1/r,0,0]);d=Oe.transform(d,[1,0,0,1,0,-r]);const[f,y,m,v]=Oe.getAxialAlignedBoundingBox([0,0,i,r],d),g=Math.round(m-f)||1,p=Math.round(v-y)||1,_=this.cachedCanvases.getCanvas("fillCanvas",g,p),x=_.context,T=f,A=y;x.translate(-T,-A),x.transform(...d),c||(c=this._scaleImage(h.canvas,Ho(x)),c=c.img,l&&s&&l.set(u,c)),x.imageSmoothingEnabled=EF(Bt(x),e.interpolate),Uv(x,c,0,0,c.width,c.height,0,0,i,r),x.globalCompositeOperation="source-in";const E=Oe.transform(Ho(x),[1,0,0,1,-T,-A]);return x.fillStyle=s?o.getPattern(n,this,E,ri.FILL):o,x.fillRect(0,0,i,r),l&&!s&&(this.cachedCanvases.delete("fillCanvas"),l.set(u,_.canvas)),{canvas:_.canvas,offsetX:Math.round(T),offsetY:Math.round(A)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=iJ[e]}setLineJoin(e){this.ctx.lineJoin=rJ[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,n){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(e),i.lineDashOffset=n)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[n,i]of e)switch(n){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.current.fillAlpha=i,this.ctx.globalAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(i,e,n);this.suspendedCtx=this.ctx,this.ctx=r.context;const o=this.ctx;o.setTransform(...Bt(this.suspendedCtx)),Tp(this.suspendedCtx,o),eJ(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Tp(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,n,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,n,i,r){const o=r[0],s=r[1],a=r[2]-o,l=r[3]-s;a===0||l===0||(this.genericComposeSMask(n.context,i,a,l,n.subtype,n.backdrop,n.transferMap,o,s,n.offsetX,n.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,n,i,r,o,s,a,l,u,c,h){let d=e.canvas,f=l-c,y=u-h;if(s){const v=Oe.makeHexColor(...s);if(f<0||y<0||f+i>d.width||y+r>d.height){const g=this.cachedCanvases.getCanvas("maskExtension",i,r),p=g.context;p.drawImage(d,-f,-y),p.globalCompositeOperation="destination-atop",p.fillStyle=v,p.fillRect(0,0,i,r),p.globalCompositeOperation="source-over",d=g.canvas,f=y=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const g=new Path2D;g.rect(f,y,i,r),e.clip(g),e.globalCompositeOperation="destination-atop",e.fillStyle=v,e.fillRect(f,y,i,r),e.restore()}}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),o==="Alpha"&&a?n.filter=this.filterFactory.addAlphaFilter(a):o==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(a));const m=new Path2D;m.rect(l,u,i,r),n.clip(m),n.globalCompositeOperation="destination-in",n.drawImage(d,f,y,i,r,l,u,i,r),n.restore()}save(){this.inSMaskMode?(Tp(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Tp(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,n,i,r,o,s){this.ctx.transform(e,n,i,r,o,s),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,n,i){const r=this.ctx,o=this.current;let s=o.x,a=o.y,l,u;const c=Bt(r),h=c[0]===0&&c[3]===0||c[1]===0&&c[2]===0,d=h?i.slice(0):null;for(let f=0,y=0,m=e.length;f<m;f++)switch(e[f]|0){case fo.rectangle:s=n[y++],a=n[y++];const v=n[y++],g=n[y++],p=s+v,_=a+g;r.moveTo(s,a),v===0||g===0?r.lineTo(p,_):(r.lineTo(p,a),r.lineTo(p,_),r.lineTo(s,_)),h||o.updateRectMinMax(c,[s,a,p,_]),r.closePath();break;case fo.moveTo:s=n[y++],a=n[y++],r.moveTo(s,a),h||o.updatePathMinMax(c,s,a);break;case fo.lineTo:s=n[y++],a=n[y++],r.lineTo(s,a),h||o.updatePathMinMax(c,s,a);break;case fo.curveTo:l=s,u=a,s=n[y+4],a=n[y+5],r.bezierCurveTo(n[y],n[y+1],n[y+2],n[y+3],s,a),o.updateCurvePathMinMax(c,l,u,n[y],n[y+1],n[y+2],n[y+3],s,a,d),y+=6;break;case fo.curveTo2:l=s,u=a,r.bezierCurveTo(s,a,n[y],n[y+1],n[y+2],n[y+3]),o.updateCurvePathMinMax(c,l,u,s,a,n[y],n[y+1],n[y+2],n[y+3],d),s=n[y+2],a=n[y+3],y+=4;break;case fo.curveTo3:l=s,u=a,s=n[y+2],a=n[y+3],r.bezierCurveTo(n[y],n[y+1],s,a,s,a),o.updateCurvePathMinMax(c,l,u,n[y],n[y+1],s,a,s,a,d),y+=4;break;case fo.closePath:r.closePath();break}h&&o.updateScalingPathMinMax(c,d),o.setCurrentPoint(s,a)}closePath(){this.ctx.closePath()}stroke(e=!0){const n=this.ctx,i=this.current.strokeColor;n.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof i=="object"&&(i!=null&&i.getPattern)?(n.save(),n.strokeStyle=i.getPattern(n,this,Ho(n),ri.STROKE),this.rescaleAndStroke(!1),n.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),n.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const n=this.ctx,i=this.current.fillColor,r=this.current.patternFill;let o=!1;r&&(n.save(),n.fillStyle=i.getPattern(n,this,Ho(n),ri.FILL),o=!0);const s=this.current.getClippedPathBoundingBox();this.contentVisible&&s!==null&&(this.pendingEOFill?(n.fill("evenodd"),this.pendingEOFill=!1):n.fill()),o&&n.restore(),e&&this.consumePath(s)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=oJ}eoClip(){this.pendingClip=AF}beginText(){this.current.textMatrix=DM,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,n=this.ctx;if(e===void 0){n.beginPath();return}const i=new Path2D,r=n.getTransform().invertSelf();for(const{transform:o,x:s,y:a,fontSize:l,path:u}of e)i.addPath(u,new DOMMatrix(o).preMultiplySelf(r).translate(s,a).scale(l,-l));n.clip(i),n.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,n){var c;const i=this.commonObjs.get(e),r=this.current;if(!i)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=i.fontMatrix||rC,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Qe("Invalid font matrix for font "+e),n<0?(n=-n,r.fontDirection=-1):r.fontDirection=1,this.current.font=i,this.current.fontSize=n,i.isType3Font)return;const o=i.loadedName||"sans-serif",s=((c=i.systemFontInfo)==null?void 0:c.css)||`"${o}", ${i.fallbackName}`;let a="normal";i.black?a="900":i.bold&&(a="bold");const l=i.italic?"italic":"normal";let u=n;n<vF?u=vF:n>bF&&(u=bF),this.current.fontSizeScale=n/u,this.ctx.font=`${l} ${a} ${u}px ${s}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,n){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,n){this.setLeading(-n),this.moveText(e,n)}setTextMatrix(e,n,i,r,o,s){this.current.textMatrix=[e,n,i,r,o,s],this.current.textMatrixScale=Math.hypot(e,n),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,n,i,r,o){const s=this.ctx,a=this.current,l=a.font,u=a.textRenderingMode,c=a.fontSize/a.fontSizeScale,h=u&Kn.FILL_STROKE_MASK,d=!!(u&Kn.ADD_TO_PATH_FLAG),f=a.patternFill&&!l.missingFile,y=a.patternStroke&&!l.missingFile;let m;if((l.disableFontFace||d||f||y)&&(m=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||f||y){if(s.save(),s.translate(n,i),s.scale(c,-c),h===Kn.FILL||h===Kn.FILL_STROKE)if(r){const v=s.getTransform();s.setTransform(...r),s.fill(Y(this,Mo,RC).call(this,m,v,r))}else s.fill(m);if(h===Kn.STROKE||h===Kn.FILL_STROKE)if(o){const v=s.getTransform();s.setTransform(...o),s.stroke(Y(this,Mo,RC).call(this,m,v,o))}else s.lineWidth/=c,s.stroke(m);s.restore()}else(h===Kn.FILL||h===Kn.FILL_STROKE)&&s.fillText(e,n,i),(h===Kn.STROKE||h===Kn.FILL_STROKE)&&s.strokeText(e,n,i);d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Bt(s),x:n,y:i,fontSize:c,path:m})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const n=e.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<n.length;r+=4)if(n[r]>0&&n[r]<255){i=!0;break}return it(this,"isFontSubpixelAAEnabled",i)}showText(e){const n=this.current,i=n.font;if(i.isType3Font)return this.showType3Text(e);const r=n.fontSize;if(r===0)return;const o=this.ctx,s=n.fontSizeScale,a=n.charSpacing,l=n.wordSpacing,u=n.fontDirection,c=n.textHScale*u,h=e.length,d=i.vertical,f=d?1:-1,y=i.defaultVMetrics,m=r*n.fontMatrix[0],v=n.textRenderingMode===Kn.FILL&&!i.disableFontFace&&!n.patternFill;o.save(),o.transform(...n.textMatrix),o.translate(n.x,n.y+n.textRise),u>0?o.scale(c,-1):o.scale(c,1);let g,p;if(n.patternFill){o.save();const E=n.fillColor.getPattern(o,this,Ho(o),ri.FILL);g=Bt(o),o.restore(),o.fillStyle=E}if(n.patternStroke){o.save();const E=n.strokeColor.getPattern(o,this,Ho(o),ri.STROKE);p=Bt(o),o.restore(),o.strokeStyle=E}let _=n.lineWidth;const x=n.textMatrixScale;if(x===0||_===0){const E=n.textRenderingMode&Kn.FILL_STROKE_MASK;(E===Kn.STROKE||E===Kn.FILL_STROKE)&&(_=this.getSinglePixelWidth())}else _/=x;if(s!==1&&(o.scale(s,s),_/=s),o.lineWidth=_,i.isInvalidPDFjsFont){const E=[];let k=0;for(const U of e)E.push(U.unicode),k+=U.width;o.fillText(E.join(""),0,0),n.x+=k*m*c,o.restore(),this.compose();return}let T=0,A;for(A=0;A<h;++A){const E=e[A];if(typeof E=="number"){T+=f*E*r/1e3;continue}let k=!1;const U=(E.isSpace?l:0)+a,N=E.fontChar,I=E.accent;let S,L,D=E.width;if(d){const R=E.vmetric||y,P=-(E.vmetric?R[1]:D*.5)*m,z=R[2]*m;D=R?-R[0]:D,S=P/s,L=(T+z)/s}else S=T/s,L=0;if(i.remeasure&&D>0){const R=o.measureText(N).width*1e3/r*s;if(D<R&&this.isFontSubpixelAAEnabled){const P=D/R;k=!0,o.save(),o.scale(P,1),S/=P}else D!==R&&(S+=(D-R)/2e3*r/s)}if(this.contentVisible&&(E.isInFont||i.missingFile)){if(v&&!I)o.fillText(N,S,L);else if(this.paintChar(N,S,L,g,p),I){const R=S+r*I.offset.x/s,P=L-r*I.offset.y/s;this.paintChar(I.fontChar,R,P,g,p)}}const $=d?D*m-U*u:D*m+U*u;T+=$,k&&o.restore()}d?n.y-=T:n.x+=T*c,o.restore(),this.compose()}showType3Text(e){const n=this.ctx,i=this.current,r=i.font,o=i.fontSize,s=i.fontDirection,a=r.vertical?1:-1,l=i.charSpacing,u=i.wordSpacing,c=i.textHScale*s,h=i.fontMatrix||rC,d=e.length,f=i.textRenderingMode===Kn.INVISIBLE;let y,m,v,g;if(!(f||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),n.transform(...i.textMatrix),n.translate(i.x,i.y),n.scale(c,s),y=0;y<d;++y){if(m=e[y],typeof m=="number"){g=a*m*o/1e3,this.ctx.translate(g,0),i.x+=g*c;continue}const p=(m.isSpace?u:0)+l,_=r.charProcOperatorList[m.operatorListId];if(!_){Qe(`Type3 character "${m.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=m,this.save(),n.scale(o,o),n.transform(...h),this.executeOperatorList(_),this.restore()),v=Oe.applyTransform([m.width,0],h)[0]*o+p,n.translate(v,0),i.x+=v*c}n.restore(),this.processingType3=null}}setCharWidth(e,n){}setCharWidthAndBounds(e,n,i,r,o,s){this.ctx.rect(i,r,o-i,s-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let n;if(e[0]==="TilingPattern"){const i=e[1],r=this.baseTransform||Bt(this.ctx),o={createCanvasGraphics:s=>new Tk(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};n=new IC(e,i,this.ctx,o,r)}else n=this._getPattern(e[1],e[2]);return n}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,n,i){this.ctx.strokeStyle=this.current.strokeColor=Oe.makeHexColor(e,n,i),this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,n,i){this.ctx.fillStyle=this.current.fillColor=Oe.makeHexColor(e,n,i),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,n=null){let i;return this.cachedPatterns.has(e)?i=this.cachedPatterns.get(e):(i=JK(this.getObject(e)),this.cachedPatterns.set(e,i)),n&&(i.matrix=n),i}shadingFill(e){if(!this.contentVisible)return;const n=this.ctx;this.save();const i=this._getPattern(e);n.fillStyle=i.getPattern(n,this,Ho(n),ri.SHADING);const r=Ho(n);if(r){const{width:o,height:s}=n.canvas,[a,l,u,c]=Oe.getAxialAlignedBoundingBox([0,0,o,s],r);this.ctx.fillRect(a,l,u-a,c-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Et("Should not call beginInlineImage")}beginImageData(){Et("Should not call beginImageData")}paintFormXObjectBegin(e,n){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Bt(this.ctx),n)){const i=n[2]-n[0],r=n[3]-n[1];this.ctx.rect(n[0],n[1],i,r),this.current.updateRectMinMax(Bt(this.ctx),n),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;e.isolated||f_("TODO: Support non-isolated groups."),e.knockout&&Qe("Knockout groups not supported.");const i=Bt(n);if(e.matrix&&n.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=Oe.getAxialAlignedBoundingBox(e.bbox,Bt(n));const o=[0,0,n.canvas.width,n.canvas.height];r=Oe.intersect(r,o)||[0,0,0,0];const s=Math.floor(r[0]),a=Math.floor(r[1]),l=Math.max(Math.ceil(r[2])-s,1),u=Math.max(Math.ceil(r[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,u]);let c="groupAt"+this.groupLevel;e.smask&&(c+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(c,l,u),d=h.context;d.translate(-s,-a),d.transform(...i),e.smask?this.smaskStack.push({canvas:h.canvas,context:d,offsetX:s,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(n.setTransform(1,0,0,1,0,0),n.translate(s,a),n.save()),Tp(n,d),this.ctx=d,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=Bt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const o=Oe.getAxialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],r);this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,n,i,r,o){if(Y(this,Mo,FC).call(this),Lv(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const s=n[2]-n[0],a=n[3]-n[1];if(o&&this.annotationCanvasMap){i=i.slice(),i[4]-=n[0],i[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=s,n[3]=a;const[l,u]=Oe.singularValueDecompose2dScale(Bt(this.ctx)),{viewportScale:c}=this,h=Math.ceil(s*this.outputScaleX*c),d=Math.ceil(a*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(h,d);const{canvas:f,context:y}=this.annotationCanvas;this.annotationCanvasMap.set(e,f),this.annotationCanvas.savedCtx=this.ctx,this.ctx=y,this.ctx.save(),this.ctx.setTransform(l,0,0,-u,0,a*u),Lv(this.ctx)}else Lv(this.ctx),this.endPath(),this.ctx.rect(n[0],n[1],s,a),this.ctx.clip(),this.ctx.beginPath()}this.current=new wF(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Y(this,Mo,NC).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const n=e.count;e=this.getObject(e.data,e),e.count=n;const i=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=nJ(e)),r.compiled)){r.compiled(i);return}const o=this._createMaskCanvas(e),s=o.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(s,o.offsetX,o.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,n,i=0,r=0,o,s){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const l=Bt(a);a.transform(n,i,r,o,0,0);const u=this._createMaskCanvas(e);a.setTransform(1,0,0,1,u.offsetX-l[4],u.offsetY-l[5]);for(let c=0,h=s.length;c<h;c+=2){const d=Oe.transform(l,[n,i,r,o,s[c],s[c+1]]),[f,y]=Oe.applyTransform([0,0],d);a.drawImage(u.canvas,f,y)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const n=this.ctx,i=this.current.fillColor,r=this.current.patternFill;for(const o of e){const{data:s,width:a,height:l,transform:u}=o,c=this.cachedCanvases.getCanvas("maskCanvas",a,l),h=c.context;h.save();const d=this.getObject(s,o);CF(h,d),h.globalCompositeOperation="source-in",h.fillStyle=r?i.getPattern(h,this,Ho(n),ri.FILL):i,h.fillRect(0,0,a,l),h.restore(),n.save(),n.transform(...u),n.scale(1,-1),Uv(n,c.canvas,0,0,a,l,0,-1,1,1),n.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const n=this.getObject(e);if(!n){Qe("Dependent image isn't ready yet");return}this.paintInlineImageXObject(n)}paintImageXObjectRepeat(e,n,i,r){if(!this.contentVisible)return;const o=this.getObject(e);if(!o){Qe("Dependent image isn't ready yet");return}const s=o.width,a=o.height,l=[];for(let u=0,c=r.length;u<c;u+=2)l.push({transform:[n,0,0,i,r[u],r[u+1]],x:0,y:0,w:s,h:a});this.paintInlineImageXObjectGroup(o,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:n,width:i,height:r}=e,o=this.cachedCanvases.getCanvas("inlineImage",i,r),s=o.context;return s.filter=this.current.transferMaps,s.drawImage(n,0,0),s.filter="none",o.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const n=e.width,i=e.height,r=this.ctx;if(this.save(),!si){const{filter:a}=r;a!=="none"&&a!==""&&(r.filter="none")}r.scale(1/n,-1/i);let o;if(e.bitmap)o=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)o=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",n,i).context;TF(l,e),o=this.applyTransferMapsToCanvas(l)}const s=this._scaleImage(o,Ho(r));r.imageSmoothingEnabled=EF(Bt(r),e.interpolate),Uv(r,s.img,0,0,s.paintWidth,s.paintHeight,0,-i,n,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,n){if(!this.contentVisible)return;const i=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const o=e.width,s=e.height,l=this.cachedCanvases.getCanvas("inlineImage",o,s).context;TF(l,e),r=this.applyTransferMapsToCanvas(l)}for(const o of n)i.save(),i.transform(...o.transform),i.scale(1,-1),Uv(i,r,o.x,o.y,o.w,o.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,n){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,n){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const i=this.ctx;this.pendingClip&&(n||(this.pendingClip===AF?i.clip("evenodd"):i.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),i.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Bt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const n=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:n,b:i,c:r,d:o}=this.ctx.getTransform();let s,a;if(i===0&&r===0){const l=Math.abs(n),u=Math.abs(o);if(l===u)if(e===0)s=a=1/l;else{const c=l*e;s=a=c<1?1/c:1}else if(e===0)s=1/l,a=1/u;else{const c=l*e,h=u*e;s=c<1?1/c:1,a=h<1?1/h:1}}else{const l=Math.abs(n*o-i*r),u=Math.hypot(n,i),c=Math.hypot(r,o);if(e===0)s=c/l,a=u/l;else{const h=e*l;s=c>h?c/h:1,a=u>h?u/h:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:n}=this,{lineWidth:i}=this.current,[r,o]=this.getScaleForStroking();if(n.lineWidth=i||1,r===1&&o===1){n.stroke();return}const s=n.getLineDash();if(e&&n.save(),n.scale(r,o),s.length>0){const a=Math.max(r,o);n.setLineDash(s.map(l=>l/a)),n.lineDashOffset/=a}n.stroke(),e&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Mo=new WeakSet,FC=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},NC=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const n=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}},RC=function(e,n,i){const r=new Path2D;return r.addPath(e,new DOMMatrix(i).invertSelf().multiplySelf(n)),r};let sh=Tk;for(const t in fo)sh.prototype[t]!==void 0&&(sh.prototype[fo[t]]=sh.prototype[t]);var Vm,Gm;class va{static get workerPort(){return b(this,Vm)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");H(this,Vm,e)}static get workerSrc(){return b(this,Gm)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");H(this,Gm,e)}}Vm=new WeakMap,Gm=new WeakMap,j(va,Vm,null),j(va,Gm,"");var nc,jm;class sJ{constructor({parsedData:e,rawData:n}){j(this,nc);j(this,jm);H(this,nc,e),H(this,jm,n)}getRaw(){return b(this,jm)}get(e){return b(this,nc).get(e)??null}getAll(){return oS(b(this,nc))}has(e){return b(this,nc).has(e)}}nc=new WeakMap,jm=new WeakMap;const Dd=Symbol("INTERNAL");var Xm,Ym,Km,Ih;class aJ{constructor(e,{name:n,intent:i,usage:r,rbGroups:o}){j(this,Xm,!1);j(this,Ym,!1);j(this,Km,!1);j(this,Ih,!0);H(this,Xm,!!(e&_r.DISPLAY)),H(this,Ym,!!(e&_r.PRINT)),this.name=n,this.intent=i,this.usage=r,this.rbGroups=o}get visible(){if(b(this,Km))return b(this,Ih);if(!b(this,Ih))return!1;const{print:e,view:n}=this.usage;return b(this,Xm)?(n==null?void 0:n.viewState)!=="OFF":b(this,Ym)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,n,i=!1){e!==Dd&&Et("Internal method `_setVisible` called."),H(this,Km,i),H(this,Ih,n)}}Xm=new WeakMap,Ym=new WeakMap,Km=new WeakMap,Ih=new WeakMap;var ml,vt,Fh,Nh,Jm,UC;class lJ{constructor(e,n=_r.DISPLAY){j(this,Jm);j(this,ml,null);j(this,vt,new Map);j(this,Fh,null);j(this,Nh,null);if(this.renderingIntent=n,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,H(this,Nh,e.order);for(const i of e.groups)b(this,vt).set(i.id,new aJ(n,i));if(e.baseState==="OFF")for(const i of b(this,vt).values())i._setVisible(Dd,!1);for(const i of e.on)b(this,vt).get(i)._setVisible(Dd,!0);for(const i of e.off)b(this,vt).get(i)._setVisible(Dd,!1);H(this,Fh,this.getHash())}}isVisible(e){if(b(this,vt).size===0)return!0;if(!e)return f_("Optional content group not defined."),!0;if(e.type==="OCG")return b(this,vt).has(e.id)?b(this,vt).get(e.id).visible:(Qe(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return Y(this,Jm,UC).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const n of e.ids){if(!b(this,vt).has(n))return Qe(`Optional content group not found: ${n}`),!0;if(b(this,vt).get(n).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const n of e.ids){if(!b(this,vt).has(n))return Qe(`Optional content group not found: ${n}`),!0;if(!b(this,vt).get(n).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const n of e.ids){if(!b(this,vt).has(n))return Qe(`Optional content group not found: ${n}`),!0;if(!b(this,vt).get(n).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const n of e.ids){if(!b(this,vt).has(n))return Qe(`Optional content group not found: ${n}`),!0;if(b(this,vt).get(n).visible)return!1}return!0}return Qe(`Unknown optional content policy ${e.policy}.`),!0}return Qe(`Unknown group type ${e.type}.`),!0}setVisibility(e,n=!0,i=!0){var o;const r=b(this,vt).get(e);if(!r){Qe(`Optional content group not found: ${e}`);return}if(i&&n&&r.rbGroups.length)for(const s of r.rbGroups)for(const a of s)a!==e&&((o=b(this,vt).get(a))==null||o._setVisible(Dd,!1,!0));r._setVisible(Dd,!!n,!0),H(this,ml,null)}setOCGState({state:e,preserveRB:n}){let i;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const o=b(this,vt).get(r);if(o)switch(i){case"ON":this.setVisibility(r,!0,n);break;case"OFF":this.setVisibility(r,!1,n);break;case"Toggle":this.setVisibility(r,!o.visible,n);break}}H(this,ml,null)}get hasInitialVisibility(){return b(this,Fh)===null||this.getHash()===b(this,Fh)}getOrder(){return b(this,vt).size?b(this,Nh)?b(this,Nh).slice():[...b(this,vt).keys()]:null}getGroups(){return b(this,vt).size>0?oS(b(this,vt)):null}getGroup(e){return b(this,vt).get(e)||null}getHash(){if(b(this,ml)!==null)return b(this,ml);const e=new o4;for(const[n,i]of b(this,vt))e.update(`${n}:${i.visible}`);return H(this,ml,e.hexdigest())}}ml=new WeakMap,vt=new WeakMap,Fh=new WeakMap,Nh=new WeakMap,Jm=new WeakSet,UC=function(e){const n=e.length;if(n<2)return!0;const i=e[0];for(let r=1;r<n;r++){const o=e[r];let s;if(Array.isArray(o))s=Y(this,Jm,UC).call(this,o);else if(b(this,vt).has(o))s=b(this,vt).get(o).visible;else return Qe(`Optional content group not found: ${o}`),!0;switch(i){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return i==="And"};class uJ{constructor(e,{disableRange:n=!1,disableStream:i=!1}){dn(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:o,progressiveDone:s,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=a,(o==null?void 0:o.length)>0){const l=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!n,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:n}){const i=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.some(function(o){return o._begin!==e?!1:(o._enqueue(i),!0)});dn(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var n,i,r,o;e.total===void 0?(i=(n=this._rangeReaders[0])==null?void 0:n.onProgress)==null||i.call(n,{loaded:e.loaded}):(o=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||o.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const n=this._rangeReaders.indexOf(e);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){dn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new cJ(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const i=new dJ(this,e,n);return this._pdfDataRangeTransport.requestDataRange(e,n),this._rangeReaders.push(i),i}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const i of this._rangeReaders.slice(0))i.cancel(e);this._pdfDataRangeTransport.abort()}}class cJ{constructor(e,n,i=!1,r=null){this._stream=e,this._done=i||!1,this._filename=lS(r)?r:null,this._queuedChunks=n||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class dJ{constructor(e,n,i){this._stream=e,this._begin=n,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function hJ(t){let e=!0,n=i("filename\\*","i").exec(t);if(n){n=n[1];let c=a(n);return c=unescape(c),c=l(c),c=u(c),o(c)}if(n=s(t),n){const c=u(n);return o(c)}if(n=i("filename","i").exec(t),n){n=n[1];let c=a(n);return c=u(c),o(c)}function i(c,h){return new RegExp("(?:^|;)\\s*"+c+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function r(c,h){if(c){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const d=new TextDecoder(c,{fatal:!0}),f=p_(h);h=d.decode(f),e=!1}catch{}}return h}function o(c){return e&&/[\x80-\xff]/.test(c)&&(c=r("utf-8",c),e&&(c=r("iso-8859-1",c))),c}function s(c){const h=[];let d;const f=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(d=f.exec(c))!==null;){let[,m,v,g]=d;if(m=parseInt(m,10),m in h){if(m===0)break;continue}h[m]=[v,g]}const y=[];for(let m=0;m<h.length&&m in h;++m){let[v,g]=h[m];g=a(g),v&&(g=unescape(g),m===0&&(g=l(g))),y.push(g)}return y.join("")}function a(c){if(c.startsWith('"')){const h=c.slice(1).split('\\"');for(let d=0;d<h.length;++d){const f=h[d].indexOf('"');f!==-1&&(h[d]=h[d].slice(0,f),h.length=d+1),h[d]=h[d].replaceAll(/\\(.)/g,"$1")}c=h.join('"')}return c}function l(c){const h=c.indexOf("'");if(h===-1)return c;const d=c.slice(0,h),y=c.slice(h+1).replace(/^[^']*'/,"");return r(d,y)}function u(c){return!c.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(c)?c:c.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,d,f,y){if(f==="q"||f==="Q")return y=y.replaceAll("_"," "),y=y.replaceAll(/=([0-9a-fA-F]{2})/g,function(m,v){return String.fromCharCode(parseInt(v,16))}),r(d,y);try{y=atob(y)}catch{}return r(d,y)})}return""}function b4(t,e){const n=new Headers;if(!t||!e||typeof e!="object")return n;for(const i in e){const r=e[i];r!==void 0&&n.append(i,r)}return n}function y_(t){try{return new URL(t).origin}catch{}return null}function _4({responseHeaders:t,isHttp:e,rangeChunkSize:n,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(t.get("Content-Length"),10);return!Number.isInteger(o)||(r.suggestedLength=o,o<=2*n)||i||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function x4(t){const e=t.get("Content-Disposition");if(e){let n=hJ(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(lS(n))return n}return null}function v_(t,e){return t===404||t===0&&e.startsWith("file:")?new jg('Missing PDF "'+e+'".'):new I1(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t)}function w4(t){return t===200||t===206}function T4(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function C4(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(Qe(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class SF{constructor(e){He(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=b4(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return dn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new fJ(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const i=new pJ(this,e,n);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class fJ{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange;const i=new Headers(e.headers),r=n.url;fetch(r,T4(i,this._withCredentials,this._abortController)).then(o=>{if(e._responseOrigin=y_(o.url),!w4(o.status))throw v_(o.status,r);this._reader=o.body.getReader(),this._headersCapability.resolve();const s=o.headers,{allowRangeRequests:a,suggestedLength:l}=_4({responseHeaders:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=l||this._contentLength,this._filename=x4(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ql("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:C4(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}class pJ{constructor(e,n,i){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const o=new Headers(e.headers);o.append("Range",`bytes=${n}-${i-1}`);const s=r.url;fetch(s,T4(o,this._withCredentials,this._abortController)).then(a=>{const l=y_(a.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!w4(a.status))throw v_(a.status,s);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:C4(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}const v2=200,b2=206;function gJ(t){const e=t.response;return typeof e!="string"?e:p_(e).buffer}class mJ{constructor({url:e,httpHeaders:n,withCredentials:i}){He(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=b4(this.isHttp,n),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const n=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const[o,s]of this.headers)n.setRequestHeader(o,s);return this.isHttp&&"begin"in e&&"end"in e?(n.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=b2):r.expectedStatus=v2,n.responseType="arraybuffer",dn(e.onError,"Expected `onError` callback to be provided."),n.onerror=()=>{e.onError(n.status)},n.onreadystatechange=this.onStateChange.bind(this,i),n.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,n.send(null),i}onProgress(e,n){var r;const i=this.pendingRequests[e];i&&((r=i.onProgress)==null||r.call(i,n))}onStateChange(e,n){const i=this.pendingRequests[e];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){i.onError(r.status);return}const o=r.status||v2;if(!(o===v2&&i.expectedStatus===b2)&&o!==i.expectedStatus){i.onError(r.status);return}const a=gJ(r);if(o===b2){const l=r.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);u?i.onDone({begin:parseInt(u[1],10),chunk:a}):(Qe('Missing or invalid "Content-Range" header.'),i.onError(0))}else a?i.onDone({begin:0,chunk:a}):i.onError(r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const n=this.pendingRequests[e].xhr;delete this.pendingRequests[e],n.abort()}}class yJ{constructor(e){this._source=e,this._manager=new mJ(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const n=this._rangeRequestReaders.indexOf(e);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return dn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new vJ(this._manager,this._source),this._fullRequestReader}getRangeReader(e,n){const i=new bJ(this._manager,e,n);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class vJ{constructor(e,n){this._manager=e,this._url=n.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,n=this._manager.getRequestXhr(e);this._manager._responseOrigin=y_(n.responseURL);const i=n.getAllResponseHeaders(),r=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(a=>{const[l,...u]=a.split(": ");return[l,u.join(": ")]}):[]),{allowRangeRequests:o,suggestedLength:s}=_4({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=x4(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=v_(e,this._url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var n;(n=this.onProgress)==null||n.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class bJ{constructor(e,n,i){this._manager=e,this._url=e.url,this._requestId=e.request({begin:n,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var n;const e=y_((n=this._manager.getRequestXhr(this._requestId))==null?void 0:n.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const n=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=v_(e,this._url));for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var n;this.isStreamingSupported||(n=this.onProgress)==null||n.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const _J=/^[a-z][a-z0-9\-+.]+:/i;function xJ(t){if(_J.test(t))return new URL(t);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(t))}class wJ{constructor(e){this.source=e,this.url=xJ(e.url),dn(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return dn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new TJ(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const i=new CJ(this,e,n);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class TJ{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=new jg(`Missing PDF "${this._url}".`)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ql("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class CJ{constructor(e,n,i){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=e.source;this._isStreamingSupported=!r.disableStream;const o=process.getBuiltinModule("fs");this._setReadableStream(o.createReadStream(this._url,{start:n,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const EJ=1e5,Pi=30,AJ=.8;var xU,yl,qi,Zm,Qm,ic,na,ey,ty,rc,Rh,Uh,vl,Lh,ny,Ph,oc,iy,ry,sc,ac,oy,bl,Mh,Ma,E4,A4,LC,Ar,A0,PC,S4,D4;const gn=class gn{constructor({textContentSource:e,container:n,viewport:i}){j(this,Ma);j(this,yl,Promise.withResolvers());j(this,qi,null);j(this,Zm,!1);j(this,Qm,!!((xU=globalThis.FontInspector)!=null&&xU.enabled));j(this,ic,null);j(this,na,null);j(this,ey,0);j(this,ty,0);j(this,rc,null);j(this,Rh,null);j(this,Uh,0);j(this,vl,0);j(this,Lh,Object.create(null));j(this,ny,[]);j(this,Ph,null);j(this,oc,[]);j(this,iy,new WeakMap);j(this,ry,null);var l;if(e instanceof ReadableStream)H(this,Ph,e);else if(typeof e=="object")H(this,Ph,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');H(this,qi,H(this,Rh,n)),H(this,vl,i.scale*(globalThis.devicePixelRatio||1)),H(this,Uh,i.rotation),H(this,na,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:o,pageX:s,pageY:a}=i.rawDims;H(this,ry,[1,0,0,-1,-s,a+o]),H(this,ty,r),H(this,ey,o),Y(l=gn,Ar,S4).call(l),jc(n,i),b(this,yl).promise.finally(()=>{b(gn,Mh).delete(this),H(this,na,null),H(this,Lh,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:n}=Si.platform;return it(this,"fontFamilyMap",new Map([["sans-serif",`${e&&n?"Calibri, ":""}sans-serif`],["monospace",`${e&&n?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{b(this,rc).read().then(({value:n,done:i})=>{if(i){b(this,yl).resolve();return}b(this,ic)??H(this,ic,n.lang),Object.assign(b(this,Lh),n.styles),Y(this,Ma,E4).call(this,n.items),e()},b(this,yl).reject)};return H(this,rc,b(this,Ph).getReader()),b(gn,Mh).add(this),e(),b(this,yl).promise}update({viewport:e,onBefore:n=null}){var o;const i=e.scale*(globalThis.devicePixelRatio||1),r=e.rotation;if(r!==b(this,Uh)&&(n==null||n(),H(this,Uh,r),jc(b(this,Rh),{rotation:r})),i!==b(this,vl)){n==null||n(),H(this,vl,i);const s={div:null,properties:null,ctx:Y(o=gn,Ar,A0).call(o,b(this,ic))};for(const a of b(this,oc))s.properties=b(this,iy).get(a),s.div=a,Y(this,Ma,LC).call(this,s)}}cancel(){var n;const e=new Ql("TextLayer task cancelled.");(n=b(this,rc))==null||n.cancel(e).catch(()=>{}),H(this,rc,null),b(this,yl).reject(e)}get textDivs(){return b(this,oc)}get textContentItemsStr(){return b(this,ny)}static cleanup(){if(!(b(this,Mh).size>0)){b(this,sc).clear();for(const{canvas:e}of b(this,ac).values())e.remove();b(this,ac).clear()}}};yl=new WeakMap,qi=new WeakMap,Zm=new WeakMap,Qm=new WeakMap,ic=new WeakMap,na=new WeakMap,ey=new WeakMap,ty=new WeakMap,rc=new WeakMap,Rh=new WeakMap,Uh=new WeakMap,vl=new WeakMap,Lh=new WeakMap,ny=new WeakMap,Ph=new WeakMap,oc=new WeakMap,iy=new WeakMap,ry=new WeakMap,sc=new WeakMap,ac=new WeakMap,oy=new WeakMap,bl=new WeakMap,Mh=new WeakMap,Ma=new WeakSet,E4=function(e){var r,o;if(b(this,Zm))return;(o=b(this,na)).ctx??(o.ctx=Y(r=gn,Ar,A0).call(r,b(this,ic)));const n=b(this,oc),i=b(this,ny);for(const s of e){if(n.length>EJ){Qe("Ignoring additional textDivs for performance reasons."),H(this,Zm,!0);return}if(s.str===void 0){if(s.type==="beginMarkedContentProps"||s.type==="beginMarkedContent"){const a=b(this,qi);H(this,qi,document.createElement("span")),b(this,qi).classList.add("markedContent"),s.id!==null&&b(this,qi).setAttribute("id",`${s.id}`),a.append(b(this,qi))}else s.type==="endMarkedContent"&&H(this,qi,b(this,qi).parentNode);continue}i.push(s.str),Y(this,Ma,A4).call(this,s)}},A4=function(e){var m;const n=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};b(this,oc).push(n);const r=Oe.transform(b(this,ry),e.transform);let o=Math.atan2(r[1],r[0]);const s=b(this,Lh)[e.fontName];s.vertical&&(o+=Math.PI/2);let a=b(this,Qm)&&s.fontSubstitution||s.fontFamily;a=gn.fontFamilyMap.get(a)||a;const l=Math.hypot(r[2],r[3]),u=l*Y(m=gn,Ar,D4).call(m,a,b(this,ic));let c,h;o===0?(c=r[4],h=r[5]-u):(c=r[4]+u*Math.sin(o),h=r[5]-u*Math.cos(o));const d="calc(var(--scale-factor)*",f=n.style;b(this,qi)===b(this,Rh)?(f.left=`${(100*c/b(this,ty)).toFixed(2)}%`,f.top=`${(100*h/b(this,ey)).toFixed(2)}%`):(f.left=`${d}${c.toFixed(2)}px)`,f.top=`${d}${h.toFixed(2)}px)`),f.fontSize=`${d}${(b(gn,bl)*l).toFixed(2)}px)`,f.fontFamily=a,i.fontSize=l,n.setAttribute("role","presentation"),n.textContent=e.str,n.dir=e.dir,b(this,Qm)&&(n.dataset.fontName=s.fontSubstitutionLoadedName||e.fontName),o!==0&&(i.angle=o*(180/Math.PI));let y=!1;if(e.str.length>1)y=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const v=Math.abs(e.transform[0]),g=Math.abs(e.transform[3]);v!==g&&Math.max(v,g)/Math.min(v,g)>1.5&&(y=!0)}if(y&&(i.canvasWidth=s.vertical?e.height:e.width),b(this,iy).set(n,i),b(this,na).div=n,b(this,na).properties=i,Y(this,Ma,LC).call(this,b(this,na)),i.hasText&&b(this,qi).append(n),i.hasEOL){const v=document.createElement("br");v.setAttribute("role","presentation"),b(this,qi).append(v)}},LC=function(e){var a;const{div:n,properties:i,ctx:r}=e,{style:o}=n;let s="";if(b(gn,bl)>1&&(s=`scale(${1/b(gn,bl)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:l}=o,{canvasWidth:u,fontSize:c}=i;Y(a=gn,Ar,PC).call(a,r,c*b(this,vl),l);const{width:h}=r.measureText(n.textContent);h>0&&(s=`scaleX(${u*b(this,vl)/h}) ${s}`)}i.angle!==0&&(s=`rotate(${i.angle}deg) ${s}`),s.length>0&&(o.transform=s)},Ar=new WeakSet,A0=function(e=null){let n=b(this,ac).get(e||(e=""));if(!n){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),n=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),b(this,ac).set(e,n),b(this,oy).set(n,{size:0,family:""})}return n},PC=function(e,n,i){const r=b(this,oy).get(e);n===r.size&&i===r.family||(e.font=`${n}px ${i}`,r.size=n,r.family=i)},S4=function(){if(b(this,bl)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),H(this,bl,e.getBoundingClientRect().height),e.remove()},D4=function(e,n){const i=b(this,sc).get(e);if(i)return i;const r=Y(this,Ar,A0).call(this,n);r.canvas.width=r.canvas.height=Pi,Y(this,Ar,PC).call(this,r,Pi,e);const o=r.measureText("");let s=o.fontBoundingBoxAscent,a=Math.abs(o.fontBoundingBoxDescent);if(s){const c=s/(s+a);return b(this,sc).set(e,c),r.canvas.width=r.canvas.height=0,c}r.strokeStyle="red",r.clearRect(0,0,Pi,Pi),r.strokeText("g",0,0);let l=r.getImageData(0,0,Pi,Pi).data;a=0;for(let c=l.length-1-3;c>=0;c-=4)if(l[c]>0){a=Math.ceil(c/4/Pi);break}r.clearRect(0,0,Pi,Pi),r.strokeText("A",0,Pi),l=r.getImageData(0,0,Pi,Pi).data,s=0;for(let c=0,h=l.length;c<h;c+=4)if(l[c]>0){s=Pi-Math.floor(c/4/Pi);break}r.canvas.width=r.canvas.height=0;const u=s?s/(s+a):AJ;return b(this,sc).set(e,u),u},j(gn,Ar),j(gn,sc,new Map),j(gn,ac,new Map),j(gn,oy,new WeakMap),j(gn,bl,null),j(gn,Mh,new Set);let Xg=gn;class Yg{static textContent(e){const n=[],i={items:n,styles:Object.create(null)};function r(o){var l;if(!o)return;let s=null;const a=o.name;if(a==="#text")s=o.value;else if(Yg.shouldBuildText(a))(l=o==null?void 0:o.attributes)!=null&&l.textContent?s=o.attributes.textContent:o.value&&(s=o.value);else return;if(s!==null&&n.push({str:s}),!!o.children)for(const u of o.children)r(u)}return r(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const SJ=65536,DJ=100,kJ=5e3,IJ=si?HK:WK,FJ=si?VK:f4,NJ=si?zK:$K,RJ=si?GK:y4;function UJ(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new MC,{docId:n}=e,i=t.url?LJ(t.url):null,r=t.data?PJ(t.data):null,o=t.httpHeaders||null,s=t.withCredentials===!0,a=t.password??null,l=t.range instanceof k4?t.range:null,u=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:SJ;let c=t.worker instanceof ah?t.worker:null;const h=t.verbosity,d=typeof t.docBaseUrl=="string"&&!m_(t.docBaseUrl)?t.docBaseUrl:null,f=typeof t.cMapUrl=="string"?t.cMapUrl:null,y=t.cMapPacked!==!1,m=t.CMapReaderFactory||FJ,v=typeof t.standardFontDataUrl=="string"?t.standardFontDataUrl:null,g=t.StandardFontDataFactory||RJ,p=t.stopAtErrors!==!0,_=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,x=t.isEvalSupported!==!1,T=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!si,A=typeof t.isImageDecoderSupported=="boolean"?t.isImageDecoderSupported:!si&&(Si.platform.isFirefox||!globalThis.chrome),E=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,k=typeof t.disableFontFace=="boolean"?t.disableFontFace:si,U=t.fontExtraProperties===!0,N=t.enableXfa===!0,I=t.ownerDocument||globalThis.document,S=t.disableRange===!0,L=t.disableStream===!0,D=t.disableAutoFetch===!0,$=t.pdfBug===!0,R=t.CanvasFactory||IJ,P=t.FilterFactory||NJ,z=t.enableHWA===!0,M=l?l.length:t.length??NaN,q=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!si&&!k,F=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:m===f4&&g===y4&&f&&v&&zp(f,document.baseURI)&&zp(v,document.baseURI),O=null;bK(h);const W={canvasFactory:new R({ownerDocument:I,enableHWA:z}),filterFactory:new P({docId:n,ownerDocument:I}),cMapReaderFactory:F?null:new m({baseUrl:f,isCompressed:y}),standardFontDataFactory:F?null:new g({baseUrl:v})};if(!c){const G={verbosity:h,port:va.workerPort};c=G.port?ah.fromPort(G):new ah(G),e._worker=c}const J={docId:n,apiVersion:"4.10.38",data:r,password:a,disableAutoFetch:D,rangeChunkSize:u,length:M,docBaseUrl:d,enableXfa:N,evaluatorOptions:{maxImageSize:_,disableFontFace:k,ignoreErrors:p,isEvalSupported:x,isOffscreenCanvasSupported:T,isImageDecoderSupported:A,canvasMaxAreaInBytes:E,fontExtraProperties:U,useSystemFonts:q,cMapUrl:F?f:null,standardFontDataUrl:F?v:null}},K={disableFontFace:k,fontExtraProperties:U,ownerDocument:I,pdfBug:$,styleElement:O,loadingParams:{disableAutoFetch:D,enableXfa:N}};return c.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const G=c.messageHandler.sendWithPromise("GetDocRequest",J,r?[r.buffer]:null);let Z;if(l)Z=new uJ(l,{disableRange:S,disableStream:L});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");let re;if(si)if(zp(i)){if(typeof fetch>"u"||typeof Response>"u"||!("body"in Response.prototype))throw new Error("getDocument - the Fetch API was disabled in Node.js, see `--no-experimental-fetch`.");re=SF}else re=wJ;else re=zp(i)?SF:yJ;Z=new re({url:i,length:M,httpHeaders:o,withCredentials:s,rangeChunkSize:u,disableRange:S,disableStream:L})}return G.then(re=>{if(e.destroyed)throw new Error("Loading aborted");if(c.destroyed)throw new Error("Worker was destroyed");const ae=new jp(n,re,c.port),ge=new qJ(ae,e,Z,K,W);e._transport=ge,ae.send("Ready",null)})}).catch(e._capability.reject),e}function LJ(t){if(t instanceof URL)return t.href;try{return new URL(t,window.location).href}catch{if(si&&typeof t=="string")return t}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function PJ(t){if(si&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return p_(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t==null?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function DF(t){return typeof t=="object"&&Number.isInteger(t==null?void 0:t.num)&&t.num>=0&&Number.isInteger(t==null?void 0:t.gen)&&t.gen>=0}var Rb;const Ub=class Ub{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${mi(Ub,Rb)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,n,i,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((n=this._transport)==null?void 0:n.destroy())}catch(o){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,o}this._transport=null,(r=this._worker)==null||r.destroy(),this._worker=null}};Rb=new WeakMap,j(Ub,Rb,0);let MC=Ub;class k4{constructor(e,n,i=!1,r=null){this.length=e,this.initialData=n,this.progressiveDone=i,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,n){for(const i of this._rangeListeners)i(e,n)}onDataProgress(e,n){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(e,n)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const n of this._progressiveReadListeners)n(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,n){Et("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class MJ{constructor(e,n){this._pdfInfo=e,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return it(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var _l,ia,Xr,kd,S0;class OJ{constructor(e,n,i,r=!1){j(this,Xr);j(this,_l,null);j(this,ia,!1);this._pageIndex=e,this._pageInfo=n,this._transport=i,this._stats=r?new pF:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new I4,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:o=!1}={}){return new Xy({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:n,offsetX:i,offsetY:r,dontFlip:o})}getAnnotations({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return it(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:n,intent:i="display",annotationMode:r=il.ENABLE,transform:o=null,background:s=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:u=null,printAnnotationStorage:c=null,isEditing:h=!1}){var x,T;(x=this._stats)==null||x.time("Overall");const d=this._transport.getRenderingIntent(i,r,c,h),{renderingIntent:f,cacheKey:y}=d;H(this,ia,!1),Y(this,Xr,S0).call(this),a||(a=this._transport.getOptionalContentConfig(f));let m=this._intentStates.get(y);m||(m=Object.create(null),this._intentStates.set(y,m)),m.streamReaderCancelTimeout&&(clearTimeout(m.streamReaderCancelTimeout),m.streamReaderCancelTimeout=null);const v=!!(f&_r.PRINT);m.displayReadyCapability||(m.displayReadyCapability=Promise.withResolvers(),m.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(T=this._stats)==null||T.time("Page Request"),this._pumpOperatorList(d));const g=A=>{var E;m.renderTasks.delete(p),(this._maybeCleanupAfterRender||v)&&H(this,ia,!0),Y(this,Xr,kd).call(this,!v),A?(p.capability.reject(A),this._abortOperatorList({intentState:m,reason:A instanceof Error?A:new Error(A)})):p.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(E=globalThis.Stats)!=null&&E.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},p=new BC({callback:g,params:{canvasContext:e,viewport:n,transform:o,background:s},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:m.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!v,pdfBug:this._pdfBug,pageColors:u});(m.renderTasks||(m.renderTasks=new Set)).add(p);const _=p.task;return Promise.all([m.displayReadyCapability.promise,a]).then(([A,E])=>{var k;if(this.destroyed){g();return}if((k=this._stats)==null||k.time("Rendering"),!(E.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");p.initializeGraphics({transparency:A,optionalContentConfig:E}),p.operatorListChanged()}).catch(g),_}getOperatorList({intent:e="display",annotationMode:n=il.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){var u;function o(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(l))}const s=this._transport.getRenderingIntent(e,n,i,r,!0);let a=this._intentStates.get(s.cacheKey);a||(a=Object.create(null),this._intentStates.set(s.cacheKey,a));let l;return a.opListReadCapability||(l=Object.create(null),l.operatorListChanged=o,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(l),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(s)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>Yg.textContent(i));const n=this.streamTextContent(e);return new Promise(function(i,r){function o(){s.read().then(function({value:l,done:u}){if(u){i(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),o()},r)}const s=n.getReader(),a={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const i of n.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),H(this,ia,!1),Y(this,Xr,S0).call(this),Promise.all(e)}cleanup(e=!1){H(this,ia,!0);const n=Y(this,Xr,kd).call(this,!1);return e&&n&&this._stats&&(this._stats=new pF),n}_startRenderPage(e,n){var r,o;const i=this._intentStates.get(n);i&&((r=this._stats)==null||r.timeEnd("Page Request"),(o=i.displayReadyCapability)==null||o.resolve(e))}_renderPageChunk(e,n){for(let i=0,r=e.length;i<r;i++)n.operatorList.fnArray.push(e.fnArray[i]),n.operatorList.argsArray.push(e.argsArray[i]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const i of n.renderTasks)i.operatorListChanged();e.lastChunk&&Y(this,Xr,kd).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:i,modifiedIds:r}){const{map:o,transfer:s}=i,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:o,modifiedIds:r},s).getReader(),u=this._intentStates.get(n);u.streamReader=l;const c=()=>{l.read().then(({value:h,done:d})=>{if(d){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,u),c())},h=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const d of u.renderTasks)d.operatorListChanged();Y(this,Xr,kd).call(this,!0)}if(u.displayReadyCapability)u.displayReadyCapability.reject(h);else if(u.opListReadCapability)u.opListReadCapability.reject(h);else throw h}})};c()}_abortOperatorList({intentState:e,reason:n,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(n instanceof aS){let r=DJ;n.extraDelay>0&&n.extraDelay<1e3&&(r+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},r);return}}if(e.streamReader.cancel(new Ql(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,o]of this._intentStates)if(o===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}_l=new WeakMap,ia=new WeakMap,Xr=new WeakSet,kd=function(e=!1){if(Y(this,Xr,S0).call(this),!b(this,ia)||this.destroyed)return!1;if(e)return H(this,_l,setTimeout(()=>{H(this,_l,null),Y(this,Xr,kd).call(this,!1)},kJ)),!1;for(const{renderTasks:n,operatorList:i}of this._intentStates.values())if(n.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),H(this,ia,!1),!0},S0=function(){b(this,_l)&&(clearTimeout(b(this,_l)),H(this,_l,null))};var ra,Lb;class BJ{constructor(){j(this,ra,new Map);j(this,Lb,Promise.resolve())}postMessage(e,n){const i={data:structuredClone(e,n?{transfer:n}:null)};b(this,Lb).then(()=>{for(const[r]of b(this,ra))r.call(this,i)})}addEventListener(e,n,i=null){let r=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:o}=i;if(o.aborted){Qe("LoopbackPort - cannot use an `aborted` signal.");return}const s=()=>this.removeEventListener(e,n);r=()=>o.removeEventListener("abort",s),o.addEventListener("abort",s)}b(this,ra).set(n,r)}removeEventListener(e,n){const i=b(this,ra).get(n);i==null||i(),b(this,ra).delete(n)}terminate(){for(const[,e]of b(this,ra))e==null||e();b(this,ra).clear()}}ra=new WeakMap,Lb=new WeakMap;var Pb,lc,uc,Oh,D0,Bh,k0;const Ot=class Ot{constructor({name:e=null,port:n=null,verbosity:i=_K()}={}){j(this,Oh);var r;if(this.name=e,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,n){if((r=b(Ot,uc))!=null&&r.has(n))throw new Error("Cannot use more than one PDFWorker per port.");(b(Ot,uc)||H(Ot,uc,new WeakMap)).set(n,this),this._initializeFromPort(n);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new jp("main","worker",e),this._messageHandler.on("ready",function(){}),Y(this,Oh,D0).call(this)}_initialize(){if(b(Ot,lc)||b(Ot,Bh,k0)){this._setupFakeWorker();return}let{workerSrc:e}=Ot;try{Ot._isSameOrigin(window.location.href,e)||(e=Ot._createCDNWrapper(new URL(e,window.location).href));const n=new Worker(e,{type:"module"}),i=new jp("main","worker",n),r=()=>{o.abort(),i.destroy(),n.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=new AbortController;n.addEventListener("error",()=>{this._webWorker||r()},{signal:o.signal}),i.on("test",a=>{if(o.abort(),this.destroyed||!a){r();return}this._messageHandler=i,this._port=n,this._webWorker=n,Y(this,Oh,D0).call(this)}),i.on("ready",a=>{if(o.abort(),this.destroyed){r();return}try{s()}catch{this._setupFakeWorker()}});const s=()=>{const a=new Uint8Array;i.send("test",a,[a.buffer])};s();return}catch{f_("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){b(Ot,lc)||(Qe("Setting up fake worker."),H(Ot,lc,!0)),Ot._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const n=new BJ;this._port=n;const i=`fake${mi(Ot,Pb)._++}`,r=new jp(i+"_worker",i,n);e.setup(r,n),this._messageHandler=new jp(i,i+"_worker",n),Y(this,Oh,D0).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e,n,i;this.destroyed=!0,(e=this._webWorker)==null||e.terminate(),this._webWorker=null,(n=b(Ot,uc))==null||n.delete(this._port),this._port=null,(i=this._messageHandler)==null||i.destroy(),this._messageHandler=null}static fromPort(e){var i;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const n=(i=b(this,uc))==null?void 0:i.get(e.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new Ot(e)}static get workerSrc(){if(va.workerSrc)return va.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return it(this,"_setupFakeWorkerGlobal",(async()=>b(this,Bh,k0)?b(this,Bh,k0):(await import(this.workerSrc)).WorkerMessageHandler)())}};Pb=new WeakMap,lc=new WeakMap,uc=new WeakMap,Oh=new WeakSet,D0=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Bh=new WeakSet,k0=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},j(Ot,Bh),j(Ot,Pb,0),j(Ot,lc,!1),j(Ot,uc),si&&(H(Ot,lc,!0),va.workerSrc||(va.workerSrc="./pdf.worker.mjs")),Ot._isSameOrigin=(e,n)=>{let i;try{if(i=new URL(e),!i.origin||i.origin==="null")return!1}catch{return!1}const r=new URL(n,i);return i.origin===r.origin},Ot._createCDNWrapper=e=>{const n=`await import("${e}");`;return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))};let ah=Ot;var oa,os,qh,Wh,sa,cc,Zp;class qJ{constructor(e,n,i,r,o){j(this,cc);j(this,oa,new Map);j(this,os,new Map);j(this,qh,new Map);j(this,Wh,new Map);j(this,sa,null);this.messageHandler=e,this.loadingTask=n,this.commonObjs=new I4,this.fontLoader=new BK({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return it(this,"annotationStorage",new dS)}getRenderingIntent(e,n=il.ENABLE,i=null,r=!1,o=!1){let s=_r.DISPLAY,a=AC;switch(e){case"any":s=_r.ANY;break;case"display":break;case"print":s=_r.PRINT;break;default:Qe(`getRenderingIntent - invalid intent: ${e}`)}const l=s&_r.PRINT&&i instanceof a4?i:this.annotationStorage;switch(n){case il.DISABLE:s+=_r.ANNOTATIONS_DISABLE;break;case il.ENABLE:break;case il.ENABLE_FORMS:s+=_r.ANNOTATIONS_FORMS;break;case il.ENABLE_STORAGE:s+=_r.ANNOTATIONS_STORAGE,a=l.serializable;break;default:Qe(`getRenderingIntent - invalid annotationMode: ${n}`)}r&&(s+=_r.IS_EDITING),o&&(s+=_r.OPLIST);const{ids:u,hash:c}=l.modifiedIds,h=[s,a.hash,c];return{renderingIntent:s,cacheKey:h.join("_"),annotationStorageSerializable:a,modifiedIds:u}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=b(this,sa))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of b(this,os).values())e.push(r._destroy());b(this,os).clear(),b(this,qh).clear(),b(this,Wh).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{var r,o;this.commonObjs.clear(),this.fontLoader.clear(),b(this,oa).clear(),this.filterFactory.destroy(),Xg.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Ql("Worker was terminated.")),(o=this.messageHandler)==null||o.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(i,r)=>{dn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},r.onPull=()=>{this._fullReader.read().then(function({value:o,done:s}){if(s){r.close();return}dn(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{this._fullReader.cancel(o),r.ready.catch(s=>{if(!this.destroyed)throw s})}}),e.on("ReaderHeadersReady",async i=>{var a;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:o,contentLength:s}=this._fullReader;return(!r||!o)&&(this._lastProgress&&((a=n.onProgress)==null||a.call(n,this._lastProgress)),this._fullReader.onProgress=l=>{var u;(u=n.onProgress)==null||u.call(n,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:r,isRangeSupported:o,contentLength:s}}),e.on("GetRangeReader",(i,r)=>{dn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(i.begin,i.end);if(!o){r.close();return}r.onPull=()=>{o.read().then(function({value:s,done:a}){if(a){r.close();return}dn(s instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{o.cancel(s),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,n._capability.resolve(new MJ(i,this))}),e.on("DocException",i=>{n._capability.reject(Mi(i))}),e.on("PasswordRequest",i=>{H(this,sa,Promise.withResolvers());try{if(!n.onPassword)throw Mi(i);const r=o=>{o instanceof Error?b(this,sa).reject(o):b(this,sa).resolve({password:o})};n.onPassword(r,i.code)}catch(r){b(this,sa).reject(r)}return b(this,sa).promise}),e.on("DataLoaded",i=>{var r;(r=n.onProgress)==null||r.call(n,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;b(this,os).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,r,o])=>{var s;if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":const{disableFontFace:a,fontExtraProperties:l,pdfBug:u}=this._params;if("error"in o){const f=o.error;Qe(`Error during font loading: ${f}`),this.commonObjs.resolve(i,f);break}const c=u&&((s=globalThis.FontInspector)!=null&&s.enabled)?(f,y)=>globalThis.FontInspector.fontAdded(f,y):null,h=new qK(o,{disableFontFace:a,fontExtraProperties:l,inspectFont:c});this.fontLoader.bind(h).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!l&&h.data&&(h.data=null),this.commonObjs.resolve(i,h)});break;case"CopyLocalImage":const{imageRef:d}=o;dn(d,"The imageRef must be defined.");for(const f of b(this,os).values())for(const[,y]of f.objs)if((y==null?void 0:y.ref)===d)return y.dataLen?(this.commonObjs.resolve(i,structuredClone(y)),y.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,o);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([i,r,o,s])=>{var l;if(this.destroyed)return;const a=b(this,os).get(r);if(!a.objs.has(i)){if(a._intentStates.size===0){(l=s==null?void 0:s.bitmap)==null||l.close();return}switch(o){case"Image":a.objs.resolve(i,s),(s==null?void 0:s.dataLen)>gK&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(i,s);break;default:throw new Error(`Got unknown object type ${o}`)}}}),e.on("DocProgress",i=>{var r;this.destroyed||(r=n.onProgress)==null||r.call(n,{loaded:i.loaded,total:i.total})}),e.on("FetchBuiltInCMap",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(i)}),e.on("FetchStandardFontData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&Qe("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((i=this._fullReader)==null?void 0:i.filename)??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,i=b(this,qh).get(n);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&b(this,Wh).set(o.refStr,e);const s=new OJ(n,o,this,this._params.pdfBug);return b(this,os).set(n,s),s});return b(this,qh).set(n,r),r}getPageIndex(e){return DF(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return Y(this,cc,Zp).call(this,"GetFieldObjects")}hasJSActions(){return Y(this,cc,Zp).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Y(this,cc,Zp).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return Y(this,cc,Zp).call(this,"GetOptionalContentConfig").then(n=>new lJ(n,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=b(this,oa).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,null).then(r=>{var o,s;return{info:r[0],metadata:r[1]?new sJ(r[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((s=this._fullReader)==null?void 0:s.contentLength)??null}});return b(this,oa).set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of b(this,os).values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),b(this,oa).clear(),this.filterFactory.destroy(!0),Xg.cleanup()}}cachedPageNumber(e){if(!DF(e))return null;const n=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return b(this,Wh).get(n)??null}}oa=new WeakMap,os=new WeakMap,qh=new WeakMap,Wh=new WeakMap,sa=new WeakMap,cc=new WeakSet,Zp=function(e,n=null){const i=b(this,oa).get(e);if(i)return i;const r=this.messageHandler.sendWithPromise(e,n);return b(this,oa).set(e,r),r};const Cp=Symbol("INITIAL_DATA");var dr,sy,OC;class I4{constructor(){j(this,sy);j(this,dr,Object.create(null))}get(e,n=null){if(n){const r=Y(this,sy,OC).call(this,e);return r.promise.then(()=>n(r.data)),null}const i=b(this,dr)[e];if(!i||i.data===Cp)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const n=b(this,dr)[e];return!!n&&n.data!==Cp}delete(e){const n=b(this,dr)[e];return!n||n.data===Cp?!1:(delete b(this,dr)[e],!0)}resolve(e,n=null){const i=Y(this,sy,OC).call(this,e);i.data=n,i.resolve()}clear(){var e;for(const n in b(this,dr)){const{data:i}=b(this,dr)[n];(e=i==null?void 0:i.bitmap)==null||e.close()}H(this,dr,Object.create(null))}*[Symbol.iterator](){for(const e in b(this,dr)){const{data:n}=b(this,dr)[e];n!==Cp&&(yield[e,n])}}}dr=new WeakMap,sy=new WeakSet,OC=function(e){var n;return(n=b(this,dr))[e]||(n[e]={...Promise.withResolvers(),data:Cp})};var xl;class WJ{constructor(e){j(this,xl,null);H(this,xl,e),this.onContinue=null}get promise(){return b(this,xl).capability.promise}cancel(e=0){b(this,xl).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=b(this,xl).operatorList;if(!e)return!1;const{annotationCanvasMap:n}=b(this,xl);return e.form||e.canvas&&(n==null?void 0:n.size)>0}}xl=new WeakMap;var wl,dc;const Su=class Su{constructor({callback:e,params:n,objs:i,commonObjs:r,annotationCanvasMap:o,operatorList:s,pageIndex:a,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:c=!1,pdfBug:h=!1,pageColors:d=null}){j(this,wl,null);this.callback=e,this.params=n,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=h,this.pageColors=d,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=c===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new WJ(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){var a,l;if(this.cancelled)return;if(this._canvas){if(b(Su,dc).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");b(Su,dc).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:r,transform:o,background:s}=this.params;this.gfx=new sh(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:r,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,n=0){var i;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),b(this,wl)&&(window.cancelAnimationFrame(b(this,wl)),H(this,wl,null)),b(Su,dc).delete(this._canvas),this.callback(e||new aS(`Rendering cancelled, page ${this._pageIndex+1}`,n))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?H(this,wl,window.requestAnimationFrame(()=>{H(this,wl,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),b(Su,dc).delete(this._canvas),this.callback())))}};wl=new WeakMap,dc=new WeakMap,j(Su,dc,new WeakSet);let BC=Su;const $J="4.10.38",zJ="f9bea397f";function kF(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function Ep(t){return Math.max(0,Math.min(255,255*t))}class IF{static CMYK_G([e,n,i,r]){return["G",1-Math.min(1,.3*e+.59*i+.11*n+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Ep(e),[e,e,e]}static G_HTML([e]){const n=kF(e);return`#${n}${n}${n}`}static RGB_G([e,n,i]){return["G",.3*e+.59*n+.11*i]}static RGB_rgb(e){return e.map(Ep)}static RGB_HTML(e){return`#${e.map(kF).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,n,i,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,i+r),1-Math.min(1,n+r)]}static CMYK_rgb([e,n,i,r]){return[Ep(1-Math.min(1,e+r)),Ep(1-Math.min(1,i+r)),Ep(1-Math.min(1,n+r))]}static CMYK_HTML(e){const n=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([e,n,i]){const r=1-e,o=1-n,s=1-i,a=Math.min(r,o,s);return["CMYK",r,o,s,a]}}class HJ{create(e,n,i=!1){if(e<=0||n<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${n}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${n}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Et("Abstract method `_createSVG` called.")}}class fS extends HJ{_createSVG(e){return document.createElementNS(Bs,e)}}class F4{static setupStorage(e,n,i,r,o){const s=r.getValue(n,{value:null});switch(i.name){case"textarea":if(s.value!==null&&(e.textContent=s.value),o==="print")break;e.addEventListener("input",a=>{r.setValue(n,{value:a.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(s.value===i.attributes.xfaOn?e.setAttribute("checked",!0):s.value===i.attributes.xfaOff&&e.removeAttribute("checked"),o==="print")break;e.addEventListener("change",a=>{r.setValue(n,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(s.value!==null&&e.setAttribute("value",s.value),o==="print")break;e.addEventListener("input",a=>{r.setValue(n,{value:a.target.value})})}break;case"select":if(s.value!==null){e.setAttribute("value",s.value);for(const a of i.children)a.attributes.value===s.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;r.setValue(n,{value:u})});break}}static setAttributes({html:e,element:n,storage:i=null,intent:r,linkService:o}){const{attributes:s}=n,a=e instanceof HTMLAnchorElement;s.type==="radio"&&(s.name=`${s.name}-${r}`);for(const[l,u]of Object.entries(s))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}a&&o.addLinkAttributes(e,s.href,s.newWindow),i&&s.dataId&&this.setupStorage(e,s.dataId,n,i)}static render(e){var h,d;const n=e.annotationStorage,i=e.linkService,r=e.xfaHtml,o=e.intent||"display",s=document.createElement(r.name);r.attributes&&this.setAttributes({html:s,element:r,intent:o,linkService:i});const a=o!=="richText",l=e.div;if(l.append(s),e.viewport){const f=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=f}a&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(r.children.length===0){if(r.value){const f=document.createTextNode(r.value);s.append(f),a&&Yg.shouldBuildText(r.name)&&u.push(f)}return{textDivs:u}}const c=[[r,-1,s]];for(;c.length>0;){const[f,y,m]=c.at(-1);if(y+1===f.children.length){c.pop();continue}const v=f.children[++c.at(-1)[1]];if(v===null)continue;const{name:g}=v;if(g==="#text"){const _=document.createTextNode(v.value);u.push(_),m.append(_);continue}const p=(h=v==null?void 0:v.attributes)!=null&&h.xmlns?document.createElementNS(v.attributes.xmlns,g):document.createElement(g);if(m.append(p),v.attributes&&this.setAttributes({html:p,element:v,storage:n,intent:o,linkService:i}),((d=v.children)==null?void 0:d.length)>0)c.push([v,-1,p]);else if(v.value){const _=document.createTextNode(v.value);a&&Yg.shouldBuildText(g)&&u.push(_),p.append(_)}}for(const f of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))f.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const n=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=n,e.div.hidden=!1}}const Ky=1e3,VJ=9,Yc=new WeakSet;function Xl(t){return{width:t[2]-t[0],height:t[3]-t[1]}}class GJ{static create(e){switch(e.data.annotationType){case pn.LINK:return new N4(e);case pn.TEXT:return new jJ(e);case pn.WIDGET:switch(e.data.fieldType){case"Tx":return new XJ(e);case"Btn":return e.data.radioButton?new L4(e):e.data.checkBox?new KJ(e):new JJ(e);case"Ch":return new ZJ(e);case"Sig":return new YJ(e)}return new ad(e);case pn.POPUP:return new WC(e);case pn.FREETEXT:return new q4(e);case pn.LINE:return new eZ(e);case pn.SQUARE:return new tZ(e);case pn.CIRCLE:return new nZ(e);case pn.POLYLINE:return new W4(e);case pn.CARET:return new rZ(e);case pn.INK:return new pS(e);case pn.POLYGON:return new iZ(e);case pn.HIGHLIGHT:return new $4(e);case pn.UNDERLINE:return new oZ(e);case pn.SQUIGGLY:return new sZ(e);case pn.STRIKEOUT:return new aZ(e);case pn.STAMP:return new z4(e);case pn.FILEATTACHMENT:return new lZ(e);default:return new rn(e)}}}var hc,$h,zh,ay,qC;const Ck=class Ck{constructor(e,{isRenderable:n=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){j(this,ay);j(this,hc,null);j(this,$h,!1);j(this,zh,null);this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,n&&(this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:n,richText:i}){return!!(e!=null&&e.str||n!=null&&n.str||i!=null&&i.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Ck._hasPopupData(this.data)}updateEdited(e){var i;if(!this.container)return;b(this,hc)||H(this,hc,{rect:this.data.rect.slice(0)});const{rect:n}=e;n&&Y(this,ay,qC).call(this,n),(i=b(this,zh))==null||i.popup.updateEdited(e)}resetEdited(){var e;b(this,hc)&&(Y(this,ay,qC).call(this,b(this,hc).rect),(e=b(this,zh))==null||e.popup.resetEdited(),H(this,hc,null))}_createContainer(e){const{data:n,parent:{page:i,viewport:r}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",n.id),this instanceof ad||(o.tabIndex=Ky);const{style:s}=o;if(s.zIndex=this.parent.zIndex++,n.alternativeText&&(o.title=n.alternativeText),n.noRotate&&o.classList.add("norotate"),!n.rect||this instanceof WC){const{rotation:m}=n;return!n.hasOwnCanvas&&m!==0&&this.setRotation(m,o),o}const{width:a,height:l}=Xl(n.rect);if(!e&&n.borderStyle.width>0){s.borderWidth=`${n.borderStyle.width}px`;const m=n.borderStyle.horizontalCornerRadius,v=n.borderStyle.verticalCornerRadius;if(m>0||v>0){const p=`calc(${m}px * var(--scale-factor)) / calc(${v}px * var(--scale-factor))`;s.borderRadius=p}else if(this instanceof L4){const p=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;s.borderRadius=p}switch(n.borderStyle.style){case wp.SOLID:s.borderStyle="solid";break;case wp.DASHED:s.borderStyle="dashed";break;case wp.BEVELED:Qe("Unimplemented border style: beveled");break;case wp.INSET:Qe("Unimplemented border style: inset");break;case wp.UNDERLINE:s.borderBottomStyle="solid";break}const g=n.borderColor||null;g?(H(this,$h,!0),s.borderColor=Oe.makeHexColor(g[0]|0,g[1]|0,g[2]|0)):s.borderWidth=0}const u=Oe.normalizeRect([n.rect[0],i.view[3]-n.rect[1]+i.view[1],n.rect[2],i.view[3]-n.rect[3]+i.view[1]]),{pageWidth:c,pageHeight:h,pageX:d,pageY:f}=r.rawDims;s.left=`${100*(u[0]-d)/c}%`,s.top=`${100*(u[1]-f)/h}%`;const{rotation:y}=n;return n.hasOwnCanvas||y===0?(s.width=`${100*a/c}%`,s.height=`${100*l/h}%`):this.setRotation(y,o),o}setRotation(e,n=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims,{width:o,height:s}=Xl(this.data.rect);let a,l;e%180===0?(a=100*o/i,l=100*s/r):(a=100*s/i,l=100*o/r),n.style.width=`${a}%`,n.style.height=`${l}%`,n.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(n,i,r)=>{const o=r.detail[n],s=o[0],a=o.slice(1);r.target.style[i]=IF[`${s}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[i]:IF[`${s}_rgb`](a)})};return it(this,"_commonActions",{display:n=>{const{display:i}=n.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:i}=n.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{e("bgColor","backgroundColor",n)},fillColor:n=>{e("fillColor","backgroundColor",n)},fgColor:n=>{e("fgColor","color",n)},textColor:n=>{e("textColor","color",n)},borderColor:n=>{e("borderColor","borderColor",n)},strokeColor:n=>{e("strokeColor","borderColor",n)},rotation:n=>{const i=n.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,n){const i=this._commonActions;for(const r of Object.keys(n.detail)){const o=e[r]||i[r];o==null||o(n)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const i=this._commonActions;for(const[r,o]of Object.entries(n)){const s=i[r];if(s){const a={detail:{[r]:o},target:e};s(a),delete n[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[n,i,r,o]=this.data.rect.map(m=>Math.fround(m));if(e.length===8){const[m,v,g,p]=e.subarray(2,6);if(r===m&&o===v&&n===g&&i===p)return}const{style:s}=this.container;let a;if(b(this,$h)){const{borderColor:m,borderWidth:v}=s;s.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${m}" stroke-width="${v}">`],this.container.classList.add("hasBorder")}const l=r-n,u=o-i,{svgFactory:c}=this,h=c.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0);const d=c.createElement("defs");h.append(d);const f=c.createElement("clipPath"),y=`clippath_${this.data.id}`;f.setAttribute("id",y),f.setAttribute("clipPathUnits","objectBoundingBox"),d.append(f);for(let m=2,v=e.length;m<v;m+=8){const g=e[m],p=e[m+1],_=e[m+2],x=e[m+3],T=c.createElement("rect"),A=(_-n)/l,E=(o-p)/u,k=(g-_)/l,U=(p-x)/u;T.setAttribute("x",A),T.setAttribute("y",E),T.setAttribute("width",k),T.setAttribute("height",U),f.append(T),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${A}" y="${E}" width="${k}" height="${U}"/>`)}b(this,$h)&&(a.push("</g></svg>')"),s.backgroundImage=a.join("")),this.container.append(h),this.container.style.clipPath=`url(#${y})`}_createPopup(){const{data:e}=this,n=H(this,zh,new WC({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(n.render())}render(){Et("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,n=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:o,id:s,exportValues:a}of r){if(o===-1||s===n)continue;const l=typeof a=="string"?a:null,u=document.querySelector(`[data-element-id="${s}"]`);if(u&&!Yc.has(u)){Qe(`_getElementsByName - element not allowed: ${s}`);continue}i.push({id:s,exportValue:l,domElement:u})}return i}for(const r of document.getElementsByName(e)){const{exportValue:o}=r,s=r.getAttribute("data-element-id");s!==n&&Yc.has(r)&&i.push({id:s,exportValue:o,domElement:r})}return i}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const n of e)n.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:e,editId:n})})}};hc=new WeakMap,$h=new WeakMap,zh=new WeakMap,ay=new WeakSet,qC=function(e){const{container:{style:n},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:s,pageX:a,pageY:l}}}}=this;i==null||i.splice(0,4,...e);const{width:u,height:c}=Xl(e);n.left=`${100*(e[0]-a)/o}%`,n.top=`${100*(s-e[3]+l)/s}%`,r===0?(n.width=`${100*u/o}%`,n.height=`${100*c/s}%`):this.setRotation(r)};let rn=Ck;var wr,xu,R4,U4;class N4 extends rn{constructor(n,i=null){super(n,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});j(this,wr);this.isTooltipOnly=n.data.isTooltipOnly}render(){const{data:n,linkService:i}=this,r=document.createElement("a");r.setAttribute("data-element-id",n.id);let o=!1;return n.url?(i.addLinkAttributes(r,n.url,n.newWindow),o=!0):n.action?(this._bindNamedAction(r,n.action),o=!0):n.attachment?(Y(this,wr,R4).call(this,r,n.attachment,n.attachmentDest),o=!0):n.setOCGState?(Y(this,wr,U4).call(this,r,n.setOCGState),o=!0):n.dest?(this._bindLink(r,n.dest),o=!0):(n.actions&&(n.actions.Action||n.actions["Mouse Up"]||n.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,n),o=!0),n.resetForm?(this._bindResetFormAction(r,n.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(r,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(r),this.container}_bindLink(n,i){n.href=this.linkService.getDestinationHash(i),n.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&Y(this,wr,xu).call(this)}_bindNamedAction(n,i){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeNamedAction(i),!1),Y(this,wr,xu).call(this)}_bindJSAction(n,i){n.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(i.actions)){const s=r.get(o);s&&(n[s]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:o}}),!1})}n.onclick||(n.onclick=()=>!1),Y(this,wr,xu).call(this)}_bindResetFormAction(n,i){const r=n.onclick;if(r||(n.href=this.linkService.getAnchorUrl("")),Y(this,wr,xu).call(this),!this._fieldObjects){Qe('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(n.onclick=()=>!1);return}n.onclick=()=>{var h;r==null||r();const{fields:o,refs:s,include:a}=i,l=[];if(o.length!==0||s.length!==0){const d=new Set(s);for(const f of o){const y=this._fieldObjects[f]||[];for(const{id:m}of y)d.add(m)}for(const f of Object.values(this._fieldObjects))for(const y of f)d.has(y.id)===a&&l.push(y)}else for(const d of Object.values(this._fieldObjects))l.push(...d);const u=this.annotationStorage,c=[];for(const d of l){const{id:f}=d;switch(c.push(f),d.type){case"text":{const m=d.defaultValue||"";u.setValue(f,{value:m});break}case"checkbox":case"radiobutton":{const m=d.defaultValue===d.exportValues;u.setValue(f,{value:m});break}case"combobox":case"listbox":{const m=d.defaultValue||"";u.setValue(f,{value:m});break}default:continue}const y=document.querySelector(`[data-element-id="${f}"]`);if(y){if(!Yc.has(y)){Qe(`_bindResetFormAction - element not allowed: ${f}`);continue}}else continue;y.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}})),!1}}}wr=new WeakSet,xu=function(){this.container.setAttribute("data-internal-link","")},R4=function(n,i,r=null){n.href=this.linkService.getAnchorUrl(""),i.description&&(n.title=i.description),n.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(i.content,i.filename,r),!1},Y(this,wr,xu).call(this)},U4=function(n,i){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeSetOCGState(i),!1),Y(this,wr,xu).call(this)};class jJ extends rn{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class ad extends rn{render(){return this.container}showElementAndHideCanvas(e){var n;this.data.hasOwnCanvas&&(((n=e.previousSibling)==null?void 0:n.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Si.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,n,i,r,o){i.includes("mouse")?e.addEventListener(i,s=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(s),shift:s.shiftKey,modifier:this._getKeyModifier(s)}})}):e.addEventListener(i,s=>{var a;if(i==="blur"){if(!n.focused||!s.relatedTarget)return;n.focused=!1}else if(i==="focus"){if(n.focused)return;n.focused=!0}o&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(s)}}))})}_setEventListeners(e,n,i,r){var o,s,a;for(const[l,u]of i)(u==="Action"||(o=this.data.actions)!=null&&o[u])&&((u==="Focus"||u==="Blur")&&(n||(n={focused:!1})),this._setEventListener(e,n,l,u,r),u==="Focus"&&!((s=this.data.actions)!=null&&s.Blur)?this._setEventListener(e,n,"blur","Blur",null):u==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,n,"focus","Focus",null))}_setBackgroundColor(e){const n=this.data.backgroundColor||null;e.style.backgroundColor=n===null?"transparent":Oe.makeHexColor(n[0],n[1],n[2])}_setTextStyle(e){const n=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||VJ,o=e.style;let s;const a=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a),c=Math.round(u/(f2*r))||1,h=u/c;s=Math.min(r,l(h/f2))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a);s=Math.min(r,l(u/f2))}o.fontSize=`calc(${s}px * var(--scale-factor))`,o.color=Oe.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(o.textAlign=n[this.data.textAlignment])}_setRequired(e,n){n?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",n)}}class XJ extends ad{constructor(e){const n=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:n})}setPropertyOnSiblings(e,n,i,r){const o=this.annotationStorage;for(const s of this._getElementsByName(e.name,e.id))s.domElement&&(s.domElement[n]=i),o.setValue(s.id,{[r]:i})}render(){var r,o;const e=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const s=e.getValue(n,{value:this.data.fieldValue});let a=s.value||"";const l=e.getValue(n,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let u=s.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const c={userValue:a,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=u??a,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type="text",i.setAttribute("value",u??a),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),Yc.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=Ky,this._setRequired(i,this.data.required),l&&(i.maxLength=l),i.addEventListener("input",d=>{e.setValue(n,{value:d.target.value}),this.setPropertyOnSiblings(i,"value",d.target.value,"value"),c.formattedValue=null}),i.addEventListener("resetform",d=>{const f=this.data.defaultFieldValue??"";i.value=c.userValue=f,c.formattedValue=null});let h=d=>{const{formattedValue:f}=c;f!=null&&(d.target.value=f),d.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",f=>{var m;if(c.focused)return;const{target:y}=f;c.userValue&&(y.value=c.userValue),c.lastCommittedValue=y.value,c.commitKey=1,(m=this.data.actions)!=null&&m.Focus||(c.focused=!0)}),i.addEventListener("updatefromsandbox",f=>{this.showElementAndHideCanvas(f.target);const y={value(m){c.userValue=m.detail.value??"",e.setValue(n,{value:c.userValue.toString()}),m.target.value=c.userValue},formattedValue(m){const{formattedValue:v}=m.detail;c.formattedValue=v,v!=null&&m.target!==document.activeElement&&(m.target.value=v),e.setValue(n,{formattedValue:v})},selRange(m){m.target.setSelectionRange(...m.detail.selRange)},charLimit:m=>{var _;const{charLimit:v}=m.detail,{target:g}=m;if(v===0){g.removeAttribute("maxLength");return}g.setAttribute("maxLength",v);let p=c.userValue;!p||p.length<=v||(p=p.slice(0,v),g.value=c.userValue=p,e.setValue(n,{value:p}),(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:p,willCommit:!0,commitKey:1,selStart:g.selectionStart,selEnd:g.selectionEnd}}))}};this._dispatchEventFromSandbox(y,f)}),i.addEventListener("keydown",f=>{var v;c.commitKey=1;let y=-1;if(f.key==="Escape"?y=0:f.key==="Enter"&&!this.data.multiLine?y=2:f.key==="Tab"&&(c.commitKey=3),y===-1)return;const{value:m}=f.target;c.lastCommittedValue!==m&&(c.lastCommittedValue=m,c.userValue=m,(v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:m,willCommit:!0,commitKey:y,selStart:f.target.selectionStart,selEnd:f.target.selectionEnd}}))});const d=h;h=null,i.addEventListener("blur",f=>{var m,v;if(!c.focused||!f.relatedTarget)return;(m=this.data.actions)!=null&&m.Blur||(c.focused=!1);const{value:y}=f.target;c.userValue=y,c.lastCommittedValue!==y&&((v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:y,willCommit:!0,commitKey:c.commitKey,selStart:f.target.selectionStart,selEnd:f.target.selectionEnd}})),d(f)}),(o=this.data.actions)!=null&&o.Keystroke&&i.addEventListener("beforeinput",f=>{var T;c.lastCommittedValue=null;const{data:y,target:m}=f,{value:v,selectionStart:g,selectionEnd:p}=m;let _=g,x=p;switch(f.inputType){case"deleteWordBackward":{const A=v.substring(0,g).match(/\w*[^\w]*$/);A&&(_-=A[0].length);break}case"deleteWordForward":{const A=v.substring(g).match(/^[^\w]*\w*/);A&&(x+=A[0].length);break}case"deleteContentBackward":g===p&&(_-=1);break;case"deleteContentForward":g===p&&(x+=1);break}f.preventDefault(),(T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:v,change:y||"",willCommit:!1,selStart:_,selEnd:x}})}),this._setEventListeners(i,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],f=>f.target.value)}if(h&&i.addEventListener("blur",h),this.data.comb){const f=(this.data.rect[2]-this.data.rect[0])/l;i.classList.add("comb"),i.style.letterSpacing=`calc(${f}px * var(--scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class YJ extends ad{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class KJ extends ad{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,n=this.data,i=n.id;let r=e.getValue(i,{value:n.exportValue===n.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return Yc.add(o),o.setAttribute("data-element-id",i),o.disabled=n.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=n.fieldName,r&&o.setAttribute("checked",!0),o.setAttribute("exportValue",n.exportValue),o.tabIndex=Ky,o.addEventListener("change",s=>{const{name:a,checked:l}=s.target;for(const u of this._getElementsByName(a,i)){const c=l&&u.exportValue===n.exportValue;u.domElement&&(u.domElement.checked=c),e.setValue(u.id,{value:c})}e.setValue(i,{value:l})}),o.addEventListener("resetform",s=>{const a=n.defaultFieldValue||"Off";s.target.checked=a===n.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",s=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(i,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,s)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],s=>s.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class L4 extends ad{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,n=this.data,i=n.id;let r=e.getValue(i,{value:n.fieldValue===n.buttonValue}).value;if(typeof r=="string"&&(r=r!==n.buttonValue,e.setValue(i,{value:r})),r)for(const s of this._getElementsByName(n.fieldName,i))e.setValue(s.id,{value:!1});const o=document.createElement("input");if(Yc.add(o),o.setAttribute("data-element-id",i),o.disabled=n.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=n.fieldName,r&&o.setAttribute("checked",!0),o.tabIndex=Ky,o.addEventListener("change",s=>{const{name:a,checked:l}=s.target;for(const u of this._getElementsByName(a,i))e.setValue(u.id,{value:!1});e.setValue(i,{value:l})}),o.addEventListener("resetform",s=>{const a=n.defaultFieldValue;s.target.checked=a!=null&&a===n.buttonValue}),this.enableScripting&&this.hasJSActions){const s=n.buttonValue;o.addEventListener("updatefromsandbox",a=>{const l={value:u=>{const c=s===u.detail.value;for(const h of this._getElementsByName(u.target.name)){const d=c&&h.id===i;h.domElement&&(h.domElement.checked=d),e.setValue(h.id,{value:d})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class JJ extends N4{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const n=e.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class ZJ extends ad{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,n=this.data.id,i=e.getValue(n,{value:this.data.fieldValue}),r=document.createElement("select");Yc.add(r),r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=Ky;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",c=>{const h=this.data.defaultFieldValue;for(const d of r.options)d.selected=d.value===h});for(const c of this.data.options){const h=document.createElement("option");h.textContent=c.displayValue,h.value=c.exportValue,i.value.includes(c.exportValue)&&(h.setAttribute("selected",!0),o=!1),r.append(h)}let s=null;if(o){const c=document.createElement("option");c.value=" ",c.setAttribute("hidden",!0),c.setAttribute("selected",!0),r.prepend(c),s=()=>{c.remove(),r.removeEventListener("input",s),s=null},r.addEventListener("input",s)}const a=c=>{const h=c?"value":"textContent",{options:d,multiple:f}=r;return f?Array.prototype.filter.call(d,y=>y.selected).map(y=>y[h]):d.selectedIndex===-1?null:d[d.selectedIndex][h]};let l=a(!1);const u=c=>{const h=c.target.options;return Array.prototype.map.call(h,d=>({displayValue:d.textContent,exportValue:d.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",c=>{const h={value(d){s==null||s();const f=d.detail.value,y=new Set(Array.isArray(f)?f:[f]);for(const m of r.options)m.selected=y.has(m.value);e.setValue(n,{value:a(!0)}),l=a(!1)},multipleSelection(d){r.multiple=!0},remove(d){const f=r.options,y=d.detail.remove;f[y].selected=!1,r.remove(y),f.length>0&&Array.prototype.findIndex.call(f,v=>v.selected)===-1&&(f[0].selected=!0),e.setValue(n,{value:a(!0),items:u(d)}),l=a(!1)},clear(d){for(;r.length!==0;)r.remove(0);e.setValue(n,{value:null,items:[]}),l=a(!1)},insert(d){const{index:f,displayValue:y,exportValue:m}=d.detail.insert,v=r.children[f],g=document.createElement("option");g.textContent=y,g.value=m,v?v.before(g):r.append(g),e.setValue(n,{value:a(!0),items:u(d)}),l=a(!1)},items(d){const{items:f}=d.detail;for(;r.length!==0;)r.remove(0);for(const y of f){const{displayValue:m,exportValue:v}=y,g=document.createElement("option");g.textContent=m,g.value=v,r.append(g)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(n,{value:a(!0),items:u(d)}),l=a(!1)},indices(d){const f=new Set(d.detail.indices);for(const y of d.target.options)y.selected=f.has(y.index);e.setValue(n,{value:a(!0)}),l=a(!1)},editable(d){d.target.disabled=!d.detail.editable}};this._dispatchEventFromSandbox(h,c)}),r.addEventListener("input",c=>{var f;const h=a(!0),d=a(!1);e.setValue(n,{value:h}),c.preventDefault(),(f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:l,change:d,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],c=>c.target.value)):r.addEventListener("input",function(c){e.setValue(n,{value:a(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class WC extends rn{constructor(e){const{data:n,elements:i}=e;super(e,{isRenderable:rn._hasPopupData(n)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new QJ({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[];for(const i of this.elements)i.popup=e,i.container.ariaHasPopup="dialog",n.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(i=>`${sS}${i}`).join(",")),this.container}}var Hh,Mb,Ob,Vh,fc,Kt,aa,Gh,ly,uy,jh,la,vo,ua,cy,ca,dy,pc,gc,Ct,I0,$C,P4,M4,O4,B4,F0,N0,zC;class QJ{constructor({container:e,color:n,elements:i,titleObj:r,modificationDate:o,contentsObj:s,richText:a,parent:l,rect:u,parentRect:c,open:h}){j(this,Ct);j(this,Hh,Y(this,Ct,O4).bind(this));j(this,Mb,Y(this,Ct,zC).bind(this));j(this,Ob,Y(this,Ct,N0).bind(this));j(this,Vh,Y(this,Ct,F0).bind(this));j(this,fc,null);j(this,Kt,null);j(this,aa,null);j(this,Gh,null);j(this,ly,null);j(this,uy,null);j(this,jh,null);j(this,la,!1);j(this,vo,null);j(this,ua,null);j(this,cy,null);j(this,ca,null);j(this,dy,null);j(this,pc,null);j(this,gc,!1);var d;H(this,Kt,e),H(this,dy,r),H(this,aa,s),H(this,ca,a),H(this,uy,l),H(this,fc,n),H(this,cy,u),H(this,jh,c),H(this,ly,i),H(this,Gh,uS.toDateObject(o)),this.trigger=i.flatMap(f=>f.getElementsToTriggerPopup());for(const f of this.trigger)f.addEventListener("click",b(this,Vh)),f.addEventListener("mouseenter",b(this,Ob)),f.addEventListener("mouseleave",b(this,Mb)),f.classList.add("popupTriggerArea");for(const f of i)(d=f.container)==null||d.addEventListener("keydown",b(this,Hh));b(this,Kt).hidden=!0,h&&Y(this,Ct,F0).call(this)}render(){if(b(this,vo))return;const e=H(this,vo,document.createElement("div"));if(e.className="popup",b(this,fc)){const o=e.style.outlineColor=Oe.makeHexColor(...b(this,fc));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`:e.style.backgroundColor=Oe.makeHexColor(...b(this,fc).map(a=>Math.floor(.7*(255-a)+a)))}const n=document.createElement("span");n.className="header";const i=document.createElement("h1");if(n.append(i),{dir:i.dir,str:i.textContent}=b(this,dy),e.append(n),b(this,Gh)){const o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:b(this,Gh).valueOf()})),n.append(o)}const r=b(this,Ct,I0);if(r)F4.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(b(this,aa));e.append(o)}b(this,Kt).append(e)}_formatContents({str:e,dir:n}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=n;const r=e.split(/(?:\r\n?|\n)/);for(let o=0,s=r.length;o<s;++o){const a=r[o];i.append(document.createTextNode(a)),o<s-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:e,popupContent:n}){var i;b(this,pc)||H(this,pc,{contentsObj:b(this,aa),richText:b(this,ca)}),e&&H(this,ua,null),n&&(H(this,ca,Y(this,Ct,M4).call(this,n)),H(this,aa,null)),(i=b(this,vo))==null||i.remove(),H(this,vo,null)}resetEdited(){var e;b(this,pc)&&({contentsObj:mi(this,aa)._,richText:mi(this,ca)._}=b(this,pc),H(this,pc,null),(e=b(this,vo))==null||e.remove(),H(this,vo,null),H(this,ua,null))}forceHide(){H(this,gc,this.isVisible),b(this,gc)&&(b(this,Kt).hidden=!0)}maybeShow(){b(this,gc)&&(b(this,vo)||Y(this,Ct,N0).call(this),H(this,gc,!1),b(this,Kt).hidden=!1)}get isVisible(){return b(this,Kt).hidden===!1}}Hh=new WeakMap,Mb=new WeakMap,Ob=new WeakMap,Vh=new WeakMap,fc=new WeakMap,Kt=new WeakMap,aa=new WeakMap,Gh=new WeakMap,ly=new WeakMap,uy=new WeakMap,jh=new WeakMap,la=new WeakMap,vo=new WeakMap,ua=new WeakMap,cy=new WeakMap,ca=new WeakMap,dy=new WeakMap,pc=new WeakMap,gc=new WeakMap,Ct=new WeakSet,I0=function(){const e=b(this,ca),n=b(this,aa);return e!=null&&e.str&&(!(n!=null&&n.str)||n.str===e.str)&&b(this,ca).html||null},$C=function(){var e,n,i;return((i=(n=(e=b(this,Ct,I0))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:i.fontSize)||0},P4=function(){var e,n,i;return((i=(n=(e=b(this,Ct,I0))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:i.color)||null},M4=function(e){const n=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},r={style:{color:b(this,Ct,P4),fontSize:b(this,Ct,$C)?`calc(${b(this,Ct,$C)}px * var(--scale-factor))`:""}};for(const o of e.split(`
`))n.push({name:"span",value:o,attributes:r});return i},O4=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&b(this,la))&&Y(this,Ct,F0).call(this)},B4=function(){if(b(this,ua)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:i,pageX:r,pageY:o}}}=b(this,uy);let s=!!b(this,jh),a=s?b(this,jh):b(this,cy);for(const y of b(this,ly))if(!a||Oe.intersect(y.data.rect,a)!==null){a=y.data.rect,s=!0;break}const l=Oe.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),c=s?a[2]-a[0]+5:0,h=l[0]+c,d=l[1];H(this,ua,[100*(h-r)/n,100*(d-o)/i]);const{style:f}=b(this,Kt);f.left=`${b(this,ua)[0]}%`,f.top=`${b(this,ua)[1]}%`},F0=function(){H(this,la,!b(this,la)),b(this,la)?(Y(this,Ct,N0).call(this),b(this,Kt).addEventListener("click",b(this,Vh)),b(this,Kt).addEventListener("keydown",b(this,Hh))):(Y(this,Ct,zC).call(this),b(this,Kt).removeEventListener("click",b(this,Vh)),b(this,Kt).removeEventListener("keydown",b(this,Hh)))},N0=function(){b(this,vo)||this.render(),this.isVisible?b(this,la)&&b(this,Kt).classList.add("focused"):(Y(this,Ct,B4).call(this),b(this,Kt).hidden=!1,b(this,Kt).style.zIndex=parseInt(b(this,Kt).style.zIndex)+1e3)},zC=function(){b(this,Kt).classList.remove("focused"),!(b(this,la)||!this.isVisible)&&(b(this,Kt).hidden=!0,b(this,Kt).style.zIndex=parseInt(b(this,Kt).style.zIndex)-1e3)};class q4 extends rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Ze.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const n of this.textContent){const i=document.createElement("span");i.textContent=n,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var hy;class eZ extends rn{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});j(this,hy,null)}render(){this.container.classList.add("lineAnnotation");const n=this.data,{width:i,height:r}=Xl(n.rect),o=this.svgFactory.create(i,r,!0),s=H(this,hy,this.svgFactory.createElement("svg:line"));return s.setAttribute("x1",n.rect[2]-n.lineCoordinates[0]),s.setAttribute("y1",n.rect[3]-n.lineCoordinates[1]),s.setAttribute("x2",n.rect[2]-n.lineCoordinates[2]),s.setAttribute("y2",n.rect[3]-n.lineCoordinates[3]),s.setAttribute("stroke-width",n.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),o.append(s),this.container.append(o),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return b(this,hy)}addHighlightArea(){this.container.classList.add("highlightArea")}}hy=new WeakMap;var fy;class tZ extends rn{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});j(this,fy,null)}render(){this.container.classList.add("squareAnnotation");const n=this.data,{width:i,height:r}=Xl(n.rect),o=this.svgFactory.create(i,r,!0),s=n.borderStyle.width,a=H(this,fy,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",s/2),a.setAttribute("y",s/2),a.setAttribute("width",i-s),a.setAttribute("height",r-s),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),o.append(a),this.container.append(o),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return b(this,fy)}addHighlightArea(){this.container.classList.add("highlightArea")}}fy=new WeakMap;var py;class nZ extends rn{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});j(this,py,null)}render(){this.container.classList.add("circleAnnotation");const n=this.data,{width:i,height:r}=Xl(n.rect),o=this.svgFactory.create(i,r,!0),s=n.borderStyle.width,a=H(this,py,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",i/2),a.setAttribute("cy",r/2),a.setAttribute("rx",i/2-s/2),a.setAttribute("ry",r/2-s/2),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),o.append(a),this.container.append(o),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return b(this,py)}addHighlightArea(){this.container.classList.add("highlightArea")}}py=new WeakMap;var gy;class W4 extends rn{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});j(this,gy,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,vertices:i,borderStyle:r,popupRef:o}}=this;if(!i)return this.container;const{width:s,height:a}=Xl(n),l=this.svgFactory.create(s,a,!0);let u=[];for(let h=0,d=i.length;h<d;h+=2){const f=i[h]-n[0],y=n[3]-i[h+1];u.push(`${f},${y}`)}u=u.join(" ");const c=H(this,gy,this.svgFactory.createElement(this.svgElementName));return c.setAttribute("points",u),c.setAttribute("stroke-width",r.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),l.append(c),this.container.append(l),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return b(this,gy)}addHighlightArea(){this.container.classList.add("highlightArea")}}gy=new WeakMap;class iZ extends W4{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class rZ extends rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var my,mc,yy,HC;class pS extends rn{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});j(this,yy);j(this,my,null);j(this,mc,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Ze.HIGHLIGHT:Ze.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,rotation:i,inkLists:r,borderStyle:o,popupRef:s}}=this,{transform:a,width:l,height:u}=Y(this,yy,HC).call(this,i,n),c=this.svgFactory.create(l,u,!0),h=H(this,my,this.svgFactory.createElement("svg:g"));c.append(h),h.setAttribute("stroke-width",o.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",a);for(let d=0,f=r.length;d<f;d++){const y=this.svgFactory.createElement(this.svgElementName);b(this,mc).push(y),y.setAttribute("points",r[d].join(",")),h.append(y)}return!s&&this.hasPopupData&&this._createPopup(),this.container.append(c),this._editOnDoubleClick(),this.container}updateEdited(n){super.updateEdited(n);const{thickness:i,points:r,rect:o}=n,s=b(this,my);if(i>=0&&s.setAttribute("stroke-width",i||1),r)for(let a=0,l=b(this,mc).length;a<l;a++)b(this,mc)[a].setAttribute("points",r[a].join(","));if(o){const{transform:a,width:l,height:u}=Y(this,yy,HC).call(this,this.data.rotation,o);s.parentElement.setAttribute("viewBox",`0 0 ${l} ${u}`),s.setAttribute("transform",a)}}getElementsToTriggerPopup(){return b(this,mc)}addHighlightArea(){this.container.classList.add("highlightArea")}}my=new WeakMap,mc=new WeakMap,yy=new WeakSet,HC=function(n,i){switch(n){case 90:return{transform:`rotate(90) translate(${-i[0]},${i[1]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};case 180:return{transform:`rotate(180) translate(${-i[2]},${i[1]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]};case 270:return{transform:`rotate(270) translate(${-i[2]},${i[3]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};default:return{transform:`translate(${-i[0]},${i[3]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]}}};class $4 extends rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Ze.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class oZ extends rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class sZ extends rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class aZ extends rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class z4 extends rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Ze.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var vy,by,VC;class lZ extends rn{constructor(n){var r;super(n,{isRenderable:!0});j(this,by);j(this,vy,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:n,data:i}=this;let r;i.hasAppearance||i.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),r.addEventListener("dblclick",Y(this,by,VC).bind(this)),H(this,vy,r);const{isMac:o}=Si.platform;return n.addEventListener("keydown",s=>{s.key==="Enter"&&(o?s.metaKey:s.ctrlKey)&&Y(this,by,VC).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),n.append(r),n}getElementsToTriggerPopup(){return b(this,vy)}addHighlightArea(){this.container.classList.add("highlightArea")}}vy=new WeakMap,by=new WeakSet,VC=function(){var n;(n=this.downloadManager)==null||n.openOrDownloadData(this.content,this.filename)};var _y,yc,vc,xy,id,H4,GC;class uZ{constructor({div:e,accessibilityManager:n,annotationCanvasMap:i,annotationEditorUIManager:r,page:o,viewport:s,structTreeLayer:a}){j(this,id);j(this,_y,null);j(this,yc,null);j(this,vc,new Map);j(this,xy,null);this.div=e,H(this,_y,n),H(this,yc,i),H(this,xy,a||null),this.page=o,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return b(this,vc).size>0}async render(e){var s;const{annotations:n}=e,i=this.div;jc(i,this.viewport);const r=new Map,o={data:null,layer:i,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new fS,annotationStorage:e.annotationStorage||new dS,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of n){if(a.noHTML)continue;const l=a.annotationType===pn.POPUP;if(l){const h=r.get(a.id);if(!h)continue;o.elements=h}else{const{width:h,height:d}=Xl(a.rect);if(h<=0||d<=0)continue}o.data=a;const u=GJ.create(o);if(!u.isRenderable)continue;if(!l&&a.popupRef){const h=r.get(a.popupRef);h?h.push(u):r.set(a.popupRef,[u])}const c=u.render();a.hidden&&(c.style.visibility="hidden"),await Y(this,id,H4).call(this,c,a.id),u._isEditable&&(b(this,vc).set(u.data.id,u),(s=this._annotationEditorUIManager)==null||s.renderAnnotationElement(u))}Y(this,id,GC).call(this)}update({viewport:e}){const n=this.div;this.viewport=e,jc(n,{rotation:e.rotation}),Y(this,id,GC).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(b(this,vc).values())}getEditableAnnotation(e){return b(this,vc).get(e)}}_y=new WeakMap,yc=new WeakMap,vc=new WeakMap,xy=new WeakMap,id=new WeakSet,H4=async function(e,n){var s,a;const i=e.firstChild||e,r=i.id=`${sS}${n}`,o=await((s=b(this,xy))==null?void 0:s.getAriaAttributes(r));if(o)for(const[l,u]of o)i.setAttribute(l,u);this.div.append(e),(a=b(this,_y))==null||a.moveElementInDOM(this.div,e,i,!1)},GC=function(){if(!b(this,yc))return;const e=this.div;for(const[n,i]of b(this,yc)){const r=e.querySelector(`[data-annotation-id="${n}"]`);if(!r)continue;i.className="annotationContent";const{firstChild:o}=r;o?o.nodeName==="CANVAS"?o.replaceWith(i):o.classList.contains("annotationContent")?o.after(i):o.before(i):r.append(i)}b(this,yc).clear()};const Pv=/\r\n?|\n/g;var bo,hr,wy,bc,fr,fn,V4,G4,j4,R0,Aa,U0,L0,X4,XC,Y4;const At=class At extends jt{constructor(n){super({...n,name:"freeTextEditor"});j(this,fn);j(this,bo);j(this,hr,"");j(this,wy,`${this.id}-editor`);j(this,bc,null);j(this,fr);H(this,bo,n.color||At._defaultColor||jt._defaultLineColor),H(this,fr,n.fontSize||At._defaultFontSize)}static get _keyboardManager(){const n=At.prototype,i=s=>s.isEmpty(),r=Xc.TRANSLATE_SMALL,o=Xc.TRANSLATE_BIG;return it(this,"_keyboardManager",new Yy([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],n.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],n.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],n._translateEmpty,{args:[-r,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],n._translateEmpty,{args:[-o,0],checker:i}],[["ArrowRight","mac+ArrowRight"],n._translateEmpty,{args:[r,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],n._translateEmpty,{args:[o,0],checker:i}],[["ArrowUp","mac+ArrowUp"],n._translateEmpty,{args:[0,-r],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],n._translateEmpty,{args:[0,-o],checker:i}],[["ArrowDown","mac+ArrowDown"],n._translateEmpty,{args:[0,r],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],n._translateEmpty,{args:[0,o],checker:i}]]))}static initialize(n,i){jt.initialize(n,i);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(n,i){switch(n){case lt.FREETEXT_SIZE:At._defaultFontSize=i;break;case lt.FREETEXT_COLOR:At._defaultColor=i;break}}updateParams(n,i){switch(n){case lt.FREETEXT_SIZE:Y(this,fn,V4).call(this,i);break;case lt.FREETEXT_COLOR:Y(this,fn,G4).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[lt.FREETEXT_SIZE,At._defaultFontSize],[lt.FREETEXT_COLOR,At._defaultColor||jt._defaultLineColor]]}get propertiesToUpdate(){return[[lt.FREETEXT_SIZE,b(this,fr)],[lt.FREETEXT_COLOR,b(this,bo)]]}_translateEmpty(n,i){this._uiManager.translateSelectedEditors(n,i,!0)}getInitialTranslation(){const n=this.parentScale;return[-At._internalPadding*n,-(At._internalPadding+b(this,fr))*n]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Ze.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),H(this,bc,new AbortController);const n=this._uiManager.combinedSignal(b(this,bc));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:n}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:n}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:n}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:n}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:n})}disableEditMode(){var n;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",b(this,wy)),this._isDraggable=!0,(n=b(this,bc))==null||n.abort(),H(this,bc,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(n){this._focusEventsAllowed&&(super.focusin(n),n.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(n){var i;this.width||(this.enableEditMode(),n&&this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const n=b(this,hr),i=H(this,hr,Y(this,fn,j4).call(this).trimEnd());if(n===i)return;const r=o=>{if(H(this,hr,o),!o){this.remove();return}Y(this,fn,L0).call(this),this._uiManager.rebuild(this),Y(this,fn,R0).call(this)};this.addCommands({cmd:()=>{r(i)},undo:()=>{r(n)},mustExec:!1}),Y(this,fn,R0).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(n){this.enterInEditMode()}keydown(n){n.target===this.div&&n.key==="Enter"&&(this.enterInEditMode(),n.preventDefault())}editorDivKeydown(n){At._keyboardManager.exec(this,n)}editorDivFocus(n){this.isEditing=!0}editorDivBlur(n){this.isEditing=!1}editorDivInput(n){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let n,i;this.width&&(n=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",b(this,wy)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${b(this,fr)}px * var(--scale-factor))`,r.color=b(this,bo),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),F1(this,this.div,["dblclick","keydown"]),this.width){const[o,s]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[c,h]=this.pageDimensions,[d,f]=this.pageTranslation;let y,m;switch(this.rotation){case 0:y=n+(a[0]-d)/c,m=i+this.height-(a[1]-f)/h;break;case 90:y=n+(a[0]-d)/c,m=i-(a[1]-f)/h,[l,u]=[u,-l];break;case 180:y=n-this.width+(a[0]-d)/c,m=i-(a[1]-f)/h,[l,u]=[-l,-u];break;case 270:y=n+(a[0]-d-this.height*h)/c,m=i+(a[1]-f-this.width*c)/h,[l,u]=[-u,l];break}this.setAt(y*o,m*s,l,u)}else this.setAt(n*o,i*s,this.width*o,this.height*s);Y(this,fn,L0).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(n){var y,m,v;const i=n.clipboardData||window.clipboardData,{types:r}=i;if(r.length===1&&r[0]==="text/plain")return;n.preventDefault();const o=Y(y=At,Aa,XC).call(y,i.getData("text")||"").replaceAll(Pv,`
`);if(!o)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const a=s.getRangeAt(0);if(!o.includes(`
`)){a.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:l,startOffset:u}=a,c=[],h=[];if(l.nodeType===Node.TEXT_NODE){const g=l.parentElement;if(h.push(l.nodeValue.slice(u).replaceAll(Pv,"")),g!==this.editorDiv){let p=c;for(const _ of this.editorDiv.childNodes){if(_===g){p=h;continue}p.push(Y(m=At,Aa,U0).call(m,_))}}c.push(l.nodeValue.slice(0,u).replaceAll(Pv,""))}else if(l===this.editorDiv){let g=c,p=0;for(const _ of this.editorDiv.childNodes)p++===u&&(g=h),g.push(Y(v=At,Aa,U0).call(v,_))}H(this,hr,`${c.join(`
`)}${o}${h.join(`
`)}`),Y(this,fn,L0).call(this);const d=new Range;let f=c.reduce((g,p)=>g+p.length,0);for(const{firstChild:g}of this.editorDiv.childNodes)if(g.nodeType===Node.TEXT_NODE){const p=g.nodeValue.length;if(f<=p){d.setStart(g,f),d.setEnd(g,f);break}f-=p}s.removeAllRanges(),s.addRange(d)}get contentDiv(){return this.editorDiv}static async deserialize(n,i,r){var a;let o=null;if(n instanceof q4){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:c,rotation:h,id:d,popupRef:f},textContent:y,textPosition:m,parent:{page:{pageNumber:v}}}=n;if(!y||y.length===0)return null;o=n={annotationType:Ze.FREETEXT,color:Array.from(u),fontSize:l,value:y.join(`
`),position:m,pageIndex:v-1,rect:c.slice(0),rotation:h,id:d,deleted:!1,popupRef:f}}const s=await super.deserialize(n,i,r);return H(s,fr,n.fontSize),H(s,bo,Oe.makeHexColor(...n.color)),H(s,hr,Y(a=At,Aa,XC).call(a,n.value)),s.annotationElementId=n.id||null,s._initialData=o,s}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=At._internalPadding*this.parentScale,r=this.getRect(i,i),o=jt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:b(this,bo)),s={annotationType:Ze.FREETEXT,color:o,fontSize:b(this,fr),value:Y(this,fn,X4).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return n?s:this.annotationElementId&&!Y(this,fn,Y4).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(n){const i=super.renderAnnotationElement(n);if(this.deleted)return i;const{style:r}=i;r.fontSize=`calc(${b(this,fr)}px * var(--scale-factor))`,r.color=b(this,bo),i.replaceChildren();for(const s of b(this,hr).split(`
`)){const a=document.createElement("div");a.append(s?document.createTextNode(s):document.createElement("br")),i.append(a)}const o=At._internalPadding*this.parentScale;return n.updateEdited({rect:this.getRect(o,o),popupContent:b(this,hr)}),i}resetAnnotationElement(n){super.resetAnnotationElement(n),n.resetEdited()}};bo=new WeakMap,hr=new WeakMap,wy=new WeakMap,bc=new WeakMap,fr=new WeakMap,fn=new WeakSet,V4=function(n){const i=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--scale-factor))`,this.translate(0,-(o-b(this,fr))*this.parentScale),H(this,fr,o),Y(this,fn,R0).call(this)},r=b(this,fr);this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:lt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},G4=function(n){const i=o=>{H(this,bo,this.editorDiv.style.color=o)},r=b(this,bo);this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:lt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},j4=function(){var r;const n=[];this.editorDiv.normalize();let i=null;for(const o of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&o.nodeName==="BR"||(n.push(Y(r=At,Aa,U0).call(r,o)),i=o);return n.join(`
`)},R0=function(){const[n,i]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:o,div:s}=this,a=s.style.display,l=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",o.div.append(this.div),r=s.getBoundingClientRect(),s.remove(),s.style.display=a,s.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=r.width/n,this.height=r.height/i):(this.width=r.height/n,this.height=r.width/i),this.fixAndSetPosition()},Aa=new WeakSet,U0=function(n){return(n.nodeType===Node.TEXT_NODE?n.nodeValue:n.innerText).replaceAll(Pv,"")},L0=function(){if(this.editorDiv.replaceChildren(),!!b(this,hr))for(const n of b(this,hr).split(`
`)){const i=document.createElement("div");i.append(n?document.createTextNode(n):document.createElement("br")),this.editorDiv.append(i)}},X4=function(){return b(this,hr).replaceAll(""," ")},XC=function(n){return n.replaceAll(" ","")},Y4=function(n){const{value:i,fontSize:r,color:o,pageIndex:s}=this._initialData;return this._hasBeenMoved||n.value!==i||n.fontSize!==r||n.color.some((a,l)=>a!==o[l])||n.pageIndex!==s},j(At,Aa),He(At,"_freeTextDefaultContent",""),He(At,"_internalPadding",0),He(At,"_defaultColor",null),He(At,"_defaultFontSize",10),He(At,"_type","freetext"),He(At,"_editorType",Ze.FREETEXT);let jC=At;class Ne{toSVGPath(){Et("Abstract method `toSVGPath` must be implemented.")}get box(){Et("Abstract getter `box` must be implemented.")}serialize(e,n){Et("Abstract method `serialize` must be implemented.")}static _rescale(e,n,i,r,o,s){s||(s=new Float32Array(e.length));for(let a=0,l=e.length;a<l;a+=2)s[a]=n+e[a]*r,s[a+1]=i+e[a+1]*o;return s}static _rescaleAndSwap(e,n,i,r,o,s){s||(s=new Float32Array(e.length));for(let a=0,l=e.length;a<l;a+=2)s[a]=n+e[a+1]*r,s[a+1]=i+e[a]*o;return s}static _translate(e,n,i,r){r||(r=new Float32Array(e.length));for(let o=0,s=e.length;o<s;o+=2)r[o]=n+e[o],r[o+1]=i+e[o+1];return r}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,n,i,r,o){switch(o){case 90:return[1-n/i,e/r];case 180:return[1-e/i,1-n/r];case 270:return[n/i,1-e/r];default:return[e/i,n/r]}}static _normalizePagePoint(e,n,i){switch(i){case 90:return[1-n,e];case 180:return[1-e,1-n];case 270:return[n,1-e];default:return[e,n]}}static createBezierPoints(e,n,i,r,o,s){return[(e+5*i)/6,(n+5*r)/6,(5*i+o)/6,(5*r+s)/6,(i+o)/2,(r+s)/2]}}He(Ne,"PRECISION",1e-4);var pr,_o,Xh,Yh,ss,nt,_c,xc,Ty,Cy,Kh,Jh,Tl,Ey,Bb,qb,_n,Qp,K4,J4,Z4,Q4,eO,tO;const Vs=class Vs{constructor({x:e,y:n},i,r,o,s,a=0){j(this,_n);j(this,pr);j(this,_o,[]);j(this,Xh);j(this,Yh);j(this,ss,[]);j(this,nt,new Float32Array(18));j(this,_c);j(this,xc);j(this,Ty);j(this,Cy);j(this,Kh);j(this,Jh);j(this,Tl,[]);H(this,pr,i),H(this,Jh,o*r),H(this,Yh,s),b(this,nt).set([NaN,NaN,NaN,NaN,e,n],6),H(this,Xh,a),H(this,Cy,b(Vs,Ey)*r),H(this,Ty,b(Vs,qb)*r),H(this,Kh,r),b(this,Tl).push(e,n)}isEmpty(){return isNaN(b(this,nt)[8])}add({x:e,y:n}){var U;H(this,_c,e),H(this,xc,n);const[i,r,o,s]=b(this,pr);let[a,l,u,c]=b(this,nt).subarray(8,12);const h=e-u,d=n-c,f=Math.hypot(h,d);if(f<b(this,Ty))return!1;const y=f-b(this,Cy),m=y/f,v=m*h,g=m*d;let p=a,_=l;a=u,l=c,u+=v,c+=g,(U=b(this,Tl))==null||U.push(e,n);const x=-g/y,T=v/y,A=x*b(this,Jh),E=T*b(this,Jh);return b(this,nt).set(b(this,nt).subarray(2,8),0),b(this,nt).set([u+A,c+E],4),b(this,nt).set(b(this,nt).subarray(14,18),12),b(this,nt).set([u-A,c-E],16),isNaN(b(this,nt)[6])?(b(this,ss).length===0&&(b(this,nt).set([a+A,l+E],2),b(this,ss).push(NaN,NaN,NaN,NaN,(a+A-i)/o,(l+E-r)/s),b(this,nt).set([a-A,l-E],14),b(this,_o).push(NaN,NaN,NaN,NaN,(a-A-i)/o,(l-E-r)/s)),b(this,nt).set([p,_,a,l,u,c],6),!this.isEmpty()):(b(this,nt).set([p,_,a,l,u,c],6),Math.abs(Math.atan2(_-l,p-a)-Math.atan2(g,v))<Math.PI/2?([a,l,u,c]=b(this,nt).subarray(2,6),b(this,ss).push(NaN,NaN,NaN,NaN,((a+u)/2-i)/o,((l+c)/2-r)/s),[a,l,p,_]=b(this,nt).subarray(14,18),b(this,_o).push(NaN,NaN,NaN,NaN,((p+a)/2-i)/o,((_+l)/2-r)/s),!0):([p,_,a,l,u,c]=b(this,nt).subarray(0,6),b(this,ss).push(((p+5*a)/6-i)/o,((_+5*l)/6-r)/s,((5*a+u)/6-i)/o,((5*l+c)/6-r)/s,((a+u)/2-i)/o,((l+c)/2-r)/s),[u,c,a,l,p,_]=b(this,nt).subarray(12,18),b(this,_o).push(((p+5*a)/6-i)/o,((_+5*l)/6-r)/s,((5*a+u)/6-i)/o,((5*l+c)/6-r)/s,((a+u)/2-i)/o,((l+c)/2-r)/s),!0))}toSVGPath(){if(this.isEmpty())return"";const e=b(this,ss),n=b(this,_o);if(isNaN(b(this,nt)[6])&&!this.isEmpty())return Y(this,_n,K4).call(this);const i=[];i.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?i.push(`L${e[r+4]} ${e[r+5]}`):i.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);Y(this,_n,Z4).call(this,i);for(let r=n.length-6;r>=6;r-=6)isNaN(n[r])?i.push(`L${n[r+4]} ${n[r+5]}`):i.push(`C${n[r]} ${n[r+1]} ${n[r+2]} ${n[r+3]} ${n[r+4]} ${n[r+5]}`);return Y(this,_n,J4).call(this,i),i.join(" ")}newFreeDrawOutline(e,n,i,r,o,s){return new nO(e,n,i,r,o,s)}getOutlines(){var h;const e=b(this,ss),n=b(this,_o),i=b(this,nt),[r,o,s,a]=b(this,pr),l=new Float32Array((((h=b(this,Tl))==null?void 0:h.length)??0)+2);for(let d=0,f=l.length-2;d<f;d+=2)l[d]=(b(this,Tl)[d]-r)/s,l[d+1]=(b(this,Tl)[d+1]-o)/a;if(l[l.length-2]=(b(this,_c)-r)/s,l[l.length-1]=(b(this,xc)-o)/a,isNaN(i[6])&&!this.isEmpty())return Y(this,_n,Q4).call(this,l);const u=new Float32Array(b(this,ss).length+24+b(this,_o).length);let c=e.length;for(let d=0;d<c;d+=2){if(isNaN(e[d])){u[d]=u[d+1]=NaN;continue}u[d]=e[d],u[d+1]=e[d+1]}c=Y(this,_n,tO).call(this,u,c);for(let d=n.length-6;d>=6;d-=6)for(let f=0;f<6;f+=2){if(isNaN(n[d+f])){u[c]=u[c+1]=NaN,c+=2;continue}u[c]=n[d+f],u[c+1]=n[d+f+1],c+=2}return Y(this,_n,eO).call(this,u,c),this.newFreeDrawOutline(u,l,b(this,pr),b(this,Kh),b(this,Xh),b(this,Yh))}};pr=new WeakMap,_o=new WeakMap,Xh=new WeakMap,Yh=new WeakMap,ss=new WeakMap,nt=new WeakMap,_c=new WeakMap,xc=new WeakMap,Ty=new WeakMap,Cy=new WeakMap,Kh=new WeakMap,Jh=new WeakMap,Tl=new WeakMap,Ey=new WeakMap,Bb=new WeakMap,qb=new WeakMap,_n=new WeakSet,Qp=function(){const e=b(this,nt).subarray(4,6),n=b(this,nt).subarray(16,18),[i,r,o,s]=b(this,pr);return[(b(this,_c)+(e[0]-n[0])/2-i)/o,(b(this,xc)+(e[1]-n[1])/2-r)/s,(b(this,_c)+(n[0]-e[0])/2-i)/o,(b(this,xc)+(n[1]-e[1])/2-r)/s]},K4=function(){const[e,n,i,r]=b(this,pr),[o,s,a,l]=Y(this,_n,Qp).call(this);return`M${(b(this,nt)[2]-e)/i} ${(b(this,nt)[3]-n)/r} L${(b(this,nt)[4]-e)/i} ${(b(this,nt)[5]-n)/r} L${o} ${s} L${a} ${l} L${(b(this,nt)[16]-e)/i} ${(b(this,nt)[17]-n)/r} L${(b(this,nt)[14]-e)/i} ${(b(this,nt)[15]-n)/r} Z`},J4=function(e){const n=b(this,_o);e.push(`L${n[4]} ${n[5]} Z`)},Z4=function(e){const[n,i,r,o]=b(this,pr),s=b(this,nt).subarray(4,6),a=b(this,nt).subarray(16,18),[l,u,c,h]=Y(this,_n,Qp).call(this);e.push(`L${(s[0]-n)/r} ${(s[1]-i)/o} L${l} ${u} L${c} ${h} L${(a[0]-n)/r} ${(a[1]-i)/o}`)},Q4=function(e){const n=b(this,nt),[i,r,o,s]=b(this,pr),[a,l,u,c]=Y(this,_n,Qp).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(n[2]-i)/o,(n[3]-r)/s,NaN,NaN,NaN,NaN,(n[4]-i)/o,(n[5]-r)/s,NaN,NaN,NaN,NaN,a,l,NaN,NaN,NaN,NaN,u,c,NaN,NaN,NaN,NaN,(n[16]-i)/o,(n[17]-r)/s,NaN,NaN,NaN,NaN,(n[14]-i)/o,(n[15]-r)/s],0),this.newFreeDrawOutline(h,e,b(this,pr),b(this,Kh),b(this,Xh),b(this,Yh))},eO=function(e,n){const i=b(this,_o);return e.set([NaN,NaN,NaN,NaN,i[4],i[5]],n),n+=6},tO=function(e,n){const i=b(this,nt).subarray(4,6),r=b(this,nt).subarray(16,18),[o,s,a,l]=b(this,pr),[u,c,h,d]=Y(this,_n,Qp).call(this);return e.set([NaN,NaN,NaN,NaN,(i[0]-o)/a,(i[1]-s)/l,NaN,NaN,NaN,NaN,u,c,NaN,NaN,NaN,NaN,h,d,NaN,NaN,NaN,NaN,(r[0]-o)/a,(r[1]-s)/l],n),n+=24},j(Vs,Ey,8),j(Vs,Bb,2),j(Vs,qb,b(Vs,Ey)+b(Vs,Bb));let U1=Vs;var Zh,wc,da,Ay,gr,Sy,en,Wb,iO;class nO extends Ne{constructor(n,i,r,o,s,a){super();j(this,Wb);j(this,Zh);j(this,wc,new Float32Array(4));j(this,da);j(this,Ay);j(this,gr);j(this,Sy);j(this,en);H(this,en,n),H(this,gr,i),H(this,Zh,r),H(this,Sy,o),H(this,da,s),H(this,Ay,a),this.lastPoint=[NaN,NaN],Y(this,Wb,iO).call(this,a);const[l,u,c,h]=b(this,wc);for(let d=0,f=n.length;d<f;d+=2)n[d]=(n[d]-l)/c,n[d+1]=(n[d+1]-u)/h;for(let d=0,f=i.length;d<f;d+=2)i[d]=(i[d]-l)/c,i[d+1]=(i[d+1]-u)/h}toSVGPath(){const n=[`M${b(this,en)[4]} ${b(this,en)[5]}`];for(let i=6,r=b(this,en).length;i<r;i+=6){if(isNaN(b(this,en)[i])){n.push(`L${b(this,en)[i+4]} ${b(this,en)[i+5]}`);continue}n.push(`C${b(this,en)[i]} ${b(this,en)[i+1]} ${b(this,en)[i+2]} ${b(this,en)[i+3]} ${b(this,en)[i+4]} ${b(this,en)[i+5]}`)}return n.push("Z"),n.join(" ")}serialize([n,i,r,o],s){const a=r-n,l=o-i;let u,c;switch(s){case 0:u=Ne._rescale(b(this,en),n,o,a,-l),c=Ne._rescale(b(this,gr),n,o,a,-l);break;case 90:u=Ne._rescaleAndSwap(b(this,en),n,i,a,l),c=Ne._rescaleAndSwap(b(this,gr),n,i,a,l);break;case 180:u=Ne._rescale(b(this,en),r,i,-a,l),c=Ne._rescale(b(this,gr),r,i,-a,l);break;case 270:u=Ne._rescaleAndSwap(b(this,en),r,o,-a,-l),c=Ne._rescaleAndSwap(b(this,gr),r,o,-a,-l);break}return{outline:Array.from(u),points:[Array.from(c)]}}get box(){return b(this,wc)}newOutliner(n,i,r,o,s,a=0){return new U1(n,i,r,o,s,a)}getNewOutline(n,i){const[r,o,s,a]=b(this,wc),[l,u,c,h]=b(this,Zh),d=s*c,f=a*h,y=r*c+l,m=o*h+u,v=this.newOutliner({x:b(this,gr)[0]*d+y,y:b(this,gr)[1]*f+m},b(this,Zh),b(this,Sy),n,b(this,Ay),i??b(this,da));for(let g=2;g<b(this,gr).length;g+=2)v.add({x:b(this,gr)[g]*d+y,y:b(this,gr)[g+1]*f+m});return v.getOutlines()}}Zh=new WeakMap,wc=new WeakMap,da=new WeakMap,Ay=new WeakMap,gr=new WeakMap,Sy=new WeakMap,en=new WeakMap,Wb=new WeakSet,iO=function(n){const i=b(this,en);let r=i[4],o=i[5],s=r,a=o,l=r,u=o,c=r,h=o;const d=n?Math.max:Math.min;for(let y=6,m=i.length;y<m;y+=6){if(isNaN(i[y]))s=Math.min(s,i[y+4]),a=Math.min(a,i[y+5]),l=Math.max(l,i[y+4]),u=Math.max(u,i[y+5]),h<i[y+5]?(c=i[y+4],h=i[y+5]):h===i[y+5]&&(c=d(c,i[y+4]));else{const v=Oe.bezierBoundingBox(r,o,...i.slice(y,y+6));s=Math.min(s,v[0]),a=Math.min(a,v[1]),l=Math.max(l,v[2]),u=Math.max(u,v[3]),h<v[3]?(c=v[2],h=v[3]):h===v[3]&&(c=d(c,v[2]))}r=i[y+4],o=i[y+5]}const f=b(this,wc);f[0]=s-b(this,da),f[1]=a-b(this,da),f[2]=l-s+2*b(this,da),f[3]=u-a+2*b(this,da),this.lastPoint=[c,h]};var Dy,ky,Cl,xo,ki,rO,P0,oO,sO,KC;class YC{constructor(e,n=0,i=0,r=!0){j(this,ki);j(this,Dy);j(this,ky);j(this,Cl,[]);j(this,xo,[]);let o=1/0,s=-1/0,a=1/0,l=-1/0;const u=10**-4;for(const{x:v,y:g,width:p,height:_}of e){const x=Math.floor((v-n)/u)*u,T=Math.ceil((v+p+n)/u)*u,A=Math.floor((g-n)/u)*u,E=Math.ceil((g+_+n)/u)*u,k=[x,A,E,!0],U=[T,A,E,!1];b(this,Cl).push(k,U),o=Math.min(o,x),s=Math.max(s,T),a=Math.min(a,A),l=Math.max(l,E)}const c=s-o+2*i,h=l-a+2*i,d=o-i,f=a-i,y=b(this,Cl).at(r?-1:-2),m=[y[0],y[2]];for(const v of b(this,Cl)){const[g,p,_]=v;v[0]=(g-d)/c,v[1]=(p-f)/h,v[2]=(_-f)/h}H(this,Dy,new Float32Array([d,f,c,h])),H(this,ky,m)}getOutlines(){b(this,Cl).sort((n,i)=>n[0]-i[0]||n[1]-i[1]||n[2]-i[2]);const e=[];for(const n of b(this,Cl))n[3]?(e.push(...Y(this,ki,KC).call(this,n)),Y(this,ki,oO).call(this,n)):(Y(this,ki,sO).call(this,n),e.push(...Y(this,ki,KC).call(this,n)));return Y(this,ki,rO).call(this,e)}}Dy=new WeakMap,ky=new WeakMap,Cl=new WeakMap,xo=new WeakMap,ki=new WeakSet,rO=function(e){const n=[],i=new Set;for(const s of e){const[a,l,u]=s;n.push([a,l,s],[a,u,s])}n.sort((s,a)=>s[1]-a[1]||s[0]-a[0]);for(let s=0,a=n.length;s<a;s+=2){const l=n[s][2],u=n[s+1][2];l.push(u),u.push(l),i.add(l),i.add(u)}const r=[];let o;for(;i.size>0;){const s=i.values().next().value;let[a,l,u,c,h]=s;i.delete(s);let d=a,f=l;for(o=[a,u],r.push(o);;){let y;if(i.has(c))y=c;else if(i.has(h))y=h;else break;i.delete(y),[a,l,u,c,h]=y,d!==a&&(o.push(d,f,a,f===l?l:u),d=a),f=f===l?u:l}o.push(d,f)}return new cZ(r,b(this,Dy),b(this,ky))},P0=function(e){const n=b(this,xo);let i=0,r=n.length-1;for(;i<=r;){const o=i+r>>1,s=n[o][0];if(s===e)return o;s<e?i=o+1:r=o-1}return r+1},oO=function([,e,n]){const i=Y(this,ki,P0).call(this,e);b(this,xo).splice(i,0,[e,n])},sO=function([,e,n]){const i=Y(this,ki,P0).call(this,e);for(let r=i;r<b(this,xo).length;r++){const[o,s]=b(this,xo)[r];if(o!==e)break;if(o===e&&s===n){b(this,xo).splice(r,1);return}}for(let r=i-1;r>=0;r--){const[o,s]=b(this,xo)[r];if(o!==e)break;if(o===e&&s===n){b(this,xo).splice(r,1);return}}},KC=function(e){const[n,i,r]=e,o=[[n,i,r]],s=Y(this,ki,P0).call(this,r);for(let a=0;a<s;a++){const[l,u]=b(this,xo)[a];for(let c=0,h=o.length;c<h;c++){const[,d,f]=o[c];if(!(u<=d||f<=l)){if(d>=l){if(f>u)o[c][1]=u;else{if(h===1)return[];o.splice(c,1),c--,h--}continue}o[c][2]=l,f>u&&o.push([n,u,f])}}}return o};var Iy,Qh;class cZ extends Ne{constructor(n,i,r){super();j(this,Iy);j(this,Qh);H(this,Qh,n),H(this,Iy,i),this.lastPoint=r}toSVGPath(){const n=[];for(const i of b(this,Qh)){let[r,o]=i;n.push(`M${r} ${o}`);for(let s=2;s<i.length;s+=2){const a=i[s],l=i[s+1];a===r?(n.push(`V${l}`),o=l):l===o&&(n.push(`H${a}`),r=a)}n.push("Z")}return n.join(" ")}serialize([n,i,r,o],s){const a=[],l=r-n,u=o-i;for(const c of b(this,Qh)){const h=new Array(c.length);for(let d=0;d<c.length;d+=2)h[d]=n+c[d]*l,h[d+1]=o-c[d+1]*u;a.push(h)}return a}get box(){return b(this,Iy)}get classNamesForOutlining(){return["highlightOutline"]}}Iy=new WeakMap,Qh=new WeakMap;class JC extends U1{newFreeDrawOutline(e,n,i,r,o,s){return new dZ(e,n,i,r,o,s)}}class dZ extends nO{newOutliner(e,n,i,r,o,s=0){return new JC(e,n,i,r,o,s)}}var wo,Tc,ef,yn,Fy,tf,Ny,Ry,El,To,nf,Uy,wt,ZC,QC,eE,wu,aO,Ya;const Oi=class Oi{constructor({editor:e=null,uiManager:n=null}){j(this,wt);j(this,wo,null);j(this,Tc,null);j(this,ef);j(this,yn,null);j(this,Fy,!1);j(this,tf,!1);j(this,Ny,null);j(this,Ry);j(this,El,null);j(this,To,null);j(this,nf);var i;e?(H(this,tf,!1),H(this,nf,lt.HIGHLIGHT_COLOR),H(this,Ny,e)):(H(this,tf,!0),H(this,nf,lt.HIGHLIGHT_DEFAULT_COLOR)),H(this,To,(e==null?void 0:e._uiManager)||n),H(this,Ry,b(this,To)._eventBus),H(this,ef,(e==null?void 0:e.color)||((i=b(this,To))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),b(Oi,Uy)||H(Oi,Uy,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return it(this,"_keyboardManager",new Yy([[["Escape","mac+Escape"],Oi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Oi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Oi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Oi.prototype._moveToPrevious],[["Home","mac+Home"],Oi.prototype._moveToBeginning],[["End","mac+End"],Oi.prototype._moveToEnd]]))}renderButton(){const e=H(this,wo,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const n=b(this,To)._signal;e.addEventListener("click",Y(this,wt,wu).bind(this),{signal:n}),e.addEventListener("keydown",Y(this,wt,eE).bind(this),{signal:n});const i=H(this,Tc,document.createElement("span"));return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=b(this,ef),e.append(i),e}renderMainDropdown(){const e=H(this,yn,Y(this,wt,ZC).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===b(this,wo)){Y(this,wt,wu).call(this,e);return}const n=e.target.getAttribute("data-color");n&&Y(this,wt,QC).call(this,n,e)}_moveToNext(e){var n,i;if(!b(this,wt,Ya)){Y(this,wt,wu).call(this,e);return}if(e.target===b(this,wo)){(n=b(this,yn).firstChild)==null||n.focus();return}(i=e.target.nextSibling)==null||i.focus()}_moveToPrevious(e){var n,i;if(e.target===((n=b(this,yn))==null?void 0:n.firstChild)||e.target===b(this,wo)){b(this,wt,Ya)&&this._hideDropdownFromKeyboard();return}b(this,wt,Ya)||Y(this,wt,wu).call(this,e),(i=e.target.previousSibling)==null||i.focus()}_moveToBeginning(e){var n;if(!b(this,wt,Ya)){Y(this,wt,wu).call(this,e);return}(n=b(this,yn).firstChild)==null||n.focus()}_moveToEnd(e){var n;if(!b(this,wt,Ya)){Y(this,wt,wu).call(this,e);return}(n=b(this,yn).lastChild)==null||n.focus()}hideDropdown(){var e,n;(e=b(this,yn))==null||e.classList.add("hidden"),(n=b(this,El))==null||n.abort(),H(this,El,null)}_hideDropdownFromKeyboard(){var e;if(!b(this,tf)){if(!b(this,wt,Ya)){(e=b(this,Ny))==null||e.unselect();return}this.hideDropdown(),b(this,wo).focus({preventScroll:!0,focusVisible:b(this,Fy)})}}updateColor(e){if(b(this,Tc)&&(b(this,Tc).style.backgroundColor=e),!b(this,yn))return;const n=b(this,To).highlightColors.values();for(const i of b(this,yn).children)i.setAttribute("aria-selected",n.next().value===e)}destroy(){var e,n;(e=b(this,wo))==null||e.remove(),H(this,wo,null),H(this,Tc,null),(n=b(this,yn))==null||n.remove(),H(this,yn,null)}};wo=new WeakMap,Tc=new WeakMap,ef=new WeakMap,yn=new WeakMap,Fy=new WeakMap,tf=new WeakMap,Ny=new WeakMap,Ry=new WeakMap,El=new WeakMap,To=new WeakMap,nf=new WeakMap,Uy=new WeakMap,wt=new WeakSet,ZC=function(){const e=document.createElement("div"),n=b(this,To)._signal;e.addEventListener("contextmenu",Uo,{signal:n}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[i,r]of b(this,To).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",r),o.title=i,o.setAttribute("data-l10n-id",b(Oi,Uy)[i]);const s=document.createElement("span");o.append(s),s.className="swatch",s.style.backgroundColor=r,o.setAttribute("aria-selected",r===b(this,ef)),o.addEventListener("click",Y(this,wt,QC).bind(this,r),{signal:n}),e.append(o)}return e.addEventListener("keydown",Y(this,wt,eE).bind(this),{signal:n}),e},QC=function(e,n){n.stopPropagation(),b(this,Ry).dispatch("switchannotationeditorparams",{source:this,type:b(this,nf),value:e})},eE=function(e){Oi._keyboardManager.exec(this,e)},wu=function(e){if(b(this,wt,Ya)){this.hideDropdown();return}if(H(this,Fy,e.detail===0),b(this,El)||(H(this,El,new AbortController),window.addEventListener("pointerdown",Y(this,wt,aO).bind(this),{signal:b(this,To).combinedSignal(b(this,El))})),b(this,yn)){b(this,yn).classList.remove("hidden");return}const n=H(this,yn,Y(this,wt,ZC).call(this));b(this,wo).append(n)},aO=function(e){var n;(n=b(this,yn))!=null&&n.contains(e.target)||this.hideDropdown()},Ya=function(){return b(this,yn)&&!b(this,yn).classList.contains("hidden")},j(Oi,Uy,null);let L1=Oi;var rf,Ly,ha,Cc,of,Wi,Py,My,Ec,qr,mr,Pn,sf,fa,ni,af,Wr,Oy,Je,tE,M0,lO,uO,cO,nE,Tu,Yr,Id,dO,O0,eg,hO,fO,pO,gO,mO;const gt=class gt extends jt{constructor(n){super({...n,name:"highlightEditor"});j(this,Je);j(this,rf,null);j(this,Ly,0);j(this,ha);j(this,Cc,null);j(this,of,null);j(this,Wi,null);j(this,Py,null);j(this,My,0);j(this,Ec,null);j(this,qr,null);j(this,mr,null);j(this,Pn,!1);j(this,sf,null);j(this,fa);j(this,ni,null);j(this,af,"");j(this,Wr);j(this,Oy,"");this.color=n.color||gt._defaultColor,H(this,Wr,n.thickness||gt._defaultThickness),H(this,fa,n.opacity||gt._defaultOpacity),H(this,ha,n.boxes||null),H(this,Oy,n.methodOfCreation||""),H(this,af,n.text||""),this._isDraggable=!1,n.highlightId>-1?(H(this,Pn,!0),Y(this,Je,M0).call(this,n),Y(this,Je,Tu).call(this)):b(this,ha)&&(H(this,rf,n.anchorNode),H(this,Ly,n.anchorOffset),H(this,Py,n.focusNode),H(this,My,n.focusOffset),Y(this,Je,tE).call(this),Y(this,Je,Tu).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const n=gt.prototype;return it(this,"_keyboardManager",new Yy([[["ArrowLeft","mac+ArrowLeft"],n._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],n._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],n._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],n._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:b(this,Pn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:b(this,Wr),methodOfCreation:b(this,Oy)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(n){return{numberOfColors:n.get("color").size}}static initialize(n,i){var r;jt.initialize(n,i),gt._defaultColor||(gt._defaultColor=((r=i.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(n,i){switch(n){case lt.HIGHLIGHT_DEFAULT_COLOR:gt._defaultColor=i;break;case lt.HIGHLIGHT_THICKNESS:gt._defaultThickness=i;break}}translateInPage(n,i){}get toolbarPosition(){return b(this,sf)}updateParams(n,i){switch(n){case lt.HIGHLIGHT_COLOR:Y(this,Je,lO).call(this,i);break;case lt.HIGHLIGHT_THICKNESS:Y(this,Je,uO).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[lt.HIGHLIGHT_DEFAULT_COLOR,gt._defaultColor],[lt.HIGHLIGHT_THICKNESS,gt._defaultThickness]]}get propertiesToUpdate(){return[[lt.HIGHLIGHT_COLOR,this.color||gt._defaultColor],[lt.HIGHLIGHT_THICKNESS,b(this,Wr)||gt._defaultThickness],[lt.HIGHLIGHT_FREE,b(this,Pn)]]}async addEditToolbar(){const n=await super.addEditToolbar();return n?(this._uiManager.highlightColors&&(H(this,of,new L1({editor:this})),n.addColorPicker(b(this,of))),n):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(Y(this,Je,eg).call(this))}getBaseTranslation(){return[0,0]}getRect(n,i){return super.getRect(n,i,Y(this,Je,eg).call(this))}onceAdded(n){this.annotationElementId||this.parent.addUndoableEditor(this),n&&this.div.focus()}remove(){Y(this,Je,nE).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(Y(this,Je,Tu).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var r;let i=!1;this.parent&&!n?Y(this,Je,nE).call(this):n&&(Y(this,Je,Tu).call(this,n),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(n),this.show(this._isVisible),i&&this.select()}rotate(n){var o,s,a;const{drawLayer:i}=this.parent;let r;b(this,Pn)?(n=(n-this.rotation+360)%360,r=Y(o=gt,Yr,Id).call(o,b(this,qr).box,n)):r=Y(s=gt,Yr,Id).call(s,[this.x,this.y,this.width,this.height],n),i.updateProperties(b(this,mr),{bbox:r,root:{"data-main-rotation":n}}),i.updateProperties(b(this,ni),{bbox:Y(a=gt,Yr,Id).call(a,b(this,Wi).box,n),root:{"data-main-rotation":n}})}render(){if(this.div)return this.div;const n=super.render();b(this,af)&&(n.setAttribute("aria-label",b(this,af)),n.setAttribute("role","mark")),b(this,Pn)?n.classList.add("free"):this.div.addEventListener("keydown",Y(this,Je,dO).bind(this),{signal:this._uiManager._signal});const i=H(this,Ec,document.createElement("div"));n.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=b(this,Cc);const[r,o]=this.parentDimensions;return this.setDims(this.width*r,this.height*o),F1(this,b(this,Ec),["pointerover","pointerleave"]),this.enableEditing(),n}pointerover(){var n;this.isSelected||(n=this.parent)==null||n.drawLayer.updateProperties(b(this,ni),{rootClass:{hovered:!0}})}pointerleave(){var n;this.isSelected||(n=this.parent)==null||n.drawLayer.updateProperties(b(this,ni),{rootClass:{hovered:!1}})}_moveCaret(n){switch(this.parent.unselect(this),n){case 0:case 2:Y(this,Je,O0).call(this,!0);break;case 1:case 3:Y(this,Je,O0).call(this,!1);break}}select(){var n;super.select(),b(this,ni)&&((n=this.parent)==null||n.drawLayer.updateProperties(b(this,ni),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var n;super.unselect(),b(this,ni)&&((n=this.parent)==null||n.drawLayer.updateProperties(b(this,ni),{rootClass:{selected:!1}}),b(this,Pn)||Y(this,Je,O0).call(this,!1))}get _mustFixPosition(){return!b(this,Pn)}show(n=this._isVisible){super.show(n),this.parent&&(this.parent.drawLayer.updateProperties(b(this,mr),{rootClass:{hidden:!n}}),this.parent.drawLayer.updateProperties(b(this,ni),{rootClass:{hidden:!n}}))}static startHighlighting(n,i,{target:r,x:o,y:s}){const{x:a,y:l,width:u,height:c}=r.getBoundingClientRect(),h=new AbortController,d=n.combinedSignal(h),f=y=>{h.abort(),Y(this,Yr,gO).call(this,n,y)};window.addEventListener("blur",f,{signal:d}),window.addEventListener("pointerup",f,{signal:d}),window.addEventListener("pointerdown",Tr,{capture:!0,passive:!1,signal:d}),window.addEventListener("contextmenu",Uo,{signal:d}),r.addEventListener("pointermove",Y(this,Yr,pO).bind(this,n),{signal:d}),this._freeHighlight=new JC({x:o,y:s},[a,l,u,c],n.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(n,i,r){var m,v,g,p;let o=null;if(n instanceof $4){const{data:{quadPoints:_,rect:x,rotation:T,id:A,color:E,opacity:k,popupRef:U},parent:{page:{pageNumber:N}}}=n;o=n={annotationType:Ze.HIGHLIGHT,color:Array.from(E),opacity:k,quadPoints:_,boxes:null,pageIndex:N-1,rect:x.slice(0),rotation:T,id:A,deleted:!1,popupRef:U}}else if(n instanceof pS){const{data:{inkLists:_,rect:x,rotation:T,id:A,color:E,borderStyle:{rawWidth:k},popupRef:U},parent:{page:{pageNumber:N}}}=n;o=n={annotationType:Ze.HIGHLIGHT,color:Array.from(E),thickness:k,inkLists:_,boxes:null,pageIndex:N-1,rect:x.slice(0),rotation:T,id:A,deleted:!1,popupRef:U}}const{color:s,quadPoints:a,inkLists:l,opacity:u}=n,c=await super.deserialize(n,i,r);c.color=Oe.makeHexColor(...s),H(c,fa,u||1),l&&H(c,Wr,n.thickness),c.annotationElementId=n.id||null,c._initialData=o;const[h,d]=c.pageDimensions,[f,y]=c.pageTranslation;if(a){const _=H(c,ha,[]);for(let x=0;x<a.length;x+=8)_.push({x:(a[x]-f)/h,y:1-(a[x+1]-y)/d,width:(a[x+2]-a[x])/h,height:(a[x+1]-a[x+5])/d});Y(m=c,Je,tE).call(m),Y(v=c,Je,Tu).call(v),c.rotate(c.rotation)}else if(l){H(c,Pn,!0);const _=l[0],x={x:_[0]-f,y:d-(_[1]-y)},T=new JC(x,[0,0,h,d],1,b(c,Wr)/2,!0,.001);for(let k=0,U=_.length;k<U;k+=2)x.x=_[k]-f,x.y=d-(_[k+1]-y),T.add(x);const{id:A,clipPathId:E}=i.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:c.color,"fill-opacity":c._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:T.toSVGPath()}},!0,!0);Y(g=c,Je,M0).call(g,{highlightOutlines:T.getOutlines(),highlightId:A,clipPathId:E}),Y(p=c,Je,Tu).call(p)}return c}serialize(n=!1){if(this.isEmpty()||n)return null;if(this.deleted)return this.serializeDeleted();const i=this.getRect(0,0),r=jt._colorManager.convert(this.color),o={annotationType:Ze.HIGHLIGHT,color:r,opacity:b(this,fa),thickness:b(this,Wr),quadPoints:Y(this,Je,hO).call(this),outlines:Y(this,Je,fO).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:Y(this,Je,eg).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!Y(this,Je,mO).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(n){return n.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};rf=new WeakMap,Ly=new WeakMap,ha=new WeakMap,Cc=new WeakMap,of=new WeakMap,Wi=new WeakMap,Py=new WeakMap,My=new WeakMap,Ec=new WeakMap,qr=new WeakMap,mr=new WeakMap,Pn=new WeakMap,sf=new WeakMap,fa=new WeakMap,ni=new WeakMap,af=new WeakMap,Wr=new WeakMap,Oy=new WeakMap,Je=new WeakSet,tE=function(){const n=new YC(b(this,ha),.001);H(this,qr,n.getOutlines()),[this.x,this.y,this.width,this.height]=b(this,qr).box;const i=new YC(b(this,ha),.0025,.001,this._uiManager.direction==="ltr");H(this,Wi,i.getOutlines());const{lastPoint:r}=b(this,Wi);H(this,sf,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},M0=function({highlightOutlines:n,highlightId:i,clipPathId:r}){var h,d;if(H(this,qr,n),H(this,Wi,n.getNewOutline(b(this,Wr)/2+1.5,.0025)),i>=0)H(this,mr,i),H(this,Cc,r),this.parent.drawLayer.finalizeDraw(i,{bbox:n.box,path:{d:n.toSVGPath()}}),H(this,ni,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:b(this,Wi).box,path:{d:b(this,Wi).toSVGPath()}},!0));else if(this.parent){const f=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(b(this,mr),{bbox:Y(h=gt,Yr,Id).call(h,b(this,qr).box,(f-this.rotation+360)%360),path:{d:n.toSVGPath()}}),this.parent.drawLayer.updateProperties(b(this,ni),{bbox:Y(d=gt,Yr,Id).call(d,b(this,Wi).box,f),path:{d:b(this,Wi).toSVGPath()}})}const[s,a,l,u]=n.box;switch(this.rotation){case 0:this.x=s,this.y=a,this.width=l,this.height=u;break;case 90:{const[f,y]=this.parentDimensions;this.x=a,this.y=1-s,this.width=l*y/f,this.height=u*f/y;break}case 180:this.x=1-s,this.y=1-a,this.width=l,this.height=u;break;case 270:{const[f,y]=this.parentDimensions;this.x=1-a,this.y=s,this.width=l*y/f,this.height=u*f/y;break}}const{lastPoint:c}=b(this,Wi);H(this,sf,[(c[0]-s)/l,(c[1]-a)/u])},lO=function(n){const i=(s,a)=>{var l,u;this.color=s,H(this,fa,a),(l=this.parent)==null||l.drawLayer.updateProperties(b(this,mr),{root:{fill:s,"fill-opacity":a}}),(u=b(this,of))==null||u.updateColor(s)},r=this.color,o=b(this,fa);this.addCommands({cmd:i.bind(this,n,gt._defaultOpacity),undo:i.bind(this,r,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:lt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(n)},!0)},uO=function(n){const i=b(this,Wr),r=o=>{H(this,Wr,o),Y(this,Je,cO).call(this,o)};this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:lt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:n},!0)},cO=function(n){if(!b(this,Pn))return;Y(this,Je,M0).call(this,{highlightOutlines:b(this,qr).getNewOutline(n/2)}),this.fixAndSetPosition();const[i,r]=this.parentDimensions;this.setDims(this.width*i,this.height*r)},nE=function(){b(this,mr)===null||!this.parent||(this.parent.drawLayer.remove(b(this,mr)),H(this,mr,null),this.parent.drawLayer.remove(b(this,ni)),H(this,ni,null))},Tu=function(n=this.parent){b(this,mr)===null&&({id:mi(this,mr)._,clipPathId:mi(this,Cc)._}=n.drawLayer.draw({bbox:b(this,qr).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":b(this,fa)},rootClass:{highlight:!0,free:b(this,Pn)},path:{d:b(this,qr).toSVGPath()}},!1,!0),H(this,ni,n.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:b(this,Pn)},bbox:b(this,Wi).box,path:{d:b(this,Wi).toSVGPath()}},b(this,Pn))),b(this,Ec)&&(b(this,Ec).style.clipPath=b(this,Cc)))},Yr=new WeakSet,Id=function([n,i,r,o],s){switch(s){case 90:return[1-i-o,n,o,r];case 180:return[1-n-r,1-i-o,r,o];case 270:return[i,1-n-r,o,r]}return[n,i,r,o]},dO=function(n){gt._keyboardManager.exec(this,n)},O0=function(n){if(!b(this,rf))return;const i=window.getSelection();n?i.setPosition(b(this,rf),b(this,Ly)):i.setPosition(b(this,Py),b(this,My))},eg=function(){return b(this,Pn)?this.rotation:0},hO=function(){if(b(this,Pn))return null;const[n,i]=this.pageDimensions,[r,o]=this.pageTranslation,s=b(this,ha),a=new Float32Array(s.length*8);let l=0;for(const{x:u,y:c,width:h,height:d}of s){const f=u*n+r,y=(1-c)*i+o;a[l]=a[l+4]=f,a[l+1]=a[l+3]=y,a[l+2]=a[l+6]=f+h*n,a[l+5]=a[l+7]=y-d*i,l+=8}return a},fO=function(n){return b(this,qr).serialize(n,Y(this,Je,eg).call(this))},pO=function(n,i){this._freeHighlight.add(i)&&n.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},gO=function(n,i){this._freeHighlight.isEmpty()?n.drawLayer.remove(this._freeHighlightId):n.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},mO=function(n){const{color:i}=this._initialData;return n.color.some((r,o)=>r!==i[o])},j(gt,Yr),He(gt,"_defaultColor",null),He(gt,"_defaultOpacity",1),He(gt,"_defaultThickness",12),He(gt,"_type","highlight"),He(gt,"_editorType",Ze.HIGHLIGHT),He(gt,"_freeHighlightId",-1),He(gt,"_freeHighlight",null),He(gt,"_freeHighlightClipId","");let P1=gt;var Ac;class hZ{constructor(){j(this,Ac,Object.create(null))}updateProperty(e,n){this[e]=n,this.updateSVGProperty(e,n)}updateProperties(e){if(e)for(const[n,i]of Object.entries(e))this.updateProperty(n,i)}updateSVGProperty(e,n){b(this,Ac)[e]=n}toSVGProperties(){const e=b(this,Ac);return H(this,Ac,Object.create(null)),{root:e}}reset(){H(this,Ac,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){Et("Not implemented")}}Ac=new WeakMap;var yr,lf,An,Sc,Dc,Al,Sl,Dl,kc,dt,rE,oE,sE,tg,yO,B0,ng,Fd;const Ue=class Ue extends jt{constructor(n){super(n);j(this,dt);j(this,yr,null);j(this,lf);He(this,"_drawId",null);H(this,lf,n.mustBeCommitted||!1),n.drawOutlines&&(Y(this,dt,rE).call(this,n),Y(this,dt,tg).call(this))}static _mergeSVGProperties(n,i){const r=new Set(Object.keys(n));for(const[o,s]of Object.entries(i))r.has(o)?Object.assign(n[o],s):n[o]=s;return n}static getDefaultDrawingOptions(n){Et("Not implemented")}static get typesMap(){Et("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(n,i){const r=this.typesMap.get(n);r&&this._defaultDrawingOptions.updateProperty(r,i),this._currentParent&&(b(Ue,An).updateProperty(r,i),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(n,i){const r=this.constructor.typesMap.get(n);r&&this._updateProperty(n,r,i)}static get defaultPropertiesToUpdate(){const n=[],i=this._defaultDrawingOptions;for(const[r,o]of this.typesMap)n.push([r,i[o]]);return n}get propertiesToUpdate(){const n=[],{_drawingOptions:i}=this;for(const[r,o]of this.constructor.typesMap)n.push([r,i[o]]);return n}_updateProperty(n,i,r){const o=this._drawingOptions,s=o[i],a=l=>{var c;o.updateProperty(i,l);const u=b(this,yr).updateProperty(i,l);u&&Y(this,dt,ng).call(this,u),(c=this.parent)==null||c.drawLayer.updateProperties(this._drawId,o.toSVGProperties())};this.addCommands({cmd:a.bind(this,r),undo:a.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:n,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,Ue._mergeSVGProperties(b(this,yr).getPathResizingSVGProperties(Y(this,dt,B0).call(this)),{bbox:Y(this,dt,Fd).call(this)}))}_onResized(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,Ue._mergeSVGProperties(b(this,yr).getPathResizedSVGProperties(Y(this,dt,B0).call(this)),{bbox:Y(this,dt,Fd).call(this)}))}_onTranslating(n,i){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{bbox:Y(this,dt,Fd).call(this,n,i)})}_onTranslated(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,Ue._mergeSVGProperties(b(this,yr).getPathTranslatedSVGProperties(Y(this,dt,B0).call(this),this.parentDimensions),{bbox:Y(this,dt,Fd).call(this)}))}_onStartDragging(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(n){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,b(this,lf)&&(H(this,lf,!1),this.commit(),this.parent.setSelected(this),n&&this.isOnScreen&&this.div.focus())}remove(){Y(this,dt,sE).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(Y(this,dt,tg).call(this),Y(this,dt,ng).call(this,b(this,yr).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var r;let i=!1;this.parent&&!n?(this._uiManager.removeShouldRescale(this),Y(this,dt,sE).call(this)):n&&(this._uiManager.addShouldRescale(this),Y(this,dt,tg).call(this,n),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(n),i&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Ue._mergeSVGProperties({bbox:Y(this,dt,Fd).call(this)},b(this,yr).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&Y(this,dt,ng).call(this,b(this,yr).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;const n=super.render();n.classList.add("draw");const i=document.createElement("div");n.append(i),i.setAttribute("aria-hidden","true"),i.className="internal";const[r,o]=this.parentDimensions;return this.setDims(this.width*r,this.height*o),this._uiManager.addShouldRescale(this),this.disableEditing(),n}static createDrawerInstance(n,i,r,o,s){Et("Not implemented")}static startDrawing(n,i,r,o){var v;const{target:s,offsetX:a,offsetY:l,pointerId:u,pointerType:c}=o;if(b(Ue,Sl)&&b(Ue,Sl)!==c)return;const{viewport:{rotation:h}}=n,{width:d,height:f}=s.getBoundingClientRect(),y=H(Ue,Sc,new AbortController),m=n.combinedSignal(y);if(b(Ue,Al)||H(Ue,Al,u),b(Ue,Sl)??H(Ue,Sl,c),window.addEventListener("pointerup",g=>{var p;b(Ue,Al)===g.pointerId?this._endDraw(g):(p=b(Ue,Dl))==null||p.delete(g.pointerId)},{signal:m}),window.addEventListener("pointercancel",g=>{var p;b(Ue,Al)===g.pointerId?this._currentParent.endDrawingSession():(p=b(Ue,Dl))==null||p.delete(g.pointerId)},{signal:m}),window.addEventListener("pointerdown",g=>{b(Ue,Sl)===g.pointerType&&((b(Ue,Dl)||H(Ue,Dl,new Set)).add(g.pointerId),b(Ue,An).isCancellable()&&(b(Ue,An).removeLastElement(),b(Ue,An).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",Uo,{signal:m}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:m}),s.addEventListener("touchmove",g=>{g.timeStamp===b(Ue,kc)&&Tr(g)},{signal:m}),n.toggleDrawing(),(v=i._editorUndoBar)==null||v.hide(),b(Ue,An)){n.drawLayer.updateProperties(this._currentDrawId,b(Ue,An).startNew(a,l,d,f,h));return}i.updateUIForDefaultProperties(this),H(Ue,An,this.createDrawerInstance(a,l,d,f,h)),H(Ue,Dc,this.getDefaultDrawingOptions()),this._currentParent=n,{id:this._currentDrawId}=n.drawLayer.draw(this._mergeSVGProperties(b(Ue,Dc).toSVGProperties(),b(Ue,An).defaultSVGProperties),!0,!1)}static _drawMove(n){var s;if(H(Ue,kc,-1),!b(Ue,An))return;const{offsetX:i,offsetY:r,pointerId:o}=n;if(b(Ue,Al)===o){if(((s=b(Ue,Dl))==null?void 0:s.size)>=1){this._endDraw(n);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,b(Ue,An).add(i,r)),H(Ue,kc,n.timeStamp),Tr(n)}}static _cleanup(n){n&&(this._currentDrawId=-1,this._currentParent=null,H(Ue,An,null),H(Ue,Dc,null),H(Ue,Sl,null),H(Ue,kc,NaN)),b(Ue,Sc)&&(b(Ue,Sc).abort(),H(Ue,Sc,null),H(Ue,Al,NaN),H(Ue,Dl,null))}static _endDraw(n){const i=this._currentParent;if(i){if(i.toggleDrawing(!0),this._cleanup(!1),n&&i.drawLayer.updateProperties(this._currentDrawId,b(Ue,An).end(n.offsetX,n.offsetY)),this.supportMultipleDrawings){const r=b(Ue,An),o=this._currentDrawId,s=r.getLastElement();i.addCommands({cmd:()=>{i.drawLayer.updateProperties(o,r.setLastElement(s))},undo:()=>{i.drawLayer.updateProperties(o,r.removeLastElement())},mustExec:!1,type:lt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(n){const i=this._currentParent;if(!i)return null;if(i.toggleDrawing(!0),i.cleanUndoStack(lt.DRAW_STEP),!b(Ue,An).isEmpty()){const{pageDimensions:[r,o],scale:s}=i,a=i.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:b(Ue,An).getOutlines(r*s,o*s,s,this._INNER_MARGIN),drawingOptions:b(Ue,Dc),mustBeCommitted:!n});return this._cleanup(!0),a}return i.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(n){}static deserializeDraw(n,i,r,o,s,a){Et("Not implemented")}static async deserialize(n,i,r){var h,d;const{rawDims:{pageWidth:o,pageHeight:s,pageX:a,pageY:l}}=i.viewport,u=this.deserializeDraw(a,l,o,s,this._INNER_MARGIN,n),c=await super.deserialize(n,i,r);return c.createDrawingOptions(n),Y(h=c,dt,rE).call(h,{drawOutlines:u}),Y(d=c,dt,tg).call(d),c.onScaleChanging(),c.rotate(),c}serializeDraw(n){const[i,r]=this.pageTranslation,[o,s]=this.pageDimensions;return b(this,yr).serialize([i,r,o,s],n)}renderAnnotationElement(n){return n.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};yr=new WeakMap,lf=new WeakMap,An=new WeakMap,Sc=new WeakMap,Dc=new WeakMap,Al=new WeakMap,Sl=new WeakMap,Dl=new WeakMap,kc=new WeakMap,dt=new WeakSet,rE=function({drawOutlines:n,drawId:i,drawingOptions:r}){H(this,yr,n),this._drawingOptions||(this._drawingOptions=r),i>=0?(this._drawId=i,this.parent.drawLayer.finalizeDraw(i,n.defaultProperties)):this._drawId=Y(this,dt,oE).call(this,n,this.parent),Y(this,dt,ng).call(this,n.box)},oE=function(n,i){const{id:r}=i.drawLayer.draw(Ue._mergeSVGProperties(this._drawingOptions.toSVGProperties(),n.defaultSVGProperties),!1,!1);return r},sE=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},tg=function(n=this.parent){if(!(this._drawId!==null&&this.parent===n)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,n.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=Y(this,dt,oE).call(this,b(this,yr),n)}},yO=function([n,i,r,o]){const{parentDimensions:[s,a],rotation:l}=this;switch(l){case 90:return[i,1-n,r*(a/s),o*(s/a)];case 180:return[1-n,1-i,r,o];case 270:return[1-i,n,r*(a/s),o*(s/a)];default:return[n,i,r,o]}},B0=function(){const{x:n,y:i,width:r,height:o,parentDimensions:[s,a],rotation:l}=this;switch(l){case 90:return[1-i,n,r*(s/a),o*(a/s)];case 180:return[1-n,1-i,r,o];case 270:return[i,1-n,r*(s/a),o*(a/s)];default:return[n,i,r,o]}},ng=function(n){if([this.x,this.y,this.width,this.height]=Y(this,dt,yO).call(this,n),this.div){this.fixAndSetPosition();const[i,r]=this.parentDimensions;this.setDims(this.width*i,this.height*r)}this._onResized()},Fd=function(){const{x:n,y:i,width:r,height:o,rotation:s,parentRotation:a,parentDimensions:[l,u]}=this;switch((s*4+a)/90){case 1:return[1-i-o,n,o,r];case 2:return[1-n-r,1-i-o,r,o];case 3:return[i,1-n-r,o,r];case 4:return[n,i-r*(l/u),o*(u/l),r*(l/u)];case 5:return[1-i,n,r*(l/u),o*(u/l)];case 6:return[1-n-o*(u/l),1-i,o*(u/l),r*(l/u)];case 7:return[i-r*(l/u),1-n-o*(u/l),r*(l/u),o*(u/l)];case 8:return[n-r,i-o,r,o];case 9:return[1-i,n-r,o,r];case 10:return[1-n,1-i,r,o];case 11:return[i-o,1-n,o,r];case 12:return[n-o*(u/l),i,o*(u/l),r*(l/u)];case 13:return[1-i-r*(l/u),n-o*(u/l),r*(l/u),o*(u/l)];case 14:return[1-n,1-i-r*(l/u),o*(u/l),r*(l/u)];case 15:return[i,1-n,r*(l/u),o*(u/l)];default:return[n,i,r,o]}},He(Ue,"_currentDrawId",-1),He(Ue,"_currentParent",null),j(Ue,An,null),j(Ue,Sc,null),j(Ue,Dc,null),j(Ue,Al,NaN),j(Ue,Sl,null),j(Ue,Dl,null),j(Ue,kc,NaN),He(Ue,"_INNER_MARGIN",3);let iE=Ue;var as,Sn,Dn,Ic,uf,_i,Mn,$r,Fc,Nc,Rc,cf,q0;class fZ{constructor(e,n,i,r,o,s){j(this,cf);j(this,as,new Float64Array(6));j(this,Sn);j(this,Dn);j(this,Ic);j(this,uf);j(this,_i);j(this,Mn,"");j(this,$r,0);j(this,Fc,new M1);j(this,Nc);j(this,Rc);H(this,Nc,i),H(this,Rc,r),H(this,Ic,o),H(this,uf,s),[e,n]=Y(this,cf,q0).call(this,e,n);const a=H(this,Sn,[NaN,NaN,NaN,NaN,e,n]);H(this,_i,[e,n]),H(this,Dn,[{line:a,points:b(this,_i)}]),b(this,as).set(a,0)}updateProperty(e,n){e==="stroke-width"&&H(this,uf,n)}isEmpty(){return!b(this,Dn)||b(this,Dn).length===0}isCancellable(){return b(this,_i).length<=10}add(e,n){[e,n]=Y(this,cf,q0).call(this,e,n);const[i,r,o,s]=b(this,as).subarray(2,6),a=e-o,l=n-s;return Math.hypot(b(this,Nc)*a,b(this,Rc)*l)<=2?null:(b(this,_i).push(e,n),isNaN(i)?(b(this,as).set([o,s,e,n],2),b(this,Sn).push(NaN,NaN,NaN,NaN,e,n),{path:{d:this.toSVGPath()}}):(isNaN(b(this,as)[0])&&b(this,Sn).splice(6,6),b(this,as).set([i,r,o,s,e,n],0),b(this,Sn).push(...Ne.createBezierPoints(i,r,o,s,e,n)),{path:{d:this.toSVGPath()}}))}end(e,n){const i=this.add(e,n);return i||(b(this,_i).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,n,i,r,o){H(this,Nc,i),H(this,Rc,r),H(this,Ic,o),[e,n]=Y(this,cf,q0).call(this,e,n);const s=H(this,Sn,[NaN,NaN,NaN,NaN,e,n]);H(this,_i,[e,n]);const a=b(this,Dn).at(-1);return a&&(a.line=new Float32Array(a.line),a.points=new Float32Array(a.points)),b(this,Dn).push({line:s,points:b(this,_i)}),b(this,as).set(s,0),H(this,$r,0),this.toSVGPath(),null}getLastElement(){return b(this,Dn).at(-1)}setLastElement(e){return b(this,Dn)?(b(this,Dn).push(e),H(this,Sn,e.line),H(this,_i,e.points),H(this,$r,0),{path:{d:this.toSVGPath()}}):b(this,Fc).setLastElement(e)}removeLastElement(){if(!b(this,Dn))return b(this,Fc).removeLastElement();b(this,Dn).pop(),H(this,Mn,"");for(let e=0,n=b(this,Dn).length;e<n;e++){const{line:i,points:r}=b(this,Dn)[e];H(this,Sn,i),H(this,_i,r),H(this,$r,0),this.toSVGPath()}return{path:{d:b(this,Mn)}}}toSVGPath(){const e=Ne.svgRound(b(this,Sn)[4]),n=Ne.svgRound(b(this,Sn)[5]);if(b(this,_i).length===2)return H(this,Mn,`${b(this,Mn)} M ${e} ${n} Z`),b(this,Mn);if(b(this,_i).length<=6){const r=b(this,Mn).lastIndexOf("M");H(this,Mn,`${b(this,Mn).slice(0,r)} M ${e} ${n}`),H(this,$r,6)}if(b(this,_i).length===4){const r=Ne.svgRound(b(this,Sn)[10]),o=Ne.svgRound(b(this,Sn)[11]);return H(this,Mn,`${b(this,Mn)} L ${r} ${o}`),H(this,$r,12),b(this,Mn)}const i=[];b(this,$r)===0&&(i.push(`M ${e} ${n}`),H(this,$r,6));for(let r=b(this,$r),o=b(this,Sn).length;r<o;r+=6){const[s,a,l,u,c,h]=b(this,Sn).slice(r,r+6).map(Ne.svgRound);i.push(`C${s} ${a} ${l} ${u} ${c} ${h}`)}return H(this,Mn,b(this,Mn)+i.join(" ")),H(this,$r,b(this,Sn).length),b(this,Mn)}getOutlines(e,n,i,r){const o=b(this,Dn).at(-1);return o.line=new Float32Array(o.line),o.points=new Float32Array(o.points),b(this,Fc).build(b(this,Dn),e,n,i,b(this,Ic),b(this,uf),r),H(this,as,null),H(this,Sn,null),H(this,Dn,null),H(this,Mn,null),b(this,Fc)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}as=new WeakMap,Sn=new WeakMap,Dn=new WeakMap,Ic=new WeakMap,uf=new WeakMap,_i=new WeakMap,Mn=new WeakMap,$r=new WeakMap,Fc=new WeakMap,Nc=new WeakMap,Rc=new WeakMap,cf=new WeakSet,q0=function(e,n){return Ne._normalizePoint(e,n,b(this,Nc),b(this,Rc),b(this,Ic))};var xi,By,qy,vr,ls,us,df,hf,ff,qn,Ws,vO,bO,_O;const Ek=class Ek extends Ne{constructor(){super(...arguments);j(this,qn);j(this,xi);j(this,By,0);j(this,qy);j(this,vr);j(this,ls);j(this,us);j(this,df);j(this,hf);j(this,ff)}build(n,i,r,o,s,a,l){H(this,ls,i),H(this,us,r),H(this,df,o),H(this,hf,s),H(this,ff,a),H(this,qy,l??0),H(this,vr,n),Y(this,qn,bO).call(this)}setLastElement(n){return b(this,vr).push(n),{path:{d:this.toSVGPath()}}}removeLastElement(){return b(this,vr).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const n=[];for(const{line:i}of b(this,vr)){if(n.push(`M${Ne.svgRound(i[4])} ${Ne.svgRound(i[5])}`),i.length===6){n.push("Z");continue}if(i.length===12){n.push(`L${Ne.svgRound(i[10])} ${Ne.svgRound(i[11])}`);continue}for(let r=6,o=i.length;r<o;r+=6){const[s,a,l,u,c,h]=i.subarray(r,r+6).map(Ne.svgRound);n.push(`C${s} ${a} ${l} ${u} ${c} ${h}`)}}return n.join("")}serialize([n,i,r,o],s){const a=[],l=[],[u,c,h,d]=Y(this,qn,vO).call(this);let f,y,m,v,g,p,_,x,T;switch(b(this,hf)){case 0:T=Ne._rescale,f=n,y=i+o,m=r,v=-o,g=n+u*r,p=i+(1-c-d)*o,_=n+(u+h)*r,x=i+(1-c)*o;break;case 90:T=Ne._rescaleAndSwap,f=n,y=i,m=r,v=o,g=n+c*r,p=i+u*o,_=n+(c+d)*r,x=i+(u+h)*o;break;case 180:T=Ne._rescale,f=n+r,y=i,m=-r,v=o,g=n+(1-u-h)*r,p=i+c*o,_=n+(1-u)*r,x=i+(c+d)*o;break;case 270:T=Ne._rescaleAndSwap,f=n+r,y=i+o,m=-r,v=-o,g=n+(1-c-d)*r,p=i+(1-u-h)*o,_=n+(1-c)*r,x=i+(1-u)*o;break}for(const{line:A,points:E}of b(this,vr))a.push(T(A,f,y,m,v,s?new Array(A.length):null)),l.push(T(E,f,y,m,v,s?new Array(E.length):null));return{lines:a,points:l,rect:[g,p,_,x]}}static deserialize(n,i,r,o,s,{paths:{lines:a,points:l},rotation:u,thickness:c}){const h=[];let d,f,y,m,v;switch(u){case 0:v=Ne._rescale,d=-n/r,f=i/o+1,y=1/r,m=-1/o;break;case 90:v=Ne._rescaleAndSwap,d=-i/o,f=-n/r,y=1/o,m=1/r;break;case 180:v=Ne._rescale,d=n/r+1,f=-i/o,y=-1/r,m=1/o;break;case 270:v=Ne._rescaleAndSwap,d=i/o+1,f=n/r+1,y=-1/o,m=-1/r;break}if(!a){a=[];for(const p of l){const _=p.length;if(_===2){a.push(new Float32Array([NaN,NaN,NaN,NaN,p[0],p[1]]));continue}if(_===4){a.push(new Float32Array([NaN,NaN,NaN,NaN,p[0],p[1],NaN,NaN,NaN,NaN,p[2],p[3]]));continue}const x=new Float32Array(3*(_-2));a.push(x);let[T,A,E,k]=p.subarray(0,4);x.set([NaN,NaN,NaN,NaN,T,A],0);for(let U=4;U<_;U+=2){const N=p[U],I=p[U+1];x.set(Ne.createBezierPoints(T,A,E,k,N,I),(U-2)*3),[T,A,E,k]=[E,k,N,I]}}}for(let p=0,_=a.length;p<_;p++)h.push({line:v(a[p].map(x=>x??NaN),d,f,y,m),points:v(l[p].map(x=>x??NaN),d,f,y,m)});const g=new Ek;return g.build(h,r,o,1,u,c,s),g}get box(){return b(this,xi)}updateProperty(n,i){return n==="stroke-width"?Y(this,qn,_O).call(this,i):null}updateParentDimensions([n,i],r){const[o,s]=Y(this,qn,Ws).call(this);H(this,ls,n),H(this,us,i),H(this,df,r);const[a,l]=Y(this,qn,Ws).call(this),u=a-o,c=l-s,h=b(this,xi);return h[0]-=u,h[1]-=c,h[2]+=2*u,h[3]+=2*c,h}updateRotation(n){return H(this,By,n),{path:{transform:this.rotationTransform}}}get viewBox(){return b(this,xi).map(Ne.svgRound).join(" ")}get defaultProperties(){const[n,i]=b(this,xi);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Ne.svgRound(n)} ${Ne.svgRound(i)}`}}}get rotationTransform(){const[,,n,i]=b(this,xi);let r=0,o=0,s=0,a=0,l=0,u=0;switch(b(this,By)){case 90:o=i/n,s=-n/i,l=n;break;case 180:r=-1,a=-1,l=n,u=i;break;case 270:o=-i/n,s=n/i,u=i;break;default:return""}return`matrix(${r} ${o} ${s} ${a} ${Ne.svgRound(l)} ${Ne.svgRound(u)})`}getPathResizingSVGProperties([n,i,r,o]){const[s,a]=Y(this,qn,Ws).call(this),[l,u,c,h]=b(this,xi);if(Math.abs(c-s)<=Ne.PRECISION||Math.abs(h-a)<=Ne.PRECISION){const v=n+r/2-(l+c/2),g=i+o/2-(u+h/2);return{path:{"transform-origin":`${Ne.svgRound(n)} ${Ne.svgRound(i)}`,transform:`${this.rotationTransform} translate(${v} ${g})`}}}const d=(r-2*s)/(c-2*s),f=(o-2*a)/(h-2*a),y=c/r,m=h/o;return{path:{"transform-origin":`${Ne.svgRound(l)} ${Ne.svgRound(u)}`,transform:`${this.rotationTransform} scale(${y} ${m}) translate(${Ne.svgRound(s)} ${Ne.svgRound(a)}) scale(${d} ${f}) translate(${Ne.svgRound(-s)} ${Ne.svgRound(-a)})`}}}getPathResizedSVGProperties([n,i,r,o]){const[s,a]=Y(this,qn,Ws).call(this),l=b(this,xi),[u,c,h,d]=l;if(l[0]=n,l[1]=i,l[2]=r,l[3]=o,Math.abs(h-s)<=Ne.PRECISION||Math.abs(d-a)<=Ne.PRECISION){const g=n+r/2-(u+h/2),p=i+o/2-(c+d/2);for(const{line:_,points:x}of b(this,vr))Ne._translate(_,g,p,_),Ne._translate(x,g,p,x);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Ne.svgRound(n)} ${Ne.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const f=(r-2*s)/(h-2*s),y=(o-2*a)/(d-2*a),m=-f*(u+s)+n+s,v=-y*(c+a)+i+a;if(f!==1||y!==1||m!==0||v!==0)for(const{line:g,points:p}of b(this,vr))Ne._rescale(g,m,v,f,y,g),Ne._rescale(p,m,v,f,y,p);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Ne.svgRound(n)} ${Ne.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([n,i],r){const[o,s]=r,a=b(this,xi),l=n-a[0],u=i-a[1];if(b(this,ls)===o&&b(this,us)===s)for(const{line:c,points:h}of b(this,vr))Ne._translate(c,l,u,c),Ne._translate(h,l,u,h);else{const c=b(this,ls)/o,h=b(this,us)/s;H(this,ls,o),H(this,us,s);for(const{line:d,points:f}of b(this,vr))Ne._rescale(d,l,u,c,h,d),Ne._rescale(f,l,u,c,h,f);a[2]*=c,a[3]*=h}return a[0]=n,a[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Ne.svgRound(n)} ${Ne.svgRound(i)}`}}}get defaultSVGProperties(){const n=b(this,xi);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Ne.svgRound(n[0])} ${Ne.svgRound(n[1])}`,transform:this.rotationTransform||null},bbox:n}}};xi=new WeakMap,By=new WeakMap,qy=new WeakMap,vr=new WeakMap,ls=new WeakMap,us=new WeakMap,df=new WeakMap,hf=new WeakMap,ff=new WeakMap,qn=new WeakSet,Ws=function(n=b(this,ff)){const i=b(this,qy)+n/2*b(this,df);return b(this,hf)%180===0?[i/b(this,ls),i/b(this,us)]:[i/b(this,us),i/b(this,ls)]},vO=function(){const[n,i,r,o]=b(this,xi),[s,a]=Y(this,qn,Ws).call(this,0);return[n+s,i+a,r-2*s,o-2*a]},bO=function(){const n=H(this,xi,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:o}of b(this,vr)){if(o.length<=12){for(let l=4,u=o.length;l<u;l+=6){const[c,h]=o.subarray(l,l+2);n[0]=Math.min(n[0],c),n[1]=Math.min(n[1],h),n[2]=Math.max(n[2],c),n[3]=Math.max(n[3],h)}continue}let s=o[4],a=o[5];for(let l=6,u=o.length;l<u;l+=6){const[c,h,d,f,y,m]=o.subarray(l,l+6);Oe.bezierBoundingBox(s,a,c,h,d,f,y,m,n),s=y,a=m}}const[i,r]=Y(this,qn,Ws).call(this);n[0]=Math.min(1,Math.max(0,n[0]-i)),n[1]=Math.min(1,Math.max(0,n[1]-r)),n[2]=Math.min(1,Math.max(0,n[2]+i)),n[3]=Math.min(1,Math.max(0,n[3]+r)),n[2]-=n[0],n[3]-=n[1]},_O=function(n){const[i,r]=Y(this,qn,Ws).call(this);H(this,ff,n);const[o,s]=Y(this,qn,Ws).call(this),[a,l]=[o-i,s-r],u=b(this,xi);return u[0]-=a,u[1]-=l,u[2]+=2*a,u[3]+=2*l,u};let M1=Ek;var pf;const Ak=class Ak extends hZ{constructor(n){super();j(this,pf);H(this,pf,n),super.updateProperties({fill:"none",stroke:jt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(n,i){n==="stroke-width"&&(i??(i=this["stroke-width"]),i*=b(this,pf).realScale),super.updateSVGProperty(n,i)}clone(){const n=new Ak(b(this,pf));return n.updateAll(this),n}};pf=new WeakMap;let aE=Ak;var $b,xO;const Kd=class Kd extends iE{constructor(n){super({...n,name:"inkEditor"});j(this,$b);this._willKeepAspectRatio=!0}static initialize(n,i){jt.initialize(n,i),this._defaultDrawingOptions=new aE(i.viewParameters)}static getDefaultDrawingOptions(n){const i=this._defaultDrawingOptions.clone();return i.updateProperties(n),i}static get supportMultipleDrawings(){return!0}static get typesMap(){return it(this,"typesMap",new Map([[lt.INK_THICKNESS,"stroke-width"],[lt.INK_COLOR,"stroke"],[lt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(n,i,r,o,s){return new fZ(n,i,r,o,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(n,i,r,o,s,a){return M1.deserialize(n,i,r,o,s,a)}static async deserialize(n,i,r){let o=null;if(n instanceof pS){const{data:{inkLists:a,rect:l,rotation:u,id:c,color:h,opacity:d,borderStyle:{rawWidth:f},popupRef:y},parent:{page:{pageNumber:m}}}=n;o=n={annotationType:Ze.INK,color:Array.from(h),thickness:f,opacity:d,paths:{points:a},boxes:null,pageIndex:m-1,rect:l.slice(0),rotation:u,id:c,deleted:!1,popupRef:y}}const s=await super.deserialize(n,i,r);return s.annotationElementId=n.id||null,s._initialData=o,s}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:n,_drawingOptions:i,parent:r}=this;i.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(n,i.toSVGProperties())}static onScaleChangingWhenDrawing(){const n=this._currentParent;n&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:n,thickness:i,opacity:r}){this._drawingOptions=Kd.getDefaultDrawingOptions({stroke:Oe.makeHexColor(...n),"stroke-width":i,"stroke-opacity":r})}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:i,points:r,rect:o}=this.serializeDraw(n),{_drawingOptions:{stroke:s,"stroke-opacity":a,"stroke-width":l}}=this,u={annotationType:Ze.INK,color:jt._colorManager.convert(s),opacity:a,thickness:l,paths:{lines:i,points:r},pageIndex:this.pageIndex,rect:o,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return n?u:this.annotationElementId&&!Y(this,$b,xO).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(n){const{points:i,rect:r}=this.serializeDraw(!1);return n.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:i}),null}};$b=new WeakSet,xO=function(n){const{color:i,thickness:r,opacity:o,pageIndex:s}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||n.color.some((a,l)=>a!==i[l])||n.thickness!==r||n.opacity!==o||n.pageIndex!==s},He(Kd,"_type","ink"),He(Kd,"_editorType",Ze.INK),He(Kd,"_defaultDrawingOptions",null);let lE=Kd;var Vt,On,kl,pa,Il,gf,cs,ds,br,mf,ht,ig,rg,W0,cE,$0,dE,z0,wO;const Dg=class Dg extends jt{constructor(n){super({...n,name:"stampEditor"});j(this,ht);j(this,Vt,null);j(this,On,null);j(this,kl,null);j(this,pa,null);j(this,Il,null);j(this,gf,"");j(this,cs,null);j(this,ds,null);j(this,br,!1);j(this,mf,!1);H(this,pa,n.bitmapUrl),H(this,Il,n.bitmapFile)}static initialize(n,i){jt.initialize(n,i)}static get supportedTypes(){return it(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(i=>`image/${i}`))}static get supportedTypesStr(){return it(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(n){return this.supportedTypes.includes(n)}static paste(n,i){i.pasteEditor(Ze.STAMP,{bitmapFile:n.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var n;return{type:"stamp",hasAltText:!!((n=this.altTextData)!=null&&n.altText)}}static computeTelemetryFinalData(n){const i=n.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(n=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:o,width:s,height:a}=n||this.copyCanvas(null,null,!0).imageData,l=await r.guess({name:"altText",request:{data:o,width:s,height:a,channels:o.length/(s*a)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const u=l.output;return await this.setGuessedAltText(u),i&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var n;b(this,On)&&(H(this,Vt,null),this._uiManager.imageManager.deleteId(b(this,On)),(n=b(this,cs))==null||n.remove(),H(this,cs,null),b(this,ds)&&(clearTimeout(b(this,ds)),H(this,ds,null))),super.remove()}rebuild(){if(!this.parent){b(this,On)&&Y(this,ht,W0).call(this);return}super.rebuild(),this.div!==null&&(b(this,On)&&b(this,cs)===null&&Y(this,ht,W0).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(n){this._isDraggable=!0,n&&this.div.focus()}isEmpty(){return!(b(this,kl)||b(this,Vt)||b(this,pa)||b(this,Il)||b(this,On))}get isResizable(){return!0}render(){if(this.div)return this.div;let n,i;if(this.width&&(n=this.x,i=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),b(this,Vt)?Y(this,ht,cE).call(this):Y(this,ht,W0).call(this),this.width&&!this.annotationElementId){const[r,o]=this.parentDimensions;this.setAt(n*r,i*o,this.width*r,this.height*o)}return this._uiManager.addShouldRescale(this),this.div}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;b(this,ds)!==null&&clearTimeout(b(this,ds)),H(this,ds,setTimeout(()=>{H(this,ds,null),Y(this,ht,dE).call(this)},200))}copyCanvas(n,i,r=!1){var f;n||(n=224);const{width:o,height:s}=b(this,Vt),a=new aC;let l=b(this,Vt),u=o,c=s,h=null;if(i){if(o>i||s>i){const k=Math.min(i/o,i/s);u=Math.floor(o*k),c=Math.floor(s*k)}h=document.createElement("canvas");const y=h.width=Math.ceil(u*a.sx),m=h.height=Math.ceil(c*a.sy);b(this,br)||(l=Y(this,ht,$0).call(this,y,m));const v=h.getContext("2d");v.filter=this._uiManager.hcmFilter;let g="white",p="#cfcfd8";this._uiManager.hcmFilter!=="none"?p="black":(f=window.matchMedia)!=null&&f.call(window,"(prefers-color-scheme: dark)").matches&&(g="#8f8f9d",p="#42414d");const _=15,x=_*a.sx,T=_*a.sy,A=new OffscreenCanvas(x*2,T*2),E=A.getContext("2d");E.fillStyle=g,E.fillRect(0,0,x*2,T*2),E.fillStyle=p,E.fillRect(0,0,x,T),E.fillRect(x,T,x,T),v.fillStyle=v.createPattern(A,"repeat"),v.fillRect(0,0,y,m),v.drawImage(l,0,0,l.width,l.height,0,0,y,m)}let d=null;if(r){let y,m;if(a.symmetric&&l.width<n&&l.height<n)y=l.width,m=l.height;else if(l=b(this,Vt),o>n||s>n){const p=Math.min(n/o,n/s);y=Math.floor(o*p),m=Math.floor(s*p),b(this,br)||(l=Y(this,ht,$0).call(this,y,m))}const g=new OffscreenCanvas(y,m).getContext("2d",{willReadFrequently:!0});g.drawImage(l,0,0,l.width,l.height,0,0,y,m),d={width:y,height:m,data:g.getImageData(0,0,y,m).data}}return{canvas:h,width:u,height:c,imageData:d}}getImageForAltText(){return b(this,cs)}static async deserialize(n,i,r){var m;let o=null;if(n instanceof z4){const{data:{rect:v,rotation:g,id:p,structParent:_,popupRef:x},container:T,parent:{page:{pageNumber:A}}}=n,E=T.querySelector("canvas"),k=r.imageManager.getFromCanvas(T.id,E);E.remove();const U=((m=await i._structTree.getAriaAttributes(`${sS}${p}`))==null?void 0:m.get("aria-label"))||"";o=n={annotationType:Ze.STAMP,bitmapId:k.id,bitmap:k.bitmap,pageIndex:A-1,rect:v.slice(0),rotation:g,id:p,deleted:!1,accessibilityData:{decorative:!1,altText:U},isSvg:!1,structParent:_,popupRef:x}}const s=await super.deserialize(n,i,r),{rect:a,bitmap:l,bitmapUrl:u,bitmapId:c,isSvg:h,accessibilityData:d}=n;c&&r.imageManager.isValidId(c)?(H(s,On,c),l&&H(s,Vt,l)):H(s,pa,u),H(s,br,h);const[f,y]=s.pageDimensions;return s.width=(a[2]-a[0])/f,s.height=(a[3]-a[1])/y,s.annotationElementId=n.id||null,d&&(s.altTextData=d),s._initialData=o,H(s,mf,!!o),s}serialize(n=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:Ze.STAMP,bitmapId:b(this,On),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:b(this,br),structTreeParentId:this._structTreeParentId};if(n)return r.bitmapUrl=Y(this,ht,z0).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r;const{decorative:o,altText:s}=this.serializeAltText(!1);if(!o&&s&&(r.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const l=Y(this,ht,wO).call(this,r);if(l.isSame)return null;l.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,i===null)return r;i.stamps||(i.stamps=new Map);const a=b(this,br)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!i.stamps.has(b(this,On)))i.stamps.set(b(this,On),{area:a,serialized:r}),r.bitmap=Y(this,ht,z0).call(this,!1);else if(b(this,br)){const l=i.stamps.get(b(this,On));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=Y(this,ht,z0).call(this,!1))}return r}renderAnnotationElement(n){return n.updateEdited({rect:this.getRect(0,0)}),null}};Vt=new WeakMap,On=new WeakMap,kl=new WeakMap,pa=new WeakMap,Il=new WeakMap,gf=new WeakMap,cs=new WeakMap,ds=new WeakMap,br=new WeakMap,mf=new WeakMap,ht=new WeakSet,ig=function(n,i=!1){if(!n){this.remove();return}H(this,Vt,n.bitmap),i||(H(this,On,n.id),H(this,br,n.isSvg)),n.file&&H(this,gf,n.file.name),Y(this,ht,cE).call(this)},rg=function(){if(H(this,kl,null),this._uiManager.enableWaiting(!1),!!b(this,cs)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&b(this,Vt)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&b(this,Vt)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},W0=function(){if(b(this,On)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(b(this,On)).then(r=>Y(this,ht,ig).call(this,r,!0)).finally(()=>Y(this,ht,rg).call(this));return}if(b(this,pa)){const r=b(this,pa);H(this,pa,null),this._uiManager.enableWaiting(!0),H(this,kl,this._uiManager.imageManager.getFromUrl(r).then(o=>Y(this,ht,ig).call(this,o)).finally(()=>Y(this,ht,rg).call(this)));return}if(b(this,Il)){const r=b(this,Il);H(this,Il,null),this._uiManager.enableWaiting(!0),H(this,kl,this._uiManager.imageManager.getFromFile(r).then(o=>Y(this,ht,ig).call(this,o)).finally(()=>Y(this,ht,rg).call(this)));return}const n=document.createElement("input");n.type="file",n.accept=Dg.supportedTypesStr;const i=this._uiManager._signal;H(this,kl,new Promise(r=>{n.addEventListener("change",async()=>{if(!n.files||n.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(n.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),Y(this,ht,ig).call(this,o)}r()},{signal:i}),n.addEventListener("cancel",()=>{this.remove(),r()},{signal:i})}).finally(()=>Y(this,ht,rg).call(this))),n.click()},cE=function(){var h;const{div:n}=this;let{width:i,height:r}=b(this,Vt);const[o,s]=this.pageDimensions,a=.75;if(this.width)i=this.width*o,r=this.height*s;else if(i>a*o||r>a*s){const d=Math.min(a*o/i,a*s/r);i*=d,r*=d}const[l,u]=this.parentDimensions;this.setDims(i*l/o,r*u/s),this._uiManager.enableWaiting(!1);const c=H(this,cs,document.createElement("canvas"));c.setAttribute("role","img"),this.addContainer(c),this.width=i/o,this.height=r/s,(h=this._initialOptions)!=null&&h.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(n.hidden=!1),Y(this,ht,dE).call(this),b(this,mf)||(this.parent.addUndoableEditor(this),H(this,mf,!0)),this._reportTelemetry({action:"inserted_image"}),b(this,gf)&&c.setAttribute("aria-label",b(this,gf))},$0=function(n,i){const{width:r,height:o}=b(this,Vt);let s=r,a=o,l=b(this,Vt);for(;s>2*n||a>2*i;){const u=s,c=a;s>2*n&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),a>2*i&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const h=new OffscreenCanvas(s,a);h.getContext("2d").drawImage(l,0,0,u,c,0,0,s,a),l=h.transferToImageBitmap()}return l},dE=function(){const[n,i]=this.parentDimensions,{width:r,height:o}=this,s=new aC,a=Math.ceil(r*n*s.sx),l=Math.ceil(o*i*s.sy),u=b(this,cs);if(!u||u.width===a&&u.height===l)return;u.width=a,u.height=l;const c=b(this,br)?b(this,Vt):Y(this,ht,$0).call(this,a,l),h=u.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(c,0,0,c.width,c.height,0,0,a,l)},z0=function(n){if(n){if(b(this,br)){const o=this._uiManager.imageManager.getSvgUrl(b(this,On));if(o)return o}const i=document.createElement("canvas");return{width:i.width,height:i.height}=b(this,Vt),i.getContext("2d").drawImage(b(this,Vt),0,0),i.toDataURL()}if(b(this,br)){const[i,r]=this.pageDimensions,o=Math.round(this.width*i*eu.PDF_TO_CSS_UNITS),s=Math.round(this.height*r*eu.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(o,s);return a.getContext("2d").drawImage(b(this,Vt),0,0,b(this,Vt).width,b(this,Vt).height,0,0,o,s),a.transferToImageBitmap()}return structuredClone(b(this,Vt))},wO=function(n){var a;const{pageIndex:i,accessibilityData:{altText:r}}=this._initialData,o=n.pageIndex===i,s=(((a=n.accessibilityData)==null?void 0:a.alt)||"")===r;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&o&&s,isSameAltText:s}},He(Dg,"_type","stamp"),He(Dg,"_editorType",Ze.STAMP);let uE=Dg;var Uc,yf,hs,Fl,ga,zr,Nl,vf,Lc,Co,ma,ii,ya,Me,Rl,qt,TO,jo,fE,pE,H0;const co=class co{constructor({uiManager:e,pageIndex:n,div:i,structTreeLayer:r,accessibilityManager:o,annotationLayer:s,drawLayer:a,textLayer:l,viewport:u,l10n:c}){j(this,qt);j(this,Uc);j(this,yf,!1);j(this,hs,null);j(this,Fl,null);j(this,ga,null);j(this,zr,new Map);j(this,Nl,!1);j(this,vf,!1);j(this,Lc,!1);j(this,Co,null);j(this,ma,null);j(this,ii,null);j(this,ya,null);j(this,Me);const h=[...b(co,Rl).values()];if(!co._initialized){co._initialized=!0;for(const d of h)d.initialize(c,e)}e.registerEditorTypes(h),H(this,Me,e),this.pageIndex=n,this.div=i,H(this,Uc,o),H(this,hs,s),this.viewport=u,H(this,ii,l),this.drawLayer=a,this._structTree=r,b(this,Me).addLayer(this)}get isEmpty(){return b(this,zr).size===0}get isInvisible(){return this.isEmpty&&b(this,Me).getMode()===Ze.NONE}updateToolbar(e){b(this,Me).updateToolbar(e)}updateMode(e=b(this,Me).getMode()){switch(Y(this,qt,H0).call(this),e){case Ze.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ze.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Ze.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;for(const i of b(co,Rl).values())n.toggle(`${i._type}Editing`,e===i._editorType);this.div.hidden=!1}hasTextLayer(e){var n;return e===((n=b(this,ii))==null?void 0:n.div)}setEditingState(e){b(this,Me).setEditingState(e)}addCommands(e){b(this,Me).addCommands(e)}cleanUndoStack(e){b(this,Me).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var n;(n=b(this,hs))==null||n.div.classList.toggle("disabled",!e)}async enable(){H(this,Lc,!0),this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const i of b(this,zr).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(b(this,Me).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));if(!b(this,hs)){H(this,Lc,!1);return}const n=b(this,hs).getEditableAnnotations();for(const i of n){if(i.hide(),b(this,Me).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const r=await this.deserialize(i);r&&(this.addOrRebuild(r),r.enableEditing())}H(this,Lc,!1)}disable(){var r;H(this,vf,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,n=new Map;for(const o of b(this,zr).values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){e.set(o.annotationElementId,o);continue}else n.set(o.annotationElementId,o);(r=this.getEditableAnnotation(o.annotationElementId))==null||r.show(),o.remove()}if(b(this,hs)){const o=b(this,hs).getEditableAnnotations();for(const s of o){const{id:a}=s.data;if(b(this,Me).isDeletedAnnotationElement(a))continue;let l=n.get(a);if(l){l.resetAnnotationElement(s),l.show(!1),s.show();continue}l=e.get(a),l&&(b(this,Me).addChangedExistingAnnotation(l),l.renderAnnotationElement(s)&&l.show(!1)),s.show()}}Y(this,qt,H0).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const o of b(co,Rl).values())i.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),H(this,vf,!1)}getEditableAnnotation(e){var n;return((n=b(this,hs))==null?void 0:n.getEditableAnnotation(e))||null}setActiveEditor(e){b(this,Me).getActive()!==e&&b(this,Me).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=b(this,ii))!=null&&e.div&&!b(this,ya)){H(this,ya,new AbortController);const n=b(this,Me).combinedSignal(b(this,ya));b(this,ii).div.addEventListener("pointerdown",Y(this,qt,TO).bind(this),{signal:n}),b(this,ii).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=b(this,ii))!=null&&e.div&&b(this,ya)&&(b(this,ya).abort(),H(this,ya,null),b(this,ii).div.classList.remove("highlighting"))}enableClick(){if(b(this,Fl))return;H(this,Fl,new AbortController);const e=b(this,Me).combinedSignal(b(this,Fl));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const n=this.pointerup.bind(this);this.div.addEventListener("pointerup",n,{signal:e}),this.div.addEventListener("pointercancel",n,{signal:e})}disableClick(){var e;(e=b(this,Fl))==null||e.abort(),H(this,Fl,null)}attach(e){b(this,zr).set(e.id,e);const{annotationElementId:n}=e;n&&b(this,Me).isDeletedAnnotationElement(n)&&b(this,Me).removeDeletedAnnotationElement(e)}detach(e){var n;b(this,zr).delete(e.id),(n=b(this,Uc))==null||n.removePointerInTextLayer(e.contentDiv),!b(this,vf)&&e.annotationElementId&&b(this,Me).addDeletedAnnotationElement(e)}remove(e){this.detach(e),b(this,Me).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var n;e.parent!==this&&(e.parent&&e.annotationElementId&&(b(this,Me).addDeletedAnnotationElement(e.annotationElementId),jt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(n=e.parent)==null||n.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),b(this,Me).addEditor(e),this.attach(e),!e.isAttachedToDOM){const n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!b(this,Lc)),b(this,Me).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var i;if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!b(this,ga)&&(e._focusEventsAllowed=!1,H(this,ga,setTimeout(()=>{H(this,ga,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:b(this,Me)._signal}),n.focus())},0))),e._structTreeParentId=(i=b(this,Uc))==null?void 0:i.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const n=()=>e._uiManager.rebuild(e),i=()=>{e.remove()};this.addCommands({cmd:n,undo:i,mustExec:!1})}getNextId(){return b(this,Me).getId()}combinedSignal(e){return b(this,Me).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=b(this,qt,jo))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,n){b(this,Me).updateToolbar(e),b(this,Me).updateMode(e);const{offsetX:i,offsetY:r}=Y(this,qt,pE).call(this),o=this.getNextId(),s=Y(this,qt,fE).call(this,{parent:this,id:o,x:i,y:r,uiManager:b(this,Me),isCentered:!0,...n});s&&this.add(s)}async deserialize(e){var n;return await((n=b(co,Rl).get(e.annotationType??e.annotationEditorType))==null?void 0:n.deserialize(e,this,b(this,Me)))||null}createAndAddNewEditor(e,n,i={}){const r=this.getNextId(),o=Y(this,qt,fE).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:b(this,Me),isCentered:n,...i});return o&&this.add(o),o}addNewEditor(){this.createAndAddNewEditor(Y(this,qt,pE).call(this),!0)}setSelected(e){b(this,Me).setSelected(e)}toggleSelected(e){b(this,Me).toggleSelected(e)}unselect(e){b(this,Me).unselect(e)}pointerup(e){var i;const{isMac:n}=Si.platform;if(!(e.button!==0||e.ctrlKey&&n)&&e.target===this.div&&b(this,Nl)&&(H(this,Nl,!1),!((i=b(this,qt,jo))!=null&&i.isDrawer&&b(this,qt,jo).supportMultipleDrawings))){if(!b(this,yf)){H(this,yf,!0);return}if(b(this,Me).getMode()===Ze.STAMP){b(this,Me).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){var r;if(b(this,Me).getMode()===Ze.HIGHLIGHT&&this.enableTextSelection(),b(this,Nl)){H(this,Nl,!1);return}const{isMac:n}=Si.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;if(H(this,Nl,!0),(r=b(this,qt,jo))!=null&&r.isDrawer){this.startDrawingSession(e);return}const i=b(this,Me).getActive();H(this,yf,!i||i.isEmpty())}startDrawingSession(e){if(this.div.focus(),b(this,Co)){b(this,qt,jo).startDrawing(this,b(this,Me),!1,e);return}b(this,Me).setCurrentDrawingSession(this),H(this,Co,new AbortController);const n=b(this,Me).combinedSignal(b(this,Co));this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(H(this,ma,null),this.commitOrRemove())},{signal:n}),b(this,qt,jo).startDrawing(this,b(this,Me),!1,e)}pause(e){if(e){const{activeElement:n}=document;this.div.contains(n)&&H(this,ma,n);return}b(this,ma)&&setTimeout(()=>{var n;(n=b(this,ma))==null||n.focus(),H(this,ma,null)},0)}endDrawingSession(e=!1){return b(this,Co)?(b(this,Me).setCurrentDrawingSession(null),b(this,Co).abort(),H(this,Co,null),H(this,ma,null),b(this,qt,jo).endDrawing(e)):null}findNewParent(e,n,i){const r=b(this,Me).findParent(n,i);return r===null||r===this?!1:(r.changeParent(e),!0)}commitOrRemove(){return b(this,Co)?(this.endDrawingSession(),!0):!1}onScaleChanging(){b(this,Co)&&b(this,qt,jo).onScaleChangingWhenDrawing(this)}destroy(){var e,n;this.commitOrRemove(),((e=b(this,Me).getActive())==null?void 0:e.parent)===this&&(b(this,Me).commitOrRemove(),b(this,Me).setActiveEditor(null)),b(this,ga)&&(clearTimeout(b(this,ga)),H(this,ga,null));for(const i of b(this,zr).values())(n=b(this,Uc))==null||n.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,b(this,zr).clear(),b(this,Me).removeLayer(this)}render({viewport:e}){this.viewport=e,jc(this.div,e);for(const n of b(this,Me).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){b(this,Me).commitOrRemove(),Y(this,qt,H0).call(this);const n=this.viewport.rotation,i=e.rotation;if(this.viewport=e,jc(this.div,{rotation:i}),n!==i)for(const r of b(this,zr).values())r.rotate(i)}get pageDimensions(){const{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return b(this,Me).viewParameters.realScale}};Uc=new WeakMap,yf=new WeakMap,hs=new WeakMap,Fl=new WeakMap,ga=new WeakMap,zr=new WeakMap,Nl=new WeakMap,vf=new WeakMap,Lc=new WeakMap,Co=new WeakMap,ma=new WeakMap,ii=new WeakMap,ya=new WeakMap,Me=new WeakMap,Rl=new WeakMap,qt=new WeakSet,TO=function(e){b(this,Me).unselectAll();const{target:n}=e;if(n===b(this,ii).div||(n.getAttribute("role")==="img"||n.classList.contains("endOfContent"))&&b(this,ii).div.contains(n)){const{isMac:i}=Si.platform;if(e.button!==0||e.ctrlKey&&i)return;b(this,Me).showAllEditors("highlight",!0,!0),b(this,ii).div.classList.add("free"),this.toggleDrawing(),P1.startHighlighting(this,b(this,Me).direction==="ltr",{target:b(this,ii).div,x:e.x,y:e.y}),b(this,ii).div.addEventListener("pointerup",()=>{b(this,ii).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:b(this,Me)._signal}),e.preventDefault()}},jo=function(){return b(co,Rl).get(b(this,Me).getMode())},fE=function(e){const n=b(this,qt,jo);return n?new n.prototype.constructor(e):null},pE=function(){const{x:e,y:n,width:i,height:r}=this.div.getBoundingClientRect(),o=Math.max(0,e),s=Math.max(0,n),a=Math.min(window.innerWidth,e+i),l=Math.min(window.innerHeight,n+r),u=(o+a)/2-e,c=(s+l)/2-n,[h,d]=this.viewport.rotation%180===0?[u,c]:[c,u];return{offsetX:h,offsetY:d}},H0=function(){for(const e of b(this,zr).values())e.isEmpty()&&e.remove()},He(co,"_initialized",!1),j(co,Rl,new Map([jC,lE,uE,P1].map(e=>[e._editorType,e])));let hE=co;var Eo,Wy,wi,Pc,zb,CO,Cs,mE,EO,yE;const Zn=class Zn{constructor({pageIndex:e}){j(this,Cs);j(this,Eo,null);j(this,Wy,0);j(this,wi,new Map);j(this,Pc,new Map);this.pageIndex=e}setParent(e){if(!b(this,Eo)){H(this,Eo,e);return}if(b(this,Eo)!==e){if(b(this,wi).size>0)for(const n of b(this,wi).values())n.remove(),e.append(n);H(this,Eo,e)}}static get _svgFactory(){return it(this,"_svgFactory",new fS)}draw(e,n=!1,i=!1){const r=mi(this,Wy)._++,o=Y(this,Cs,mE).call(this),s=Zn._svgFactory.createElement("defs");o.append(s);const a=Zn._svgFactory.createElement("path");s.append(a);const l=`path_p${this.pageIndex}_${r}`;a.setAttribute("id",l),a.setAttribute("vector-effect","non-scaling-stroke"),n&&b(this,Pc).set(r,a);const u=i?Y(this,Cs,EO).call(this,s,l):null,c=Zn._svgFactory.createElement("use");return o.append(c),c.setAttribute("href",`#${l}`),this.updateProperties(o,e),b(this,wi).set(r,o),{id:r,clipPathId:`url(#${u})`}}drawOutline(e,n){const i=mi(this,Wy)._++,r=Y(this,Cs,mE).call(this),o=Zn._svgFactory.createElement("defs");r.append(o);const s=Zn._svgFactory.createElement("path");o.append(s);const a=`path_p${this.pageIndex}_${i}`;s.setAttribute("id",a),s.setAttribute("vector-effect","non-scaling-stroke");let l;if(n){const h=Zn._svgFactory.createElement("mask");o.append(h),l=`mask_p${this.pageIndex}_${i}`,h.setAttribute("id",l),h.setAttribute("maskUnits","objectBoundingBox");const d=Zn._svgFactory.createElement("rect");h.append(d),d.setAttribute("width","1"),d.setAttribute("height","1"),d.setAttribute("fill","white");const f=Zn._svgFactory.createElement("use");h.append(f),f.setAttribute("href",`#${a}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const u=Zn._svgFactory.createElement("use");r.append(u),u.setAttribute("href",`#${a}`),l&&u.setAttribute("mask",`url(#${l})`);const c=u.cloneNode();return r.append(c),u.classList.add("mainOutline"),c.classList.add("secondaryOutline"),this.updateProperties(r,e),b(this,wi).set(i,r),i}finalizeDraw(e,n){b(this,Pc).delete(e),this.updateProperties(e,n)}updateProperties(e,n){var l;if(!n)return;const{root:i,bbox:r,rootClass:o,path:s}=n,a=typeof e=="number"?b(this,wi).get(e):e;if(a){if(i&&Y(this,Cs,yE).call(this,a,i),r&&Y(l=Zn,zb,CO).call(l,a,r),o){const{classList:u}=a;for(const[c,h]of Object.entries(o))u.toggle(c,h)}if(s){const c=a.firstChild.firstChild;Y(this,Cs,yE).call(this,c,s)}}}updateParent(e,n){if(n===this)return;const i=b(this,wi).get(e);i&&(b(n,Eo).append(i),b(this,wi).delete(e),b(n,wi).set(e,i))}remove(e){b(this,Pc).delete(e),b(this,Eo)!==null&&(b(this,wi).get(e).remove(),b(this,wi).delete(e))}destroy(){H(this,Eo,null);for(const e of b(this,wi).values())e.remove();b(this,wi).clear(),b(this,Pc).clear()}};Eo=new WeakMap,Wy=new WeakMap,wi=new WeakMap,Pc=new WeakMap,zb=new WeakSet,CO=function(e,[n,i,r,o]){const{style:s}=e;s.top=`${100*i}%`,s.left=`${100*n}%`,s.width=`${100*r}%`,s.height=`${100*o}%`},Cs=new WeakSet,mE=function(){const e=Zn._svgFactory.create(1,1,!0);return b(this,Eo).append(e),e.setAttribute("aria-hidden",!0),e},EO=function(e,n){const i=Zn._svgFactory.createElement("clipPath");e.append(i);const r=`clip_${n}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const o=Zn._svgFactory.createElement("use");return i.append(o),o.setAttribute("href",`#${n}`),o.classList.add("clip"),r},yE=function(e,n){for(const[i,r]of Object.entries(n))r===null?e.removeAttribute(i):e.setAttribute(i,r)},j(Zn,zb);let gE=Zn;globalThis.pdfjsTestingUtils={HighlightOutliner:YC};Ke.AbortException;Ke.AnnotationEditorLayer;Ke.AnnotationEditorParamsType;Ke.AnnotationEditorType;Ke.AnnotationEditorUIManager;Ke.AnnotationLayer;Ke.AnnotationMode;Ke.ColorPicker;Ke.DOMSVGFactory;Ke.DrawLayer;Ke.FeatureTest;var pZ=Ke.GlobalWorkerOptions;Ke.ImageKind;Ke.InvalidPDFException;Ke.MissingPDFException;Ke.OPS;Ke.OutputScale;Ke.PDFDataRangeTransport;Ke.PDFDateString;Ke.PDFWorker;Ke.PasswordResponses;Ke.PermissionFlag;Ke.PixelsPerInch;Ke.RenderingCancelledException;Ke.TextLayer;Ke.TouchManager;Ke.UnexpectedResponseException;Ke.Util;Ke.VerbosityLevel;Ke.XfaLayer;Ke.build;Ke.createValidAbsoluteUrl;Ke.fetchData;var gZ=Ke.getDocument;Ke.getFilenameFromUrl;Ke.getPdfFilenameFromUrl;Ke.getXfaPageViewport;Ke.isDataScheme;Ke.isPdfFile;Ke.noContextMenu;Ke.normalizeUnicode;Ke.setLayerDimensions;Ke.shadow;Ke.stopEvent;Ke.version;var Bo={},gS="1.13.7",FF=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},b_=Array.prototype,mS=Object.prototype,NF=typeof Symbol<"u"?Symbol.prototype:null,mZ=b_.push,Jy=b_.slice,Kg=mS.toString,yZ=mS.hasOwnProperty,AO=typeof ArrayBuffer<"u",vZ=typeof DataView<"u",bZ=Array.isArray,RF=Object.keys,UF=Object.create,LF=AO&&ArrayBuffer.isView,_Z=isNaN,xZ=isFinite,SO=!{toString:null}.propertyIsEnumerable("toString"),PF=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],wZ=Math.pow(2,53)-1;function Ii(t,e){return e=e==null?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),i=Array(n),r=0;r<n;r++)i[r]=arguments[r+e];switch(e){case 0:return t.call(this,i);case 1:return t.call(this,arguments[0],i);case 2:return t.call(this,arguments[0],arguments[1],i)}var o=Array(e+1);for(r=0;r<e;r++)o[r]=arguments[r];return o[e]=i,t.apply(this,o)}}function du(t){var e=typeof t;return e==="function"||e==="object"&&!!t}function DO(t){return t===null}function yS(t){return t===void 0}function vS(t){return t===!0||t===!1||Kg.call(t)==="[object Boolean]"}function kO(t){return!!(t&&t.nodeType===1)}function fi(t){var e="[object "+t+"]";return function(n){return Kg.call(n)===e}}const __=fi("String"),bS=fi("Number"),IO=fi("Date"),FO=fi("RegExp"),NO=fi("Error"),_S=fi("Symbol"),xS=fi("ArrayBuffer");var RO=fi("Function"),TZ=FF.document&&FF.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof TZ!="function"&&(RO=function(t){return typeof t=="function"||!1});const hi=RO,UO=fi("Object");var LO=vZ&&(!/\[native code\]/.test(String(DataView))||UO(new DataView(new ArrayBuffer(8)))),wS=typeof Map<"u"&&UO(new Map),CZ=fi("DataView");function EZ(t){return t!=null&&hi(t.getInt8)&&xS(t.buffer)}const Jg=LO?EZ:CZ,hu=bZ||fi("Array");function fu(t,e){return t!=null&&yZ.call(t,e)}var vE=fi("Arguments");(function(){vE(arguments)||(vE=function(t){return fu(t,"callee")})})();const x_=vE;function PO(t){return!_S(t)&&xZ(t)&&!isNaN(parseFloat(t))}function TS(t){return bS(t)&&_Z(t)}function CS(t){return function(){return t}}function MO(t){return function(e){var n=t(e);return typeof n=="number"&&n>=0&&n<=wZ}}function OO(t){return function(e){return e==null?void 0:e[t]}}const O1=OO("byteLength"),AZ=MO(O1);var SZ=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function DZ(t){return LF?LF(t)&&!Jg(t):AZ(t)&&SZ.test(Kg.call(t))}const ES=AO?DZ:CS(!1),er=OO("length");function kZ(t){for(var e={},n=t.length,i=0;i<n;++i)e[t[i]]=!0;return{contains:function(r){return e[r]===!0},push:function(r){return e[r]=!0,t.push(r)}}}function BO(t,e){e=kZ(e);var n=PF.length,i=t.constructor,r=hi(i)&&i.prototype||mS,o="constructor";for(fu(t,o)&&!e.contains(o)&&e.push(o);n--;)o=PF[n],o in t&&t[o]!==r[o]&&!e.contains(o)&&e.push(o)}function xn(t){if(!du(t))return[];if(RF)return RF(t);var e=[];for(var n in t)fu(t,n)&&e.push(n);return SO&&BO(t,e),e}function qO(t){if(t==null)return!0;var e=er(t);return typeof e=="number"&&(hu(t)||__(t)||x_(t))?e===0:er(xn(t))===0}function AS(t,e){var n=xn(e),i=n.length;if(t==null)return!i;for(var r=Object(t),o=0;o<i;o++){var s=n[o];if(e[s]!==r[s]||!(s in r))return!1}return!0}function mt(t){if(t instanceof mt)return t;if(!(this instanceof mt))return new mt(t);this._wrapped=t}mt.VERSION=gS;mt.prototype.value=function(){return this._wrapped};mt.prototype.valueOf=mt.prototype.toJSON=mt.prototype.value;mt.prototype.toString=function(){return String(this._wrapped)};function MF(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,O1(t))}var OF="[object DataView]";function bE(t,e,n,i){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var r=typeof t;return r!=="function"&&r!=="object"&&typeof e!="object"?!1:WO(t,e,n,i)}function WO(t,e,n,i){t instanceof mt&&(t=t._wrapped),e instanceof mt&&(e=e._wrapped);var r=Kg.call(t);if(r!==Kg.call(e))return!1;if(LO&&r=="[object Object]"&&Jg(t)){if(!Jg(e))return!1;r=OF}switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return NF.valueOf.call(t)===NF.valueOf.call(e);case"[object ArrayBuffer]":case OF:return WO(MF(t),MF(e),n,i)}var o=r==="[object Array]";if(!o&&ES(t)){var s=O1(t);if(s!==O1(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;o=!0}if(!o){if(typeof t!="object"||typeof e!="object")return!1;var a=t.constructor,l=e.constructor;if(a!==l&&!(hi(a)&&a instanceof a&&hi(l)&&l instanceof l)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],i=i||[];for(var u=n.length;u--;)if(n[u]===t)return i[u]===e;if(n.push(t),i.push(e),o){if(u=t.length,u!==e.length)return!1;for(;u--;)if(!bE(t[u],e[u],n,i))return!1}else{var c=xn(t),h;if(u=c.length,xn(e).length!==u)return!1;for(;u--;)if(h=c[u],!(fu(e,h)&&bE(t[h],e[h],n,i)))return!1}return n.pop(),i.pop(),!0}function $O(t,e){return bE(t,e)}function Kf(t){if(!du(t))return[];var e=[];for(var n in t)e.push(n);return SO&&BO(t,e),e}function SS(t){var e=er(t);return function(n){if(n==null)return!1;var i=Kf(n);if(er(i))return!1;for(var r=0;r<e;r++)if(!hi(n[t[r]]))return!1;return t!==VO||!hi(n[DS])}}var DS="forEach",zO="has",kS=["clear","delete"],HO=["get",zO,"set"],IZ=kS.concat(DS,HO),VO=kS.concat(HO),FZ=["add"].concat(kS,DS,zO);const GO=wS?SS(IZ):fi("Map"),jO=wS?SS(VO):fi("WeakMap"),XO=wS?SS(FZ):fi("Set"),YO=fi("WeakSet");function ld(t){for(var e=xn(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i}function KO(t){for(var e=xn(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i}function IS(t){for(var e={},n=xn(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e}function Zg(t){var e=[];for(var n in t)hi(t[n])&&e.push(n);return e.sort()}function FS(t,e){return function(n){var i=arguments.length;if(e&&(n=Object(n)),i<2||n==null)return n;for(var r=1;r<i;r++)for(var o=arguments[r],s=t(o),a=s.length,l=0;l<a;l++){var u=s[l];(!e||n[u]===void 0)&&(n[u]=o[u])}return n}}const NS=FS(Kf),Af=FS(xn),RS=FS(Kf,!0);function NZ(){return function(){}}function JO(t){if(!du(t))return{};if(UF)return UF(t);var e=NZ();e.prototype=t;var n=new e;return e.prototype=null,n}function ZO(t,e){var n=JO(t);return e&&Af(n,e),n}function QO(t){return du(t)?hu(t)?t.slice():NS({},t):t}function e8(t,e){return e(t),t}function US(t){return hu(t)?t:[t]}mt.toPath=US;function Zy(t){return mt.toPath(t)}function LS(t,e){for(var n=e.length,i=0;i<n;i++){if(t==null)return;t=t[e[i]]}return n?t:void 0}function PS(t,e,n){var i=LS(t,Zy(e));return yS(i)?n:i}function t8(t,e){e=Zy(e);for(var n=e.length,i=0;i<n;i++){var r=e[i];if(!fu(t,r))return!1;t=t[r]}return!!n}function w_(t){return t}function Kc(t){return t=Af({},t),function(e){return AS(e,t)}}function T_(t){return t=Zy(t),function(e){return LS(e,t)}}function Qy(t,e,n){if(e===void 0)return t;switch(n??3){case 1:return function(i){return t.call(e,i)};case 3:return function(i,r,o){return t.call(e,i,r,o)};case 4:return function(i,r,o,s){return t.call(e,i,r,o,s)}}return function(){return t.apply(e,arguments)}}function n8(t,e,n){return t==null?w_:hi(t)?Qy(t,e,n):du(t)&&!hu(t)?Kc(t):T_(t)}function C_(t,e){return n8(t,e,1/0)}mt.iteratee=C_;function nr(t,e,n){return mt.iteratee!==C_?mt.iteratee(t,e):n8(t,e,n)}function i8(t,e,n){e=nr(e,n);for(var i=xn(t),r=i.length,o={},s=0;s<r;s++){var a=i[s];o[a]=e(t[a],a,t)}return o}function MS(){}function r8(t){return t==null?MS:function(e){return PS(t,e)}}function o8(t,e,n){var i=Array(Math.max(0,t));e=Qy(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i}function B1(t,e){return e==null&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}const Sf=Date.now||function(){return new Date().getTime()};function s8(t){var e=function(o){return t[o]},n="(?:"+xn(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(o){return o=o==null?"":""+o,i.test(o)?o.replace(r,e):o}}const a8={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l8=s8(a8),RZ=IS(a8),u8=s8(RZ),c8=mt.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var _2=/(.)^/,UZ={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},LZ=/\\|'|\r|\n|\u2028|\u2029/g;function PZ(t){return"\\"+UZ[t]}var MZ=/^\s*(\w|\$)+\s*$/;function d8(t,e,n){!e&&n&&(e=n),e=RS({},e,mt.templateSettings);var i=RegExp([(e.escape||_2).source,(e.interpolate||_2).source,(e.evaluate||_2).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(i,function(u,c,h,d,f){return o+=t.slice(r,f).replace(LZ,PZ),r=f+u.length,c?o+=`'+
((__t=(`+c+`))==null?'':_.escape(__t))+
'`:h?o+=`'+
((__t=(`+h+`))==null?'':__t)+
'`:d&&(o+=`';
`+d+`
__p+='`),u}),o+=`';
`;var s=e.variable;if(s){if(!MZ.test(s))throw new Error("variable is not a bare identifier: "+s)}else o=`with(obj||{}){
`+o+`}
`,s="obj";o=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+o+`return __p;
`;var a;try{a=new Function(s,"_",o)}catch(u){throw u.source=o,u}var l=function(u){return a.call(this,u,mt)};return l.source="function("+s+`){
`+o+"}",l}function h8(t,e,n){e=Zy(e);var i=e.length;if(!i)return hi(n)?n.call(t):n;for(var r=0;r<i;r++){var o=t==null?void 0:t[e[r]];o===void 0&&(o=n,r=i),t=hi(o)?o.call(t):o}return t}var OZ=0;function f8(t){var e=++OZ+"";return t?t+e:e}function p8(t){var e=mt(t);return e._chain=!0,e}function g8(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=JO(t.prototype),s=t.apply(o,r);return du(s)?s:o}var ud=Ii(function(t,e){var n=ud.placeholder,i=function(){for(var r=0,o=e.length,s=Array(o),a=0;a<o;a++)s[a]=e[a]===n?arguments[r++]:e[a];for(;r<arguments.length;)s.push(arguments[r++]);return g8(t,i,this,this,s)};return i});ud.placeholder=mt;const OS=Ii(function(t,e,n){if(!hi(t))throw new TypeError("Bind must be called on a function");var i=Ii(function(r){return g8(t,i,e,this,n.concat(r))});return i}),Fr=MO(er);function cd(t,e,n,i){if(i=i||[],!e&&e!==0)e=1/0;else if(e<=0)return i.concat(t);for(var r=i.length,o=0,s=er(t);o<s;o++){var a=t[o];if(Fr(a)&&(hu(a)||x_(a)))if(e>1)cd(a,e-1,n,i),r=i.length;else for(var l=0,u=a.length;l<u;)i[r++]=a[l++];else n||(i[r++]=a)}return i}const m8=Ii(function(t,e){e=cd(e,!1,!1);var n=e.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=e[n];t[i]=OS(t[i],t)}return t});function y8(t,e){var n=function(i){var r=n.cache,o=""+(e?e.apply(this,arguments):i);return fu(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return n.cache={},n}const BS=Ii(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),v8=ud(BS,mt,1);function b8(t,e,n){var i,r,o,s,a=0;n||(n={});var l=function(){a=n.leading===!1?0:Sf(),i=null,s=t.apply(r,o),i||(r=o=null)},u=function(){var c=Sf();!a&&n.leading===!1&&(a=c);var h=e-(c-a);return r=this,o=arguments,h<=0||h>e?(i&&(clearTimeout(i),i=null),a=c,s=t.apply(r,o),i||(r=o=null)):!i&&n.trailing!==!1&&(i=setTimeout(l,h)),s};return u.cancel=function(){clearTimeout(i),a=0,i=r=o=null},u}function _8(t,e,n){var i,r,o,s,a,l=function(){var c=Sf()-r;e>c?i=setTimeout(l,e-c):(i=null,n||(s=t.apply(a,o)),i||(o=a=null))},u=Ii(function(c){return a=this,o=c,r=Sf(),i||(i=setTimeout(l,e),n&&(s=t.apply(a,o))),s});return u.cancel=function(){clearTimeout(i),i=o=a=null},u}function x8(t,e){return ud(e,t)}function E_(t){return function(){return!t.apply(this,arguments)}}function w8(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}}function T8(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function qS(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}const C8=ud(qS,2);function WS(t,e,n){e=nr(e,n);for(var i=xn(t),r,o=0,s=i.length;o<s;o++)if(r=i[o],e(t[r],r,t))return r}function E8(t){return function(e,n,i){n=nr(n,i);for(var r=er(e),o=t>0?0:r-1;o>=0&&o<r;o+=t)if(n(e[o],o,e))return o;return-1}}const A_=E8(1),$S=E8(-1);function zS(t,e,n,i){n=nr(n,i,1);for(var r=n(e),o=0,s=er(t);o<s;){var a=Math.floor((o+s)/2);n(t[a])<r?o=a+1:s=a}return o}function A8(t,e,n){return function(i,r,o){var s=0,a=er(i);if(typeof o=="number")t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return o=n(i,r),i[o]===r?o:-1;if(r!==r)return o=e(Jy.call(i,s,a),TS),o>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&o<a;o+=t)if(i[o]===r)return o;return-1}}const HS=A8(1,A_,zS),S8=A8(-1,$S);function Qg(t,e,n){var i=Fr(t)?A_:WS,r=i(t,e,n);if(r!==void 0&&r!==-1)return t[r]}function D8(t,e){return Qg(t,Kc(e))}function Lo(t,e,n){e=Qy(e,n);var i,r;if(Fr(t))for(i=0,r=t.length;i<r;i++)e(t[i],i,t);else{var o=xn(t);for(i=0,r=o.length;i<r;i++)e(t[o[i]],o[i],t)}return t}function Na(t,e,n){e=nr(e,n);for(var i=!Fr(t)&&xn(t),r=(i||t).length,o=Array(r),s=0;s<r;s++){var a=i?i[s]:s;o[s]=e(t[a],a,t)}return o}function k8(t){var e=function(n,i,r,o){var s=!Fr(n)&&xn(n),a=(s||n).length,l=t>0?0:a-1;for(o||(r=n[s?s[l]:l],l+=t);l>=0&&l<a;l+=t){var u=s?s[l]:l;r=i(r,n[u],u,n)}return r};return function(n,i,r,o){var s=arguments.length>=3;return e(n,Qy(i,o,4),r,s)}}const lh=k8(1),q1=k8(-1);function tu(t,e,n){var i=[];return e=nr(e,n),Lo(t,function(r,o,s){e(r,o,s)&&i.push(r)}),i}function I8(t,e,n){return tu(t,E_(nr(e)),n)}function W1(t,e,n){e=nr(e,n);for(var i=!Fr(t)&&xn(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(!e(t[s],s,t))return!1}return!0}function $1(t,e,n){e=nr(e,n);for(var i=!Fr(t)&&xn(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(e(t[s],s,t))return!0}return!1}function Qr(t,e,n,i){return Fr(t)||(t=ld(t)),(typeof n!="number"||i)&&(n=0),HS(t,e,n)>=0}const F8=Ii(function(t,e,n){var i,r;return hi(e)?r=e:(e=Zy(e),i=e.slice(0,-1),e=e[e.length-1]),Na(t,function(o){var s=r;if(!s){if(i&&i.length&&(o=LS(o,i)),o==null)return;s=o[e]}return s==null?s:s.apply(o,n)})});function S_(t,e){return Na(t,T_(e))}function N8(t,e){return tu(t,Kc(e))}function VS(t,e,n){var i=-1/0,r=-1/0,o,s;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=Fr(t)?t:ld(t);for(var a=0,l=t.length;a<l;a++)o=t[a],o!=null&&o>i&&(i=o)}else e=nr(e,n),Lo(t,function(u,c,h){s=e(u,c,h),(s>r||s===-1/0&&i===-1/0)&&(i=u,r=s)});return i}function R8(t,e,n){var i=1/0,r=1/0,o,s;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=Fr(t)?t:ld(t);for(var a=0,l=t.length;a<l;a++)o=t[a],o!=null&&o<i&&(i=o)}else e=nr(e,n),Lo(t,function(u,c,h){s=e(u,c,h),(s<r||s===1/0&&i===1/0)&&(i=u,r=s)});return i}var BZ=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function GS(t){return t?hu(t)?Jy.call(t):__(t)?t.match(BZ):Fr(t)?Na(t,w_):ld(t):[]}function jS(t,e,n){if(e==null||n)return Fr(t)||(t=ld(t)),t[B1(t.length-1)];var i=GS(t),r=er(i);e=Math.max(Math.min(e,r),0);for(var o=r-1,s=0;s<e;s++){var a=B1(s,o),l=i[s];i[s]=i[a],i[a]=l}return i.slice(0,e)}function U8(t){return jS(t,1/0)}function L8(t,e,n){var i=0;return e=nr(e,n),S_(Na(t,function(r,o,s){return{value:r,index:i++,criteria:e(r,o,s)}}).sort(function(r,o){var s=r.criteria,a=o.criteria;if(s!==a){if(s>a||s===void 0)return 1;if(s<a||a===void 0)return-1}return r.index-o.index}),"value")}function D_(t,e){return function(n,i,r){var o=e?[[],[]]:{};return i=nr(i,r),Lo(n,function(s,a){var l=i(s,a,n);t(o,s,l)}),o}}const P8=D_(function(t,e,n){fu(t,n)?t[n].push(e):t[n]=[e]}),M8=D_(function(t,e,n){t[n]=e}),O8=D_(function(t,e,n){fu(t,n)?t[n]++:t[n]=1}),B8=D_(function(t,e,n){t[n?0:1].push(e)},!0);function q8(t){return t==null?0:Fr(t)?t.length:xn(t).length}function qZ(t,e,n){return e in n}const XS=Ii(function(t,e){var n={},i=e[0];if(t==null)return n;hi(i)?(e.length>1&&(i=Qy(i,e[1])),e=Kf(t)):(i=qZ,e=cd(e,!1,!1),t=Object(t));for(var r=0,o=e.length;r<o;r++){var s=e[r],a=t[s];i(a,s,t)&&(n[s]=a)}return n}),W8=Ii(function(t,e){var n=e[0],i;return hi(n)?(n=E_(n),e.length>1&&(i=e[1])):(e=Na(cd(e,!1,!1),String),n=function(r,o){return!Qr(e,o)}),XS(t,n,i)});function YS(t,e,n){return Jy.call(t,0,Math.max(0,t.length-(e==null||n?1:e)))}function uh(t,e,n){return t==null||t.length<1?e==null||n?void 0:[]:e==null||n?t[0]:YS(t,t.length-e)}function Bc(t,e,n){return Jy.call(t,e==null||n?1:e)}function $8(t,e,n){return t==null||t.length<1?e==null||n?void 0:[]:e==null||n?t[t.length-1]:Bc(t,Math.max(0,t.length-e))}function z8(t){return tu(t,Boolean)}function H8(t,e){return cd(t,e,!1)}const KS=Ii(function(t,e){return e=cd(e,!0,!0),tu(t,function(n){return!Qr(e,n)})}),V8=Ii(function(t,e){return KS(t,e)});function em(t,e,n,i){vS(e)||(i=n,n=e,e=!1),n!=null&&(n=nr(n,i));for(var r=[],o=[],s=0,a=er(t);s<a;s++){var l=t[s],u=n?n(l,s,t):l;e&&!n?((!s||o!==u)&&r.push(l),o=u):n?Qr(o,u)||(o.push(u),r.push(l)):Qr(r,l)||r.push(l)}return r}const G8=Ii(function(t){return em(cd(t,!0,!0))});function j8(t){for(var e=[],n=arguments.length,i=0,r=er(t);i<r;i++){var o=t[i];if(!Qr(e,o)){var s;for(s=1;s<n&&Qr(arguments[s],o);s++);s===n&&e.push(o)}}return e}function tm(t){for(var e=t&&VS(t,er).length||0,n=Array(e),i=0;i<e;i++)n[i]=S_(t,i);return n}const X8=Ii(tm);function Y8(t,e){for(var n={},i=0,r=er(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n}function K8(t,e,n){e==null&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;o<i;o++,t+=n)r[o]=t;return r}function J8(t,e){if(e==null||e<1)return[];for(var n=[],i=0,r=t.length;i<r;)n.push(Jy.call(t,i,i+=e));return n}function JS(t,e){return t._chain?mt(e).chain():e}function ZS(t){return Lo(Zg(t),function(e){var n=mt[e]=t[e];mt.prototype[e]=function(){var i=[this._wrapped];return mZ.apply(i,arguments),JS(this,n.apply(mt,i))}}),mt}Lo(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=b_[t];mt.prototype[t]=function(){var n=this._wrapped;return n!=null&&(e.apply(n,arguments),(t==="shift"||t==="splice")&&n.length===0&&delete n[0]),JS(this,n)}});Lo(["concat","join","slice"],function(t){var e=b_[t];mt.prototype[t]=function(){var n=this._wrapped;return n!=null&&(n=e.apply(n,arguments)),JS(this,n)}});const WZ=Object.freeze(Object.defineProperty({__proto__:null,VERSION:gS,after:T8,all:W1,allKeys:Kf,any:$1,assign:Af,before:qS,bind:OS,bindAll:m8,chain:p8,chunk:J8,clone:QO,collect:Na,compact:z8,compose:w8,constant:CS,contains:Qr,countBy:O8,create:ZO,debounce:_8,default:mt,defaults:RS,defer:v8,delay:BS,detect:Qg,difference:KS,drop:Bc,each:Lo,escape:l8,every:W1,extend:NS,extendOwn:Af,filter:tu,find:Qg,findIndex:A_,findKey:WS,findLastIndex:$S,findWhere:D8,first:uh,flatten:H8,foldl:lh,foldr:q1,forEach:Lo,functions:Zg,get:PS,groupBy:P8,has:t8,head:uh,identity:w_,include:Qr,includes:Qr,indexBy:M8,indexOf:HS,initial:YS,inject:lh,intersection:j8,invert:IS,invoke:F8,isArguments:x_,isArray:hu,isArrayBuffer:xS,isBoolean:vS,isDataView:Jg,isDate:IO,isElement:kO,isEmpty:qO,isEqual:$O,isError:NO,isFinite:PO,isFunction:hi,isMap:GO,isMatch:AS,isNaN:TS,isNull:DO,isNumber:bS,isObject:du,isRegExp:FO,isSet:XO,isString:__,isSymbol:_S,isTypedArray:ES,isUndefined:yS,isWeakMap:jO,isWeakSet:YO,iteratee:C_,keys:xn,last:$8,lastIndexOf:S8,map:Na,mapObject:i8,matcher:Kc,matches:Kc,max:VS,memoize:y8,methods:Zg,min:R8,mixin:ZS,negate:E_,noop:MS,now:Sf,object:Y8,omit:W8,once:C8,pairs:KO,partial:ud,partition:B8,pick:XS,pluck:S_,property:T_,propertyOf:r8,random:B1,range:K8,reduce:lh,reduceRight:q1,reject:I8,rest:Bc,restArguments:Ii,result:h8,sample:jS,select:tu,shuffle:U8,size:q8,some:$1,sortBy:L8,sortedIndex:zS,tail:Bc,take:uh,tap:e8,template:d8,templateSettings:c8,throttle:b8,times:o8,toArray:GS,toPath:US,transpose:tm,unescape:u8,union:G8,uniq:em,unique:em,uniqueId:f8,unzip:tm,values:ld,where:N8,without:V8,wrap:x8,zip:X8},Symbol.toStringTag,{value:"Module"}));var _E=ZS(WZ);_E._=_E;const $Z=Object.freeze(Object.defineProperty({__proto__:null,VERSION:gS,after:T8,all:W1,allKeys:Kf,any:$1,assign:Af,before:qS,bind:OS,bindAll:m8,chain:p8,chunk:J8,clone:QO,collect:Na,compact:z8,compose:w8,constant:CS,contains:Qr,countBy:O8,create:ZO,debounce:_8,default:_E,defaults:RS,defer:v8,delay:BS,detect:Qg,difference:KS,drop:Bc,each:Lo,escape:l8,every:W1,extend:NS,extendOwn:Af,filter:tu,find:Qg,findIndex:A_,findKey:WS,findLastIndex:$S,findWhere:D8,first:uh,flatten:H8,foldl:lh,foldr:q1,forEach:Lo,functions:Zg,get:PS,groupBy:P8,has:t8,head:uh,identity:w_,include:Qr,includes:Qr,indexBy:M8,indexOf:HS,initial:YS,inject:lh,intersection:j8,invert:IS,invoke:F8,isArguments:x_,isArray:hu,isArrayBuffer:xS,isBoolean:vS,isDataView:Jg,isDate:IO,isElement:kO,isEmpty:qO,isEqual:$O,isError:NO,isFinite:PO,isFunction:hi,isMap:GO,isMatch:AS,isNaN:TS,isNull:DO,isNumber:bS,isObject:du,isRegExp:FO,isSet:XO,isString:__,isSymbol:_S,isTypedArray:ES,isUndefined:yS,isWeakMap:jO,isWeakSet:YO,iteratee:C_,keys:xn,last:$8,lastIndexOf:S8,map:Na,mapObject:i8,matcher:Kc,matches:Kc,max:VS,memoize:y8,methods:Zg,min:R8,mixin:ZS,negate:E_,noop:MS,now:Sf,object:Y8,omit:W8,once:C8,pairs:KO,partial:ud,partition:B8,pick:XS,pluck:S_,property:T_,propertyOf:r8,random:B1,range:K8,reduce:lh,reduceRight:q1,reject:I8,rest:Bc,restArguments:Ii,result:h8,sample:jS,select:tu,shuffle:U8,size:q8,some:$1,sortBy:L8,sortedIndex:zS,tail:Bc,take:uh,tap:e8,template:d8,templateSettings:c8,throttle:b8,times:o8,toArray:GS,toPath:US,transpose:tm,unescape:u8,union:G8,uniq:em,unique:em,uniqueId:f8,unzip:tm,values:ld,where:N8,without:V8,wrap:x8,zip:X8},Symbol.toStringTag,{value:"Module"})),on=Lq($Z);var QS={},Nn={},Z8={exports:{}},Mv={exports:{}},BF;function Jf(){if(BF)return Mv.exports;BF=1;var t=function(){return this===void 0}();if(t)Mv.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:t,propertyIsWritable:function(c,h){var d=Object.getOwnPropertyDescriptor(c,h);return!!(!d||d.writable||d.set)}};else{var e={}.hasOwnProperty,n={}.toString,i={}.constructor.prototype,r=function(c){var h=[];for(var d in c)e.call(c,d)&&h.push(d);return h},o=function(c,h){return{value:c[h]}},s=function(c,h,d){return c[h]=d.value,c},a=function(c){return c},l=function(c){try{return Object(c).constructor.prototype}catch{return i}},u=function(c){try{return n.call(c)==="[object Array]"}catch{return!1}};Mv.exports={isArray:u,keys:r,names:r,defineProperty:s,getDescriptor:o,freeze:a,getPrototypeOf:l,isES5:t,propertyIsWritable:function(){return!0}}}return Mv.exports}var x2,qF;function Dt(){if(qF)return x2;qF=1;var t={},e=Jf(),n=typeof navigator>"u",i={e:{}},r,o=typeof self<"u"?self:typeof window<"u"?window:typeof Ve<"u"||Ve!==void 0?Ve:null;function s(){try{var W=r;return r=null,W.apply(this,arguments)}catch(J){return i.e=J,i}}function a(W){return r=W,s}var l=function(W,J){var K={}.hasOwnProperty;function G(){this.constructor=W,this.constructor$=J;for(var Z in J.prototype)K.call(J.prototype,Z)&&Z.charAt(Z.length-1)!=="$"&&(this[Z+"$"]=J.prototype[Z])}return G.prototype=J.prototype,W.prototype=new G,W.prototype};function u(W){return W==null||W===!0||W===!1||typeof W=="string"||typeof W=="number"}function c(W){return typeof W=="function"||typeof W=="object"&&W!==null}function h(W){return u(W)?new Error(E(W)):W}function d(W,J){var K=W.length,G=new Array(K+1),Z;for(Z=0;Z<K;++Z)G[Z]=W[Z];return G[Z]=J,G}function f(W,J,K){if(e.isES5){var G=Object.getOwnPropertyDescriptor(W,J);if(G!=null)return G.get==null&&G.set==null?G.value:K}else return{}.hasOwnProperty.call(W,J)?W[J]:void 0}function y(W,J,K){if(u(W))return W;var G={value:K,configurable:!0,enumerable:!1,writable:!0};return e.defineProperty(W,J,G),W}function m(W){throw W}var v=function(){var W=[Array.prototype,Object.prototype,Function.prototype],J=function(Z){for(var re=0;re<W.length;++re)if(W[re]===Z)return!0;return!1};if(e.isES5){var K=Object.getOwnPropertyNames;return function(Z){for(var re=[],ae=Object.create(null);Z!=null&&!J(Z);){var ge;try{ge=K(Z)}catch{return re}for(var ve=0;ve<ge.length;++ve){var se=ge[ve];if(!ae[se]){ae[se]=!0;var pe=Object.getOwnPropertyDescriptor(Z,se);pe!=null&&pe.get==null&&pe.set==null&&re.push(se)}}Z=e.getPrototypeOf(Z)}return re}}else{var G={}.hasOwnProperty;return function(Z){if(J(Z))return[];var re=[];e:for(var ae in Z)if(G.call(Z,ae))re.push(ae);else{for(var ge=0;ge<W.length;++ge)if(G.call(W[ge],ae))continue e;re.push(ae)}return re}}}(),g=/this\s*\.\s*\S+\s*=/;function p(W){try{if(typeof W=="function"){var J=e.names(W.prototype),K=e.isES5&&J.length>1,G=J.length>0&&!(J.length===1&&J[0]==="constructor"),Z=g.test(W+"")&&e.names(W).length>0;if(K||G||Z)return!0}return!1}catch{return!1}}function _(W){return W}var x=/^[a-z$_][a-z$_0-9]*$/i;function T(W){return x.test(W)}function A(W,J,K){for(var G=new Array(W),Z=0;Z<W;++Z)G[Z]=J+Z+K;return G}function E(W){try{return W+""}catch{return"[no string representation]"}}function k(W){return W!==null&&typeof W=="object"&&typeof W.message=="string"&&typeof W.name=="string"}function U(W){try{y(W,"isOperational",!0)}catch{}}function N(W){return W==null?!1:W instanceof Error.__BluebirdErrorTypes__.OperationalError||W.isOperational===!0}function I(W){return k(W)&&e.propertyIsWritable(W,"stack")}var S=function(){return"stack"in new Error?function(W){return I(W)?W:new Error(E(W))}:function(W){if(I(W))return W;try{throw new Error(E(W))}catch(J){return J}}}();function L(W){return{}.toString.call(W)}function D(W,J,K){for(var G=e.names(W),Z=0;Z<G.length;++Z){var re=G[Z];if(K(re))try{e.defineProperty(J,re,e.getDescriptor(W,re))}catch{}}}var $=function(W){return e.isArray(W)?W:null};if(typeof Symbol<"u"&&Symbol.iterator){var R=typeof Array.from=="function"?function(W){return Array.from(W)}:function(W){for(var J=[],K=W[Symbol.iterator](),G;!(G=K.next()).done;)J.push(G.value);return J};$=function(W){return e.isArray(W)?W:W!=null&&typeof W[Symbol.iterator]=="function"?R(W):null}}var P=typeof process<"u"&&L(process).toLowerCase()==="[object process]",z=typeof process<"u"&&typeof t<"u";function M(W){return z?t[W]:void 0}function q(){if(typeof Promise=="function")try{var W=new Promise(function(){});if({}.toString.call(W)==="[object Promise]")return Promise}catch{}}function F(W,J){return W.bind(J)}var O={isClass:p,isIdentifier:T,inheritedDataKeys:v,getDataPropertyOrDefault:f,thrower:m,isArray:e.isArray,asArray:$,notEnumerableProp:y,isPrimitive:u,isObject:c,isError:k,canEvaluate:n,errorObj:i,tryCatch:a,inherits:l,withAppended:d,maybeWrapAsError:h,toFastProperties:_,filledRange:A,toString:E,canAttachTrace:I,ensureErrorObject:S,originatesFromRejection:N,markAsOriginatingFromRejection:U,classString:L,copyDescriptors:D,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:P,hasEnvVariables:z,env:M,global:o,getNativePromise:q,domainBind:F};O.isRecentNode=O.isNode&&function(){var W=process.versions.node.split(".").map(Number);return W[0]===0&&W[1]>10||W[0]>0}(),O.isNode&&O.toFastProperties(process);try{throw new Error}catch(W){O.lastLineError=W}return x2=O,x2}var Ov={exports:{}},w2,WF;function zZ(){if(WF)return w2;WF=1;var t=Dt(),e,n=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},i=t.getNativePromise();if(t.isNode&&typeof MutationObserver>"u"){var r=Ve.setImmediate,o=process.nextTick;e=t.isRecentNode?function(a){r.call(Ve,a)}:function(a){o.call(process,a)}}else if(typeof i=="function"&&typeof i.resolve=="function"){var s=i.resolve();e=function(a){s.then(a)}}else typeof MutationObserver<"u"&&!(typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova))?e=function(){var a=document.createElement("div"),l={attributes:!0},u=!1,c=document.createElement("div"),h=new MutationObserver(function(){a.classList.toggle("foo"),u=!1});h.observe(c,l);var d=function(){u||(u=!0,c.classList.toggle("foo"))};return function(y){var m=new MutationObserver(function(){m.disconnect(),y()});m.observe(a,l),d()}}():typeof setImmediate<"u"?e=function(a){setImmediate(a)}:typeof setTimeout<"u"?e=function(a){setTimeout(a,0)}:e=n;return w2=e,w2}var T2,$F;function HZ(){if($F)return T2;$F=1;function t(n,i,r,o,s){for(var a=0;a<s;++a)r[a+o]=n[a+i],n[a+i]=void 0}function e(n){this._capacity=n,this._length=0,this._front=0}return e.prototype._willBeOverCapacity=function(n){return this._capacity<n},e.prototype._pushOne=function(n){var i=this.length();this._checkCapacity(i+1);var r=this._front+i&this._capacity-1;this[r]=n,this._length=i+1},e.prototype.push=function(n,i,r){var o=this.length()+3;if(this._willBeOverCapacity(o)){this._pushOne(n),this._pushOne(i),this._pushOne(r);return}var s=this._front+o-3;this._checkCapacity(o);var a=this._capacity-1;this[s+0&a]=n,this[s+1&a]=i,this[s+2&a]=r,this._length=o},e.prototype.shift=function(){var n=this._front,i=this[n];return this[n]=void 0,this._front=n+1&this._capacity-1,this._length--,i},e.prototype.length=function(){return this._length},e.prototype._checkCapacity=function(n){this._capacity<n&&this._resizeTo(this._capacity<<1)},e.prototype._resizeTo=function(n){var i=this._capacity;this._capacity=n;var r=this._front,o=this._length,s=r+o&i-1;t(this,0,this,i,s)},T2=e,T2}var zF;function VZ(){if(zF)return Ov.exports;zF=1;var t;try{throw new Error}catch(l){t=l}var e=zZ(),n=HZ(),i=Dt();function r(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new n(16),this._normalQueue=new n(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var l=this;this.drainQueues=function(){l._drainQueues()},this._schedule=e}r.prototype.setScheduler=function(l){var u=this._schedule;return this._schedule=l,this._customScheduler=!0,u},r.prototype.hasCustomScheduler=function(){return this._customScheduler},r.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},r.prototype.disableTrampolineIfNecessary=function(){i.hasDevTools&&(this._trampolineEnabled=!1)},r.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},r.prototype.fatalError=function(l,u){u?(process.stderr.write("Fatal "+(l instanceof Error?l.stack:l)+`
`),process.exit(2)):this.throwLater(l)},r.prototype.throwLater=function(l,u){if(arguments.length===1&&(u=l,l=function(){throw u}),typeof setTimeout<"u")setTimeout(function(){l(u)},0);else try{this._schedule(function(){l(u)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function o(l,u,c){this._lateQueue.push(l,u,c),this._queueTick()}function s(l,u,c){this._normalQueue.push(l,u,c),this._queueTick()}function a(l){this._normalQueue._pushOne(l),this._queueTick()}return i.hasDevTools?(r.prototype.invokeLater=function(l,u,c){this._trampolineEnabled?o.call(this,l,u,c):this._schedule(function(){setTimeout(function(){l.call(u,c)},100)})},r.prototype.invoke=function(l,u,c){this._trampolineEnabled?s.call(this,l,u,c):this._schedule(function(){l.call(u,c)})},r.prototype.settlePromises=function(l){this._trampolineEnabled?a.call(this,l):this._schedule(function(){l._settlePromises()})}):(r.prototype.invokeLater=o,r.prototype.invoke=s,r.prototype.settlePromises=a),r.prototype._drainQueue=function(l){for(;l.length()>0;){var u=l.shift();if(typeof u!="function"){u._settlePromises();continue}var c=l.shift(),h=l.shift();u.call(c,h)}},r.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},r.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},r.prototype._reset=function(){this._isTickUsed=!1},Ov.exports=r,Ov.exports.firstLineError=t,Ov.exports}var C2,HF;function nu(){if(HF)return C2;HF=1;var t=Jf(),e=t.freeze,n=Dt(),i=n.inherits,r=n.notEnumerableProp;function o(g,p){function _(x){if(!(this instanceof _))return new _(x);r(this,"message",typeof x=="string"?x:p),r(this,"name",g),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return i(_,Error),_}var s,a,l=o("Warning","warning"),u=o("CancellationError","cancellation error"),c=o("TimeoutError","timeout error"),h=o("AggregateError","aggregate error");try{s=TypeError,a=RangeError}catch{s=o("TypeError","type error"),a=o("RangeError","range error")}for(var d="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),f=0;f<d.length;++f)typeof Array.prototype[d[f]]=="function"&&(h.prototype[d[f]]=Array.prototype[d[f]]);t.defineProperty(h.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),h.prototype.isOperational=!0;var y=0;h.prototype.toString=function(){var g=Array(y*4+1).join(" "),p=`
`+g+`AggregateError of:
`;y++,g=Array(y*4+1).join(" ");for(var _=0;_<this.length;++_){for(var x=this[_]===this?"[Circular AggregateError]":this[_]+"",T=x.split(`
`),A=0;A<T.length;++A)T[A]=g+T[A];x=T.join(`
`),p+=x+`
`}return y--,p};function m(g){if(!(this instanceof m))return new m(g);r(this,"name","OperationalError"),r(this,"message",g),this.cause=g,this.isOperational=!0,g instanceof Error?(r(this,"message",g.message),r(this,"stack",g.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}i(m,Error);var v=Error.__BluebirdErrorTypes__;return v||(v=e({CancellationError:u,TimeoutError:c,OperationalError:m,RejectionError:m,AggregateError:h}),t.defineProperty(Error,"__BluebirdErrorTypes__",{value:v,writable:!1,enumerable:!1,configurable:!1})),C2={Error,TypeError:s,RangeError:a,CancellationError:v.CancellationError,OperationalError:v.OperationalError,TimeoutError:v.TimeoutError,AggregateError:v.AggregateError,Warning:l},C2}var E2,VF;function GZ(){return VF||(VF=1,E2=function(t,e){var n=Dt(),i=n.errorObj,r=n.isObject;function o(h,d){if(r(h)){if(h instanceof t)return h;var f=a(h);if(f===i){d&&d._pushContext();var y=t.reject(f.e);return d&&d._popContext(),y}else if(typeof f=="function"){if(u(h)){var y=new t(e);return h._then(y._fulfill,y._reject,void 0,y,null),y}return c(h,f,d)}}return h}function s(h){return h.then}function a(h){try{return s(h)}catch(d){return i.e=d,i}}var l={}.hasOwnProperty;function u(h){try{return l.call(h,"_promise0")}catch{return!1}}function c(h,d,f){var y=new t(e),m=y;f&&f._pushContext(),y._captureStackTrace(),f&&f._popContext();var v=!0,g=n.tryCatch(d).call(h,p,_);v=!1,y&&g===i&&(y._rejectCallback(g.e,!0,!0),y=null);function p(x){y&&(y._resolveCallback(x),y=null)}function _(x){y&&(y._rejectCallback(x,v,!0),y=null)}return m}return o}),E2}var A2,GF;function jZ(){return GF||(GF=1,A2=function(t,e,n,i,r){var o=Dt();o.isArray;function s(l){switch(l){case-2:return[];case-3:return{}}}function a(l){var u=this._promise=new t(e);l instanceof t&&u._propagateFrom(l,3),u._setOnCancel(this),this._values=l,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return o.inherits(a,r),a.prototype.length=function(){return this._length},a.prototype.promise=function(){return this._promise},a.prototype._init=function l(u,c){var h=n(this._values,this._promise);if(h instanceof t){h=h._target();var d=h._bitField;if(this._values=h,d&50397184)if(d&33554432)h=h._value();else return d&16777216?this._reject(h._reason()):this._cancel();else return this._promise._setAsyncGuaranteed(),h._then(l,this._reject,void 0,this,c)}if(h=o.asArray(h),h===null){var f=i("expecting an array or an iterable object but got "+o.classString(h)).reason();this._promise._rejectCallback(f,!1);return}if(h.length===0){c===-5?this._resolveEmptyArray():this._resolve(s(c));return}this._iterate(h)},a.prototype._iterate=function(l){var u=this.getActualLength(l.length);this._length=u,this._values=this.shouldCopyValues()?new Array(u):this._values;for(var c=this._promise,h=!1,d=null,f=0;f<u;++f){var y=n(l[f],c);y instanceof t?(y=y._target(),d=y._bitField):d=null,h?d!==null&&y.suppressUnhandledRejections():d!==null?d&50397184?d&33554432?h=this._promiseFulfilled(y._value(),f):d&16777216?h=this._promiseRejected(y._reason(),f):h=this._promiseCancelled(f):(y._proxy(this,f),this._values[f]=y):h=this._promiseFulfilled(y,f)}h||c._setAsyncGuaranteed()},a.prototype._isResolved=function(){return this._values===null},a.prototype._resolve=function(l){this._values=null,this._promise._fulfill(l)},a.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},a.prototype._reject=function(l){this._values=null,this._promise._rejectCallback(l,!1)},a.prototype._promiseFulfilled=function(l,u){this._values[u]=l;var c=++this._totalResolved;return c>=this._length?(this._resolve(this._values),!0):!1},a.prototype._promiseCancelled=function(){return this._cancel(),!0},a.prototype._promiseRejected=function(l){return this._totalResolved++,this._reject(l),!0},a.prototype._resultCancelled=function(){if(!this._isResolved()){var l=this._values;if(this._cancel(),l instanceof t)l.cancel();else for(var u=0;u<l.length;++u)l[u]instanceof t&&l[u].cancel()}},a.prototype.shouldCopyValues=function(){return!0},a.prototype.getActualLength=function(l){return l},a}),A2}var S2,jF;function XZ(){return jF||(jF=1,S2=function(t){var e=!1,n=[];t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){};function i(){this._trace=new i.CapturedTrace(o())}i.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,n.push(this._trace))},i.prototype._popContext=function(){if(this._trace!==void 0){var s=n.pop(),a=s._promiseCreated;return s._promiseCreated=null,a}return null};function r(){if(e)return new i}function o(){var s=n.length-1;if(s>=0)return n[s]}return i.CapturedTrace=null,i.create=r,i.deactivateLongStackTraces=function(){},i.activateLongStackTraces=function(){var s=t.prototype._pushContext,a=t.prototype._popContext,l=t._peekContext,u=t.prototype._peekContext,c=t.prototype._promiseCreated;i.deactivateLongStackTraces=function(){t.prototype._pushContext=s,t.prototype._popContext=a,t._peekContext=l,t.prototype._peekContext=u,t.prototype._promiseCreated=c,e=!1},e=!0,t.prototype._pushContext=i.prototype._pushContext,t.prototype._popContext=i.prototype._popContext,t._peekContext=t.prototype._peekContext=o,t.prototype._promiseCreated=function(){var h=this._peekContext();h&&h._promiseCreated==null&&(h._promiseCreated=this)}},i}),S2}var D2,XF;function YZ(){return XF||(XF=1,D2=function(t,e){var n=t._getDomain,i=t._async,r=nu().Warning,o=Dt(),s=o.canAttachTrace,a,l,u=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,c=/\((?:timers\.js):\d+:\d+\)/,h=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,d=null,f=null,y=!1,m,v=!!(o.env("BLUEBIRD_DEBUG")!=0&&(o.env("BLUEBIRD_DEBUG")||o.env("NODE_ENV")==="development")),g=!!(o.env("BLUEBIRD_WARNINGS")!=0&&(v||o.env("BLUEBIRD_WARNINGS"))),p=!!(o.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(v||o.env("BLUEBIRD_LONG_STACK_TRACES"))),_=o.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(g||!!o.env("BLUEBIRD_W_FORGOTTEN_RETURN"));t.prototype.suppressUnhandledRejections=function(){var te=this._target();te._bitField=te._bitField&-1048577|524288},t.prototype._ensurePossibleRejectionHandled=function(){this._bitField&524288||(this._setRejectionIsUnhandled(),i.invokeLater(this._notifyUnhandledRejection,this,void 0))},t.prototype._notifyUnhandledRejectionIsHandled=function(){se("rejectionHandled",a,void 0,this)},t.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},t.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},t.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var te=this._settledValue();this._setUnhandledRejectionIsNotified(),se("unhandledRejection",l,te,this)}},t.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},t.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},t.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},t.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},t.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},t.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},t.prototype._warn=function(te,ie,oe){return J(te,ie,oe||this)},t.onPossiblyUnhandledRejection=function(te){var ie=n();l=typeof te=="function"?ie===null?te:o.domainBind(ie,te):void 0},t.onUnhandledRejectionHandled=function(te){var ie=n();a=typeof te=="function"?ie===null?te:o.domainBind(ie,te):void 0};var x=function(){};t.longStackTraces=function(){if(i.haveItemsQueued()&&!ne.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!ne.longStackTraces&&le()){var te=t.prototype._captureStackTrace,ie=t.prototype._attachExtraTrace;ne.longStackTraces=!0,x=function(){if(i.haveItemsQueued()&&!ne.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);t.prototype._captureStackTrace=te,t.prototype._attachExtraTrace=ie,e.deactivateLongStackTraces(),i.enableTrampoline(),ne.longStackTraces=!1},t.prototype._captureStackTrace=q,t.prototype._attachExtraTrace=F,e.activateLongStackTraces(),i.disableTrampolineIfNecessary()}},t.hasLongStackTraces=function(){return ne.longStackTraces&&le()};var T=function(){try{if(typeof CustomEvent=="function"){var te=new CustomEvent("CustomEvent");return o.global.dispatchEvent(te),function(ie,oe){var me=new CustomEvent(ie.toLowerCase(),{detail:oe,cancelable:!0});return!o.global.dispatchEvent(me)}}else if(typeof Event=="function"){var te=new Event("CustomEvent");return o.global.dispatchEvent(te),function(oe,me){var we=new Event(oe.toLowerCase(),{cancelable:!0});return we.detail=me,!o.global.dispatchEvent(we)}}else{var te=document.createEvent("CustomEvent");return te.initCustomEvent("testingtheevent",!1,!0,{}),o.global.dispatchEvent(te),function(oe,me){var we=document.createEvent("CustomEvent");return we.initCustomEvent(oe.toLowerCase(),!1,!0,me),!o.global.dispatchEvent(we)}}}catch{}return function(){return!1}}(),A=function(){return o.isNode?function(){return process.emit.apply(process,arguments)}:o.global?function(te){var ie="on"+te.toLowerCase(),oe=o.global[ie];return oe?(oe.apply(o.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}}();function E(te,ie){return{promise:ie}}var k={promiseCreated:E,promiseFulfilled:E,promiseRejected:E,promiseResolved:E,promiseCancelled:E,promiseChained:function(te,ie,oe){return{promise:ie,child:oe}},warning:function(te,ie){return{warning:ie}},unhandledRejection:function(te,ie,oe){return{reason:ie,promise:oe}},rejectionHandled:E},U=function(te){var ie=!1;try{ie=A.apply(null,arguments)}catch(me){i.throwLater(me),ie=!0}var oe=!1;try{oe=T(te,k[te].apply(null,arguments))}catch(me){i.throwLater(me),oe=!0}return oe||ie};t.config=function(te){if(te=Object(te),"longStackTraces"in te&&(te.longStackTraces?t.longStackTraces():!te.longStackTraces&&t.hasLongStackTraces()&&x()),"warnings"in te){var ie=te.warnings;ne.warnings=!!ie,_=ne.warnings,o.isObject(ie)&&"wForgottenReturn"in ie&&(_=!!ie.wForgottenReturn)}if("cancellation"in te&&te.cancellation&&!ne.cancellation){if(i.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");t.prototype._clearCancellationData=$,t.prototype._propagateFrom=R,t.prototype._onCancel=L,t.prototype._setOnCancel=D,t.prototype._attachCancellationCallback=S,t.prototype._execute=I,z=R,ne.cancellation=!0}return"monitoring"in te&&(te.monitoring&&!ne.monitoring?(ne.monitoring=!0,t.prototype._fireEvent=U):!te.monitoring&&ne.monitoring&&(ne.monitoring=!1,t.prototype._fireEvent=N)),t};function N(){return!1}t.prototype._fireEvent=N,t.prototype._execute=function(te,ie,oe){try{te(ie,oe)}catch(me){return me}},t.prototype._onCancel=function(){},t.prototype._setOnCancel=function(te){},t.prototype._attachCancellationCallback=function(te){},t.prototype._captureStackTrace=function(){},t.prototype._attachExtraTrace=function(){},t.prototype._clearCancellationData=function(){},t.prototype._propagateFrom=function(te,ie){};function I(te,ie,oe){var me=this;try{te(ie,oe,function(we){if(typeof we!="function")throw new TypeError("onCancel must be a function, got: "+o.toString(we));me._attachCancellationCallback(we)})}catch(we){return we}}function S(te){if(!this._isCancellable())return this;var ie=this._onCancel();ie!==void 0?o.isArray(ie)?ie.push(te):this._setOnCancel([ie,te]):this._setOnCancel(te)}function L(){return this._onCancelField}function D(te){this._onCancelField=te}function $(){this._cancellationParent=void 0,this._onCancelField=void 0}function R(te,ie){if(ie&1){this._cancellationParent=te;var oe=te._branchesRemainingToCancel;oe===void 0&&(oe=0),te._branchesRemainingToCancel=oe+1}ie&2&&te._isBound()&&this._setBoundTo(te._boundTo)}function P(te,ie){ie&2&&te._isBound()&&this._setBoundTo(te._boundTo)}var z=P;function M(){var te=this._boundTo;return te!==void 0&&te instanceof t?te.isFulfilled()?te.value():void 0:te}function q(){this._trace=new ue(this._peekContext())}function F(te,ie){if(s(te)){var oe=this._trace;if(oe!==void 0&&ie&&(oe=oe._parent),oe!==void 0)oe.attachExtraTrace(te);else if(!te.__stackCleaned__){var me=ge(te);o.notEnumerableProp(te,"stack",me.message+`
`+me.stack.join(`
`)),o.notEnumerableProp(te,"__stackCleaned__",!0)}}}function O(te,ie,oe,me,we){if(te===void 0&&ie!==null&&_){if(we!==void 0&&we._returnedNonUndefined()||!(me._bitField&65535))return;oe&&(oe=oe+" ");var Ee="",je="";if(ie._trace){for(var De=ie._trace.stack.split(`
`),Xe=re(De),pt=Xe.length-1;pt>=0;--pt){var tt=Xe[pt];if(!c.test(tt)){var Zt=tt.match(h);Zt&&(Ee="at "+Zt[1]+":"+Zt[2]+":"+Zt[3]+" ");break}}if(Xe.length>0){for(var wn=Xe[0],pt=0;pt<De.length;++pt)if(De[pt]===wn){pt>0&&(je=`
`+De[pt-1]);break}}}var sn="a promise was created in a "+oe+"handler "+Ee+"but was not returned from it, see http://goo.gl/rRqMUw"+je;me._warn(sn,!0,ie)}}function W(te,ie){var oe=te+" is deprecated and will be removed in a future version.";return ie&&(oe+=" Use "+ie+" instead."),J(oe)}function J(te,ie,oe){if(ne.warnings){var me=new r(te),we;if(ie)oe._attachExtraTrace(me);else if(ne.longStackTraces&&(we=t._peekContext()))we.attachExtraTrace(me);else{var Ee=ge(me);me.stack=Ee.message+`
`+Ee.stack.join(`
`)}U("warning",me)||ve(me,"",!0)}}function K(te,ie){for(var oe=0;oe<ie.length-1;++oe)ie[oe].push("From previous event:"),ie[oe]=ie[oe].join(`
`);return oe<ie.length&&(ie[oe]=ie[oe].join(`
`)),te+`
`+ie.join(`
`)}function G(te){for(var ie=0;ie<te.length;++ie)(te[ie].length===0||ie+1<te.length&&te[ie][0]===te[ie+1][0])&&(te.splice(ie,1),ie--)}function Z(te){for(var ie=te[0],oe=1;oe<te.length;++oe){for(var me=te[oe],we=ie.length-1,Ee=ie[we],je=-1,De=me.length-1;De>=0;--De)if(me[De]===Ee){je=De;break}for(var De=je;De>=0;--De){var Xe=me[De];if(ie[we]===Xe)ie.pop(),we--;else break}ie=me}}function re(te){for(var ie=[],oe=0;oe<te.length;++oe){var me=te[oe],we=me==="    (No stack trace)"||d.test(me),Ee=we&&de(me);we&&!Ee&&(y&&me.charAt(0)!==" "&&(me="    "+me),ie.push(me))}return ie}function ae(te){for(var ie=te.stack.replace(/\s+$/g,"").split(`
`),oe=0;oe<ie.length;++oe){var me=ie[oe];if(me==="    (No stack trace)"||d.test(me))break}return oe>0&&te.name!="SyntaxError"&&(ie=ie.slice(oe)),ie}function ge(te){var ie=te.stack,oe=te.toString();return ie=typeof ie=="string"&&ie.length>0?ae(te):["    (No stack trace)"],{message:oe,stack:te.name=="SyntaxError"?ie:re(ie)}}function ve(te,ie,oe){if(typeof console<"u"){var me;if(o.isObject(te)){var we=te.stack;me=ie+f(we,te)}else me=ie+String(te);typeof m=="function"?m(me,oe):(typeof console.log=="function"||typeof console.log=="object")&&console.log(me)}}function se(te,ie,oe,me){var we=!1;try{typeof ie=="function"&&(we=!0,te==="rejectionHandled"?ie(me):ie(oe,me))}catch(Ee){i.throwLater(Ee)}te==="unhandledRejection"?!U(te,oe,me)&&!we&&ve(oe,"Unhandled rejection "):U(te,me)}function pe(te){var ie;if(typeof te=="function")ie="[function "+(te.name||"anonymous")+"]";else{ie=te&&typeof te.toString=="function"?te.toString():o.toString(te);var oe=/\[object [a-zA-Z0-9$_]+\]/;if(oe.test(ie))try{var me=JSON.stringify(te);ie=me}catch{}ie.length===0&&(ie="(empty array)")}return"(<"+B(ie)+">, no stack trace)"}function B(te){var ie=41;return te.length<ie?te:te.substr(0,ie-3)+"..."}function le(){return typeof he=="function"}var de=function(){return!1},ee=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function V(te){var ie=te.match(ee);if(ie)return{fileName:ie[1],line:parseInt(ie[2],10)}}function Q(te,ie){if(le()){for(var oe=te.stack.split(`
`),me=ie.stack.split(`
`),we=-1,Ee=-1,je,De,Xe=0;Xe<oe.length;++Xe){var pt=V(oe[Xe]);if(pt){je=pt.fileName,we=pt.line;break}}for(var Xe=0;Xe<me.length;++Xe){var pt=V(me[Xe]);if(pt){De=pt.fileName,Ee=pt.line;break}}we<0||Ee<0||!je||!De||je!==De||we>=Ee||(de=function(tt){if(u.test(tt))return!0;var Zt=V(tt);return!!(Zt&&Zt.fileName===je&&we<=Zt.line&&Zt.line<=Ee)})}}function ue(te){this._parent=te,this._promisesCreated=0;var ie=this._length=1+(te===void 0?0:te._length);he(this,ue),ie>32&&this.uncycle()}o.inherits(ue,Error),e.CapturedTrace=ue,ue.prototype.uncycle=function(){var te=this._length;if(!(te<2)){for(var ie=[],oe={},me=0,we=this;we!==void 0;++me)ie.push(we),we=we._parent;te=this._length=me;for(var me=te-1;me>=0;--me){var Ee=ie[me].stack;oe[Ee]===void 0&&(oe[Ee]=me)}for(var me=0;me<te;++me){var je=ie[me].stack,De=oe[je];if(De!==void 0&&De!==me){De>0&&(ie[De-1]._parent=void 0,ie[De-1]._length=1),ie[me]._parent=void 0,ie[me]._length=1;var Xe=me>0?ie[me-1]:this;De<te-1?(Xe._parent=ie[De+1],Xe._parent.uncycle(),Xe._length=Xe._parent._length+1):(Xe._parent=void 0,Xe._length=1);for(var pt=Xe._length+1,tt=me-2;tt>=0;--tt)ie[tt]._length=pt,pt++;return}}}},ue.prototype.attachExtraTrace=function(te){if(!te.__stackCleaned__){this.uncycle();for(var ie=ge(te),oe=ie.message,me=[ie.stack],we=this;we!==void 0;)me.push(re(we.stack.split(`
`))),we=we._parent;Z(me),G(me),o.notEnumerableProp(te,"stack",K(oe,me)),o.notEnumerableProp(te,"__stackCleaned__",!0)}};var he=function(){var ie=/^\s*at\s*/,oe=function(je,De){return typeof je=="string"?je:De.name!==void 0&&De.message!==void 0?De.toString():pe(De)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,d=ie,f=oe;var me=Error.captureStackTrace;return de=function(je){return u.test(je)},function(je,De){Error.stackTraceLimit+=6,me(je,De),Error.stackTraceLimit-=6}}var we=new Error;if(typeof we.stack=="string"&&we.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return d=/@/,f=oe,y=!0,function(De){De.stack=new Error().stack};var Ee;try{throw new Error}catch(je){Ee="stack"in je}return!("stack"in we)&&Ee&&typeof Error.stackTraceLimit=="number"?(d=ie,f=oe,function(De){Error.stackTraceLimit+=6;try{throw new Error}catch(Xe){De.stack=Xe.stack}Error.stackTraceLimit-=6}):(f=function(je,De){return typeof je=="string"?je:(typeof De=="object"||typeof De=="function")&&De.name!==void 0&&De.message!==void 0?De.toString():pe(De)},null)}();typeof console<"u"&&typeof console.warn<"u"&&(m=function(te){console.warn(te)},o.isNode&&process.stderr.isTTY?m=function(te,ie){var oe=ie?"\x1B[33m":"\x1B[31m";console.warn(oe+te+`\x1B[0m
`)}:!o.isNode&&typeof new Error().stack=="string"&&(m=function(te,ie){console.warn("%c"+te,ie?"color: darkorange":"color: red")}));var ne={warnings:g,longStackTraces:!1,cancellation:!1,monitoring:!1};return p&&t.longStackTraces(),{longStackTraces:function(){return ne.longStackTraces},warnings:function(){return ne.warnings},cancellation:function(){return ne.cancellation},monitoring:function(){return ne.monitoring},propagateFromFunction:function(){return z},boundValueFunction:function(){return M},checkForgottenReturns:O,setBounds:Q,warn:J,deprecated:W,CapturedTrace:ue,fireDomEvent:T,fireGlobalEvent:A}}),D2}var k2,YF;function KZ(){return YF||(YF=1,k2=function(t,e){var n=Dt(),i=t.CancellationError,r=n.errorObj;function o(h,d,f){this.promise=h,this.type=d,this.handler=f,this.called=!1,this.cancelPromise=null}o.prototype.isFinallyHandler=function(){return this.type===0};function s(h){this.finallyHandler=h}s.prototype._resultCancelled=function(){a(this.finallyHandler)};function a(h,d){return h.cancelPromise!=null?(arguments.length>1?h.cancelPromise._reject(d):h.cancelPromise._cancel(),h.cancelPromise=null,!0):!1}function l(){return c.call(this,this.promise._target()._settledValue())}function u(h){if(!a(this,h))return r.e=h,r}function c(h){var d=this.promise,f=this.handler;if(!this.called){this.called=!0;var y=this.isFinallyHandler()?f.call(d._boundValue()):f.call(d._boundValue(),h);if(y!==void 0){d._setReturnedNonUndefined();var m=e(y,d);if(m instanceof t){if(this.cancelPromise!=null)if(m._isCancelled()){var v=new i("late cancellation observer");return d._attachExtraTrace(v),r.e=v,r}else m.isPending()&&m._attachCancellationCallback(new s(this));return m._then(l,u,void 0,this,void 0)}}}return d.isRejected()?(a(this),r.e=h,r):(a(this),h)}return t.prototype._passThrough=function(h,d,f,y){return typeof h!="function"?this.then():this._then(f,y,void 0,new o(this,d,h),void 0)},t.prototype.lastly=t.prototype.finally=function(h){return this._passThrough(h,0,c,c)},t.prototype.tap=function(h){return this._passThrough(h,1,c)},o}),k2}var I2,KF;function JZ(){return KF||(KF=1,I2=function(t){var e=Dt(),n=Jf().keys,i=e.tryCatch,r=e.errorObj;function o(s,a,l){return function(u){var c=l._boundValue();e:for(var h=0;h<s.length;++h){var d=s[h];if(d===Error||d!=null&&d.prototype instanceof Error){if(u instanceof d)return i(a).call(c,u)}else if(typeof d=="function"){var f=i(d).call(c,u);if(f===r)return f;if(f)return i(a).call(c,u)}else if(e.isObject(u)){for(var y=n(d),m=0;m<y.length;++m){var v=y[m];if(d[v]!=u[v])continue e}return i(a).call(c,u)}}return t}}return o}),I2}var F2,JF;function Q8(){if(JF)return F2;JF=1;var t=Dt(),e=t.maybeWrapAsError,n=nu(),i=n.OperationalError,r=Jf();function o(u){return u instanceof Error&&r.getPrototypeOf(u)===Error.prototype}var s=/^(?:name|message|stack|cause)$/;function a(u){var c;if(o(u)){c=new i(u),c.name=u.name,c.message=u.message,c.stack=u.stack;for(var h=r.keys(u),d=0;d<h.length;++d){var f=h[d];s.test(f)||(c[f]=u[f])}return c}return t.markAsOriginatingFromRejection(u),u}function l(u,c){return function(h,d){if(u!==null){if(h){var f=a(e(h));u._attachExtraTrace(f),u._reject(f)}else if(!c)u._fulfill(d);else{for(var y=arguments.length,m=new Array(Math.max(y-1,0)),v=1;v<y;++v)m[v-1]=arguments[v];u._fulfill(m)}u=null}}}return F2=l,F2}var N2,ZF;function ZZ(){return ZF||(ZF=1,N2=function(t,e,n,i,r){var o=Dt(),s=o.tryCatch;t.method=function(a){if(typeof a!="function")throw new t.TypeError("expecting a function but got "+o.classString(a));return function(){var l=new t(e);l._captureStackTrace(),l._pushContext();var u=s(a).apply(this,arguments),c=l._popContext();return r.checkForgottenReturns(u,c,"Promise.method",l),l._resolveFromSyncValue(u),l}},t.attempt=t.try=function(a){if(typeof a!="function")return i("expecting a function but got "+o.classString(a));var l=new t(e);l._captureStackTrace(),l._pushContext();var u;if(arguments.length>1){r.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],h=arguments[2];u=o.isArray(c)?s(a).apply(h,c):s(a).call(h,c)}else u=s(a)();var d=l._popContext();return r.checkForgottenReturns(u,d,"Promise.try",l),l._resolveFromSyncValue(u),l},t.prototype._resolveFromSyncValue=function(a){a===o.errorObj?this._rejectCallback(a.e,!1):this._resolveCallback(a,!0)}}),N2}var R2,QF;function QZ(){return QF||(QF=1,R2=function(t,e,n,i){var r=!1,o=function(u,c){this._reject(c)},s=function(u,c){c.promiseRejectionQueued=!0,c.bindingPromise._then(o,o,null,this,u)},a=function(u,c){this._bitField&50397184||this._resolveCallback(c.target)},l=function(u,c){c.promiseRejectionQueued||this._reject(u)};t.prototype.bind=function(u){r||(r=!0,t.prototype._propagateFrom=i.propagateFromFunction(),t.prototype._boundValue=i.boundValueFunction());var c=n(u),h=new t(e);h._propagateFrom(this,1);var d=this._target();if(h._setBoundTo(c),c instanceof t){var f={promiseRejectionQueued:!1,promise:h,target:d,bindingPromise:c};d._then(e,s,void 0,h,f),c._then(a,l,void 0,h,f),h._setOnCancel(c)}else h._resolveCallback(d);return h},t.prototype._setBoundTo=function(u){u!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=u):this._bitField=this._bitField&-2097153},t.prototype._isBound=function(){return(this._bitField&2097152)===2097152},t.bind=function(u,c){return t.resolve(c).bind(u)}}),R2}var U2,eN;function eQ(){return eN||(eN=1,U2=function(t,e,n,i){var r=Dt(),o=r.tryCatch,s=r.errorObj,a=t._async;t.prototype.break=t.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var l=this,u=l;l._isCancellable();){if(!l._cancelBy(u)){u._isFollowing()?u._followee().cancel():u._cancelBranched();break}var c=l._cancellationParent;if(c==null||!c._isCancellable()){l._isFollowing()?l._followee().cancel():l._cancelBranched();break}else l._isFollowing()&&l._followee().cancel(),l._setWillBeCancelled(),u=l,l=c}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(l){return l===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),a.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(l,u){if(r.isArray(l))for(var c=0;c<l.length;++c)this._doInvokeOnCancel(l[c],u);else if(l!==void 0)if(typeof l=="function"){if(!u){var h=o(l).call(this._boundValue());h===s&&(this._attachExtraTrace(h.e),a.throwLater(h.e))}}else l._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var l=this._onCancel();this._unsetOnCancel(),a.invoke(this._doInvokeOnCancel,this,l)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}),U2}var L2,tN;function tQ(){return tN||(tN=1,L2=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(i){return i instanceof t&&i.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:i},void 0)},t.prototype.throw=t.prototype.thenThrow=function(i){return this._then(n,void 0,void 0,{reason:i},void 0)},t.prototype.catchThrow=function(i){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:i},void 0);var r=arguments[1],o=function(){throw r};return this.caught(i,o)},t.prototype.catchReturn=function(i){if(arguments.length<=1)return i instanceof t&&i.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:i},void 0);var r=arguments[1];r instanceof t&&r.suppressUnhandledRejections();var o=function(){return r};return this.caught(i,o)}}),L2}var P2,nN;function nQ(){return nN||(nN=1,P2=function(t){function e(l){l!==void 0?(l=l._target(),this._bitField=l._bitField,this._settledValueField=l._isFateSealed()?l._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},i=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},r=e.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},o=e.prototype.isRejected=function(){return(this._bitField&16777216)!==0},s=e.prototype.isPending=function(){return(this._bitField&50397184)===0},a=e.prototype.isResolved=function(){return(this._bitField&50331648)!==0};e.prototype.isCancelled=function(){return(this._bitField&8454144)!==0},t.prototype.__isCancelled=function(){return(this._bitField&65536)===65536},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0},t.prototype.isPending=function(){return s.call(this._target())},t.prototype.isRejected=function(){return o.call(this._target())},t.prototype.isFulfilled=function(){return r.call(this._target())},t.prototype.isResolved=function(){return a.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var l=this._target();return l._unsetRejectionIsUnhandled(),i.call(l)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}),P2}var M2,iN;function iQ(){return iN||(iN=1,M2=function(t,e,n,i,r,o){var s=Dt(),a=s.canEvaluate,l=s.tryCatch,u=s.errorObj,c;if(a){for(var h=function(p){return new Function("value","holder",`                             
	            'use strict';                                                    
	            holder.pIndex = value;                                           
	            holder.checkFulfillment(this);                                   
	            `.replace(/Index/g,p))},d=function(p){return new Function("promise","holder",`                           
	            'use strict';                                                    
	            holder.pIndex = promise;                                         
	            `.replace(/Index/g,p))},f=function(p){for(var _=new Array(p),x=0;x<_.length;++x)_[x]="this.p"+(x+1);var T=_.join(" = ")+" = null;",A=`var promise;
`+_.map(function(N){return`                                                         
	                promise = `+N+`;                                      
	                if (promise instanceof Promise) {                            
	                    promise.cancel();                                        
	                }                                                            
	            `}).join(`
`),E=_.join(", "),k="Holder$"+p,U=`return function(tryCatch, errorObj, Promise, async) {    
	            'use strict';                                                    
	            function [TheName](fn) {                                         
	                [TheProperties]                                              
	                this.fn = fn;                                                
	                this.asyncNeeded = true;                                     
	                this.now = 0;                                                
	            }                                                                
	                                                                             
	            [TheName].prototype._callFunction = function(promise) {          
	                promise._pushContext();                                      
	                var ret = tryCatch(this.fn)([ThePassedArguments]);           
	                promise._popContext();                                       
	                if (ret === errorObj) {                                      
	                    promise._rejectCallback(ret.e, false);                   
	                } else {                                                     
	                    promise._resolveCallback(ret);                           
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype.checkFulfillment = function(promise) {       
	                var now = ++this.now;                                        
	                if (now === [TheTotal]) {                                    
	                    if (this.asyncNeeded) {                                  
	                        async.invoke(this._callFunction, this, promise);     
	                    } else {                                                 
	                        this._callFunction(promise);                         
	                    }                                                        
	                                                                             
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype._resultCancelled = function() {              
	                [CancellationCode]                                           
	            };                                                               
	                                                                             
	            return [TheName];                                                
	        }(tryCatch, errorObj, Promise, async);                               
	        `;return U=U.replace(/\[TheName\]/g,k).replace(/\[TheTotal\]/g,p).replace(/\[ThePassedArguments\]/g,E).replace(/\[TheProperties\]/g,T).replace(/\[CancellationCode\]/g,A),new Function("tryCatch","errorObj","Promise","async",U)(l,u,t,r)},y=[],m=[],v=[],g=0;g<8;++g)y.push(f(g+1)),m.push(h(g+1)),v.push(d(g+1));c=function(p){this._reject(p)}}t.join=function(){var p=arguments.length-1,_;if(p>0&&typeof arguments[p]=="function"&&(_=arguments[p],p<=8&&a)){var D=new t(i);D._captureStackTrace();for(var x=y[p-1],T=new x(_),A=m,E=0;E<p;++E){var k=n(arguments[E],D);if(k instanceof t){k=k._target();var U=k._bitField;U&50397184?U&33554432?A[E].call(D,k._value(),T):U&16777216?D._reject(k._reason()):D._cancel():(k._then(A[E],c,void 0,D,T),v[E](k,T),T.asyncNeeded=!1)}else A[E].call(D,k,T)}if(!D._isFateSealed()){if(T.asyncNeeded){var N=o();N!==null&&(T.fn=s.domainBind(N,T.fn))}D._setAsyncGuaranteed(),D._setOnCancel(T)}return D}for(var I=arguments.length,S=new Array(I),L=0;L<I;++L)S[L]=arguments[L];_&&S.pop();var D=new e(S).promise();return _!==void 0?D.spread(_):D}}),M2}var O2,rN;function rQ(){return rN||(rN=1,O2=function(t,e,n,i,r,o){var s=t._getDomain,a=Dt(),l=a.tryCatch,u=a.errorObj,c=t._async;function h(f,y,m,v){this.constructor$(f),this._promise._captureStackTrace();var g=s();this._callback=g===null?y:a.domainBind(g,y),this._preservedValues=v===r?new Array(this.length()):null,this._limit=m,this._inFlight=0,this._queue=[],c.invoke(this._asyncInit,this,void 0)}a.inherits(h,e),h.prototype._asyncInit=function(){this._init$(void 0,-2)},h.prototype._init=function(){},h.prototype._promiseFulfilled=function(f,y){var m=this._values,v=this.length(),g=this._preservedValues,p=this._limit;if(y<0){if(y=y*-1-1,m[y]=f,p>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(p>=1&&this._inFlight>=p)return m[y]=f,this._queue.push(y),!1;g!==null&&(g[y]=f);var _=this._promise,x=this._callback,T=_._boundValue();_._pushContext();var A=l(x).call(T,f,y,v),E=_._popContext();if(o.checkForgottenReturns(A,E,g!==null?"Promise.filter":"Promise.map",_),A===u)return this._reject(A.e),!0;var k=i(A,this._promise);if(k instanceof t){k=k._target();var U=k._bitField;if(U&50397184)if(U&33554432)A=k._value();else return U&16777216?(this._reject(k._reason()),!0):(this._cancel(),!0);else return p>=1&&this._inFlight++,m[y]=k,k._proxy(this,(y+1)*-1),!1}m[y]=A}var N=++this._totalResolved;return N>=v?(g!==null?this._filter(m,g):this._resolve(m),!0):!1},h.prototype._drainQueue=function(){for(var f=this._queue,y=this._limit,m=this._values;f.length>0&&this._inFlight<y;){if(this._isResolved())return;var v=f.pop();this._promiseFulfilled(m[v],v)}},h.prototype._filter=function(f,y){for(var m=y.length,v=new Array(m),g=0,p=0;p<m;++p)f[p]&&(v[g++]=y[p]);v.length=g,this._resolve(v)},h.prototype.preservedValues=function(){return this._preservedValues};function d(f,y,m,v){if(typeof y!="function")return n("expecting a function but got "+a.classString(y));var g=0;if(m!==void 0)if(typeof m=="object"&&m!==null){if(typeof m.concurrency!="number")return t.reject(new TypeError("'concurrency' must be a number but it is "+a.classString(m.concurrency)));g=m.concurrency}else return t.reject(new TypeError("options argument must be an object but it is "+a.classString(m)));return g=typeof g=="number"&&isFinite(g)&&g>=1?g:0,new h(f,y,g,v).promise()}t.prototype.map=function(f,y){return d(this,f,y,null)},t.map=function(f,y,m,v){return d(f,y,m,v)}}),O2}var B2,oN;function oQ(){if(oN)return B2;oN=1;var t=Object.create;if(t){var e=t(null),n=t(null);e[" size"]=n[" size"]=0}return B2=function(i){var r=Dt(),o=r.canEvaluate,s=r.isIdentifier,a,l;{var u=function(v){return new Function("ensureMethod",`                                    
	        return function(obj) {                                               
	            'use strict'                                                     
	            var len = this.length;                                           
	            ensureMethod(obj, 'methodName');                                 
	            switch(len) {                                                    
	                case 1: return obj.methodName(this[0]);                      
	                case 2: return obj.methodName(this[0], this[1]);             
	                case 3: return obj.methodName(this[0], this[1], this[2]);    
	                case 0: return obj.methodName();                             
	                default:                                                     
	                    return obj.methodName.apply(obj, this);                  
	            }                                                                
	        };                                                                   
	        `.replace(/methodName/g,v))(d)},c=function(v){return new Function("obj",`                                             
	        'use strict';                                                        
	        return obj.propertyName;                                             
	        `.replace("propertyName",v))},h=function(v,g,p){var _=p[v];if(typeof _!="function"){if(!s(v))return null;if(_=g(v),p[v]=_,p[" size"]++,p[" size"]>512){for(var x=Object.keys(p),T=0;T<256;++T)delete p[x[T]];p[" size"]=x.length-256}}return _};a=function(v){return h(v,u,e)},l=function(v){return h(v,c,n)}}function d(v,g){var p;if(v!=null&&(p=v[g]),typeof p!="function"){var _="Object "+r.classString(v)+" has no method '"+r.toString(g)+"'";throw new i.TypeError(_)}return p}function f(v){var g=this.pop(),p=d(v,g);return p.apply(v,this)}i.prototype.call=function(v){for(var g=arguments.length,p=new Array(Math.max(g-1,0)),_=1;_<g;++_)p[_-1]=arguments[_];if(o){var x=a(v);if(x!==null)return this._then(x,void 0,void 0,p,void 0)}return p.push(v),this._then(f,void 0,void 0,p,void 0)};function y(v){return v[this]}function m(v){var g=+this;return g<0&&(g=Math.max(0,g+v.length)),v[g]}i.prototype.get=function(v){var g=typeof v=="number",p;if(g)p=m;else if(o){var _=l(v);p=_!==null?_:y}else p=y;return this._then(p,void 0,void 0,v,void 0)}},B2}var q2,sN;function sQ(){return sN||(sN=1,q2=function(t,e,n,i,r,o){var s=Dt(),a=nu().TypeError,l=Dt().inherits,u=s.errorObj,c=s.tryCatch,h={};function d(_){setTimeout(function(){throw _},0)}function f(_){var x=n(_);return x!==_&&typeof _._isDisposable=="function"&&typeof _._getDisposer=="function"&&_._isDisposable()&&x._setDisposable(_._getDisposer()),x}function y(_,x){var T=0,A=_.length,E=new t(r);function k(){if(T>=A)return E._fulfill();var U=f(_[T++]);if(U instanceof t&&U._isDisposable()){try{U=n(U._getDisposer().tryDispose(x),_.promise)}catch(N){return d(N)}if(U instanceof t)return U._then(k,d,null,null,null)}k()}return k(),E}function m(_,x,T){this._data=_,this._promise=x,this._context=T}m.prototype.data=function(){return this._data},m.prototype.promise=function(){return this._promise},m.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():h},m.prototype.tryDispose=function(_){var x=this.resource(),T=this._context;T!==void 0&&T._pushContext();var A=x!==h?this.doDispose(x,_):null;return T!==void 0&&T._popContext(),this._promise._unsetDisposable(),this._data=null,A},m.isDisposer=function(_){return _!=null&&typeof _.resource=="function"&&typeof _.tryDispose=="function"};function v(_,x,T){this.constructor$(_,x,T)}l(v,m),v.prototype.doDispose=function(_,x){var T=this.data();return T.call(_,_,x)};function g(_){return m.isDisposer(_)?(this.resources[this.index]._setDisposable(_),_.promise()):_}function p(_){this.length=_,this.promise=null,this[_-1]=null}p.prototype._resultCancelled=function(){for(var _=this.length,x=0;x<_;++x){var T=this[x];T instanceof t&&T.cancel()}},t.using=function(){var _=arguments.length;if(_<2)return e("you must pass at least 2 arguments to Promise.using");var x=arguments[_-1];if(typeof x!="function")return e("expecting a function but got "+s.classString(x));var T,A=!0;_===2&&Array.isArray(arguments[0])?(T=arguments[0],_=T.length,A=!1):(T=arguments,_--);for(var E=new p(_),k=0;k<_;++k){var U=T[k];if(m.isDisposer(U)){var N=U;U=U.promise(),U._setDisposable(N)}else{var I=n(U);I instanceof t&&(U=I._then(g,null,null,{resources:E,index:k},void 0))}E[k]=U}for(var S=new Array(E.length),k=0;k<S.length;++k)S[k]=t.resolve(E[k]).reflect();var L=t.all(S).then(function($){for(var R=0;R<$.length;++R){var P=$[R];if(P.isRejected())return u.e=P.error(),u;if(!P.isFulfilled()){L.cancel();return}$[R]=P.value()}D._pushContext(),x=c(x);var z=A?x.apply(void 0,$):x($),M=D._popContext();return o.checkForgottenReturns(z,M,"Promise.using",D),z}),D=L.lastly(function(){var $=new t.PromiseInspection(L);return y(E,$)});return E.promise=D,D._setOnCancel(E),D},t.prototype._setDisposable=function(_){this._bitField=this._bitField|131072,this._disposer=_},t.prototype._isDisposable=function(){return(this._bitField&131072)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},t.prototype.disposer=function(_){if(typeof _=="function")return new v(_,this,i());throw new a}}),q2}var W2,aN;function aQ(){return aN||(aN=1,W2=function(t,e,n){var i=Dt(),r=t.TimeoutError;function o(h){this.handle=h}o.prototype._resultCancelled=function(){clearTimeout(this.handle)};var s=function(h){return a(+this).thenReturn(h)},a=t.delay=function(h,d){var f,y;return d!==void 0?(f=t.resolve(d)._then(s,null,null,h,void 0),n.cancellation()&&d instanceof t&&f._setOnCancel(d)):(f=new t(e),y=setTimeout(function(){f._fulfill()},+h),n.cancellation()&&f._setOnCancel(new o(y)),f._captureStackTrace()),f._setAsyncGuaranteed(),f};t.prototype.delay=function(h){return a(h,this)};var l=function(h,d,f){var y;typeof d!="string"?d instanceof Error?y=d:y=new r("operation timed out"):y=new r(d),i.markAsOriginatingFromRejection(y),h._attachExtraTrace(y),h._reject(y),f!=null&&f.cancel()};function u(h){return clearTimeout(this.handle),h}function c(h){throw clearTimeout(this.handle),h}t.prototype.timeout=function(h,d){h=+h;var f,y,m=new o(setTimeout(function(){f.isPending()&&l(f,d,y)},h));return n.cancellation()?(y=this.then(),f=y._then(u,c,void 0,m,void 0),f._setOnCancel(m)):f=this._then(u,c,void 0,m,void 0),f}}),W2}var $2,lN;function lQ(){return lN||(lN=1,$2=function(t,e,n,i,r,o){var s=nu(),a=s.TypeError,l=Dt(),u=l.errorObj,c=l.tryCatch,h=[];function d(y,m,v){for(var g=0;g<m.length;++g){v._pushContext();var p=c(m[g])(y);if(v._popContext(),p===u){v._pushContext();var _=t.reject(u.e);return v._popContext(),_}var x=i(p,v);if(x instanceof t)return x}return null}function f(y,m,v,g){if(o.cancellation()){var p=new t(n),_=this._finallyPromise=new t(n);this._promise=p.lastly(function(){return _}),p._captureStackTrace(),p._setOnCancel(this)}else{var x=this._promise=new t(n);x._captureStackTrace()}this._stack=g,this._generatorFunction=y,this._receiver=m,this._generator=void 0,this._yieldHandlers=typeof v=="function"?[v].concat(h):h,this._yieldedPromise=null,this._cancellationPhase=!1}l.inherits(f,r),f.prototype._isResolved=function(){return this._promise===null},f.prototype._cleanup=function(){this._promise=this._generator=null,o.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},f.prototype._promiseCancelled=function(){if(!this._isResolved()){var y=typeof this._generator.return<"u",m;if(y)this._promise._pushContext(),m=c(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var v=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=v,this._promise._attachExtraTrace(v),this._promise._pushContext(),m=c(this._generator.throw).call(this._generator,v),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(m)}},f.prototype._promiseFulfilled=function(y){this._yieldedPromise=null,this._promise._pushContext();var m=c(this._generator.next).call(this._generator,y);this._promise._popContext(),this._continue(m)},f.prototype._promiseRejected=function(y){this._yieldedPromise=null,this._promise._attachExtraTrace(y),this._promise._pushContext();var m=c(this._generator.throw).call(this._generator,y);this._promise._popContext(),this._continue(m)},f.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var y=this._yieldedPromise;this._yieldedPromise=null,y.cancel()}},f.prototype.promise=function(){return this._promise},f.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},f.prototype._continue=function(y){var m=this._promise;if(y===u)return this._cleanup(),this._cancellationPhase?m.cancel():m._rejectCallback(y.e,!1);var v=y.value;if(y.done===!0)return this._cleanup(),this._cancellationPhase?m.cancel():m._resolveCallback(v);var g=i(v,this._promise);if(!(g instanceof t)&&(g=d(g,this._yieldHandlers,this._promise),g===null)){this._promiseRejected(new a(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",v)+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}g=g._target();var p=g._bitField;p&50397184?p&33554432?t._async.invoke(this._promiseFulfilled,this,g._value()):p&16777216?t._async.invoke(this._promiseRejected,this,g._reason()):this._promiseCancelled():(this._yieldedPromise=g,g._proxy(this,null))},t.coroutine=function(y,m){if(typeof y!="function")throw new a(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var v=Object(m).yieldHandler,g=f,p=new Error().stack;return function(){var _=y.apply(this,arguments),x=new g(void 0,void 0,v,p),T=x.promise();return x._generator=_,x._promiseFulfilled(void 0),T}},t.coroutine.addYieldHandler=function(y){if(typeof y!="function")throw new a("expecting a function but got "+l.classString(y));h.push(y)},t.spawn=function(y){if(o.deprecated("Promise.spawn()","Promise.coroutine()"),typeof y!="function")return e(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var m=new f(y,this),v=m.promise();return m._run(t.spawn),v}}),$2}var z2,uN;function uQ(){return uN||(uN=1,z2=function(t){var e=Dt(),n=t._async,i=e.tryCatch,r=e.errorObj;function o(l,u){var c=this;if(!e.isArray(l))return s.call(c,l,u);var h=i(u).apply(c._boundValue(),[null].concat(l));h===r&&n.throwLater(h.e)}function s(l,u){var c=this,h=c._boundValue(),d=l===void 0?i(u).call(h,null):i(u).call(h,null,l);d===r&&n.throwLater(d.e)}function a(l,u){var c=this;if(!l){var h=new Error(l+"");h.cause=l,l=h}var d=i(u).call(c._boundValue(),l);d===r&&n.throwLater(d.e)}t.prototype.asCallback=t.prototype.nodeify=function(l,u){if(typeof l=="function"){var c=s;u!==void 0&&Object(u).spread&&(c=o),this._then(c,a,void 0,this,l)}return this}}),z2}var H2,cN;function cQ(){return cN||(cN=1,H2=function(t,e){var n={},i=Dt(),r=Q8(),o=i.withAppended,s=i.maybeWrapAsError,a=i.canEvaluate,l=nu().TypeError,u="Async",c={__isPromisified__:!0},h=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],d=new RegExp("^(?:"+h.join("|")+")$"),f=function(L){return i.isIdentifier(L)&&L.charAt(0)!=="_"&&L!=="constructor"};function y(L){return!d.test(L)}function m(L){try{return L.__isPromisified__===!0}catch{return!1}}function v(L,D,$){var R=i.getDataPropertyOrDefault(L,D+$,c);return R?m(R):!1}function g(L,D,$){for(var R=0;R<L.length;R+=2){var P=L[R];if($.test(P)){for(var z=P.replace($,""),M=0;M<L.length;M+=2)if(L[M]===z)throw new l(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",D))}}}function p(L,D,$,R){for(var P=i.inheritedDataKeys(L),z=[],M=0;M<P.length;++M){var q=P[M],F=L[q],O=R===f?!0:f(q);typeof F=="function"&&!m(F)&&!v(L,q,D)&&R(q,F,L,O)&&z.push(q,F)}return g(z,D,$),z}var _=function(L){return L.replace(/([$])/,"\\$")},x;{var T=function(L){for(var D=[L],$=Math.max(0,L-1-3),R=L-1;R>=$;--R)D.push(R);for(var R=L+1;R<=3;++R)D.push(R);return D},A=function(L){return i.filledRange(L,"_arg","")},E=function(L){return i.filledRange(Math.max(L,3),"_arg","")},k=function(L){return typeof L.length=="number"?Math.max(Math.min(L.length,1024),0):0};x=function(L,D,$,R,P,z){var M=Math.max(0,k(R)-1),q=T(M),F=typeof L=="string"||D===n;function O(G){var Z=A(G).join(", "),re=G>0?", ":"",ae;return F?ae=`ret = callback.call(this, {{args}}, nodeback); break;
`:ae=D===void 0?`ret = callback({{args}}, nodeback); break;
`:`ret = callback.call(receiver, {{args}}, nodeback); break;
`,ae.replace("{{args}}",Z).replace(", ",re)}function W(){for(var G="",Z=0;Z<q.length;++Z)G+="case "+q[Z]+":"+O(q[Z]);return G+=`                                                             
	        default:                                                             
	            var args = new Array(len + 1);                                   
	            var i = 0;                                                       
	            for (var i = 0; i < len; ++i) {                                  
	               args[i] = arguments[i];                                       
	            }                                                                
	            args[i] = nodeback;                                              
	            [CodeForCall]                                                    
	            break;                                                           
	        `.replace("[CodeForCall]",F?`ret = callback.apply(this, args);
`:`ret = callback.apply(receiver, args);
`),G}var J=typeof L=="string"?"this != null ? this['"+L+"'] : fn":"fn",K=`'use strict';                                                
	        var ret = function (Parameters) {                                    
	            'use strict';                                                    
	            var len = arguments.length;                                      
	            var promise = new Promise(INTERNAL);                             
	            promise._captureStackTrace();                                    
	            var nodeback = nodebackForPromise(promise, `+z+`);   
	            var ret;                                                         
	            var callback = tryCatch([GetFunctionCode]);                      
	            switch(len) {                                                    
	                [CodeForSwitchCase]                                          
	            }                                                                
	            if (ret === errorObj) {                                          
	                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);
	            }                                                                
	            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     
	            return promise;                                                  
	        };                                                                   
	        notEnumerableProp(ret, '__isPromisified__', true);                   
	        return ret;                                                          
	    `.replace("[CodeForSwitchCase]",W()).replace("[GetFunctionCode]",J);return K=K.replace("Parameters",E(M)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",K)(t,R,D,o,s,r,i.tryCatch,i.errorObj,i.notEnumerableProp,e)}}function U(L,D,$,R,P,z){var M=function(){return this}(),q=L;typeof q=="string"&&(L=R);function F(){var O=D;D===n&&(O=this);var W=new t(e);W._captureStackTrace();var J=typeof q=="string"&&this!==M?this[q]:L,K=r(W,z);try{J.apply(O,o(arguments,K))}catch(G){W._rejectCallback(s(G),!0,!0)}return W._isFateSealed()||W._setAsyncGuaranteed(),W}return i.notEnumerableProp(F,"__isPromisified__",!0),F}var N=a?x:U;function I(L,D,$,R,P){for(var z=new RegExp(_(D)+"$"),M=p(L,D,z,$),q=0,F=M.length;q<F;q+=2){var O=M[q],W=M[q+1],J=O+D;if(R===N)L[J]=N(O,n,O,W,D,P);else{var K=R(W,function(){return N(O,n,O,W,D,P)});i.notEnumerableProp(K,"__isPromisified__",!0),L[J]=K}}return i.toFastProperties(L),L}function S(L,D,$){return N(L,D,void 0,L,null,$)}t.promisify=function(L,D){if(typeof L!="function")throw new l("expecting a function but got "+i.classString(L));if(m(L))return L;D=Object(D);var $=D.context===void 0?n:D.context,R=!!D.multiArgs,P=S(L,$,R);return i.copyDescriptors(L,P,y),P},t.promisifyAll=function(L,D){if(typeof L!="function"&&typeof L!="object")throw new l(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);D=Object(D);var $=!!D.multiArgs,R=D.suffix;typeof R!="string"&&(R=u);var P=D.filter;typeof P!="function"&&(P=f);var z=D.promisifier;if(typeof z!="function"&&(z=N),!i.isIdentifier(R))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var M=i.inheritedDataKeys(L),q=0;q<M.length;++q){var F=L[M[q]];M[q]!=="constructor"&&i.isClass(F)&&(I(F.prototype,R,P,z,$),I(F,R,P,z,$))}return I(L,R,P,z,$)}}),H2}var V2,dN;function dQ(){return dN||(dN=1,V2=function(t,e,n,i){var r=Dt(),o=r.isObject,s=Jf(),a;typeof Map=="function"&&(a=Map);var l=function(){var d=0,f=0;function y(m,v){this[d]=m,this[d+f]=v,d++}return function(v){f=v.size,d=0;var g=new Array(v.size*2);return v.forEach(y,g),g}}(),u=function(d){for(var f=new a,y=d.length/2|0,m=0;m<y;++m){var v=d[y+m],g=d[m];f.set(v,g)}return f};function c(d){var f=!1,y;if(a!==void 0&&d instanceof a)y=l(d),f=!0;else{var m=s.keys(d),v=m.length;y=new Array(v*2);for(var g=0;g<v;++g){var p=m[g];y[g]=d[p],y[g+v]=p}}this.constructor$(y),this._isMap=f,this._init$(void 0,-3)}r.inherits(c,e),c.prototype._init=function(){},c.prototype._promiseFulfilled=function(d,f){this._values[f]=d;var y=++this._totalResolved;if(y>=this._length){var m;if(this._isMap)m=u(this._values);else{m={};for(var v=this.length(),g=0,p=this.length();g<p;++g)m[this._values[g+v]]=this._values[g]}return this._resolve(m),!0}return!1},c.prototype.shouldCopyValues=function(){return!1},c.prototype.getActualLength=function(d){return d>>1};function h(d){var f,y=n(d);if(o(y))y instanceof t?f=y._then(t.props,void 0,void 0,void 0,void 0):f=new c(y).promise();else return i(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return y instanceof t&&f._propagateFrom(y,2),f}t.prototype.props=function(){return h(this)},t.props=function(d){return h(d)}}),V2}var G2,hN;function hQ(){return hN||(hN=1,G2=function(t,e,n,i){var r=Dt(),o=function(a){return a.then(function(l){return s(l,a)})};function s(a,l){var u=n(a);if(u instanceof t)return o(u);if(a=r.asArray(a),a===null)return i("expecting an array or an iterable object but got "+r.classString(a));var c=new t(e);l!==void 0&&c._propagateFrom(l,3);for(var h=c._fulfill,d=c._reject,f=0,y=a.length;f<y;++f){var m=a[f];m===void 0&&!(f in a)||t.cast(m)._then(h,d,void 0,c,null)}return c}t.race=function(a){return s(a,void 0)},t.prototype.race=function(){return s(this,void 0)}}),G2}var j2,fN;function fQ(){return fN||(fN=1,j2=function(t,e,n,i,r,o){var s=t._getDomain,a=Dt(),l=a.tryCatch;function u(y,m,v,g){this.constructor$(y);var p=s();this._fn=p===null?m:a.domainBind(p,m),v!==void 0&&(v=t.resolve(v),v._attachCancellationCallback(this)),this._initialValue=v,this._currentCancellable=null,g===r?this._eachValues=Array(this._length):g===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}a.inherits(u,e),u.prototype._gotAccum=function(y){this._eachValues!==void 0&&this._eachValues!==null&&y!==r&&this._eachValues.push(y)},u.prototype._eachComplete=function(y){return this._eachValues!==null&&this._eachValues.push(y),this._eachValues},u.prototype._init=function(){},u.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},u.prototype.shouldCopyValues=function(){return!1},u.prototype._resolve=function(y){this._promise._resolveCallback(y),this._values=null},u.prototype._resultCancelled=function(y){if(y===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel())},u.prototype._iterate=function(y){this._values=y;var m,v,g=y.length;if(this._initialValue!==void 0?(m=this._initialValue,v=0):(m=t.resolve(y[0]),v=1),this._currentCancellable=m,!m.isRejected())for(;v<g;++v){var p={accum:null,value:y[v],index:v,length:g,array:this};m=m._then(d,void 0,void 0,p,void 0)}this._eachValues!==void 0&&(m=m._then(this._eachComplete,void 0,void 0,this,void 0)),m._then(c,c,void 0,m,this)},t.prototype.reduce=function(y,m){return h(this,y,m,null)},t.reduce=function(y,m,v,g){return h(y,m,v,g)};function c(y,m){this.isFulfilled()?m._resolve(y):m._reject(y)}function h(y,m,v,g){if(typeof m!="function")return n("expecting a function but got "+a.classString(m));var p=new u(y,m,v,g);return p.promise()}function d(y){this.accum=y,this.array._gotAccum(y);var m=i(this.value,this.array._promise);return m instanceof t?(this.array._currentCancellable=m,m._then(f,void 0,void 0,this,void 0)):f.call(this,m)}function f(y){var m=this.array,v=m._promise,g=l(m._fn);v._pushContext();var p;m._eachValues!==void 0?p=g.call(v._boundValue(),y,this.index,this.length):p=g.call(v._boundValue(),this.accum,y,this.index,this.length),p instanceof t&&(m._currentCancellable=p);var _=v._popContext();return o.checkForgottenReturns(p,_,m._eachValues!==void 0?"Promise.each":"Promise.reduce",v),p}}),j2}var X2,pN;function pQ(){return pN||(pN=1,X2=function(t,e,n){var i=t.PromiseInspection,r=Dt();function o(s){this.constructor$(s)}r.inherits(o,e),o.prototype._promiseResolved=function(s,a){this._values[s]=a;var l=++this._totalResolved;return l>=this._length?(this._resolve(this._values),!0):!1},o.prototype._promiseFulfilled=function(s,a){var l=new i;return l._bitField=33554432,l._settledValueField=s,this._promiseResolved(a,l)},o.prototype._promiseRejected=function(s,a){var l=new i;return l._bitField=16777216,l._settledValueField=s,this._promiseResolved(a,l)},t.settle=function(s){return n.deprecated(".settle()",".reflect()"),new o(s).promise()},t.prototype.settle=function(){return t.settle(this)}}),X2}var Y2,gN;function gQ(){return gN||(gN=1,Y2=function(t,e,n){var i=Dt(),r=nu().RangeError,o=nu().AggregateError,s=i.isArray,a={};function l(c){this.constructor$(c),this._howMany=0,this._unwrap=!1,this._initialized=!1}i.inherits(l,e),l.prototype._init=function(){if(this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var c=s(this._values);!this._isResolved()&&c&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},l.prototype.init=function(){this._initialized=!0,this._init()},l.prototype.setUnwrap=function(){this._unwrap=!0},l.prototype.howMany=function(){return this._howMany},l.prototype.setHowMany=function(c){this._howMany=c},l.prototype._promiseFulfilled=function(c){return this._addFulfilled(c),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},l.prototype._promiseRejected=function(c){return this._addRejected(c),this._checkOutcome()},l.prototype._promiseCancelled=function(){return this._values instanceof t||this._values==null?this._cancel():(this._addRejected(a),this._checkOutcome())},l.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var c=new o,h=this.length();h<this._values.length;++h)this._values[h]!==a&&c.push(this._values[h]);return c.length>0?this._reject(c):this._cancel(),!0}return!1},l.prototype._fulfilled=function(){return this._totalResolved},l.prototype._rejected=function(){return this._values.length-this.length()},l.prototype._addRejected=function(c){this._values.push(c)},l.prototype._addFulfilled=function(c){this._values[this._totalResolved++]=c},l.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},l.prototype._getRangeError=function(c){var h="Input array must contain at least "+this._howMany+" items but contains only "+c+" items";return new r(h)},l.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function u(c,h){if((h|0)!==h||h<0)return n(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var d=new l(c),f=d.promise();return d.setHowMany(h),d.init(),f}t.some=function(c,h){return u(c,h)},t.prototype.some=function(c){return u(this,c)},t._SomePromiseArray=l}),Y2}var K2,mN;function mQ(){return mN||(mN=1,K2=function(t,e){var n=t.map;t.prototype.filter=function(i,r){return n(this,i,r,e)},t.filter=function(i,r,o){return n(i,r,o,e)}}),K2}var J2,yN;function yQ(){return yN||(yN=1,J2=function(t,e){var n=t.reduce,i=t.all;function r(){return i(this)}function o(s,a){return n(s,a,e,e)}t.prototype.each=function(s){return n(this,s,e,0)._then(r,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(s){return n(this,s,e,e)},t.each=function(s,a){return n(s,a,e,0)._then(r,void 0,void 0,s,void 0)},t.mapSeries=o}),J2}var Z2,vN;function vQ(){return vN||(vN=1,Z2=function(t){var e=t._SomePromiseArray;function n(i){var r=new e(i),o=r.promise();return r.setHowMany(1),r.setUnwrap(),r.init(),o}t.any=function(i){return n(i)},t.prototype.any=function(){return n(this)}}),Z2}(function(t){t.exports=function(){var e=function(){return new d(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},n=function(){return new S.PromiseInspection(this._target())},i=function(R){return S.reject(new d(R))};function r(){}var o={},s=Dt(),a;s.isNode?a=function(){var R=process.domain;return R===void 0&&(R=null),R}:a=function(){return null},s.notEnumerableProp(S,"_getDomain",a);var l=Jf(),u=VZ(),c=new u;l.defineProperty(S,"_async",{value:c});var h=nu(),d=S.TypeError=h.TypeError;S.RangeError=h.RangeError;var f=S.CancellationError=h.CancellationError;S.TimeoutError=h.TimeoutError,S.OperationalError=h.OperationalError,S.RejectionError=h.OperationalError,S.AggregateError=h.AggregateError;var y=function(){},m={},v={},g=GZ()(S,y),p=jZ()(S,y,g,i,r),_=XZ()(S),x=_.create,T=YZ()(S,_);T.CapturedTrace;var A=KZ()(S,g),E=JZ()(v),k=Q8(),U=s.errorObj,N=s.tryCatch;function I(R,P){if(typeof P!="function")throw new d("expecting a function but got "+s.classString(P));if(R.constructor!==S)throw new d(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`)}function S(R){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,R!==y&&(I(this,R),this._resolveFromExecutor(R)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}S.prototype.toString=function(){return"[object Promise]"},S.prototype.caught=S.prototype.catch=function(R){var P=arguments.length;if(P>1){var z=new Array(P-1),M=0,q;for(q=0;q<P-1;++q){var F=arguments[q];if(s.isObject(F))z[M++]=F;else return i("expecting an object but got A catch statement predicate "+s.classString(F))}return z.length=M,R=arguments[q],this.then(void 0,E(z,R,this))}return this.then(void 0,R)},S.prototype.reflect=function(){return this._then(n,n,void 0,this,void 0)},S.prototype.then=function(R,P){if(T.warnings()&&arguments.length>0&&typeof R!="function"&&typeof P!="function"){var z=".then() only accepts functions but was passed: "+s.classString(R);arguments.length>1&&(z+=", "+s.classString(P)),this._warn(z)}return this._then(R,P,void 0,void 0,void 0)},S.prototype.done=function(R,P){var z=this._then(R,P,void 0,void 0,void 0);z._setIsFinal()},S.prototype.spread=function(R){return typeof R!="function"?i("expecting a function but got "+s.classString(R)):this.all()._then(R,void 0,void 0,m,void 0)},S.prototype.toJSON=function(){var R={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(R.fulfillmentValue=this.value(),R.isFulfilled=!0):this.isRejected()&&(R.rejectionReason=this.reason(),R.isRejected=!0),R},S.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new p(this).promise()},S.prototype.error=function(R){return this.caught(s.originatesFromRejection,R)},S.getNewLibraryCopy=t.exports,S.is=function(R){return R instanceof S},S.fromNode=S.fromCallback=function(R){var P=new S(y);P._captureStackTrace();var z=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,M=N(R)(k(P,z));return M===U&&P._rejectCallback(M.e,!0),P._isFateSealed()||P._setAsyncGuaranteed(),P},S.all=function(R){return new p(R).promise()},S.cast=function(R){var P=g(R);return P instanceof S||(P=new S(y),P._captureStackTrace(),P._setFulfilled(),P._rejectionHandler0=R),P},S.resolve=S.fulfilled=S.cast,S.reject=S.rejected=function(R){var P=new S(y);return P._captureStackTrace(),P._rejectCallback(R,!0),P},S.setScheduler=function(R){if(typeof R!="function")throw new d("expecting a function but got "+s.classString(R));return c.setScheduler(R)},S.prototype._then=function(R,P,z,M,q){var F=q!==void 0,O=F?q:new S(y),W=this._target(),J=W._bitField;F||(O._propagateFrom(this,3),O._captureStackTrace(),M===void 0&&this._bitField&2097152&&(J&50397184?M=this._boundValue():M=W===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,O));var K=a();if(J&50397184){var G,Z,re=W._settlePromiseCtx;J&33554432?(Z=W._rejectionHandler0,G=R):J&16777216?(Z=W._fulfillmentHandler0,G=P,W._unsetRejectionIsUnhandled()):(re=W._settlePromiseLateCancellationObserver,Z=new f("late cancellation observer"),W._attachExtraTrace(Z),G=P),c.invoke(re,W,{handler:K===null?G:typeof G=="function"&&s.domainBind(K,G),promise:O,receiver:M,value:Z})}else W._addCallbacks(R,P,O,M,K);return O},S.prototype._length=function(){return this._bitField&65535},S.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},S.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},S.prototype._setLength=function(R){this._bitField=this._bitField&-65536|R&65535},S.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},S.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},S.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},S.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},S.prototype._isFinal=function(){return(this._bitField&4194304)>0},S.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},S.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},S.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},S.prototype._setAsyncGuaranteed=function(){c.hasCustomScheduler()||(this._bitField=this._bitField|134217728)},S.prototype._receiverAt=function(R){var P=R===0?this._receiver0:this[R*4-4+3];if(P!==o)return P===void 0&&this._isBound()?this._boundValue():P},S.prototype._promiseAt=function(R){return this[R*4-4+2]},S.prototype._fulfillmentHandlerAt=function(R){return this[R*4-4+0]},S.prototype._rejectionHandlerAt=function(R){return this[R*4-4+1]},S.prototype._boundValue=function(){},S.prototype._migrateCallback0=function(R){R._bitField;var P=R._fulfillmentHandler0,z=R._rejectionHandler0,M=R._promise0,q=R._receiverAt(0);q===void 0&&(q=o),this._addCallbacks(P,z,M,q,null)},S.prototype._migrateCallbackAt=function(R,P){var z=R._fulfillmentHandlerAt(P),M=R._rejectionHandlerAt(P),q=R._promiseAt(P),F=R._receiverAt(P);F===void 0&&(F=o),this._addCallbacks(z,M,q,F,null)},S.prototype._addCallbacks=function(R,P,z,M,q){var F=this._length();if(F>=65531&&(F=0,this._setLength(0)),F===0)this._promise0=z,this._receiver0=M,typeof R=="function"&&(this._fulfillmentHandler0=q===null?R:s.domainBind(q,R)),typeof P=="function"&&(this._rejectionHandler0=q===null?P:s.domainBind(q,P));else{var O=F*4-4;this[O+2]=z,this[O+3]=M,typeof R=="function"&&(this[O+0]=q===null?R:s.domainBind(q,R)),typeof P=="function"&&(this[O+1]=q===null?P:s.domainBind(q,P))}return this._setLength(F+1),F},S.prototype._proxy=function(R,P){this._addCallbacks(void 0,void 0,P,R,null)},S.prototype._resolveCallback=function(R,P){if(!(this._bitField&117506048)){if(R===this)return this._rejectCallback(e(),!1);var z=g(R,this);if(!(z instanceof S))return this._fulfill(R);P&&this._propagateFrom(z,2);var M=z._target();if(M===this){this._reject(e());return}var q=M._bitField;if(q&50397184)if(q&33554432)this._fulfill(M._value());else if(q&16777216)this._reject(M._reason());else{var W=new f("late cancellation observer");M._attachExtraTrace(W),this._reject(W)}else{var F=this._length();F>0&&M._migrateCallback0(this);for(var O=1;O<F;++O)M._migrateCallbackAt(this,O);this._setFollowing(),this._setLength(0),this._setFollowee(M)}}},S.prototype._rejectCallback=function(R,P,z){var M=s.ensureErrorObject(R),q=M===R;if(!q&&!z&&T.warnings()){var F="a promise was rejected with a non-error: "+s.classString(R);this._warn(F,!0)}this._attachExtraTrace(M,P?q:!1),this._reject(R)},S.prototype._resolveFromExecutor=function(R){var P=this;this._captureStackTrace(),this._pushContext();var z=!0,M=this._execute(R,function(q){P._resolveCallback(q)},function(q){P._rejectCallback(q,z)});z=!1,this._popContext(),M!==void 0&&P._rejectCallback(M,!0)},S.prototype._settlePromiseFromHandler=function(R,P,z,M){var q=M._bitField;if(!(q&65536)){M._pushContext();var F;P===m?!z||typeof z.length!="number"?(F=U,F.e=new d("cannot .spread() a non-array: "+s.classString(z))):F=N(R).apply(this._boundValue(),z):F=N(R).call(P,z);var O=M._popContext();q=M._bitField,!(q&65536)&&(F===v?M._reject(z):F===U?M._rejectCallback(F.e,!1):(T.checkForgottenReturns(F,O,"",M,this),M._resolveCallback(F)))}},S.prototype._target=function(){for(var R=this;R._isFollowing();)R=R._followee();return R},S.prototype._followee=function(){return this._rejectionHandler0},S.prototype._setFollowee=function(R){this._rejectionHandler0=R},S.prototype._settlePromise=function(R,P,z,M){var q=R instanceof S,F=this._bitField,O=(F&134217728)!==0;F&65536?(q&&R._invokeInternalOnCancel(),z instanceof A&&z.isFinallyHandler()?(z.cancelPromise=R,N(P).call(z,M)===U&&R._reject(U.e)):P===n?R._fulfill(n.call(z)):z instanceof r?z._promiseCancelled(R):q||R instanceof p?R._cancel():z.cancel()):typeof P=="function"?q?(O&&R._setAsyncGuaranteed(),this._settlePromiseFromHandler(P,z,M,R)):P.call(z,M,R):z instanceof r?z._isResolved()||(F&33554432?z._promiseFulfilled(M,R):z._promiseRejected(M,R)):q&&(O&&R._setAsyncGuaranteed(),F&33554432?R._fulfill(M):R._reject(M))},S.prototype._settlePromiseLateCancellationObserver=function(R){var P=R.handler,z=R.promise,M=R.receiver,q=R.value;typeof P=="function"?z instanceof S?this._settlePromiseFromHandler(P,M,q,z):P.call(M,q,z):z instanceof S&&z._reject(q)},S.prototype._settlePromiseCtx=function(R){this._settlePromise(R.promise,R.handler,R.receiver,R.value)},S.prototype._settlePromise0=function(R,P,z){var M=this._promise0,q=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(M,R,q,P)},S.prototype._clearCallbackDataAtIndex=function(R){var P=R*4-4;this[P+2]=this[P+3]=this[P+0]=this[P+1]=void 0},S.prototype._fulfill=function(R){var P=this._bitField;if(!((P&117506048)>>>16)){if(R===this){var z=e();return this._attachExtraTrace(z),this._reject(z)}this._setFulfilled(),this._rejectionHandler0=R,(P&65535)>0&&(P&134217728?this._settlePromises():c.settlePromises(this))}},S.prototype._reject=function(R){var P=this._bitField;if(!((P&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=R,this._isFinal())return c.fatalError(R,s.isNode);(P&65535)>0?c.settlePromises(this):this._ensurePossibleRejectionHandled()}},S.prototype._fulfillPromises=function(R,P){for(var z=1;z<R;z++){var M=this._fulfillmentHandlerAt(z),q=this._promiseAt(z),F=this._receiverAt(z);this._clearCallbackDataAtIndex(z),this._settlePromise(q,M,F,P)}},S.prototype._rejectPromises=function(R,P){for(var z=1;z<R;z++){var M=this._rejectionHandlerAt(z),q=this._promiseAt(z),F=this._receiverAt(z);this._clearCallbackDataAtIndex(z),this._settlePromise(q,M,F,P)}},S.prototype._settlePromises=function(){var R=this._bitField,P=R&65535;if(P>0){if(R&16842752){var z=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,z,R),this._rejectPromises(P,z)}else{var M=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,M,R),this._fulfillPromises(P,M)}this._setLength(0)}this._clearCancellationData()},S.prototype._settledValue=function(){var R=this._bitField;if(R&33554432)return this._rejectionHandler0;if(R&16777216)return this._fulfillmentHandler0};function L(R){this.promise._resolveCallback(R)}function D(R){this.promise._rejectCallback(R,!1)}S.defer=S.pending=function(){T.deprecated("Promise.defer","new Promise");var R=new S(y);return{promise:R,resolve:L,reject:D}},s.notEnumerableProp(S,"_makeSelfResolutionError",e),ZZ()(S,y,g,i,T),QZ()(S,y,g,T),eQ()(S,p,i,T),tQ()(S),nQ()(S),iQ()(S,p,g,y,c,a),S.Promise=S,S.version="3.4.7",rQ()(S,p,i,g,y,T),oQ()(S),sQ()(S,i,g,x,y,T),aQ()(S,y,T),lQ()(S,i,y,g,r,T),uQ()(S),cQ()(S,y),dQ()(S,p,g,i),hQ()(S,y,g,i),fQ()(S,p,i,g,y,T),pQ()(S,p,T),gQ()(S,p,i),mQ()(S,y),yQ()(S,y),vQ()(S),s.toFastProperties(S),s.toFastProperties(S.prototype);function $(R){var P=new S(y);P._fulfillmentHandler0=R,P._rejectionHandler0=R,P._promise0=R,P._receiver0=R}return $({a:1}),$({b:2}),$({c:3}),$(1),$(function(){}),$(void 0),$(!1),$(new S(y)),T.setBounds(u.firstLineError,s.lastLineError),S}})(Z8);var bQ=Z8.exports,_Q=on,tr=bQ();Nn.defer=xQ;Nn.when=tr.resolve;Nn.resolve=tr.resolve;Nn.all=tr.all;Nn.props=tr.props;Nn.reject=tr.reject;Nn.promisify=tr.promisify;Nn.mapSeries=tr.mapSeries;Nn.attempt=tr.attempt;Nn.nfcall=function(t){var e=Array.prototype.slice.call(arguments,1),n=tr.promisify(t);return n.apply(null,e)};tr.prototype.fail=tr.prototype.caught;tr.prototype.also=function(t){return this.then(function(e){var n=_Q.extend({},e,t(e));return tr.props(n)})};function xQ(){var t,e,n=new tr.Promise(function(i,r){t=i,e=r});return{resolve:t,reject:e,promise:n}}var st={},wQ=on,Hn=st.types={document:"document",paragraph:"paragraph",run:"run",text:"text",tab:"tab",checkbox:"checkbox",hyperlink:"hyperlink",noteReference:"noteReference",image:"image",note:"note",commentReference:"commentReference",comment:"comment",table:"table",tableRow:"tableRow",tableCell:"tableCell",break:"break",bookmarkStart:"bookmarkStart"};function TQ(t,e){return e=e||{},{type:Hn.document,children:t,notes:e.notes||new k_({}),comments:e.comments||[]}}function CQ(t,e){e=e||{};var n=e.indent||{};return{type:Hn.paragraph,children:t,styleId:e.styleId||null,styleName:e.styleName||null,numbering:e.numbering||null,alignment:e.alignment||null,indent:{start:n.start||null,end:n.end||null,firstLine:n.firstLine||null,hanging:n.hanging||null}}}function EQ(t,e){return e=e||{},{type:Hn.run,children:t,styleId:e.styleId||null,styleName:e.styleName||null,isBold:!!e.isBold,isUnderline:!!e.isUnderline,isItalic:!!e.isItalic,isStrikethrough:!!e.isStrikethrough,isAllCaps:!!e.isAllCaps,isSmallCaps:!!e.isSmallCaps,verticalAlignment:e.verticalAlignment||e6.baseline,font:e.font||null,fontSize:e.fontSize||null,highlight:e.highlight||null}}var e6={baseline:"baseline",superscript:"superscript",subscript:"subscript"};function AQ(t){return{type:Hn.text,value:t}}function SQ(){return{type:Hn.tab}}function DQ(t){return{type:Hn.checkbox,checked:t.checked}}function kQ(t,e){return{type:Hn.hyperlink,children:t,href:e.href,anchor:e.anchor,targetFrame:e.targetFrame}}function IQ(t){return{type:Hn.noteReference,noteType:t.noteType,noteId:t.noteId}}function k_(t){this._notes=wQ.indexBy(t,function(e){return t6(e.noteType,e.noteId)})}k_.prototype.resolve=function(t){return this.findNoteByKey(t6(t.noteType,t.noteId))};k_.prototype.findNoteByKey=function(t){return this._notes[t]||null};function FQ(t){return{type:Hn.note,noteType:t.noteType,noteId:t.noteId,body:t.body}}function NQ(t){return{type:Hn.commentReference,commentId:t.commentId}}function RQ(t){return{type:Hn.comment,commentId:t.commentId,body:t.body,authorName:t.authorName,authorInitials:t.authorInitials}}function t6(t,e){return t+"-"+e}function UQ(t){return{type:Hn.image,read:function(e){return e?t.readImage(e):t.readImage().then(function(n){return Buffer.from(n)})},readAsArrayBuffer:function(){return t.readImage()},readAsBase64String:function(){return t.readImage("base64")},readAsBuffer:function(){return t.readImage().then(function(e){return Buffer.from(e)})},altText:t.altText,contentType:t.contentType}}function LQ(t,e){return e=e||{},{type:Hn.table,children:t,styleId:e.styleId||null,styleName:e.styleName||null}}function PQ(t,e){return e=e||{},{type:Hn.tableRow,children:t,isHeader:e.isHeader||!1}}function MQ(t,e){return e=e||{},{type:Hn.tableCell,children:t,colSpan:e.colSpan==null?1:e.colSpan,rowSpan:e.rowSpan==null?1:e.rowSpan}}function eD(t){return{type:Hn.break,breakType:t}}function OQ(t){return{type:Hn.bookmarkStart,name:t.name}}st.document=st.Document=TQ;st.paragraph=st.Paragraph=CQ;st.run=st.Run=EQ;st.text=st.Text=AQ;st.tab=st.Tab=SQ;st.checkbox=st.Checkbox=DQ;st.Hyperlink=kQ;st.noteReference=st.NoteReference=IQ;st.Notes=k_;st.Note=FQ;st.commentReference=NQ;st.comment=RQ;st.Image=UQ;st.Table=LQ;st.TableRow=PQ;st.TableCell=MQ;st.lineBreak=eD("line");st.pageBreak=eD("page");st.columnBreak=eD("column");st.BookmarkStart=OQ;st.verticalAlignment=e6;var Nr={},nm=on;Nr.Result=xs;Nr.success=BQ;Nr.warning=qQ;Nr.error=WQ;function xs(t,e){this.value=t,this.messages=e||[]}xs.prototype.map=function(t){return new xs(t(this.value),this.messages)};xs.prototype.flatMap=function(t){var e=t(this.value);return new xs(e.value,tD([this,e]))};xs.prototype.flatMapThen=function(t){var e=this;return t(this.value).then(function(n){return new xs(n.value,tD([e,n]))})};xs.combine=function(t){var e=nm.flatten(nm.pluck(t,"value")),n=tD(t);return new xs(e,n)};function BQ(t){return new xs(t,[])}function qQ(t){return{type:"warning",message:t}}function WQ(t){return{type:"error",message:t.message,error:t}}function tD(t){var e=[];return nm.flatten(nm.pluck(t,"messages"),!0).forEach(function(n){$Q(e,n)||e.push(n)}),e}function $Q(t,e){return nm.find(t,zQ.bind(null,e))!==void 0}function zQ(t,e){return t.type===e.type&&t.message===e.message}var ev={},I_={};I_.byteLength=GQ;I_.toByteArray=XQ;I_.fromByteArray=JQ;var ps=[],Pr=[],HQ=typeof Uint8Array<"u"?Uint8Array:Array,Q2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var vd=0,VQ=Q2.length;vd<VQ;++vd)ps[vd]=Q2[vd],Pr[Q2.charCodeAt(vd)]=vd;Pr[45]=62;Pr[95]=63;function n6(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var i=n===e?0:4-n%4;return[n,i]}function GQ(t){var e=n6(t),n=e[0],i=e[1];return(n+i)*3/4-i}function jQ(t,e,n){return(e+n)*3/4-n}function XQ(t){var e,n=n6(t),i=n[0],r=n[1],o=new HQ(jQ(t,i,r)),s=0,a=r>0?i-4:i,l;for(l=0;l<a;l+=4)e=Pr[t.charCodeAt(l)]<<18|Pr[t.charCodeAt(l+1)]<<12|Pr[t.charCodeAt(l+2)]<<6|Pr[t.charCodeAt(l+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return r===2&&(e=Pr[t.charCodeAt(l)]<<2|Pr[t.charCodeAt(l+1)]>>4,o[s++]=e&255),r===1&&(e=Pr[t.charCodeAt(l)]<<10|Pr[t.charCodeAt(l+1)]<<4|Pr[t.charCodeAt(l+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function YQ(t){return ps[t>>18&63]+ps[t>>12&63]+ps[t>>6&63]+ps[t&63]}function KQ(t,e,n){for(var i,r=[],o=e;o<n;o+=3)i=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),r.push(YQ(i));return r.join("")}function JQ(t){for(var e,n=t.length,i=n%3,r=[],o=16383,s=0,a=n-i;s<a;s+=o)r.push(KQ(t,s,s+o>a?a:s+o));return i===1?(e=t[n-1],r.push(ps[e>>2]+ps[e<<4&63]+"==")):i===2&&(e=(t[n-2]<<8)+t[n-1],r.push(ps[e>>10]+ps[e>>4&63]+ps[e<<2&63]+"=")),r.join("")}function Bv(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var i6={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(i,r,o){function s(u,c){if(!r[u]){if(!i[u]){var h=typeof Bv=="function"&&Bv;if(!c&&h)return h(u,!0);if(a)return a(u,!0);var d=new Error("Cannot find module '"+u+"'");throw d.code="MODULE_NOT_FOUND",d}var f=r[u]={exports:{}};i[u][0].call(f.exports,function(y){var m=i[u][1][y];return s(m||y)},f,f.exports,n,i,r,o)}return r[u].exports}for(var a=typeof Bv=="function"&&Bv,l=0;l<o.length;l++)s(o[l]);return s}({1:[function(n,i,r){var o=n("./utils"),s=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(l){for(var u,c,h,d,f,y,m,v=[],g=0,p=l.length,_=p,x=o.getTypeOf(l)!=="string";g<l.length;)_=p-g,h=x?(u=l[g++],c=g<p?l[g++]:0,g<p?l[g++]:0):(u=l.charCodeAt(g++),c=g<p?l.charCodeAt(g++):0,g<p?l.charCodeAt(g++):0),d=u>>2,f=(3&u)<<4|c>>4,y=1<_?(15&c)<<2|h>>6:64,m=2<_?63&h:64,v.push(a.charAt(d)+a.charAt(f)+a.charAt(y)+a.charAt(m));return v.join("")},r.decode=function(l){var u,c,h,d,f,y,m=0,v=0,g="data:";if(l.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var p,_=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&_--,l.charAt(l.length-2)===a.charAt(64)&&_--,_%1!=0)throw new Error("Invalid base64 input, bad content length.");for(p=s.uint8array?new Uint8Array(0|_):new Array(0|_);m<l.length;)u=a.indexOf(l.charAt(m++))<<2|(d=a.indexOf(l.charAt(m++)))>>4,c=(15&d)<<4|(f=a.indexOf(l.charAt(m++)))>>2,h=(3&f)<<6|(y=a.indexOf(l.charAt(m++))),p[v++]=u,f!==64&&(p[v++]=c),y!==64&&(p[v++]=h);return p}},{"./support":30,"./utils":32}],2:[function(n,i,r){var o=n("./external"),s=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function u(c,h,d,f,y){this.compressedSize=c,this.uncompressedSize=h,this.crc32=d,this.compression=f,this.compressedContent=y}u.prototype={getContentWorker:function(){var c=new s(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),h=this;return c.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new s(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(c,h,d){return c.pipe(new a).pipe(new l("uncompressedSize")).pipe(h.compressWorker(d)).pipe(new l("compressedSize")).withStreamInfo("compression",h)},i.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,i,r){var o=n("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},r.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,i,r){var o=n("./utils"),s=function(){for(var a,l=[],u=0;u<256;u++){a=u;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;l[u]=a}return l}();i.exports=function(a,l){return a!==void 0&&a.length?o.getTypeOf(a)!=="string"?function(u,c,h,d){var f=s,y=d+h;u^=-1;for(var m=d;m<y;m++)u=u>>>8^f[255&(u^c[m])];return-1^u}(0|l,a,a.length,0):function(u,c,h,d){var f=s,y=d+h;u^=-1;for(var m=d;m<y;m++)u=u>>>8^f[255&(u^c.charCodeAt(m))];return-1^u}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(n,i,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(n,i,r){var o=null;o=typeof Promise<"u"?Promise:n("lie"),i.exports={Promise:o}},{lie:37}],7:[function(n,i,r){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),a=n("./utils"),l=n("./stream/GenericWorker"),u=o?"uint8array":"array";function c(h,d){l.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=d,this.meta={}}r.magic="\b\0",a.inherits(c,l),c.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,h.data),!1)},c.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(d){h.push({data:d,meta:h.meta})}},r.compressWorker=function(h){return new c("Deflate",h)},r.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,i,r){function o(f,y){var m,v="";for(m=0;m<y;m++)v+=String.fromCharCode(255&f),f>>>=8;return v}function s(f,y,m,v,g,p){var _,x,T=f.file,A=f.compression,E=p!==u.utf8encode,k=a.transformTo("string",p(T.name)),U=a.transformTo("string",u.utf8encode(T.name)),N=T.comment,I=a.transformTo("string",p(N)),S=a.transformTo("string",u.utf8encode(N)),L=U.length!==T.name.length,D=S.length!==N.length,$="",R="",P="",z=T.dir,M=T.date,q={crc32:0,compressedSize:0,uncompressedSize:0};y&&!m||(q.crc32=f.crc32,q.compressedSize=f.compressedSize,q.uncompressedSize=f.uncompressedSize);var F=0;y&&(F|=8),E||!L&&!D||(F|=2048);var O=0,W=0;z&&(O|=16),g==="UNIX"?(W=798,O|=function(K,G){var Z=K;return K||(Z=G?16893:33204),(65535&Z)<<16}(T.unixPermissions,z)):(W=20,O|=function(K){return 63&(K||0)}(T.dosPermissions)),_=M.getUTCHours(),_<<=6,_|=M.getUTCMinutes(),_<<=5,_|=M.getUTCSeconds()/2,x=M.getUTCFullYear()-1980,x<<=4,x|=M.getUTCMonth()+1,x<<=5,x|=M.getUTCDate(),L&&(R=o(1,1)+o(c(k),4)+U,$+="up"+o(R.length,2)+R),D&&(P=o(1,1)+o(c(I),4)+S,$+="uc"+o(P.length,2)+P);var J="";return J+=`
\0`,J+=o(F,2),J+=A.magic,J+=o(_,2),J+=o(x,2),J+=o(q.crc32,4),J+=o(q.compressedSize,4),J+=o(q.uncompressedSize,4),J+=o(k.length,2),J+=o($.length,2),{fileRecord:h.LOCAL_FILE_HEADER+J+k+$,dirRecord:h.CENTRAL_FILE_HEADER+o(W,2)+J+o(I.length,2)+"\0\0\0\0"+o(O,4)+o(v,4)+k+$+I}}var a=n("../utils"),l=n("../stream/GenericWorker"),u=n("../utf8"),c=n("../crc32"),h=n("../signature");function d(f,y,m,v){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=m,this.encodeFileName=v,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(d,l),d.prototype.push=function(f){var y=f.meta.percent||0,m=this.entriesCount,v=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,l.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:m?(y+100*(m-v-1))/m:100}}))},d.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var y=this.streamFiles&&!f.file.dir;if(y){var m=s(f,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(f){this.accumulate=!1;var y=this.streamFiles&&!f.file.dir,m=s(f,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),y)this.push({data:function(v){return h.DATA_DESCRIPTOR+o(v.crc32,4)+o(v.compressedSize,4)+o(v.uncompressedSize,4)}(f),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var f=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var m=this.bytesWritten-f,v=function(g,p,_,x,T){var A=a.transformTo("string",T(x));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(g,2)+o(g,2)+o(p,4)+o(_,4)+o(A.length,2)+A}(this.dirRecords.length,m,f,this.zipComment,this.encodeFileName);this.push({data:v,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(f){this._sources.push(f);var y=this;return f.on("data",function(m){y.processChunk(m)}),f.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),f.on("error",function(m){y.error(m)}),this},d.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(f){var y=this._sources;if(!l.prototype.error.call(this,f))return!1;for(var m=0;m<y.length;m++)try{y[m].error(f)}catch{}return!0},d.prototype.lock=function(){l.prototype.lock.call(this);for(var f=this._sources,y=0;y<f.length;y++)f[y].lock()},i.exports=d},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,i,r){var o=n("../compressions"),s=n("./ZipFileWorker");r.generateWorker=function(a,l,u){var c=new s(l.streamFiles,u,l.platform,l.encodeFileName),h=0;try{a.forEach(function(d,f){h++;var y=function(p,_){var x=p||_,T=o[x];if(!T)throw new Error(x+" is not a valid compression method !");return T}(f.options.compression,l.compression),m=f.options.compressionOptions||l.compressionOptions||{},v=f.dir,g=f.date;f._compressWorker(y,m).withStreamInfo("file",{name:d,dir:v,date:g,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(c)}),c.entriesCount=h}catch(d){c.error(d)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,i,r){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new o;for(var a in this)typeof this[a]!="function"&&(s[a]=this[a]);return s}}(o.prototype=n("./object")).loadAsync=n("./load"),o.support=n("./support"),o.defaults=n("./defaults"),o.version="3.10.1",o.loadAsync=function(s,a){return new o().loadAsync(s,a)},o.external=n("./external"),i.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,i,r){var o=n("./utils"),s=n("./external"),a=n("./utf8"),l=n("./zipEntries"),u=n("./stream/Crc32Probe"),c=n("./nodejsUtils");function h(d){return new s.Promise(function(f,y){var m=d.decompressed.getContentWorker().pipe(new u);m.on("error",function(v){y(v)}).on("end",function(){m.streamInfo.crc32!==d.decompressed.crc32?y(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}i.exports=function(d,f){var y=this;return f=o.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),c.isNode&&c.isStream(d)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",d,!0,f.optimizedBinaryString,f.base64).then(function(m){var v=new l(f);return v.load(m),v}).then(function(m){var v=[s.Promise.resolve(m)],g=m.files;if(f.checkCRC32)for(var p=0;p<g.length;p++)v.push(h(g[p]));return s.Promise.all(v)}).then(function(m){for(var v=m.shift(),g=v.files,p=0;p<g.length;p++){var _=g[p],x=_.fileNameStr,T=o.resolve(_.fileNameStr);y.file(T,_.decompressed,{binary:!0,optimizedBinaryString:!0,date:_.date,dir:_.dir,comment:_.fileCommentStr.length?_.fileCommentStr:null,unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions,createFolders:f.createFolders}),_.dir||(y.file(T).unsafeOriginalName=x)}return v.zipComment.length&&(y.comment=v.zipComment),y})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,i,r){var o=n("../utils"),s=n("../stream/GenericWorker");function a(l,u){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}o.inherits(a,s),a.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(c){u.push({data:c,meta:{percent:0}})}).on("error",function(c){u.isPaused?this.generatedError=c:u.error(c)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,i,r){var o=n("readable-stream").Readable;function s(a,l,u){o.call(this,l),this._helper=a;var c=this;a.on("data",function(h,d){c.push(h)||c._helper.pause(),u&&u(d)}).on("error",function(h){c.emit("error",h)}).on("end",function(){c.push(null)})}n("../utils").inherits(s,o),s.prototype._read=function(){this._helper.resume()},i.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,i,r){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,s);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,s)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var s=new Buffer(o);return s.fill(0),s},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(n,i,r){function o(T,A,E){var k,U=a.getTypeOf(A),N=a.extend(E||{},c);N.date=N.date||new Date,N.compression!==null&&(N.compression=N.compression.toUpperCase()),typeof N.unixPermissions=="string"&&(N.unixPermissions=parseInt(N.unixPermissions,8)),N.unixPermissions&&16384&N.unixPermissions&&(N.dir=!0),N.dosPermissions&&16&N.dosPermissions&&(N.dir=!0),N.dir&&(T=g(T)),N.createFolders&&(k=v(T))&&p.call(this,k,!0);var I=U==="string"&&N.binary===!1&&N.base64===!1;E&&E.binary!==void 0||(N.binary=!I),(A instanceof h&&A.uncompressedSize===0||N.dir||!A||A.length===0)&&(N.base64=!1,N.binary=!0,A="",N.compression="STORE",U="string");var S=null;S=A instanceof h||A instanceof l?A:y.isNode&&y.isStream(A)?new m(T,A):a.prepareContent(T,A,N.binary,N.optimizedBinaryString,N.base64);var L=new d(T,S,N);this.files[T]=L}var s=n("./utf8"),a=n("./utils"),l=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),c=n("./defaults"),h=n("./compressedObject"),d=n("./zipObject"),f=n("./generate"),y=n("./nodejsUtils"),m=n("./nodejs/NodejsStreamInputAdapter"),v=function(T){T.slice(-1)==="/"&&(T=T.substring(0,T.length-1));var A=T.lastIndexOf("/");return 0<A?T.substring(0,A):""},g=function(T){return T.slice(-1)!=="/"&&(T+="/"),T},p=function(T,A){return A=A!==void 0?A:c.createFolders,T=g(T),this.files[T]||o.call(this,T,null,{dir:!0,createFolders:A}),this.files[T]};function _(T){return Object.prototype.toString.call(T)==="[object RegExp]"}var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(T){var A,E,k;for(A in this.files)k=this.files[A],(E=A.slice(this.root.length,A.length))&&A.slice(0,this.root.length)===this.root&&T(E,k)},filter:function(T){var A=[];return this.forEach(function(E,k){T(E,k)&&A.push(k)}),A},file:function(T,A,E){if(arguments.length!==1)return T=this.root+T,o.call(this,T,A,E),this;if(_(T)){var k=T;return this.filter(function(N,I){return!I.dir&&k.test(N)})}var U=this.files[this.root+T];return U&&!U.dir?U:null},folder:function(T){if(!T)return this;if(_(T))return this.filter(function(U,N){return N.dir&&T.test(U)});var A=this.root+T,E=p.call(this,A),k=this.clone();return k.root=E.name,k},remove:function(T){T=this.root+T;var A=this.files[T];if(A||(T.slice(-1)!=="/"&&(T+="/"),A=this.files[T]),A&&!A.dir)delete this.files[T];else for(var E=this.filter(function(U,N){return N.name.slice(0,T.length)===T}),k=0;k<E.length;k++)delete this.files[E[k].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(T){var A,E={};try{if((E=a.extend(T||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=E.type.toLowerCase(),E.compression=E.compression.toUpperCase(),E.type==="binarystring"&&(E.type="string"),!E.type)throw new Error("No output type specified.");a.checkSupport(E.type),E.platform!=="darwin"&&E.platform!=="freebsd"&&E.platform!=="linux"&&E.platform!=="sunos"||(E.platform="UNIX"),E.platform==="win32"&&(E.platform="DOS");var k=E.comment||this.comment||"";A=f.generateWorker(this,E,k)}catch(U){(A=new l("error")).error(U)}return new u(A,E.type||"string",E.mimeType)},generateAsync:function(T,A){return this.generateInternalStream(T).accumulate(A)},generateNodeStream:function(T,A){return(T=T||{}).type||(T.type="nodebuffer"),this.generateInternalStream(T).toNodejsStream(A)}};i.exports=x},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,i,r){i.exports=n("stream")},{stream:void 0}],17:[function(n,i,r){var o=n("./DataReader");function s(a){o.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}n("../utils").inherits(s,o),s.prototype.byteAt=function(a){return this.data[this.zero+a]},s.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),h=a.charCodeAt(3),d=this.length-4;0<=d;--d)if(this.data[d]===l&&this.data[d+1]===u&&this.data[d+2]===c&&this.data[d+3]===h)return d-this.zero;return-1},s.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),u=a.charCodeAt(1),c=a.charCodeAt(2),h=a.charCodeAt(3),d=this.readData(4);return l===d[0]&&u===d[1]&&c===d[2]&&h===d[3]},s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},i.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,i,r){var o=n("../utils");function s(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,u=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=a,u},readString:function(a){return o.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},i.exports=s},{"../utils":32}],19:[function(n,i,r){var o=n("./Uint8ArrayReader");function s(a){o.call(this,a)}n("../utils").inherits(s,o),s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},i.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,i,r){var o=n("./DataReader");function s(a){o.call(this,a)}n("../utils").inherits(s,o),s.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},s.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},s.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},i.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,i,r){var o=n("./ArrayReader");function s(a){o.call(this,a)}n("../utils").inherits(s,o),s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},i.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,i,r){var o=n("../utils"),s=n("../support"),a=n("./ArrayReader"),l=n("./StringReader"),u=n("./NodeBufferReader"),c=n("./Uint8ArrayReader");i.exports=function(h){var d=o.getTypeOf(h);return o.checkSupport(d),d!=="string"||s.uint8array?d==="nodebuffer"?new u(h):s.uint8array?new c(o.transformTo("uint8array",h)):new a(o.transformTo("array",h)):new l(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,i,r){r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,i,r){var o=n("./GenericWorker"),s=n("../utils");function a(l){o.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(a,o),a.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},i.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,i,r){var o=n("./GenericWorker"),s=n("../crc32");function a(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,o),a.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},i.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,i,r){var o=n("../utils"),s=n("./GenericWorker");function a(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}o.inherits(a,s),a.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}s.prototype.processChunk.call(this,l)},i.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,i,r){var o=n("../utils"),s=n("./GenericWorker");function a(l){s.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(c){u.dataIsReady=!0,u.data=c,u.max=c&&c.length||0,u.type=o.getTypeOf(c),u.isPaused||u._tickAndRepeat()},function(c){u.error(c)})}o.inherits(a,s),a.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,i,r){function o(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,a){return this._listeners[s].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,a){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,a)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var a=this;return s.on("data",function(l){a.processChunk(l)}),s.on("end",function(){a.end()}),s.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,a){return this.extraStreamInfo[s]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},i.exports=o},{}],29:[function(n,i,r){var o=n("../utils"),s=n("./ConvertWorker"),a=n("./GenericWorker"),l=n("../base64"),u=n("../support"),c=n("../external"),h=null;if(u.nodestream)try{h=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function d(y,m){return new c.Promise(function(v,g){var p=[],_=y._internalType,x=y._outputType,T=y._mimeType;y.on("data",function(A,E){p.push(A),m&&m(E)}).on("error",function(A){p=[],g(A)}).on("end",function(){try{var A=function(E,k,U){switch(E){case"blob":return o.newBlob(o.transformTo("arraybuffer",k),U);case"base64":return l.encode(k);default:return o.transformTo(E,k)}}(x,function(E,k){var U,N=0,I=null,S=0;for(U=0;U<k.length;U++)S+=k[U].length;switch(E){case"string":return k.join("");case"array":return Array.prototype.concat.apply([],k);case"uint8array":for(I=new Uint8Array(S),U=0;U<k.length;U++)I.set(k[U],N),N+=k[U].length;return I;case"nodebuffer":return Buffer.concat(k);default:throw new Error("concat : unsupported type '"+E+"'")}}(_,p),T);v(A)}catch(E){g(E)}p=[]}).resume()})}function f(y,m,v){var g=m;switch(m){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=m,this._mimeType=v,o.checkSupport(g),this._worker=y.pipe(new s(g)),y.lock()}catch(p){this._worker=new a("error"),this._worker.error(p)}}f.prototype={accumulate:function(y){return d(this,y)},on:function(y,m){var v=this;return y==="data"?this._worker.on(y,function(g){m.call(v,g.data,g.meta)}):this._worker.on(y,function(){o.delay(m,arguments,v)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(y){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},y)}},i.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,i,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r.nodebuffer=typeof Buffer<"u",r.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r.blob=!1;else{var o=new ArrayBuffer(0);try{r.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(o),r.blob=s.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!n("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(n,i,r){for(var o=n("./utils"),s=n("./support"),a=n("./nodejsUtils"),l=n("./stream/GenericWorker"),u=new Array(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;u[254]=u[254]=1;function h(){l.call(this,"utf-8 decode"),this.leftOver=null}function d(){l.call(this,"utf-8 encode")}r.utf8encode=function(f){return s.nodebuffer?a.newBufferFrom(f,"utf-8"):function(y){var m,v,g,p,_,x=y.length,T=0;for(p=0;p<x;p++)(64512&(v=y.charCodeAt(p)))==55296&&p+1<x&&(64512&(g=y.charCodeAt(p+1)))==56320&&(v=65536+(v-55296<<10)+(g-56320),p++),T+=v<128?1:v<2048?2:v<65536?3:4;for(m=s.uint8array?new Uint8Array(T):new Array(T),p=_=0;_<T;p++)(64512&(v=y.charCodeAt(p)))==55296&&p+1<x&&(64512&(g=y.charCodeAt(p+1)))==56320&&(v=65536+(v-55296<<10)+(g-56320),p++),v<128?m[_++]=v:(v<2048?m[_++]=192|v>>>6:(v<65536?m[_++]=224|v>>>12:(m[_++]=240|v>>>18,m[_++]=128|v>>>12&63),m[_++]=128|v>>>6&63),m[_++]=128|63&v);return m}(f)},r.utf8decode=function(f){return s.nodebuffer?o.transformTo("nodebuffer",f).toString("utf-8"):function(y){var m,v,g,p,_=y.length,x=new Array(2*_);for(m=v=0;m<_;)if((g=y[m++])<128)x[v++]=g;else if(4<(p=u[g]))x[v++]=65533,m+=p-1;else{for(g&=p===2?31:p===3?15:7;1<p&&m<_;)g=g<<6|63&y[m++],p--;1<p?x[v++]=65533:g<65536?x[v++]=g:(g-=65536,x[v++]=55296|g>>10&1023,x[v++]=56320|1023&g)}return x.length!==v&&(x.subarray?x=x.subarray(0,v):x.length=v),o.applyFromCharCode(x)}(f=o.transformTo(s.uint8array?"uint8array":"array",f))},o.inherits(h,l),h.prototype.processChunk=function(f){var y=o.transformTo(s.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var m=y;(y=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),y.set(m,this.leftOver.length)}else y=this.leftOver.concat(y);this.leftOver=null}var v=function(p,_){var x;for((_=_||p.length)>p.length&&(_=p.length),x=_-1;0<=x&&(192&p[x])==128;)x--;return x<0||x===0?_:x+u[p[x]]>_?x:_}(y),g=y;v!==y.length&&(s.uint8array?(g=y.subarray(0,v),this.leftOver=y.subarray(v,y.length)):(g=y.slice(0,v),this.leftOver=y.slice(v,y.length))),this.push({data:r.utf8decode(g),meta:f.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=h,o.inherits(d,l),d.prototype.processChunk=function(f){this.push({data:r.utf8encode(f.data),meta:f.meta})},r.Utf8EncodeWorker=d},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,i,r){var o=n("./support"),s=n("./base64"),a=n("./nodejsUtils"),l=n("./external");function u(m){return m}function c(m,v){for(var g=0;g<m.length;++g)v[g]=255&m.charCodeAt(g);return v}n("setimmediate"),r.newBlob=function(m,v){r.checkSupport("blob");try{return new Blob([m],{type:v})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(m),g.getBlob(v)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(m,v,g){var p=[],_=0,x=m.length;if(x<=g)return String.fromCharCode.apply(null,m);for(;_<x;)v==="array"||v==="nodebuffer"?p.push(String.fromCharCode.apply(null,m.slice(_,Math.min(_+g,x)))):p.push(String.fromCharCode.apply(null,m.subarray(_,Math.min(_+g,x)))),_+=g;return p.join("")},stringifyByChar:function(m){for(var v="",g=0;g<m.length;g++)v+=String.fromCharCode(m[g]);return v},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function d(m){var v=65536,g=r.getTypeOf(m),p=!0;if(g==="uint8array"?p=h.applyCanBeUsed.uint8array:g==="nodebuffer"&&(p=h.applyCanBeUsed.nodebuffer),p)for(;1<v;)try{return h.stringifyByChunk(m,g,v)}catch{v=Math.floor(v/2)}return h.stringifyByChar(m)}function f(m,v){for(var g=0;g<m.length;g++)v[g]=m[g];return v}r.applyFromCharCode=d;var y={};y.string={string:u,array:function(m){return c(m,new Array(m.length))},arraybuffer:function(m){return y.string.uint8array(m).buffer},uint8array:function(m){return c(m,new Uint8Array(m.length))},nodebuffer:function(m){return c(m,a.allocBuffer(m.length))}},y.array={string:d,array:u,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return a.newBufferFrom(m)}},y.arraybuffer={string:function(m){return d(new Uint8Array(m))},array:function(m){return f(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:u,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return a.newBufferFrom(new Uint8Array(m))}},y.uint8array={string:d,array:function(m){return f(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:u,nodebuffer:function(m){return a.newBufferFrom(m)}},y.nodebuffer={string:d,array:function(m){return f(m,new Array(m.length))},arraybuffer:function(m){return y.nodebuffer.uint8array(m).buffer},uint8array:function(m){return f(m,new Uint8Array(m.length))},nodebuffer:u},r.transformTo=function(m,v){if(v=v||"",!m)return v;r.checkSupport(m);var g=r.getTypeOf(v);return y[g][m](v)},r.resolve=function(m){for(var v=m.split("/"),g=[],p=0;p<v.length;p++){var _=v[p];_==="."||_===""&&p!==0&&p!==v.length-1||(_===".."?g.pop():g.push(_))}return g.join("/")},r.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":o.nodebuffer&&a.isBuffer(m)?"nodebuffer":o.uint8array&&m instanceof Uint8Array?"uint8array":o.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(m){if(!o[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(m){var v,g,p="";for(g=0;g<(m||"").length;g++)p+="\\x"+((v=m.charCodeAt(g))<16?"0":"")+v.toString(16).toUpperCase();return p},r.delay=function(m,v,g){setImmediate(function(){m.apply(g||null,v||[])})},r.inherits=function(m,v){function g(){}g.prototype=v.prototype,m.prototype=new g},r.extend=function(){var m,v,g={};for(m=0;m<arguments.length;m++)for(v in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],v)&&g[v]===void 0&&(g[v]=arguments[m][v]);return g},r.prepareContent=function(m,v,g,p,_){return l.Promise.resolve(v).then(function(x){return o.blob&&(x instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(x))!==-1)&&typeof FileReader<"u"?new l.Promise(function(T,A){var E=new FileReader;E.onload=function(k){T(k.target.result)},E.onerror=function(k){A(k.target.error)},E.readAsArrayBuffer(x)}):x}).then(function(x){var T=r.getTypeOf(x);return T?(T==="arraybuffer"?x=r.transformTo("uint8array",x):T==="string"&&(_?x=s.decode(x):g&&p!==!0&&(x=function(A){return c(A,o.uint8array?new Uint8Array(A.length):new Array(A.length))}(x))),x):l.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,i,r){var o=n("./reader/readerFor"),s=n("./utils"),a=n("./signature"),l=n("./zipEntry"),u=n("./support");function c(h){this.files=[],this.loadOptions=h}c.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var d=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(d)+", expected "+s.pretty(h)+")")}},isSignature:function(h,d){var f=this.reader.index;this.reader.setIndex(h);var y=this.reader.readString(4)===d;return this.reader.setIndex(f),y},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),d=u.uint8array?"uint8array":"array",f=s.transformTo(d,h);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,d,f,y=this.zip64EndOfCentralSize-44;0<y;)h=this.reader.readInt(2),d=this.reader.readInt(4),f=this.reader.readData(d),this.zip64ExtensibleData[h]={id:h,length:d,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,d;for(h=0;h<this.files.length;h++)d=this.files[h],this.reader.setIndex(d.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),d.readLocalPart(this.reader),d.handleUTF8(),d.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(h=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var d=h;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var y=d-f;if(0<y)this.isSignature(d,a.CENTRAL_FILE_HEADER)||(this.reader.zero=y);else if(y<0)throw new Error("Corrupted zip: missing "+Math.abs(y)+" bytes.")},prepareReader:function(h){this.reader=o(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,i,r){var o=n("./reader/readerFor"),s=n("./utils"),a=n("./compressedObject"),l=n("./crc32"),u=n("./utf8"),c=n("./compressions"),h=n("./support");function d(f,y){this.options=f,this.loadOptions=y}d.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var y,m;if(f.skip(22),this.fileNameLength=f.readInt(2),m=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((y=function(v){for(var g in c)if(Object.prototype.hasOwnProperty.call(c,g)&&c[g].magic===v)return c[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,y,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var y=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(y),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=o(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var y,m,v,g=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<g;)y=f.readInt(2),m=f.readInt(2),v=f.readData(m),this.extraFields[y]={id:y,length:m,value:v};f.setIndex(g)},handleUTF8:function(){var f=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var y=this.findExtraFieldUnicodePath();if(y!==null)this.fileNameStr=y;else{var m=s.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var v=this.findExtraFieldUnicodeComment();if(v!==null)this.fileCommentStr=v;else{var g=s.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var y=o(f.value);return y.readInt(1)!==1||l(this.fileName)!==y.readInt(4)?null:u.utf8decode(y.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var y=o(f.value);return y.readInt(1)!==1||l(this.fileComment)!==y.readInt(4)?null:u.utf8decode(y.readData(f.length-5))}return null}},i.exports=d},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,i,r){function o(y,m,v){this.name=y,this.dir=v.dir,this.date=v.date,this.comment=v.comment,this.unixPermissions=v.unixPermissions,this.dosPermissions=v.dosPermissions,this._data=m,this._dataBinary=v.binary,this.options={compression:v.compression,compressionOptions:v.compressionOptions}}var s=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),l=n("./utf8"),u=n("./compressedObject"),c=n("./stream/GenericWorker");o.prototype={internalStream:function(y){var m=null,v="string";try{if(!y)throw new Error("No output type specified.");var g=(v=y.toLowerCase())==="string"||v==="text";v!=="binarystring"&&v!=="text"||(v="string"),m=this._decompressWorker();var p=!this._dataBinary;p&&!g&&(m=m.pipe(new l.Utf8EncodeWorker)),!p&&g&&(m=m.pipe(new l.Utf8DecodeWorker))}catch(_){(m=new c("error")).error(_)}return new s(m,v,"")},async:function(y,m){return this.internalStream(y).accumulate(m)},nodeStream:function(y,m){return this.internalStream(y||"nodebuffer").toNodejsStream(m)},_compressWorker:function(y,m){if(this._data instanceof u&&this._data.compression.magic===y.magic)return this._data.getCompressedWorker();var v=this._decompressWorker();return this._dataBinary||(v=v.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(v,y,m)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof c?this._data:new a(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<h.length;f++)o.prototype[h[f]]=d;i.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,i,r){(function(o){var s,a,l=o.MutationObserver||o.WebKitMutationObserver;if(l){var u=0,c=new l(y),h=o.document.createTextNode("");c.observe(h,{characterData:!0}),s=function(){h.data=u=++u%2}}else if(o.setImmediate||o.MessageChannel===void 0)s="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var m=o.document.createElement("script");m.onreadystatechange=function(){y(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},o.document.documentElement.appendChild(m)}:function(){setTimeout(y,0)};else{var d=new o.MessageChannel;d.port1.onmessage=y,s=function(){d.port2.postMessage(0)}}var f=[];function y(){var m,v;a=!0;for(var g=f.length;g;){for(v=f,f=[],m=-1;++m<g;)v[m]();g=f.length}a=!1}i.exports=function(m){f.push(m)!==1||a||s()}}).call(this,typeof Ve<"u"?Ve:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,i,r){var o=n("immediate");function s(){}var a={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function h(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,g!==s&&m(this,g)}function d(g,p,_){this.promise=g,typeof p=="function"&&(this.onFulfilled=p,this.callFulfilled=this.otherCallFulfilled),typeof _=="function"&&(this.onRejected=_,this.callRejected=this.otherCallRejected)}function f(g,p,_){o(function(){var x;try{x=p(_)}catch(T){return a.reject(g,T)}x===g?a.reject(g,new TypeError("Cannot resolve promise with itself")):a.resolve(g,x)})}function y(g){var p=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof p=="function")return function(){p.apply(g,arguments)}}function m(g,p){var _=!1;function x(E){_||(_=!0,a.reject(g,E))}function T(E){_||(_=!0,a.resolve(g,E))}var A=v(function(){p(T,x)});A.status==="error"&&x(A.value)}function v(g,p){var _={};try{_.value=g(p),_.status="success"}catch(x){_.status="error",_.value=x}return _}(i.exports=h).prototype.finally=function(g){if(typeof g!="function")return this;var p=this.constructor;return this.then(function(_){return p.resolve(g()).then(function(){return _})},function(_){return p.resolve(g()).then(function(){throw _})})},h.prototype.catch=function(g){return this.then(null,g)},h.prototype.then=function(g,p){if(typeof g!="function"&&this.state===u||typeof p!="function"&&this.state===l)return this;var _=new this.constructor(s);return this.state!==c?f(_,this.state===u?g:p,this.outcome):this.queue.push(new d(_,g,p)),_},d.prototype.callFulfilled=function(g){a.resolve(this.promise,g)},d.prototype.otherCallFulfilled=function(g){f(this.promise,this.onFulfilled,g)},d.prototype.callRejected=function(g){a.reject(this.promise,g)},d.prototype.otherCallRejected=function(g){f(this.promise,this.onRejected,g)},a.resolve=function(g,p){var _=v(y,p);if(_.status==="error")return a.reject(g,_.value);var x=_.value;if(x)m(g,x);else{g.state=u,g.outcome=p;for(var T=-1,A=g.queue.length;++T<A;)g.queue[T].callFulfilled(p)}return g},a.reject=function(g,p){g.state=l,g.outcome=p;for(var _=-1,x=g.queue.length;++_<x;)g.queue[_].callRejected(p);return g},h.resolve=function(g){return g instanceof this?g:a.resolve(new this(s),g)},h.reject=function(g){var p=new this(s);return a.reject(p,g)},h.all=function(g){var p=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=g.length,x=!1;if(!_)return this.resolve([]);for(var T=new Array(_),A=0,E=-1,k=new this(s);++E<_;)U(g[E],E);return k;function U(N,I){p.resolve(N).then(function(S){T[I]=S,++A!==_||x||(x=!0,a.resolve(k,T))},function(S){x||(x=!0,a.reject(k,S))})}},h.race=function(g){var p=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=g.length,x=!1;if(!_)return this.resolve([]);for(var T=-1,A=new this(s);++T<_;)E=g[T],p.resolve(E).then(function(k){x||(x=!0,a.resolve(A,k))},function(k){x||(x=!0,a.reject(A,k))});var E;return A}},{immediate:36}],38:[function(n,i,r){var o={};(0,n("./lib/utils/common").assign)(o,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),i.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,i,r){var o=n("./zlib/deflate"),s=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/messages"),u=n("./zlib/zstream"),c=Object.prototype.toString,h=0,d=-1,f=0,y=8;function m(g){if(!(this instanceof m))return new m(g);this.options=s.assign({level:d,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},g||{});var p=this.options;p.raw&&0<p.windowBits?p.windowBits=-p.windowBits:p.gzip&&0<p.windowBits&&p.windowBits<16&&(p.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var _=o.deflateInit2(this.strm,p.level,p.method,p.windowBits,p.memLevel,p.strategy);if(_!==h)throw new Error(l[_]);if(p.header&&o.deflateSetHeader(this.strm,p.header),p.dictionary){var x;if(x=typeof p.dictionary=="string"?a.string2buf(p.dictionary):c.call(p.dictionary)==="[object ArrayBuffer]"?new Uint8Array(p.dictionary):p.dictionary,(_=o.deflateSetDictionary(this.strm,x))!==h)throw new Error(l[_]);this._dict_set=!0}}function v(g,p){var _=new m(p);if(_.push(g,!0),_.err)throw _.msg||l[_.err];return _.result}m.prototype.push=function(g,p){var _,x,T=this.strm,A=this.options.chunkSize;if(this.ended)return!1;x=p===~~p?p:p===!0?4:0,typeof g=="string"?T.input=a.string2buf(g):c.call(g)==="[object ArrayBuffer]"?T.input=new Uint8Array(g):T.input=g,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new s.Buf8(A),T.next_out=0,T.avail_out=A),(_=o.deflate(T,x))!==1&&_!==h)return this.onEnd(_),!(this.ended=!0);T.avail_out!==0&&(T.avail_in!==0||x!==4&&x!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(s.shrinkBuf(T.output,T.next_out))):this.onData(s.shrinkBuf(T.output,T.next_out)))}while((0<T.avail_in||T.avail_out===0)&&_!==1);return x===4?(_=o.deflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===h):x!==2||(this.onEnd(h),!(T.avail_out=0))},m.prototype.onData=function(g){this.chunks.push(g)},m.prototype.onEnd=function(g){g===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},r.Deflate=m,r.deflate=v,r.deflateRaw=function(g,p){return(p=p||{}).raw=!0,v(g,p)},r.gzip=function(g,p){return(p=p||{}).gzip=!0,v(g,p)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,i,r){var o=n("./zlib/inflate"),s=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/constants"),u=n("./zlib/messages"),c=n("./zlib/zstream"),h=n("./zlib/gzheader"),d=Object.prototype.toString;function f(m){if(!(this instanceof f))return new f(m);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},m||{});var v=this.options;v.raw&&0<=v.windowBits&&v.windowBits<16&&(v.windowBits=-v.windowBits,v.windowBits===0&&(v.windowBits=-15)),!(0<=v.windowBits&&v.windowBits<16)||m&&m.windowBits||(v.windowBits+=32),15<v.windowBits&&v.windowBits<48&&!(15&v.windowBits)&&(v.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var g=o.inflateInit2(this.strm,v.windowBits);if(g!==l.Z_OK)throw new Error(u[g]);this.header=new h,o.inflateGetHeader(this.strm,this.header)}function y(m,v){var g=new f(v);if(g.push(m,!0),g.err)throw g.msg||u[g.err];return g.result}f.prototype.push=function(m,v){var g,p,_,x,T,A,E=this.strm,k=this.options.chunkSize,U=this.options.dictionary,N=!1;if(this.ended)return!1;p=v===~~v?v:v===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof m=="string"?E.input=a.binstring2buf(m):d.call(m)==="[object ArrayBuffer]"?E.input=new Uint8Array(m):E.input=m,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new s.Buf8(k),E.next_out=0,E.avail_out=k),(g=o.inflate(E,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&U&&(A=typeof U=="string"?a.string2buf(U):d.call(U)==="[object ArrayBuffer]"?new Uint8Array(U):U,g=o.inflateSetDictionary(this.strm,A)),g===l.Z_BUF_ERROR&&N===!0&&(g=l.Z_OK,N=!1),g!==l.Z_STREAM_END&&g!==l.Z_OK)return this.onEnd(g),!(this.ended=!0);E.next_out&&(E.avail_out!==0&&g!==l.Z_STREAM_END&&(E.avail_in!==0||p!==l.Z_FINISH&&p!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(_=a.utf8border(E.output,E.next_out),x=E.next_out-_,T=a.buf2string(E.output,_),E.next_out=x,E.avail_out=k-x,x&&s.arraySet(E.output,E.output,_,x,0),this.onData(T)):this.onData(s.shrinkBuf(E.output,E.next_out)))),E.avail_in===0&&E.avail_out===0&&(N=!0)}while((0<E.avail_in||E.avail_out===0)&&g!==l.Z_STREAM_END);return g===l.Z_STREAM_END&&(p=l.Z_FINISH),p===l.Z_FINISH?(g=o.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===l.Z_OK):p!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(E.avail_out=0))},f.prototype.onData=function(m){this.chunks.push(m)},f.prototype.onEnd=function(m){m===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},r.Inflate=f,r.inflate=y,r.inflateRaw=function(m,v){return(v=v||{}).raw=!0,y(m,v)},r.ungzip=y},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,i,r){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var c=u.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var h in c)c.hasOwnProperty(h)&&(l[h]=c[h])}}return l},r.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var s={arraySet:function(l,u,c,h,d){if(u.subarray&&l.subarray)l.set(u.subarray(c,c+h),d);else for(var f=0;f<h;f++)l[d+f]=u[c+f]},flattenChunks:function(l){var u,c,h,d,f,y;for(u=h=0,c=l.length;u<c;u++)h+=l[u].length;for(y=new Uint8Array(h),u=d=0,c=l.length;u<c;u++)f=l[u],y.set(f,d),d+=f.length;return y}},a={arraySet:function(l,u,c,h,d){for(var f=0;f<h;f++)l[d+f]=u[c+f]},flattenChunks:function(l){return[].concat.apply([],l)}};r.setTyped=function(l){l?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,s)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,a))},r.setTyped(o)},{}],42:[function(n,i,r){var o=n("./common"),s=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new o.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function c(h,d){if(d<65537&&(h.subarray&&a||!h.subarray&&s))return String.fromCharCode.apply(null,o.shrinkBuf(h,d));for(var f="",y=0;y<d;y++)f+=String.fromCharCode(h[y]);return f}l[254]=l[254]=1,r.string2buf=function(h){var d,f,y,m,v,g=h.length,p=0;for(m=0;m<g;m++)(64512&(f=h.charCodeAt(m)))==55296&&m+1<g&&(64512&(y=h.charCodeAt(m+1)))==56320&&(f=65536+(f-55296<<10)+(y-56320),m++),p+=f<128?1:f<2048?2:f<65536?3:4;for(d=new o.Buf8(p),m=v=0;v<p;m++)(64512&(f=h.charCodeAt(m)))==55296&&m+1<g&&(64512&(y=h.charCodeAt(m+1)))==56320&&(f=65536+(f-55296<<10)+(y-56320),m++),f<128?d[v++]=f:(f<2048?d[v++]=192|f>>>6:(f<65536?d[v++]=224|f>>>12:(d[v++]=240|f>>>18,d[v++]=128|f>>>12&63),d[v++]=128|f>>>6&63),d[v++]=128|63&f);return d},r.buf2binstring=function(h){return c(h,h.length)},r.binstring2buf=function(h){for(var d=new o.Buf8(h.length),f=0,y=d.length;f<y;f++)d[f]=h.charCodeAt(f);return d},r.buf2string=function(h,d){var f,y,m,v,g=d||h.length,p=new Array(2*g);for(f=y=0;f<g;)if((m=h[f++])<128)p[y++]=m;else if(4<(v=l[m]))p[y++]=65533,f+=v-1;else{for(m&=v===2?31:v===3?15:7;1<v&&f<g;)m=m<<6|63&h[f++],v--;1<v?p[y++]=65533:m<65536?p[y++]=m:(m-=65536,p[y++]=55296|m>>10&1023,p[y++]=56320|1023&m)}return c(p,y)},r.utf8border=function(h,d){var f;for((d=d||h.length)>h.length&&(d=h.length),f=d-1;0<=f&&(192&h[f])==128;)f--;return f<0||f===0?d:f+l[h[f]]>d?f:d}},{"./common":41}],43:[function(n,i,r){i.exports=function(o,s,a,l){for(var u=65535&o|0,c=o>>>16&65535|0,h=0;a!==0;){for(a-=h=2e3<a?2e3:a;c=c+(u=u+s[l++]|0)|0,--h;);u%=65521,c%=65521}return u|c<<16|0}},{}],44:[function(n,i,r){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,i,r){var o=function(){for(var s,a=[],l=0;l<256;l++){s=l;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;a[l]=s}return a}();i.exports=function(s,a,l,u){var c=o,h=u+l;s^=-1;for(var d=u;d<h;d++)s=s>>>8^c[255&(s^a[d])];return-1^s}},{}],46:[function(n,i,r){var o,s=n("../utils/common"),a=n("./trees"),l=n("./adler32"),u=n("./crc32"),c=n("./messages"),h=0,d=4,f=0,y=-2,m=-1,v=4,g=2,p=8,_=9,x=286,T=30,A=19,E=2*x+1,k=15,U=3,N=258,I=N+U+1,S=42,L=113,D=1,$=2,R=3,P=4;function z(B,le){return B.msg=c[le],le}function M(B){return(B<<1)-(4<B?9:0)}function q(B){for(var le=B.length;0<=--le;)B[le]=0}function F(B){var le=B.state,de=le.pending;de>B.avail_out&&(de=B.avail_out),de!==0&&(s.arraySet(B.output,le.pending_buf,le.pending_out,de,B.next_out),B.next_out+=de,le.pending_out+=de,B.total_out+=de,B.avail_out-=de,le.pending-=de,le.pending===0&&(le.pending_out=0))}function O(B,le){a._tr_flush_block(B,0<=B.block_start?B.block_start:-1,B.strstart-B.block_start,le),B.block_start=B.strstart,F(B.strm)}function W(B,le){B.pending_buf[B.pending++]=le}function J(B,le){B.pending_buf[B.pending++]=le>>>8&255,B.pending_buf[B.pending++]=255&le}function K(B,le){var de,ee,V=B.max_chain_length,Q=B.strstart,ue=B.prev_length,he=B.nice_match,ne=B.strstart>B.w_size-I?B.strstart-(B.w_size-I):0,te=B.window,ie=B.w_mask,oe=B.prev,me=B.strstart+N,we=te[Q+ue-1],Ee=te[Q+ue];B.prev_length>=B.good_match&&(V>>=2),he>B.lookahead&&(he=B.lookahead);do if(te[(de=le)+ue]===Ee&&te[de+ue-1]===we&&te[de]===te[Q]&&te[++de]===te[Q+1]){Q+=2,de++;do;while(te[++Q]===te[++de]&&te[++Q]===te[++de]&&te[++Q]===te[++de]&&te[++Q]===te[++de]&&te[++Q]===te[++de]&&te[++Q]===te[++de]&&te[++Q]===te[++de]&&te[++Q]===te[++de]&&Q<me);if(ee=N-(me-Q),Q=me-N,ue<ee){if(B.match_start=le,he<=(ue=ee))break;we=te[Q+ue-1],Ee=te[Q+ue]}}while((le=oe[le&ie])>ne&&--V!=0);return ue<=B.lookahead?ue:B.lookahead}function G(B){var le,de,ee,V,Q,ue,he,ne,te,ie,oe=B.w_size;do{if(V=B.window_size-B.lookahead-B.strstart,B.strstart>=oe+(oe-I)){for(s.arraySet(B.window,B.window,oe,oe,0),B.match_start-=oe,B.strstart-=oe,B.block_start-=oe,le=de=B.hash_size;ee=B.head[--le],B.head[le]=oe<=ee?ee-oe:0,--de;);for(le=de=oe;ee=B.prev[--le],B.prev[le]=oe<=ee?ee-oe:0,--de;);V+=oe}if(B.strm.avail_in===0)break;if(ue=B.strm,he=B.window,ne=B.strstart+B.lookahead,te=V,ie=void 0,ie=ue.avail_in,te<ie&&(ie=te),de=ie===0?0:(ue.avail_in-=ie,s.arraySet(he,ue.input,ue.next_in,ie,ne),ue.state.wrap===1?ue.adler=l(ue.adler,he,ie,ne):ue.state.wrap===2&&(ue.adler=u(ue.adler,he,ie,ne)),ue.next_in+=ie,ue.total_in+=ie,ie),B.lookahead+=de,B.lookahead+B.insert>=U)for(Q=B.strstart-B.insert,B.ins_h=B.window[Q],B.ins_h=(B.ins_h<<B.hash_shift^B.window[Q+1])&B.hash_mask;B.insert&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[Q+U-1])&B.hash_mask,B.prev[Q&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=Q,Q++,B.insert--,!(B.lookahead+B.insert<U)););}while(B.lookahead<I&&B.strm.avail_in!==0)}function Z(B,le){for(var de,ee;;){if(B.lookahead<I){if(G(B),B.lookahead<I&&le===h)return D;if(B.lookahead===0)break}if(de=0,B.lookahead>=U&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+U-1])&B.hash_mask,de=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),de!==0&&B.strstart-de<=B.w_size-I&&(B.match_length=K(B,de)),B.match_length>=U)if(ee=a._tr_tally(B,B.strstart-B.match_start,B.match_length-U),B.lookahead-=B.match_length,B.match_length<=B.max_lazy_match&&B.lookahead>=U){for(B.match_length--;B.strstart++,B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+U-1])&B.hash_mask,de=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart,--B.match_length!=0;);B.strstart++}else B.strstart+=B.match_length,B.match_length=0,B.ins_h=B.window[B.strstart],B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+1])&B.hash_mask;else ee=a._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++;if(ee&&(O(B,!1),B.strm.avail_out===0))return D}return B.insert=B.strstart<U-1?B.strstart:U-1,le===d?(O(B,!0),B.strm.avail_out===0?R:P):B.last_lit&&(O(B,!1),B.strm.avail_out===0)?D:$}function re(B,le){for(var de,ee,V;;){if(B.lookahead<I){if(G(B),B.lookahead<I&&le===h)return D;if(B.lookahead===0)break}if(de=0,B.lookahead>=U&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+U-1])&B.hash_mask,de=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),B.prev_length=B.match_length,B.prev_match=B.match_start,B.match_length=U-1,de!==0&&B.prev_length<B.max_lazy_match&&B.strstart-de<=B.w_size-I&&(B.match_length=K(B,de),B.match_length<=5&&(B.strategy===1||B.match_length===U&&4096<B.strstart-B.match_start)&&(B.match_length=U-1)),B.prev_length>=U&&B.match_length<=B.prev_length){for(V=B.strstart+B.lookahead-U,ee=a._tr_tally(B,B.strstart-1-B.prev_match,B.prev_length-U),B.lookahead-=B.prev_length-1,B.prev_length-=2;++B.strstart<=V&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+U-1])&B.hash_mask,de=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),--B.prev_length!=0;);if(B.match_available=0,B.match_length=U-1,B.strstart++,ee&&(O(B,!1),B.strm.avail_out===0))return D}else if(B.match_available){if((ee=a._tr_tally(B,0,B.window[B.strstart-1]))&&O(B,!1),B.strstart++,B.lookahead--,B.strm.avail_out===0)return D}else B.match_available=1,B.strstart++,B.lookahead--}return B.match_available&&(ee=a._tr_tally(B,0,B.window[B.strstart-1]),B.match_available=0),B.insert=B.strstart<U-1?B.strstart:U-1,le===d?(O(B,!0),B.strm.avail_out===0?R:P):B.last_lit&&(O(B,!1),B.strm.avail_out===0)?D:$}function ae(B,le,de,ee,V){this.good_length=B,this.max_lazy=le,this.nice_length=de,this.max_chain=ee,this.func=V}function ge(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=p,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*E),this.dyn_dtree=new s.Buf16(2*(2*T+1)),this.bl_tree=new s.Buf16(2*(2*A+1)),q(this.dyn_ltree),q(this.dyn_dtree),q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(k+1),this.heap=new s.Buf16(2*x+1),q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*x+1),q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ve(B){var le;return B&&B.state?(B.total_in=B.total_out=0,B.data_type=g,(le=B.state).pending=0,le.pending_out=0,le.wrap<0&&(le.wrap=-le.wrap),le.status=le.wrap?S:L,B.adler=le.wrap===2?0:1,le.last_flush=h,a._tr_init(le),f):z(B,y)}function se(B){var le=ve(B);return le===f&&function(de){de.window_size=2*de.w_size,q(de.head),de.max_lazy_match=o[de.level].max_lazy,de.good_match=o[de.level].good_length,de.nice_match=o[de.level].nice_length,de.max_chain_length=o[de.level].max_chain,de.strstart=0,de.block_start=0,de.lookahead=0,de.insert=0,de.match_length=de.prev_length=U-1,de.match_available=0,de.ins_h=0}(B.state),le}function pe(B,le,de,ee,V,Q){if(!B)return y;var ue=1;if(le===m&&(le=6),ee<0?(ue=0,ee=-ee):15<ee&&(ue=2,ee-=16),V<1||_<V||de!==p||ee<8||15<ee||le<0||9<le||Q<0||v<Q)return z(B,y);ee===8&&(ee=9);var he=new ge;return(B.state=he).strm=B,he.wrap=ue,he.gzhead=null,he.w_bits=ee,he.w_size=1<<he.w_bits,he.w_mask=he.w_size-1,he.hash_bits=V+7,he.hash_size=1<<he.hash_bits,he.hash_mask=he.hash_size-1,he.hash_shift=~~((he.hash_bits+U-1)/U),he.window=new s.Buf8(2*he.w_size),he.head=new s.Buf16(he.hash_size),he.prev=new s.Buf16(he.w_size),he.lit_bufsize=1<<V+6,he.pending_buf_size=4*he.lit_bufsize,he.pending_buf=new s.Buf8(he.pending_buf_size),he.d_buf=1*he.lit_bufsize,he.l_buf=3*he.lit_bufsize,he.level=le,he.strategy=Q,he.method=de,se(B)}o=[new ae(0,0,0,0,function(B,le){var de=65535;for(de>B.pending_buf_size-5&&(de=B.pending_buf_size-5);;){if(B.lookahead<=1){if(G(B),B.lookahead===0&&le===h)return D;if(B.lookahead===0)break}B.strstart+=B.lookahead,B.lookahead=0;var ee=B.block_start+de;if((B.strstart===0||B.strstart>=ee)&&(B.lookahead=B.strstart-ee,B.strstart=ee,O(B,!1),B.strm.avail_out===0)||B.strstart-B.block_start>=B.w_size-I&&(O(B,!1),B.strm.avail_out===0))return D}return B.insert=0,le===d?(O(B,!0),B.strm.avail_out===0?R:P):(B.strstart>B.block_start&&(O(B,!1),B.strm.avail_out),D)}),new ae(4,4,8,4,Z),new ae(4,5,16,8,Z),new ae(4,6,32,32,Z),new ae(4,4,16,16,re),new ae(8,16,32,32,re),new ae(8,16,128,128,re),new ae(8,32,128,256,re),new ae(32,128,258,1024,re),new ae(32,258,258,4096,re)],r.deflateInit=function(B,le){return pe(B,le,p,15,8,0)},r.deflateInit2=pe,r.deflateReset=se,r.deflateResetKeep=ve,r.deflateSetHeader=function(B,le){return B&&B.state?B.state.wrap!==2?y:(B.state.gzhead=le,f):y},r.deflate=function(B,le){var de,ee,V,Q;if(!B||!B.state||5<le||le<0)return B?z(B,y):y;if(ee=B.state,!B.output||!B.input&&B.avail_in!==0||ee.status===666&&le!==d)return z(B,B.avail_out===0?-5:y);if(ee.strm=B,de=ee.last_flush,ee.last_flush=le,ee.status===S)if(ee.wrap===2)B.adler=0,W(ee,31),W(ee,139),W(ee,8),ee.gzhead?(W(ee,(ee.gzhead.text?1:0)+(ee.gzhead.hcrc?2:0)+(ee.gzhead.extra?4:0)+(ee.gzhead.name?8:0)+(ee.gzhead.comment?16:0)),W(ee,255&ee.gzhead.time),W(ee,ee.gzhead.time>>8&255),W(ee,ee.gzhead.time>>16&255),W(ee,ee.gzhead.time>>24&255),W(ee,ee.level===9?2:2<=ee.strategy||ee.level<2?4:0),W(ee,255&ee.gzhead.os),ee.gzhead.extra&&ee.gzhead.extra.length&&(W(ee,255&ee.gzhead.extra.length),W(ee,ee.gzhead.extra.length>>8&255)),ee.gzhead.hcrc&&(B.adler=u(B.adler,ee.pending_buf,ee.pending,0)),ee.gzindex=0,ee.status=69):(W(ee,0),W(ee,0),W(ee,0),W(ee,0),W(ee,0),W(ee,ee.level===9?2:2<=ee.strategy||ee.level<2?4:0),W(ee,3),ee.status=L);else{var ue=p+(ee.w_bits-8<<4)<<8;ue|=(2<=ee.strategy||ee.level<2?0:ee.level<6?1:ee.level===6?2:3)<<6,ee.strstart!==0&&(ue|=32),ue+=31-ue%31,ee.status=L,J(ee,ue),ee.strstart!==0&&(J(ee,B.adler>>>16),J(ee,65535&B.adler)),B.adler=1}if(ee.status===69)if(ee.gzhead.extra){for(V=ee.pending;ee.gzindex<(65535&ee.gzhead.extra.length)&&(ee.pending!==ee.pending_buf_size||(ee.gzhead.hcrc&&ee.pending>V&&(B.adler=u(B.adler,ee.pending_buf,ee.pending-V,V)),F(B),V=ee.pending,ee.pending!==ee.pending_buf_size));)W(ee,255&ee.gzhead.extra[ee.gzindex]),ee.gzindex++;ee.gzhead.hcrc&&ee.pending>V&&(B.adler=u(B.adler,ee.pending_buf,ee.pending-V,V)),ee.gzindex===ee.gzhead.extra.length&&(ee.gzindex=0,ee.status=73)}else ee.status=73;if(ee.status===73)if(ee.gzhead.name){V=ee.pending;do{if(ee.pending===ee.pending_buf_size&&(ee.gzhead.hcrc&&ee.pending>V&&(B.adler=u(B.adler,ee.pending_buf,ee.pending-V,V)),F(B),V=ee.pending,ee.pending===ee.pending_buf_size)){Q=1;break}Q=ee.gzindex<ee.gzhead.name.length?255&ee.gzhead.name.charCodeAt(ee.gzindex++):0,W(ee,Q)}while(Q!==0);ee.gzhead.hcrc&&ee.pending>V&&(B.adler=u(B.adler,ee.pending_buf,ee.pending-V,V)),Q===0&&(ee.gzindex=0,ee.status=91)}else ee.status=91;if(ee.status===91)if(ee.gzhead.comment){V=ee.pending;do{if(ee.pending===ee.pending_buf_size&&(ee.gzhead.hcrc&&ee.pending>V&&(B.adler=u(B.adler,ee.pending_buf,ee.pending-V,V)),F(B),V=ee.pending,ee.pending===ee.pending_buf_size)){Q=1;break}Q=ee.gzindex<ee.gzhead.comment.length?255&ee.gzhead.comment.charCodeAt(ee.gzindex++):0,W(ee,Q)}while(Q!==0);ee.gzhead.hcrc&&ee.pending>V&&(B.adler=u(B.adler,ee.pending_buf,ee.pending-V,V)),Q===0&&(ee.status=103)}else ee.status=103;if(ee.status===103&&(ee.gzhead.hcrc?(ee.pending+2>ee.pending_buf_size&&F(B),ee.pending+2<=ee.pending_buf_size&&(W(ee,255&B.adler),W(ee,B.adler>>8&255),B.adler=0,ee.status=L)):ee.status=L),ee.pending!==0){if(F(B),B.avail_out===0)return ee.last_flush=-1,f}else if(B.avail_in===0&&M(le)<=M(de)&&le!==d)return z(B,-5);if(ee.status===666&&B.avail_in!==0)return z(B,-5);if(B.avail_in!==0||ee.lookahead!==0||le!==h&&ee.status!==666){var he=ee.strategy===2?function(ne,te){for(var ie;;){if(ne.lookahead===0&&(G(ne),ne.lookahead===0)){if(te===h)return D;break}if(ne.match_length=0,ie=a._tr_tally(ne,0,ne.window[ne.strstart]),ne.lookahead--,ne.strstart++,ie&&(O(ne,!1),ne.strm.avail_out===0))return D}return ne.insert=0,te===d?(O(ne,!0),ne.strm.avail_out===0?R:P):ne.last_lit&&(O(ne,!1),ne.strm.avail_out===0)?D:$}(ee,le):ee.strategy===3?function(ne,te){for(var ie,oe,me,we,Ee=ne.window;;){if(ne.lookahead<=N){if(G(ne),ne.lookahead<=N&&te===h)return D;if(ne.lookahead===0)break}if(ne.match_length=0,ne.lookahead>=U&&0<ne.strstart&&(oe=Ee[me=ne.strstart-1])===Ee[++me]&&oe===Ee[++me]&&oe===Ee[++me]){we=ne.strstart+N;do;while(oe===Ee[++me]&&oe===Ee[++me]&&oe===Ee[++me]&&oe===Ee[++me]&&oe===Ee[++me]&&oe===Ee[++me]&&oe===Ee[++me]&&oe===Ee[++me]&&me<we);ne.match_length=N-(we-me),ne.match_length>ne.lookahead&&(ne.match_length=ne.lookahead)}if(ne.match_length>=U?(ie=a._tr_tally(ne,1,ne.match_length-U),ne.lookahead-=ne.match_length,ne.strstart+=ne.match_length,ne.match_length=0):(ie=a._tr_tally(ne,0,ne.window[ne.strstart]),ne.lookahead--,ne.strstart++),ie&&(O(ne,!1),ne.strm.avail_out===0))return D}return ne.insert=0,te===d?(O(ne,!0),ne.strm.avail_out===0?R:P):ne.last_lit&&(O(ne,!1),ne.strm.avail_out===0)?D:$}(ee,le):o[ee.level].func(ee,le);if(he!==R&&he!==P||(ee.status=666),he===D||he===R)return B.avail_out===0&&(ee.last_flush=-1),f;if(he===$&&(le===1?a._tr_align(ee):le!==5&&(a._tr_stored_block(ee,0,0,!1),le===3&&(q(ee.head),ee.lookahead===0&&(ee.strstart=0,ee.block_start=0,ee.insert=0))),F(B),B.avail_out===0))return ee.last_flush=-1,f}return le!==d?f:ee.wrap<=0?1:(ee.wrap===2?(W(ee,255&B.adler),W(ee,B.adler>>8&255),W(ee,B.adler>>16&255),W(ee,B.adler>>24&255),W(ee,255&B.total_in),W(ee,B.total_in>>8&255),W(ee,B.total_in>>16&255),W(ee,B.total_in>>24&255)):(J(ee,B.adler>>>16),J(ee,65535&B.adler)),F(B),0<ee.wrap&&(ee.wrap=-ee.wrap),ee.pending!==0?f:1)},r.deflateEnd=function(B){var le;return B&&B.state?(le=B.state.status)!==S&&le!==69&&le!==73&&le!==91&&le!==103&&le!==L&&le!==666?z(B,y):(B.state=null,le===L?z(B,-3):f):y},r.deflateSetDictionary=function(B,le){var de,ee,V,Q,ue,he,ne,te,ie=le.length;if(!B||!B.state||(Q=(de=B.state).wrap)===2||Q===1&&de.status!==S||de.lookahead)return y;for(Q===1&&(B.adler=l(B.adler,le,ie,0)),de.wrap=0,ie>=de.w_size&&(Q===0&&(q(de.head),de.strstart=0,de.block_start=0,de.insert=0),te=new s.Buf8(de.w_size),s.arraySet(te,le,ie-de.w_size,de.w_size,0),le=te,ie=de.w_size),ue=B.avail_in,he=B.next_in,ne=B.input,B.avail_in=ie,B.next_in=0,B.input=le,G(de);de.lookahead>=U;){for(ee=de.strstart,V=de.lookahead-(U-1);de.ins_h=(de.ins_h<<de.hash_shift^de.window[ee+U-1])&de.hash_mask,de.prev[ee&de.w_mask]=de.head[de.ins_h],de.head[de.ins_h]=ee,ee++,--V;);de.strstart=ee,de.lookahead=U-1,G(de)}return de.strstart+=de.lookahead,de.block_start=de.strstart,de.insert=de.lookahead,de.lookahead=0,de.match_length=de.prev_length=U-1,de.match_available=0,B.next_in=he,B.input=ne,B.avail_in=ue,de.wrap=Q,f},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,i,r){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,i,r){i.exports=function(o,s){var a,l,u,c,h,d,f,y,m,v,g,p,_,x,T,A,E,k,U,N,I,S,L,D,$;a=o.state,l=o.next_in,D=o.input,u=l+(o.avail_in-5),c=o.next_out,$=o.output,h=c-(s-o.avail_out),d=c+(o.avail_out-257),f=a.dmax,y=a.wsize,m=a.whave,v=a.wnext,g=a.window,p=a.hold,_=a.bits,x=a.lencode,T=a.distcode,A=(1<<a.lenbits)-1,E=(1<<a.distbits)-1;e:do{_<15&&(p+=D[l++]<<_,_+=8,p+=D[l++]<<_,_+=8),k=x[p&A];t:for(;;){if(p>>>=U=k>>>24,_-=U,(U=k>>>16&255)===0)$[c++]=65535&k;else{if(!(16&U)){if(!(64&U)){k=x[(65535&k)+(p&(1<<U)-1)];continue t}if(32&U){a.mode=12;break e}o.msg="invalid literal/length code",a.mode=30;break e}N=65535&k,(U&=15)&&(_<U&&(p+=D[l++]<<_,_+=8),N+=p&(1<<U)-1,p>>>=U,_-=U),_<15&&(p+=D[l++]<<_,_+=8,p+=D[l++]<<_,_+=8),k=T[p&E];n:for(;;){if(p>>>=U=k>>>24,_-=U,!(16&(U=k>>>16&255))){if(!(64&U)){k=T[(65535&k)+(p&(1<<U)-1)];continue n}o.msg="invalid distance code",a.mode=30;break e}if(I=65535&k,_<(U&=15)&&(p+=D[l++]<<_,(_+=8)<U&&(p+=D[l++]<<_,_+=8)),f<(I+=p&(1<<U)-1)){o.msg="invalid distance too far back",a.mode=30;break e}if(p>>>=U,_-=U,(U=c-h)<I){if(m<(U=I-U)&&a.sane){o.msg="invalid distance too far back",a.mode=30;break e}if(L=g,(S=0)===v){if(S+=y-U,U<N){for(N-=U;$[c++]=g[S++],--U;);S=c-I,L=$}}else if(v<U){if(S+=y+v-U,(U-=v)<N){for(N-=U;$[c++]=g[S++],--U;);if(S=0,v<N){for(N-=U=v;$[c++]=g[S++],--U;);S=c-I,L=$}}}else if(S+=v-U,U<N){for(N-=U;$[c++]=g[S++],--U;);S=c-I,L=$}for(;2<N;)$[c++]=L[S++],$[c++]=L[S++],$[c++]=L[S++],N-=3;N&&($[c++]=L[S++],1<N&&($[c++]=L[S++]))}else{for(S=c-I;$[c++]=$[S++],$[c++]=$[S++],$[c++]=$[S++],2<(N-=3););N&&($[c++]=$[S++],1<N&&($[c++]=$[S++]))}break}}break}}while(l<u&&c<d);l-=N=_>>3,p&=(1<<(_-=N<<3))-1,o.next_in=l,o.next_out=c,o.avail_in=l<u?u-l+5:5-(l-u),o.avail_out=c<d?d-c+257:257-(c-d),a.hold=p,a.bits=_}},{}],49:[function(n,i,r){var o=n("../utils/common"),s=n("./adler32"),a=n("./crc32"),l=n("./inffast"),u=n("./inftrees"),c=1,h=2,d=0,f=-2,y=1,m=852,v=592;function g(S){return(S>>>24&255)+(S>>>8&65280)+((65280&S)<<8)+((255&S)<<24)}function p(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(S){var L;return S&&S.state?(L=S.state,S.total_in=S.total_out=L.total=0,S.msg="",L.wrap&&(S.adler=1&L.wrap),L.mode=y,L.last=0,L.havedict=0,L.dmax=32768,L.head=null,L.hold=0,L.bits=0,L.lencode=L.lendyn=new o.Buf32(m),L.distcode=L.distdyn=new o.Buf32(v),L.sane=1,L.back=-1,d):f}function x(S){var L;return S&&S.state?((L=S.state).wsize=0,L.whave=0,L.wnext=0,_(S)):f}function T(S,L){var D,$;return S&&S.state?($=S.state,L<0?(D=0,L=-L):(D=1+(L>>4),L<48&&(L&=15)),L&&(L<8||15<L)?f:($.window!==null&&$.wbits!==L&&($.window=null),$.wrap=D,$.wbits=L,x(S))):f}function A(S,L){var D,$;return S?($=new p,(S.state=$).window=null,(D=T(S,L))!==d&&(S.state=null),D):f}var E,k,U=!0;function N(S){if(U){var L;for(E=new o.Buf32(512),k=new o.Buf32(32),L=0;L<144;)S.lens[L++]=8;for(;L<256;)S.lens[L++]=9;for(;L<280;)S.lens[L++]=7;for(;L<288;)S.lens[L++]=8;for(u(c,S.lens,0,288,E,0,S.work,{bits:9}),L=0;L<32;)S.lens[L++]=5;u(h,S.lens,0,32,k,0,S.work,{bits:5}),U=!1}S.lencode=E,S.lenbits=9,S.distcode=k,S.distbits=5}function I(S,L,D,$){var R,P=S.state;return P.window===null&&(P.wsize=1<<P.wbits,P.wnext=0,P.whave=0,P.window=new o.Buf8(P.wsize)),$>=P.wsize?(o.arraySet(P.window,L,D-P.wsize,P.wsize,0),P.wnext=0,P.whave=P.wsize):($<(R=P.wsize-P.wnext)&&(R=$),o.arraySet(P.window,L,D-$,R,P.wnext),($-=R)?(o.arraySet(P.window,L,D-$,$,0),P.wnext=$,P.whave=P.wsize):(P.wnext+=R,P.wnext===P.wsize&&(P.wnext=0),P.whave<P.wsize&&(P.whave+=R))),0}r.inflateReset=x,r.inflateReset2=T,r.inflateResetKeep=_,r.inflateInit=function(S){return A(S,15)},r.inflateInit2=A,r.inflate=function(S,L){var D,$,R,P,z,M,q,F,O,W,J,K,G,Z,re,ae,ge,ve,se,pe,B,le,de,ee,V=0,Q=new o.Buf8(4),ue=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&S.avail_in!==0)return f;(D=S.state).mode===12&&(D.mode=13),z=S.next_out,R=S.output,q=S.avail_out,P=S.next_in,$=S.input,M=S.avail_in,F=D.hold,O=D.bits,W=M,J=q,le=d;e:for(;;)switch(D.mode){case y:if(D.wrap===0){D.mode=13;break}for(;O<16;){if(M===0)break e;M--,F+=$[P++]<<O,O+=8}if(2&D.wrap&&F===35615){Q[D.check=0]=255&F,Q[1]=F>>>8&255,D.check=a(D.check,Q,2,0),O=F=0,D.mode=2;break}if(D.flags=0,D.head&&(D.head.done=!1),!(1&D.wrap)||(((255&F)<<8)+(F>>8))%31){S.msg="incorrect header check",D.mode=30;break}if((15&F)!=8){S.msg="unknown compression method",D.mode=30;break}if(O-=4,B=8+(15&(F>>>=4)),D.wbits===0)D.wbits=B;else if(B>D.wbits){S.msg="invalid window size",D.mode=30;break}D.dmax=1<<B,S.adler=D.check=1,D.mode=512&F?10:12,O=F=0;break;case 2:for(;O<16;){if(M===0)break e;M--,F+=$[P++]<<O,O+=8}if(D.flags=F,(255&D.flags)!=8){S.msg="unknown compression method",D.mode=30;break}if(57344&D.flags){S.msg="unknown header flags set",D.mode=30;break}D.head&&(D.head.text=F>>8&1),512&D.flags&&(Q[0]=255&F,Q[1]=F>>>8&255,D.check=a(D.check,Q,2,0)),O=F=0,D.mode=3;case 3:for(;O<32;){if(M===0)break e;M--,F+=$[P++]<<O,O+=8}D.head&&(D.head.time=F),512&D.flags&&(Q[0]=255&F,Q[1]=F>>>8&255,Q[2]=F>>>16&255,Q[3]=F>>>24&255,D.check=a(D.check,Q,4,0)),O=F=0,D.mode=4;case 4:for(;O<16;){if(M===0)break e;M--,F+=$[P++]<<O,O+=8}D.head&&(D.head.xflags=255&F,D.head.os=F>>8),512&D.flags&&(Q[0]=255&F,Q[1]=F>>>8&255,D.check=a(D.check,Q,2,0)),O=F=0,D.mode=5;case 5:if(1024&D.flags){for(;O<16;){if(M===0)break e;M--,F+=$[P++]<<O,O+=8}D.length=F,D.head&&(D.head.extra_len=F),512&D.flags&&(Q[0]=255&F,Q[1]=F>>>8&255,D.check=a(D.check,Q,2,0)),O=F=0}else D.head&&(D.head.extra=null);D.mode=6;case 6:if(1024&D.flags&&(M<(K=D.length)&&(K=M),K&&(D.head&&(B=D.head.extra_len-D.length,D.head.extra||(D.head.extra=new Array(D.head.extra_len)),o.arraySet(D.head.extra,$,P,K,B)),512&D.flags&&(D.check=a(D.check,$,K,P)),M-=K,P+=K,D.length-=K),D.length))break e;D.length=0,D.mode=7;case 7:if(2048&D.flags){if(M===0)break e;for(K=0;B=$[P+K++],D.head&&B&&D.length<65536&&(D.head.name+=String.fromCharCode(B)),B&&K<M;);if(512&D.flags&&(D.check=a(D.check,$,K,P)),M-=K,P+=K,B)break e}else D.head&&(D.head.name=null);D.length=0,D.mode=8;case 8:if(4096&D.flags){if(M===0)break e;for(K=0;B=$[P+K++],D.head&&B&&D.length<65536&&(D.head.comment+=String.fromCharCode(B)),B&&K<M;);if(512&D.flags&&(D.check=a(D.check,$,K,P)),M-=K,P+=K,B)break e}else D.head&&(D.head.comment=null);D.mode=9;case 9:if(512&D.flags){for(;O<16;){if(M===0)break e;M--,F+=$[P++]<<O,O+=8}if(F!==(65535&D.check)){S.msg="header crc mismatch",D.mode=30;break}O=F=0}D.head&&(D.head.hcrc=D.flags>>9&1,D.head.done=!0),S.adler=D.check=0,D.mode=12;break;case 10:for(;O<32;){if(M===0)break e;M--,F+=$[P++]<<O,O+=8}S.adler=D.check=g(F),O=F=0,D.mode=11;case 11:if(D.havedict===0)return S.next_out=z,S.avail_out=q,S.next_in=P,S.avail_in=M,D.hold=F,D.bits=O,2;S.adler=D.check=1,D.mode=12;case 12:if(L===5||L===6)break e;case 13:if(D.last){F>>>=7&O,O-=7&O,D.mode=27;break}for(;O<3;){if(M===0)break e;M--,F+=$[P++]<<O,O+=8}switch(D.last=1&F,O-=1,3&(F>>>=1)){case 0:D.mode=14;break;case 1:if(N(D),D.mode=20,L!==6)break;F>>>=2,O-=2;break e;case 2:D.mode=17;break;case 3:S.msg="invalid block type",D.mode=30}F>>>=2,O-=2;break;case 14:for(F>>>=7&O,O-=7&O;O<32;){if(M===0)break e;M--,F+=$[P++]<<O,O+=8}if((65535&F)!=(F>>>16^65535)){S.msg="invalid stored block lengths",D.mode=30;break}if(D.length=65535&F,O=F=0,D.mode=15,L===6)break e;case 15:D.mode=16;case 16:if(K=D.length){if(M<K&&(K=M),q<K&&(K=q),K===0)break e;o.arraySet(R,$,P,K,z),M-=K,P+=K,q-=K,z+=K,D.length-=K;break}D.mode=12;break;case 17:for(;O<14;){if(M===0)break e;M--,F+=$[P++]<<O,O+=8}if(D.nlen=257+(31&F),F>>>=5,O-=5,D.ndist=1+(31&F),F>>>=5,O-=5,D.ncode=4+(15&F),F>>>=4,O-=4,286<D.nlen||30<D.ndist){S.msg="too many length or distance symbols",D.mode=30;break}D.have=0,D.mode=18;case 18:for(;D.have<D.ncode;){for(;O<3;){if(M===0)break e;M--,F+=$[P++]<<O,O+=8}D.lens[ue[D.have++]]=7&F,F>>>=3,O-=3}for(;D.have<19;)D.lens[ue[D.have++]]=0;if(D.lencode=D.lendyn,D.lenbits=7,de={bits:D.lenbits},le=u(0,D.lens,0,19,D.lencode,0,D.work,de),D.lenbits=de.bits,le){S.msg="invalid code lengths set",D.mode=30;break}D.have=0,D.mode=19;case 19:for(;D.have<D.nlen+D.ndist;){for(;ae=(V=D.lencode[F&(1<<D.lenbits)-1])>>>16&255,ge=65535&V,!((re=V>>>24)<=O);){if(M===0)break e;M--,F+=$[P++]<<O,O+=8}if(ge<16)F>>>=re,O-=re,D.lens[D.have++]=ge;else{if(ge===16){for(ee=re+2;O<ee;){if(M===0)break e;M--,F+=$[P++]<<O,O+=8}if(F>>>=re,O-=re,D.have===0){S.msg="invalid bit length repeat",D.mode=30;break}B=D.lens[D.have-1],K=3+(3&F),F>>>=2,O-=2}else if(ge===17){for(ee=re+3;O<ee;){if(M===0)break e;M--,F+=$[P++]<<O,O+=8}O-=re,B=0,K=3+(7&(F>>>=re)),F>>>=3,O-=3}else{for(ee=re+7;O<ee;){if(M===0)break e;M--,F+=$[P++]<<O,O+=8}O-=re,B=0,K=11+(127&(F>>>=re)),F>>>=7,O-=7}if(D.have+K>D.nlen+D.ndist){S.msg="invalid bit length repeat",D.mode=30;break}for(;K--;)D.lens[D.have++]=B}}if(D.mode===30)break;if(D.lens[256]===0){S.msg="invalid code -- missing end-of-block",D.mode=30;break}if(D.lenbits=9,de={bits:D.lenbits},le=u(c,D.lens,0,D.nlen,D.lencode,0,D.work,de),D.lenbits=de.bits,le){S.msg="invalid literal/lengths set",D.mode=30;break}if(D.distbits=6,D.distcode=D.distdyn,de={bits:D.distbits},le=u(h,D.lens,D.nlen,D.ndist,D.distcode,0,D.work,de),D.distbits=de.bits,le){S.msg="invalid distances set",D.mode=30;break}if(D.mode=20,L===6)break e;case 20:D.mode=21;case 21:if(6<=M&&258<=q){S.next_out=z,S.avail_out=q,S.next_in=P,S.avail_in=M,D.hold=F,D.bits=O,l(S,J),z=S.next_out,R=S.output,q=S.avail_out,P=S.next_in,$=S.input,M=S.avail_in,F=D.hold,O=D.bits,D.mode===12&&(D.back=-1);break}for(D.back=0;ae=(V=D.lencode[F&(1<<D.lenbits)-1])>>>16&255,ge=65535&V,!((re=V>>>24)<=O);){if(M===0)break e;M--,F+=$[P++]<<O,O+=8}if(ae&&!(240&ae)){for(ve=re,se=ae,pe=ge;ae=(V=D.lencode[pe+((F&(1<<ve+se)-1)>>ve)])>>>16&255,ge=65535&V,!(ve+(re=V>>>24)<=O);){if(M===0)break e;M--,F+=$[P++]<<O,O+=8}F>>>=ve,O-=ve,D.back+=ve}if(F>>>=re,O-=re,D.back+=re,D.length=ge,ae===0){D.mode=26;break}if(32&ae){D.back=-1,D.mode=12;break}if(64&ae){S.msg="invalid literal/length code",D.mode=30;break}D.extra=15&ae,D.mode=22;case 22:if(D.extra){for(ee=D.extra;O<ee;){if(M===0)break e;M--,F+=$[P++]<<O,O+=8}D.length+=F&(1<<D.extra)-1,F>>>=D.extra,O-=D.extra,D.back+=D.extra}D.was=D.length,D.mode=23;case 23:for(;ae=(V=D.distcode[F&(1<<D.distbits)-1])>>>16&255,ge=65535&V,!((re=V>>>24)<=O);){if(M===0)break e;M--,F+=$[P++]<<O,O+=8}if(!(240&ae)){for(ve=re,se=ae,pe=ge;ae=(V=D.distcode[pe+((F&(1<<ve+se)-1)>>ve)])>>>16&255,ge=65535&V,!(ve+(re=V>>>24)<=O);){if(M===0)break e;M--,F+=$[P++]<<O,O+=8}F>>>=ve,O-=ve,D.back+=ve}if(F>>>=re,O-=re,D.back+=re,64&ae){S.msg="invalid distance code",D.mode=30;break}D.offset=ge,D.extra=15&ae,D.mode=24;case 24:if(D.extra){for(ee=D.extra;O<ee;){if(M===0)break e;M--,F+=$[P++]<<O,O+=8}D.offset+=F&(1<<D.extra)-1,F>>>=D.extra,O-=D.extra,D.back+=D.extra}if(D.offset>D.dmax){S.msg="invalid distance too far back",D.mode=30;break}D.mode=25;case 25:if(q===0)break e;if(K=J-q,D.offset>K){if((K=D.offset-K)>D.whave&&D.sane){S.msg="invalid distance too far back",D.mode=30;break}G=K>D.wnext?(K-=D.wnext,D.wsize-K):D.wnext-K,K>D.length&&(K=D.length),Z=D.window}else Z=R,G=z-D.offset,K=D.length;for(q<K&&(K=q),q-=K,D.length-=K;R[z++]=Z[G++],--K;);D.length===0&&(D.mode=21);break;case 26:if(q===0)break e;R[z++]=D.length,q--,D.mode=21;break;case 27:if(D.wrap){for(;O<32;){if(M===0)break e;M--,F|=$[P++]<<O,O+=8}if(J-=q,S.total_out+=J,D.total+=J,J&&(S.adler=D.check=D.flags?a(D.check,R,J,z-J):s(D.check,R,J,z-J)),J=q,(D.flags?F:g(F))!==D.check){S.msg="incorrect data check",D.mode=30;break}O=F=0}D.mode=28;case 28:if(D.wrap&&D.flags){for(;O<32;){if(M===0)break e;M--,F+=$[P++]<<O,O+=8}if(F!==(4294967295&D.total)){S.msg="incorrect length check",D.mode=30;break}O=F=0}D.mode=29;case 29:le=1;break e;case 30:le=-3;break e;case 31:return-4;case 32:default:return f}return S.next_out=z,S.avail_out=q,S.next_in=P,S.avail_in=M,D.hold=F,D.bits=O,(D.wsize||J!==S.avail_out&&D.mode<30&&(D.mode<27||L!==4))&&I(S,S.output,S.next_out,J-S.avail_out)?(D.mode=31,-4):(W-=S.avail_in,J-=S.avail_out,S.total_in+=W,S.total_out+=J,D.total+=J,D.wrap&&J&&(S.adler=D.check=D.flags?a(D.check,R,J,S.next_out-J):s(D.check,R,J,S.next_out-J)),S.data_type=D.bits+(D.last?64:0)+(D.mode===12?128:0)+(D.mode===20||D.mode===15?256:0),(W==0&&J===0||L===4)&&le===d&&(le=-5),le)},r.inflateEnd=function(S){if(!S||!S.state)return f;var L=S.state;return L.window&&(L.window=null),S.state=null,d},r.inflateGetHeader=function(S,L){var D;return S&&S.state&&2&(D=S.state).wrap?((D.head=L).done=!1,d):f},r.inflateSetDictionary=function(S,L){var D,$=L.length;return S&&S.state?(D=S.state).wrap!==0&&D.mode!==11?f:D.mode===11&&s(1,L,$,0)!==D.check?-3:I(S,L,$,$)?(D.mode=31,-4):(D.havedict=1,d):f},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,i,r){var o=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(c,h,d,f,y,m,v,g){var p,_,x,T,A,E,k,U,N,I=g.bits,S=0,L=0,D=0,$=0,R=0,P=0,z=0,M=0,q=0,F=0,O=null,W=0,J=new o.Buf16(16),K=new o.Buf16(16),G=null,Z=0;for(S=0;S<=15;S++)J[S]=0;for(L=0;L<f;L++)J[h[d+L]]++;for(R=I,$=15;1<=$&&J[$]===0;$--);if($<R&&(R=$),$===0)return y[m++]=20971520,y[m++]=20971520,g.bits=1,0;for(D=1;D<$&&J[D]===0;D++);for(R<D&&(R=D),S=M=1;S<=15;S++)if(M<<=1,(M-=J[S])<0)return-1;if(0<M&&(c===0||$!==1))return-1;for(K[1]=0,S=1;S<15;S++)K[S+1]=K[S]+J[S];for(L=0;L<f;L++)h[d+L]!==0&&(v[K[h[d+L]]++]=L);if(E=c===0?(O=G=v,19):c===1?(O=s,W-=257,G=a,Z-=257,256):(O=l,G=u,-1),S=D,A=m,z=L=F=0,x=-1,T=(q=1<<(P=R))-1,c===1&&852<q||c===2&&592<q)return 1;for(;;){for(k=S-z,N=v[L]<E?(U=0,v[L]):v[L]>E?(U=G[Z+v[L]],O[W+v[L]]):(U=96,0),p=1<<S-z,D=_=1<<P;y[A+(F>>z)+(_-=p)]=k<<24|U<<16|N|0,_!==0;);for(p=1<<S-1;F&p;)p>>=1;if(p!==0?(F&=p-1,F+=p):F=0,L++,--J[S]==0){if(S===$)break;S=h[d+v[L]]}if(R<S&&(F&T)!==x){for(z===0&&(z=R),A+=D,M=1<<(P=S-z);P+z<$&&!((M-=J[P+z])<=0);)P++,M<<=1;if(q+=1<<P,c===1&&852<q||c===2&&592<q)return 1;y[x=F&T]=R<<24|P<<16|A-m|0}}return F!==0&&(y[A+F]=S-z<<24|64<<16|0),g.bits=R,0}},{"../utils/common":41}],51:[function(n,i,r){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,i,r){var o=n("../utils/common"),s=0,a=1;function l(V){for(var Q=V.length;0<=--Q;)V[Q]=0}var u=0,c=29,h=256,d=h+1+c,f=30,y=19,m=2*d+1,v=15,g=16,p=7,_=256,x=16,T=17,A=18,E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],U=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],I=new Array(2*(d+2));l(I);var S=new Array(2*f);l(S);var L=new Array(512);l(L);var D=new Array(256);l(D);var $=new Array(c);l($);var R,P,z,M=new Array(f);function q(V,Q,ue,he,ne){this.static_tree=V,this.extra_bits=Q,this.extra_base=ue,this.elems=he,this.max_length=ne,this.has_stree=V&&V.length}function F(V,Q){this.dyn_tree=V,this.max_code=0,this.stat_desc=Q}function O(V){return V<256?L[V]:L[256+(V>>>7)]}function W(V,Q){V.pending_buf[V.pending++]=255&Q,V.pending_buf[V.pending++]=Q>>>8&255}function J(V,Q,ue){V.bi_valid>g-ue?(V.bi_buf|=Q<<V.bi_valid&65535,W(V,V.bi_buf),V.bi_buf=Q>>g-V.bi_valid,V.bi_valid+=ue-g):(V.bi_buf|=Q<<V.bi_valid&65535,V.bi_valid+=ue)}function K(V,Q,ue){J(V,ue[2*Q],ue[2*Q+1])}function G(V,Q){for(var ue=0;ue|=1&V,V>>>=1,ue<<=1,0<--Q;);return ue>>>1}function Z(V,Q,ue){var he,ne,te=new Array(v+1),ie=0;for(he=1;he<=v;he++)te[he]=ie=ie+ue[he-1]<<1;for(ne=0;ne<=Q;ne++){var oe=V[2*ne+1];oe!==0&&(V[2*ne]=G(te[oe]++,oe))}}function re(V){var Q;for(Q=0;Q<d;Q++)V.dyn_ltree[2*Q]=0;for(Q=0;Q<f;Q++)V.dyn_dtree[2*Q]=0;for(Q=0;Q<y;Q++)V.bl_tree[2*Q]=0;V.dyn_ltree[2*_]=1,V.opt_len=V.static_len=0,V.last_lit=V.matches=0}function ae(V){8<V.bi_valid?W(V,V.bi_buf):0<V.bi_valid&&(V.pending_buf[V.pending++]=V.bi_buf),V.bi_buf=0,V.bi_valid=0}function ge(V,Q,ue,he){var ne=2*Q,te=2*ue;return V[ne]<V[te]||V[ne]===V[te]&&he[Q]<=he[ue]}function ve(V,Q,ue){for(var he=V.heap[ue],ne=ue<<1;ne<=V.heap_len&&(ne<V.heap_len&&ge(Q,V.heap[ne+1],V.heap[ne],V.depth)&&ne++,!ge(Q,he,V.heap[ne],V.depth));)V.heap[ue]=V.heap[ne],ue=ne,ne<<=1;V.heap[ue]=he}function se(V,Q,ue){var he,ne,te,ie,oe=0;if(V.last_lit!==0)for(;he=V.pending_buf[V.d_buf+2*oe]<<8|V.pending_buf[V.d_buf+2*oe+1],ne=V.pending_buf[V.l_buf+oe],oe++,he===0?K(V,ne,Q):(K(V,(te=D[ne])+h+1,Q),(ie=E[te])!==0&&J(V,ne-=$[te],ie),K(V,te=O(--he),ue),(ie=k[te])!==0&&J(V,he-=M[te],ie)),oe<V.last_lit;);K(V,_,Q)}function pe(V,Q){var ue,he,ne,te=Q.dyn_tree,ie=Q.stat_desc.static_tree,oe=Q.stat_desc.has_stree,me=Q.stat_desc.elems,we=-1;for(V.heap_len=0,V.heap_max=m,ue=0;ue<me;ue++)te[2*ue]!==0?(V.heap[++V.heap_len]=we=ue,V.depth[ue]=0):te[2*ue+1]=0;for(;V.heap_len<2;)te[2*(ne=V.heap[++V.heap_len]=we<2?++we:0)]=1,V.depth[ne]=0,V.opt_len--,oe&&(V.static_len-=ie[2*ne+1]);for(Q.max_code=we,ue=V.heap_len>>1;1<=ue;ue--)ve(V,te,ue);for(ne=me;ue=V.heap[1],V.heap[1]=V.heap[V.heap_len--],ve(V,te,1),he=V.heap[1],V.heap[--V.heap_max]=ue,V.heap[--V.heap_max]=he,te[2*ne]=te[2*ue]+te[2*he],V.depth[ne]=(V.depth[ue]>=V.depth[he]?V.depth[ue]:V.depth[he])+1,te[2*ue+1]=te[2*he+1]=ne,V.heap[1]=ne++,ve(V,te,1),2<=V.heap_len;);V.heap[--V.heap_max]=V.heap[1],function(Ee,je){var De,Xe,pt,tt,Zt,wn,sn=je.dyn_tree,Ds=je.max_code,yu=je.stat_desc.static_tree,pd=je.stat_desc.has_stree,so=je.stat_desc.extra_bits,ks=je.stat_desc.extra_base,Is=je.stat_desc.max_length,sr=0;for(tt=0;tt<=v;tt++)Ee.bl_count[tt]=0;for(sn[2*Ee.heap[Ee.heap_max]+1]=0,De=Ee.heap_max+1;De<m;De++)Is<(tt=sn[2*sn[2*(Xe=Ee.heap[De])+1]+1]+1)&&(tt=Is,sr++),sn[2*Xe+1]=tt,Ds<Xe||(Ee.bl_count[tt]++,Zt=0,ks<=Xe&&(Zt=so[Xe-ks]),wn=sn[2*Xe],Ee.opt_len+=wn*(tt+Zt),pd&&(Ee.static_len+=wn*(yu[2*Xe+1]+Zt)));if(sr!==0){do{for(tt=Is-1;Ee.bl_count[tt]===0;)tt--;Ee.bl_count[tt]--,Ee.bl_count[tt+1]+=2,Ee.bl_count[Is]--,sr-=2}while(0<sr);for(tt=Is;tt!==0;tt--)for(Xe=Ee.bl_count[tt];Xe!==0;)Ds<(pt=Ee.heap[--De])||(sn[2*pt+1]!==tt&&(Ee.opt_len+=(tt-sn[2*pt+1])*sn[2*pt],sn[2*pt+1]=tt),Xe--)}}(V,Q),Z(te,we,V.bl_count)}function B(V,Q,ue){var he,ne,te=-1,ie=Q[1],oe=0,me=7,we=4;for(ie===0&&(me=138,we=3),Q[2*(ue+1)+1]=65535,he=0;he<=ue;he++)ne=ie,ie=Q[2*(he+1)+1],++oe<me&&ne===ie||(oe<we?V.bl_tree[2*ne]+=oe:ne!==0?(ne!==te&&V.bl_tree[2*ne]++,V.bl_tree[2*x]++):oe<=10?V.bl_tree[2*T]++:V.bl_tree[2*A]++,te=ne,we=(oe=0)===ie?(me=138,3):ne===ie?(me=6,3):(me=7,4))}function le(V,Q,ue){var he,ne,te=-1,ie=Q[1],oe=0,me=7,we=4;for(ie===0&&(me=138,we=3),he=0;he<=ue;he++)if(ne=ie,ie=Q[2*(he+1)+1],!(++oe<me&&ne===ie)){if(oe<we)for(;K(V,ne,V.bl_tree),--oe!=0;);else ne!==0?(ne!==te&&(K(V,ne,V.bl_tree),oe--),K(V,x,V.bl_tree),J(V,oe-3,2)):oe<=10?(K(V,T,V.bl_tree),J(V,oe-3,3)):(K(V,A,V.bl_tree),J(V,oe-11,7));te=ne,we=(oe=0)===ie?(me=138,3):ne===ie?(me=6,3):(me=7,4)}}l(M);var de=!1;function ee(V,Q,ue,he){J(V,(u<<1)+(he?1:0),3),function(ne,te,ie,oe){ae(ne),W(ne,ie),W(ne,~ie),o.arraySet(ne.pending_buf,ne.window,te,ie,ne.pending),ne.pending+=ie}(V,Q,ue)}r._tr_init=function(V){de||(function(){var Q,ue,he,ne,te,ie=new Array(v+1);for(ne=he=0;ne<c-1;ne++)for($[ne]=he,Q=0;Q<1<<E[ne];Q++)D[he++]=ne;for(D[he-1]=ne,ne=te=0;ne<16;ne++)for(M[ne]=te,Q=0;Q<1<<k[ne];Q++)L[te++]=ne;for(te>>=7;ne<f;ne++)for(M[ne]=te<<7,Q=0;Q<1<<k[ne]-7;Q++)L[256+te++]=ne;for(ue=0;ue<=v;ue++)ie[ue]=0;for(Q=0;Q<=143;)I[2*Q+1]=8,Q++,ie[8]++;for(;Q<=255;)I[2*Q+1]=9,Q++,ie[9]++;for(;Q<=279;)I[2*Q+1]=7,Q++,ie[7]++;for(;Q<=287;)I[2*Q+1]=8,Q++,ie[8]++;for(Z(I,d+1,ie),Q=0;Q<f;Q++)S[2*Q+1]=5,S[2*Q]=G(Q,5);R=new q(I,E,h+1,d,v),P=new q(S,k,0,f,v),z=new q(new Array(0),U,0,y,p)}(),de=!0),V.l_desc=new F(V.dyn_ltree,R),V.d_desc=new F(V.dyn_dtree,P),V.bl_desc=new F(V.bl_tree,z),V.bi_buf=0,V.bi_valid=0,re(V)},r._tr_stored_block=ee,r._tr_flush_block=function(V,Q,ue,he){var ne,te,ie=0;0<V.level?(V.strm.data_type===2&&(V.strm.data_type=function(oe){var me,we=4093624447;for(me=0;me<=31;me++,we>>>=1)if(1&we&&oe.dyn_ltree[2*me]!==0)return s;if(oe.dyn_ltree[18]!==0||oe.dyn_ltree[20]!==0||oe.dyn_ltree[26]!==0)return a;for(me=32;me<h;me++)if(oe.dyn_ltree[2*me]!==0)return a;return s}(V)),pe(V,V.l_desc),pe(V,V.d_desc),ie=function(oe){var me;for(B(oe,oe.dyn_ltree,oe.l_desc.max_code),B(oe,oe.dyn_dtree,oe.d_desc.max_code),pe(oe,oe.bl_desc),me=y-1;3<=me&&oe.bl_tree[2*N[me]+1]===0;me--);return oe.opt_len+=3*(me+1)+5+5+4,me}(V),ne=V.opt_len+3+7>>>3,(te=V.static_len+3+7>>>3)<=ne&&(ne=te)):ne=te=ue+5,ue+4<=ne&&Q!==-1?ee(V,Q,ue,he):V.strategy===4||te===ne?(J(V,2+(he?1:0),3),se(V,I,S)):(J(V,4+(he?1:0),3),function(oe,me,we,Ee){var je;for(J(oe,me-257,5),J(oe,we-1,5),J(oe,Ee-4,4),je=0;je<Ee;je++)J(oe,oe.bl_tree[2*N[je]+1],3);le(oe,oe.dyn_ltree,me-1),le(oe,oe.dyn_dtree,we-1)}(V,V.l_desc.max_code+1,V.d_desc.max_code+1,ie+1),se(V,V.dyn_ltree,V.dyn_dtree)),re(V),he&&ae(V)},r._tr_tally=function(V,Q,ue){return V.pending_buf[V.d_buf+2*V.last_lit]=Q>>>8&255,V.pending_buf[V.d_buf+2*V.last_lit+1]=255&Q,V.pending_buf[V.l_buf+V.last_lit]=255&ue,V.last_lit++,Q===0?V.dyn_ltree[2*ue]++:(V.matches++,Q--,V.dyn_ltree[2*(D[ue]+h+1)]++,V.dyn_dtree[2*O(Q)]++),V.last_lit===V.lit_bufsize-1},r._tr_align=function(V){J(V,2,3),K(V,_,I),function(Q){Q.bi_valid===16?(W(Q,Q.bi_buf),Q.bi_buf=0,Q.bi_valid=0):8<=Q.bi_valid&&(Q.pending_buf[Q.pending++]=255&Q.bi_buf,Q.bi_buf>>=8,Q.bi_valid-=8)}(V)}},{"../utils/common":41}],53:[function(n,i,r){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,i,r){(function(o){(function(s,a){if(!s.setImmediate){var l,u,c,h,d=1,f={},y=!1,m=s.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(s);v=v&&v.setTimeout?v:s,l={}.toString.call(s.process)==="[object process]"?function(x){process.nextTick(function(){p(x)})}:function(){if(s.postMessage&&!s.importScripts){var x=!0,T=s.onmessage;return s.onmessage=function(){x=!1},s.postMessage("","*"),s.onmessage=T,x}}()?(h="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",_,!1):s.attachEvent("onmessage",_),function(x){s.postMessage(h+x,"*")}):s.MessageChannel?((c=new MessageChannel).port1.onmessage=function(x){p(x.data)},function(x){c.port2.postMessage(x)}):m&&"onreadystatechange"in m.createElement("script")?(u=m.documentElement,function(x){var T=m.createElement("script");T.onreadystatechange=function(){p(x),T.onreadystatechange=null,u.removeChild(T),T=null},u.appendChild(T)}):function(x){setTimeout(p,0,x)},v.setImmediate=function(x){typeof x!="function"&&(x=new Function(""+x));for(var T=new Array(arguments.length-1),A=0;A<T.length;A++)T[A]=arguments[A+1];var E={callback:x,args:T};return f[d]=E,l(d),d++},v.clearImmediate=g}function g(x){delete f[x]}function p(x){if(y)setTimeout(p,0,x);else{var T=f[x];if(T){y=!0;try{(function(A){var E=A.callback,k=A.args;switch(k.length){case 0:E();break;case 1:E(k[0]);break;case 2:E(k[0],k[1]);break;case 3:E(k[0],k[1],k[2]);break;default:E.apply(a,k)}})(T)}finally{g(x),y=!1}}}}function _(x){x.source===s&&typeof x.data=="string"&&x.data.indexOf(h)===0&&p(+x.data.slice(h.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof Ve<"u"?Ve:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(i6);var ZQ=i6.exports,QQ=I_,eee=ZQ;ev.openArrayBuffer=tee;ev.splitPath=nee;ev.joinPath=iee;function tee(t){return eee.loadAsync(t).then(function(e){function n(s){return e.file(s)!==null}function i(s,a){return e.file(s).async("uint8array").then(function(l){if(a==="base64")return QQ.fromByteArray(l);if(a){var u=new TextDecoder(a);return u.decode(l)}else return l})}function r(s,a){e.file(s,a)}function o(){return e.generateAsync({type:"arraybuffer"})}return{exists:n,read:i,write:r,toArrayBuffer:o}})}function nee(t){var e=t.lastIndexOf("/");return e===-1?{dirname:"",basename:t}:{dirname:t.substring(0,e),basename:t.substring(e+1)}}function iee(){var t=Array.prototype.filter.call(arguments,function(n){return n}),e=[];return t.forEach(function(n){/^\//.test(n)?e=[n]:e.push(n)}),e.join("/")}var nD={},Wa={},Zf={},F_=on;Zf.Element=Qf;Zf.element=function(t,e,n){return new Qf(t,e,n)};Zf.text=function(t){return{type:"text",value:t}};var r6=Zf.emptyElement={first:function(){return null},firstOrEmpty:function(){return r6},attributes:{},children:[]};function Qf(t,e,n){this.type="element",this.name=t,this.attributes=e||{},this.children=n||[]}Qf.prototype.first=function(t){return F_.find(this.children,function(e){return e.name===t})};Qf.prototype.firstOrEmpty=function(t){return this.first(t)||r6};Qf.prototype.getElementsByTagName=function(t){var e=F_.filter(this.children,function(n){return n.name===t});return o6(e)};Qf.prototype.text=function(){if(this.children.length===0)return"";if(this.children.length!==1||this.children[0].type!=="text")throw new Error("Not implemented");return this.children[0].value};var ree={getElementsByTagName:function(t){return o6(F_.flatten(this.map(function(e){return e.getElementsByTagName(t)},!0)))}};function o6(t){return F_.extend(t,ree)}var s6={},iD={},N_={},Es={},$a={};function oee(t,e,n){if(n===void 0&&(n=Array.prototype),t&&typeof n.find=="function")return n.find.call(t,e);for(var i=0;i<t.length;i++)if(Object.prototype.hasOwnProperty.call(t,i)){var r=t[i];if(e.call(void 0,r,i,t))return r}}function rD(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}function see(t,e){if(t===null||typeof t!="object")throw new TypeError("target is not an object");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}var a6=rD({HTML:"text/html",isHTML:function(t){return t===a6.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),l6=rD({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===l6.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});$a.assign=see;$a.find=oee;$a.freeze=rD;$a.MIME_TYPE=a6;$a.NAMESPACE=l6;var u6=$a,ys=u6.find,im=u6.NAMESPACE;function aee(t){return t!==""}function lee(t){return t?t.split(/[\t\n\f\r ]+/).filter(aee):[]}function uee(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function bN(t){if(!t)return[];var e=lee(t);return Object.keys(e.reduce(uee,{}))}function cee(t){return function(e){return t&&t.indexOf(e)!==-1}}function tv(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function ir(t,e){var n=t.prototype;if(!(n instanceof e)){let i=function(){};i.prototype=e.prototype,i=new i,tv(n,i),t.prototype=n=i}n.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),n.constructor=t)}var rr={},eo=rr.ELEMENT_NODE=1,Df=rr.ATTRIBUTE_NODE=2,z1=rr.TEXT_NODE=3,c6=rr.CDATA_SECTION_NODE=4,d6=rr.ENTITY_REFERENCE_NODE=5,dee=rr.ENTITY_NODE=6,h6=rr.PROCESSING_INSTRUCTION_NODE=7,f6=rr.COMMENT_NODE=8,p6=rr.DOCUMENT_NODE=9,g6=rr.DOCUMENT_TYPE_NODE=10,Ra=rr.DOCUMENT_FRAGMENT_NODE=11,hee=rr.NOTATION_NODE=12,pi={},Fn={};pi.INDEX_SIZE_ERR=(Fn[1]="Index size error",1);pi.DOMSTRING_SIZE_ERR=(Fn[2]="DOMString size error",2);var Gi=pi.HIERARCHY_REQUEST_ERR=(Fn[3]="Hierarchy request error",3);pi.WRONG_DOCUMENT_ERR=(Fn[4]="Wrong document",4);pi.INVALID_CHARACTER_ERR=(Fn[5]="Invalid character",5);pi.NO_DATA_ALLOWED_ERR=(Fn[6]="No data allowed",6);pi.NO_MODIFICATION_ALLOWED_ERR=(Fn[7]="No modification allowed",7);var m6=pi.NOT_FOUND_ERR=(Fn[8]="Not found",8);pi.NOT_SUPPORTED_ERR=(Fn[9]="Not supported",9);var _N=pi.INUSE_ATTRIBUTE_ERR=(Fn[10]="Attribute in use",10);pi.INVALID_STATE_ERR=(Fn[11]="Invalid state",11);pi.SYNTAX_ERR=(Fn[12]="Syntax error",12);pi.INVALID_MODIFICATION_ERR=(Fn[13]="Invalid modification",13);pi.NAMESPACE_ERR=(Fn[14]="Invalid namespace",14);pi.INVALID_ACCESS_ERR=(Fn[15]="Invalid access",15);function nn(t,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,Fn[t]),this.message=Fn[t],Error.captureStackTrace&&Error.captureStackTrace(this,nn);return n.code=t,e&&(this.message=this.message+": "+e),n}nn.prototype=Error.prototype;tv(pi,nn);function Ta(){}Ta.prototype={length:0,item:function(t){return t>=0&&t<this.length?this[t]:null},toString:function(t,e){for(var n=[],i=0;i<this.length;i++)Vd(this[i],n,t,e);return n.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}};function kf(t,e){this._node=t,this._refresh=e,oD(this)}function oD(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!==e){var n=t._refresh(t._node);if(D6(t,"length",n.length),!t.$$length||n.length<t.$$length)for(var i=n.length;i in t;i++)Object.prototype.hasOwnProperty.call(t,i)&&delete t[i];tv(n,t),t._inc=e}}kf.prototype.item=function(t){return oD(this),this[t]||null};ir(kf,Ta);function H1(){}function y6(t,e){for(var n=t.length;n--;)if(t[n]===e)return n}function xN(t,e,n,i){if(i?e[y6(e,i)]=n:e[e.length++]=n,t){n.ownerElement=t;var r=t.ownerDocument;r&&(i&&_6(r,t,i),fee(r,t,n))}}function wN(t,e,n){var i=y6(e,n);if(i>=0){for(var r=e.length-1;i<r;)e[i]=e[++i];if(e.length=r,t){var o=t.ownerDocument;o&&(_6(o,t,n),n.ownerElement=null)}}else throw new nn(m6,new Error(t.tagName+"@"+n))}H1.prototype={length:0,item:Ta.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new nn(_N);var n=this.getNamedItem(t.nodeName);return xN(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e=t.ownerElement,n;if(e&&e!=this._ownerElement)throw new nn(_N);return n=this.getNamedItemNS(t.namespaceURI,t.localName),xN(this._ownerElement,this,t,n),n},removeNamedItem:function(t){var e=this.getNamedItem(t);return wN(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e);return wN(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){for(var n=this.length;n--;){var i=this[n];if(i.localName==e&&i.namespaceURI==t)return i}return null}};function v6(){}v6.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,n){var i=new nv;if(i.implementation=this,i.childNodes=new Ta,i.doctype=n||null,n&&i.appendChild(n),e){var r=i.createElementNS(t,e);i.appendChild(r)}return i},createDocumentType:function(t,e,n){var i=new R_;return i.name=t,i.nodeName=t,i.publicId=e||"",i.systemId=n||"",i}};function _t(){}_t.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return V1(this,t,e)},replaceChild:function(t,e){V1(this,t,e,w6),e&&this.removeChild(e)},removeChild:function(t){return x6(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return xE(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==z1&&t.nodeType==z1?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var n=e._nsMap;if(n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)&&n[i]===t)return i}e=e.nodeType==Df?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var n=e._nsMap;if(n&&Object.prototype.hasOwnProperty.call(n,t))return n[t];e=e.nodeType==Df?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function b6(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}tv(rr,_t);tv(rr,_t.prototype);function rm(t,e){if(e(t))return!0;if(t=t.firstChild)do if(rm(t,e))return!0;while(t=t.nextSibling)}function nv(){this.ownerDocument=this}function fee(t,e,n){t&&t._inc++;var i=n.namespaceURI;i===im.XMLNS&&(e._nsMap[n.prefix?n.localName:""]=n.value)}function _6(t,e,n,i){t&&t._inc++;var r=n.namespaceURI;r===im.XMLNS&&delete e._nsMap[n.prefix?n.localName:""]}function sD(t,e,n){if(t&&t._inc){t._inc++;var i=e.childNodes;if(n)i[i.length++]=n;else{for(var r=e.firstChild,o=0;r;)i[o++]=r,r=r.nextSibling;i.length=o,delete i[i.length]}}}function x6(t,e){var n=e.previousSibling,i=e.nextSibling;return n?n.nextSibling=i:t.firstChild=i,i?i.previousSibling=n:t.lastChild=n,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,sD(t.ownerDocument,t),e}function pee(t){return t&&(t.nodeType===_t.DOCUMENT_NODE||t.nodeType===_t.DOCUMENT_FRAGMENT_NODE||t.nodeType===_t.ELEMENT_NODE)}function gee(t){return t&&(vs(t)||aD(t)||Ua(t)||t.nodeType===_t.DOCUMENT_FRAGMENT_NODE||t.nodeType===_t.COMMENT_NODE||t.nodeType===_t.PROCESSING_INSTRUCTION_NODE)}function Ua(t){return t&&t.nodeType===_t.DOCUMENT_TYPE_NODE}function vs(t){return t&&t.nodeType===_t.ELEMENT_NODE}function aD(t){return t&&t.nodeType===_t.TEXT_NODE}function TN(t,e){var n=t.childNodes||[];if(ys(n,vs)||Ua(e))return!1;var i=ys(n,Ua);return!(e&&i&&n.indexOf(i)>n.indexOf(e))}function CN(t,e){var n=t.childNodes||[];function i(o){return vs(o)&&o!==e}if(ys(n,i))return!1;var r=ys(n,Ua);return!(e&&r&&n.indexOf(r)>n.indexOf(e))}function mee(t,e,n){if(!pee(t))throw new nn(Gi,"Unexpected parent node type "+t.nodeType);if(n&&n.parentNode!==t)throw new nn(m6,"child not in parent");if(!gee(e)||Ua(e)&&t.nodeType!==_t.DOCUMENT_NODE)throw new nn(Gi,"Unexpected node type "+e.nodeType+" for parent node type "+t.nodeType)}function yee(t,e,n){var i=t.childNodes||[],r=e.childNodes||[];if(e.nodeType===_t.DOCUMENT_FRAGMENT_NODE){var o=r.filter(vs);if(o.length>1||ys(r,aD))throw new nn(Gi,"More than one element or text in fragment");if(o.length===1&&!TN(t,n))throw new nn(Gi,"Element in fragment can not be inserted before doctype")}if(vs(e)&&!TN(t,n))throw new nn(Gi,"Only one element can be added and only after doctype");if(Ua(e)){if(ys(i,Ua))throw new nn(Gi,"Only one doctype is allowed");var s=ys(i,vs);if(n&&i.indexOf(s)<i.indexOf(n))throw new nn(Gi,"Doctype can only be inserted before an element");if(!n&&s)throw new nn(Gi,"Doctype can not be appended since element is present")}}function w6(t,e,n){var i=t.childNodes||[],r=e.childNodes||[];if(e.nodeType===_t.DOCUMENT_FRAGMENT_NODE){var o=r.filter(vs);if(o.length>1||ys(r,aD))throw new nn(Gi,"More than one element or text in fragment");if(o.length===1&&!CN(t,n))throw new nn(Gi,"Element in fragment can not be inserted before doctype")}if(vs(e)&&!CN(t,n))throw new nn(Gi,"Only one element can be added and only after doctype");if(Ua(e)){if(ys(i,function(l){return Ua(l)&&l!==n}))throw new nn(Gi,"Only one doctype is allowed");var s=ys(i,vs);if(n&&i.indexOf(s)<i.indexOf(n))throw new nn(Gi,"Doctype can only be inserted before an element")}}function V1(t,e,n,i){mee(t,e,n),t.nodeType===_t.DOCUMENT_NODE&&(i||yee)(t,e,n);var r=e.parentNode;if(r&&r.removeChild(e),e.nodeType===Ra){var o=e.firstChild;if(o==null)return e;var s=e.lastChild}else o=s=e;var a=n?n.previousSibling:t.lastChild;o.previousSibling=a,s.nextSibling=n,a?a.nextSibling=o:t.firstChild=o,n==null?t.lastChild=s:n.previousSibling=s;do{o.parentNode=t;var l=t.ownerDocument||t;om(o,l)}while(o!==s&&(o=o.nextSibling));return sD(t.ownerDocument||t,t),e.nodeType==Ra&&(e.firstChild=e.lastChild=null),e}function om(t,e){if(t.ownerDocument!==e){if(t.ownerDocument=e,t.nodeType===eo&&t.attributes)for(var n=0;n<t.attributes.length;n++){var i=t.attributes.item(n);i&&(i.ownerDocument=e)}for(var r=t.firstChild;r;)om(r,e),r=r.nextSibling}}function vee(t,e){e.parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,sD(t.ownerDocument,t,e);var n=t.ownerDocument||t;return om(e,n),e}nv.prototype={nodeName:"#document",nodeType:p6,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==Ra){for(var n=t.firstChild;n;){var i=n.nextSibling;this.insertBefore(n,e),n=i}return t}return V1(this,t,e),om(t,this),this.documentElement===null&&t.nodeType===eo&&(this.documentElement=t),t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),x6(this,t)},replaceChild:function(t,e){V1(this,t,e,w6),om(t,this),e&&this.removeChild(e),vs(t)&&(this.documentElement=t)},importNode:function(t,e){return S6(this,t,e)},getElementById:function(t){var e=null;return rm(this.documentElement,function(n){if(n.nodeType==eo&&n.getAttribute("id")==t)return e=n,!0}),e},getElementsByClassName:function(t){var e=bN(t);return new kf(this,function(n){var i=[];return e.length>0&&rm(n.documentElement,function(r){if(r!==n&&r.nodeType===eo){var o=r.getAttribute("class");if(o){var s=t===o;if(!s){var a=bN(o);s=e.every(cee(a))}s&&i.push(r)}}}),i})},createElement:function(t){var e=new Jc;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new Ta;var n=e.attributes=new H1;return n._ownerElement=e,e},createDocumentFragment:function(){var t=new U_;return t.ownerDocument=this,t.childNodes=new Ta,t},createTextNode:function(t){var e=new lD;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new uD;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new cD;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new hD;return n.ownerDocument=this,n.tagName=n.nodeName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new G1;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new dD;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new Jc,i=e.split(":"),r=n.attributes=new H1;return n.childNodes=new Ta,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,i.length==2?(n.prefix=i[0],n.localName=i[1]):n.localName=e,r._ownerElement=n,n},createAttributeNS:function(t,e){var n=new G1,i=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,i.length==2?(n.prefix=i[0],n.localName=i[1]):n.localName=e,n}};ir(nv,_t);function Jc(){this._nsMap={}}Jc.prototype={nodeType:eo,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===Ra?this.insertBefore(t,null):vee(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);return n&&n.value||""},setAttributeNS:function(t,e,n){var i=this.ownerDocument.createAttributeNS(t,e);i.value=i.nodeValue=""+n,this.setAttributeNode(i)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new kf(this,function(e){var n=[];return rm(e,function(i){i!==e&&i.nodeType==eo&&(t==="*"||i.tagName==t)&&n.push(i)}),n})},getElementsByTagNameNS:function(t,e){return new kf(this,function(n){var i=[];return rm(n,function(r){r!==n&&r.nodeType===eo&&(t==="*"||r.namespaceURI===t)&&(e==="*"||r.localName==e)&&i.push(r)}),i})}};nv.prototype.getElementsByTagName=Jc.prototype.getElementsByTagName;nv.prototype.getElementsByTagNameNS=Jc.prototype.getElementsByTagNameNS;ir(Jc,_t);function G1(){}G1.prototype.nodeType=Df;ir(G1,_t);function iv(){}iv.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(Fn[Gi])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){var i=this.data.substring(0,t),r=this.data.substring(t+e);n=i+n+r,this.nodeValue=this.data=n,this.length=n.length}};ir(iv,_t);function lD(){}lD.prototype={nodeName:"#text",nodeType:z1,splitText:function(t){var e=this.data,n=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var i=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}};ir(lD,iv);function uD(){}uD.prototype={nodeName:"#comment",nodeType:f6};ir(uD,iv);function cD(){}cD.prototype={nodeName:"#cdata-section",nodeType:c6};ir(cD,iv);function R_(){}R_.prototype.nodeType=g6;ir(R_,_t);function T6(){}T6.prototype.nodeType=hee;ir(T6,_t);function C6(){}C6.prototype.nodeType=dee;ir(C6,_t);function dD(){}dD.prototype.nodeType=d6;ir(dD,_t);function U_(){}U_.prototype.nodeName="#document-fragment";U_.prototype.nodeType=Ra;ir(U_,_t);function hD(){}hD.prototype.nodeType=h6;ir(hD,_t);function E6(){}E6.prototype.serializeToString=function(t,e,n){return A6.call(t,e,n)};_t.prototype.toString=A6;function A6(t,e){var n=[],i=this.nodeType==9&&this.documentElement||this,r=i.prefix,o=i.namespaceURI;if(o&&r==null){var r=i.lookupPrefix(o);if(r==null)var s=[{namespace:o,prefix:null}]}return Vd(this,n,t,e,s),n.join("")}function EN(t,e,n){var i=t.prefix||"",r=t.namespaceURI;if(!r||i==="xml"&&r===im.XML||r===im.XMLNS)return!1;for(var o=n.length;o--;){var s=n[o];if(s.prefix===i)return s.namespace!==r}return!0}function ew(t,e,n){t.push(" ",e,'="',n.replace(/[<>&"\t\n\r]/g,b6),'"')}function Vd(t,e,n,i,r){if(r||(r=[]),i)if(t=i(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case eo:var o=t.attributes,s=o.length,g=t.firstChild,a=t.tagName;n=im.isHTML(t.namespaceURI)||n;var l=a;if(!n&&!t.prefix&&t.namespaceURI){for(var u,c=0;c<o.length;c++)if(o.item(c).name==="xmlns"){u=o.item(c).value;break}if(!u)for(var h=r.length-1;h>=0;h--){var d=r[h];if(d.prefix===""&&d.namespace===t.namespaceURI){u=d.namespace;break}}if(u!==t.namespaceURI)for(var h=r.length-1;h>=0;h--){var d=r[h];if(d.namespace===t.namespaceURI){d.prefix&&(l=d.prefix+":"+a);break}}}e.push("<",l);for(var f=0;f<s;f++){var y=o.item(f);y.prefix=="xmlns"?r.push({prefix:y.localName,namespace:y.value}):y.nodeName=="xmlns"&&r.push({prefix:"",namespace:y.value})}for(var f=0;f<s;f++){var y=o.item(f);if(EN(y,n,r)){var m=y.prefix||"",v=y.namespaceURI;ew(e,m?"xmlns:"+m:"xmlns",v),r.push({prefix:m,namespace:v})}Vd(y,e,n,i,r)}if(a===l&&EN(t,n,r)){var m=t.prefix||"",v=t.namespaceURI;ew(e,m?"xmlns:"+m:"xmlns",v),r.push({prefix:m,namespace:v})}if(g||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(a)){if(e.push(">"),n&&/^script$/i.test(a))for(;g;)g.data?e.push(g.data):Vd(g,e,n,i,r.slice()),g=g.nextSibling;else for(;g;)Vd(g,e,n,i,r.slice()),g=g.nextSibling;e.push("</",l,">")}else e.push("/>");return;case p6:case Ra:for(var g=t.firstChild;g;)Vd(g,e,n,i,r.slice()),g=g.nextSibling;return;case Df:return ew(e,t.name,t.value);case z1:return e.push(t.data.replace(/[<&>]/g,b6));case c6:return e.push("<![CDATA[",t.data,"]]>");case f6:return e.push("<!--",t.data,"-->");case g6:var p=t.publicId,_=t.systemId;if(e.push("<!DOCTYPE ",t.name),p)e.push(" PUBLIC ",p),_&&_!="."&&e.push(" ",_),e.push(">");else if(_&&_!=".")e.push(" SYSTEM ",_,">");else{var x=t.internalSubset;x&&e.push(" [",x,"]"),e.push(">")}return;case h6:return e.push("<?",t.target," ",t.data,"?>");case d6:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function S6(t,e,n){var i;switch(e.nodeType){case eo:i=e.cloneNode(!1),i.ownerDocument=t;case Ra:break;case Df:n=!0;break}if(i||(i=e.cloneNode(!1)),i.ownerDocument=t,i.parentNode=null,n)for(var r=e.firstChild;r;)i.appendChild(S6(t,r,n)),r=r.nextSibling;return i}function xE(t,e,n){var i=new e.constructor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=e[r];typeof o!="object"&&o!=i[r]&&(i[r]=o)}switch(e.childNodes&&(i.childNodes=new Ta),i.ownerDocument=t,i.nodeType){case eo:var s=e.attributes,a=i.attributes=new H1,l=s.length;a._ownerElement=i;for(var u=0;u<l;u++)i.setAttributeNode(xE(t,s.item(u),!0));break;case Df:n=!0}if(n)for(var c=e.firstChild;c;)i.appendChild(xE(t,c,n)),c=c.nextSibling;return i}function D6(t,e,n){t[e]=n}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case eo:case Ra:var n=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&n.push(t(e)),e=e.nextSibling;return n.join("");default:return e.nodeValue}};Object.defineProperty(kf.prototype,"length",{get:function(){return oD(this),this.$$length}}),Object.defineProperty(_t.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case eo:case Ra:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),D6=function(e,n,i){e["$$"+n]=i}}}catch{}Es.DocumentType=R_;Es.DOMException=nn;Es.DOMImplementation=v6;Es.Element=Jc;Es.Node=_t;Es.NodeList=Ta;Es.XMLSerializer=E6;var L_={},k6={};(function(t){var e=$a.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),t.entityMap=t.HTML_ENTITIES})(k6);var fD={},sm=$a.NAMESPACE,wE=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,AN=new RegExp("[\\-\\.0-9"+wE.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),SN=new RegExp("^"+wE.source+AN.source+"*(?::"+wE.source+AN.source+"*)?$"),Ap=0,ja=1,bd=2,Sp=3,_d=4,xd=5,Dp=6,qv=7;function If(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,If)}If.prototype=new Error;If.prototype.name=If.name;function I6(){}I6.prototype={parse:function(t,e,n){var i=this.domBuilder;i.startDocument(),F6(e,e={}),bee(t,e,n,i,this.errorHandler),i.endDocument()}};function bee(t,e,n,i,r){function o(R){if(R>65535){R-=65536;var P=55296+(R>>10),z=56320+(R&1023);return String.fromCharCode(P,z)}else return String.fromCharCode(R)}function s(R){var P=R.slice(1,-1);return Object.hasOwnProperty.call(n,P)?n[P]:P.charAt(0)==="#"?o(parseInt(P.substr(1).replace("x","0x"))):(r.error("entity not found:"+R),R)}function a(R){if(R>m){var P=t.substring(m,R).replace(/&#?\w+;/g,s);d&&l(m),i.characters(P,0,R-m),m=R}}function l(R,P){for(;R>=c&&(P=h.exec(t));)u=P.index,c=u+P[0].length,d.lineNumber++;d.columnNumber=R-u+1}for(var u=0,c=0,h=/.*(?:\r\n?|\n)|.*$/g,d=i.locator,f=[{currentNSMap:e}],y={},m=0;;){try{var v=t.indexOf("<",m);if(v<0){if(!t.substr(m).match(/^\s*$/)){var g=i.doc,p=g.createTextNode(t.substr(m));g.appendChild(p),i.currentElement=p}return}switch(v>m&&a(v),t.charAt(v+1)){case"/":var I=t.indexOf(">",v+3),_=t.substring(v+2,I).replace(/[ \t\n\r]+$/g,""),x=f.pop();I<0?(_=t.substring(v+2).replace(/[\s<].*/,""),r.error("end tag name: "+_+" is not complete:"+x.tagName),I=v+1+_.length):_.match(/\s</)&&(_=_.replace(/[\s<].*/,""),r.error("end tag name: "+_+" maybe not complete"),I=v+1+_.length);var T=x.localNSMap,A=x.tagName==_,E=A||x.tagName&&x.tagName.toLowerCase()==_.toLowerCase();if(E){if(i.endElement(x.uri,x.localName,_),T)for(var k in T)Object.prototype.hasOwnProperty.call(T,k)&&i.endPrefixMapping(k);A||r.fatalError("end tag name: "+_+" is not match the current start tagName:"+x.tagName)}else f.push(x);I++;break;case"?":d&&l(v),I=Cee(t,v,i);break;case"!":d&&l(v),I=Tee(t,v,i,r);break;default:d&&l(v);var U=new N6,N=f[f.length-1].currentNSMap,I=_ee(t,v,U,N,s,r),S=U.length;if(!U.closed&&wee(t,I,U.tagName,y)&&(U.closed=!0,n.nbsp||r.warning("unclosed xml attribute")),d&&S){for(var L=DN(d,{}),D=0;D<S;D++){var $=U[D];l($.offset),$.locator=DN(d,{})}i.locator=L,kN(U,i,N)&&f.push(U),i.locator=d}else kN(U,i,N)&&f.push(U);sm.isHTML(U.uri)&&!U.closed?I=xee(t,I,U.tagName,s,i):I++}}catch(R){if(R instanceof If)throw R;r.error("element parse error: "+R),I=-1}I>m?m=I:a(Math.max(v,m)+1)}}function DN(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function _ee(t,e,n,i,r,o){function s(d,f,y){n.attributeNames.hasOwnProperty(d)&&o.fatalError("Attribute "+d+" redefined"),n.addValue(d,f.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,r),y)}for(var a,l,u=++e,c=Ap;;){var h=t.charAt(u);switch(h){case"=":if(c===ja)a=t.slice(e,u),c=Sp;else if(c===bd)c=Sp;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(c===Sp||c===ja)if(c===ja&&(o.warning('attribute value must after "="'),a=t.slice(e,u)),e=u+1,u=t.indexOf(h,e),u>0)l=t.slice(e,u),s(a,l,e-1),c=xd;else throw new Error("attribute value no end '"+h+"' match");else if(c==_d)l=t.slice(e,u),s(a,l,e),o.warning('attribute "'+a+'" missed start quot('+h+")!!"),e=u+1,c=xd;else throw new Error('attribute value must after "="');break;case"/":switch(c){case Ap:n.setTagName(t.slice(e,u));case xd:case Dp:case qv:c=qv,n.closed=!0;case _d:case ja:break;case bd:n.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),c==Ap&&n.setTagName(t.slice(e,u)),u;case">":switch(c){case Ap:n.setTagName(t.slice(e,u));case xd:case Dp:case qv:break;case _d:case ja:l=t.slice(e,u),l.slice(-1)==="/"&&(n.closed=!0,l=l.slice(0,-1));case bd:c===bd&&(l=a),c==_d?(o.warning('attribute "'+l+'" missed quot(")!'),s(a,l,e)):((!sm.isHTML(i[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&o.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),s(l,l,e));break;case Sp:throw new Error("attribute value missed!!")}return u;case"":h=" ";default:if(h<=" ")switch(c){case Ap:n.setTagName(t.slice(e,u)),c=Dp;break;case ja:a=t.slice(e,u),c=bd;break;case _d:var l=t.slice(e,u);o.warning('attribute "'+l+'" missed quot(")!!'),s(a,l,e);case xd:c=Dp;break}else switch(c){case bd:n.tagName,(!sm.isHTML(i[""])||!a.match(/^(?:disabled|checked|selected)$/i))&&o.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),s(a,a,e),e=u,c=ja;break;case xd:o.warning('attribute space is required"'+a+'"!!');case Dp:c=ja,e=u;break;case Sp:c=_d,e=u;break;case qv:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function kN(t,e,n){for(var i=t.tagName,r=null,h=t.length;h--;){var o=t[h],s=o.qName,a=o.value,d=s.indexOf(":");if(d>0)var l=o.prefix=s.slice(0,d),u=s.slice(d+1),c=l==="xmlns"&&u;else u=s,l=null,c=s==="xmlns"&&"";o.localName=u,c!==!1&&(r==null&&(r={},F6(n,n={})),n[c]=r[c]=a,o.uri=sm.XMLNS,e.startPrefixMapping(c,a))}for(var h=t.length;h--;){o=t[h];var l=o.prefix;l&&(l==="xml"&&(o.uri=sm.XML),l!=="xmlns"&&(o.uri=n[l||""]))}var d=i.indexOf(":");d>0?(l=t.prefix=i.slice(0,d),u=t.localName=i.slice(d+1)):(l=null,u=t.localName=i);var f=t.uri=n[l||""];if(e.startElement(f,u,i,t),t.closed){if(e.endElement(f,u,i),r)for(l in r)Object.prototype.hasOwnProperty.call(r,l)&&e.endPrefixMapping(l)}else return t.currentNSMap=n,t.localNSMap=r,!0}function xee(t,e,n,i,r){if(/^(?:script|textarea)$/i.test(n)){var o=t.indexOf("</"+n+">",e),s=t.substring(e+1,o);if(/[&<]/.test(s))return/^script$/i.test(n)?(r.characters(s,0,s.length),o):(s=s.replace(/&#?\w+;/g,i),r.characters(s,0,s.length),o)}return e+1}function wee(t,e,n,i){var r=i[n];return r==null&&(r=t.lastIndexOf("</"+n+">"),r<e&&(r=t.lastIndexOf("</"+n)),i[n]=r),r<e}function F6(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function Tee(t,e,n,i){var r=t.charAt(e+2);switch(r){case"-":if(t.charAt(e+3)==="-"){var o=t.indexOf("-->",e+4);return o>e?(n.comment(t,e+4,o-e-4),o+3):(i.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var o=t.indexOf("]]>",e+9);return n.startCDATA(),n.characters(t,e+9,o-e-9),n.endCDATA(),o+3}var s=Eee(t,e),a=s.length;if(a>1&&/!doctype/i.test(s[0][0])){var l=s[1][0],u=!1,c=!1;a>3&&(/^public$/i.test(s[2][0])?(u=s[3][0],c=a>4&&s[4][0]):/^system$/i.test(s[2][0])&&(c=s[3][0]));var h=s[a-1];return n.startDTD(l,u,c),n.endDTD(),h.index+h[0].length}}return-1}function Cee(t,e,n){var i=t.indexOf("?>",e);if(i){var r=t.substring(e,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return r?(r[0].length,n.processingInstruction(r[1],r[2]),i+2):-1}return-1}function N6(){this.attributeNames={}}N6.prototype={setTagName:function(t){if(!SN.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,n){if(!SN.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function Eee(t,e){var n,i=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(r.lastIndex=e,r.exec(t);n=r.exec(t);)if(i.push(n),n[1])return i}fD.XMLReader=I6;fD.ParseError=If;var Aee=$a,See=Es,IN=k6,R6=fD,Dee=See.DOMImplementation,FN=Aee.NAMESPACE,kee=R6.ParseError,Iee=R6.XMLReader;function U6(t){return t.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function L6(t){this.options=t||{locator:{}}}L6.prototype.parseFromString=function(t,e){var n=this.options,i=new Iee,r=n.domBuilder||new rv,o=n.errorHandler,s=n.locator,a=n.xmlns||{},l=/\/x?html?$/.test(e),u=l?IN.HTML_ENTITIES:IN.XML_ENTITIES;s&&r.setDocumentLocator(s),i.errorHandler=Fee(o,r,s),i.domBuilder=n.domBuilder||r,l&&(a[""]=FN.HTML),a.xml=a.xml||FN.XML;var c=n.normalizeLineEndings||U6;return t&&typeof t=="string"?i.parse(c(t),a,u):i.errorHandler.error("invalid doc source"),r.doc};function Fee(t,e,n){if(!t){if(e instanceof rv)return e;t=e}var i={},r=t instanceof Function;n=n||{};function o(s){var a=t[s];!a&&r&&(a=t.length==2?function(l){t(s,l)}:t),i[s]=a&&function(l){a("[xmldom "+s+"]	"+l+TE(n))}||function(){}}return o("warning"),o("error"),o("fatalError"),i}function rv(){this.cdata=!1}function wd(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}rv.prototype={startDocument:function(){this.doc=new Dee().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,n,i){var r=this.doc,o=r.createElementNS(t,n||e),s=i.length;Wv(this,o),this.currentElement=o,this.locator&&wd(this.locator,o);for(var a=0;a<s;a++){var t=i.getURI(a),l=i.getValue(a),n=i.getQName(a),u=r.createAttributeNS(t,n);this.locator&&wd(i.getLocator(a),u),u.value=u.nodeValue=l,o.setAttributeNode(u)}},endElement:function(t,e,n){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.doc.createProcessingInstruction(t,e);this.locator&&wd(this.locator,n),Wv(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=NN.apply(this,arguments),t){if(this.cdata)var i=this.doc.createCDATASection(t);else var i=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(t)&&this.doc.appendChild(i),this.locator&&wd(this.locator,i)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=NN.apply(this,arguments);var i=this.doc.createComment(t);this.locator&&wd(this.locator,i),Wv(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var i=this.doc.implementation;if(i&&i.createDocumentType){var r=i.createDocumentType(t,e,n);this.locator&&wd(this.locator,r),Wv(this,r),this.doc.doctype=r}},warning:function(t){console.warn("[xmldom warning]	"+t,TE(this.locator))},error:function(t){console.error("[xmldom error]	"+t,TE(this.locator))},fatalError:function(t){throw new kee(t,this.locator)}};function TE(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function NN(t,e,n){return typeof t=="string"?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){rv.prototype[t]=function(){return null}});function Wv(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}L_.__DOMHandler=rv;L_.normalizeLineEndings=U6;L_.DOMParser=L6;var P6=Es;N_.DOMImplementation=P6.DOMImplementation;N_.XMLSerializer=P6.XMLSerializer;N_.DOMParser=L_.DOMParser;var Nee=N_,Ree=Es;function Uee(t){var e=null,n=new Nee.DOMParser({errorHandler:function(r,o){e={level:r,message:o}}}),i=n.parseFromString(t);if(e===null)return i;throw new Error(e.level+": "+e.message)}iD.parseFromString=Uee;iD.Node=Ree.Node;var tw=Nn,RN=on,M6=iD,O6=Zf,Lee=O6.Element;s6.readString=Pee;var UN=M6.Node;function Pee(t,e){e=e||{};try{var n=M6.parseFromString(t,"text/xml")}catch(s){return tw.reject(s)}if(n.documentElement.tagName==="parsererror")return tw.resolve(new Error(n.documentElement.textContent));function i(s){switch(s.nodeType){case UN.ELEMENT_NODE:return r(s);case UN.TEXT_NODE:return O6.text(s.nodeValue)}}function r(s){var a=o(s),l=[];RN.forEach(s.childNodes,function(c){var h=i(c);h&&l.push(h)});var u={};return RN.forEach(s.attributes,function(c){u[o(c)]=c.value}),new Lee(a,u,l)}function o(s){if(s.namespaceURI){var a=e[s.namespaceURI],l;return a?l=a+":":l="{"+s.namespaceURI+"}",l+s.localName}else return s.localName}return tw.resolve(i(n.documentElement))}var B6={},og={},Rs={},LN;function pu(){return LN||(LN=1,(function(){var t,e,n,i,r,o,s,a=[].slice,l={}.hasOwnProperty;t=function(){var u,c,h,d,f,y;if(y=arguments[0],f=2<=arguments.length?a.call(arguments,1):[],r(Object.assign))Object.assign.apply(null,arguments);else for(u=0,h=f.length;u<h;u++)if(d=f[u],d!=null)for(c in d)l.call(d,c)&&(y[c]=d[c]);return y},r=function(u){return!!u&&Object.prototype.toString.call(u)==="[object Function]"},o=function(u){var c;return!!u&&((c=typeof u)=="function"||c==="object")},n=function(u){return r(Array.isArray)?Array.isArray(u):Object.prototype.toString.call(u)==="[object Array]"},i=function(u){var c;if(n(u))return!u.length;for(c in u)if(l.call(u,c))return!1;return!0},s=function(u){var c,h;return o(u)&&(h=Object.getPrototypeOf(u))&&(c=h.constructor)&&typeof c=="function"&&c instanceof c&&Function.prototype.toString.call(c)===Function.prototype.toString.call(Object)},e=function(u){return r(u.valueOf)?u.valueOf():u},Rs.assign=t,Rs.isFunction=r,Rs.isObject=o,Rs.isArray=n,Rs.isEmpty=i,Rs.isPlainObject=s,Rs.getValue=e}).call(Ve)),Rs}var nw={exports:{}},iw={exports:{}},rw={exports:{}},ow={exports:{}},PN;function q6(){return PN||(PN=1,(function(){ow.exports=function(){function t(e,n,i){if(this.options=e.options,this.stringify=e.stringify,this.parent=e,n==null)throw new Error("Missing attribute name. "+this.debugInfo(n));if(i==null)throw new Error("Missing attribute value. "+this.debugInfo(n));this.name=this.stringify.attName(n),this.value=this.stringify.attValue(i)}return t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(e){return this.options.writer.set(e).attribute(this)},t.prototype.debugInfo=function(e){return e=e||this.name,e==null?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},t}()}).call(Ve)),ow.exports}var MN;function P_(){return MN||(MN=1,(function(){var t,e,n,i,r,o,s=function(l,u){for(var c in u)a.call(u,c)&&(l[c]=u[c]);function h(){this.constructor=l}return h.prototype=u.prototype,l.prototype=new h,l.__super__=u.prototype,l},a={}.hasOwnProperty;o=pu(),r=o.isObject,i=o.isFunction,n=o.getValue,e=or(),t=q6(),rw.exports=function(l){s(u,l);function u(c,h,d){if(u.__super__.constructor.call(this,c),h==null)throw new Error("Missing element name. "+this.debugInfo());this.name=this.stringify.eleName(h),this.attributes={},d!=null&&this.attribute(d),c.isDocument&&(this.isRoot=!0,this.documentObject=c,c.rootObject=this)}return u.prototype.clone=function(){var c,h,d,f;d=Object.create(this),d.isRoot&&(d.documentObject=null),d.attributes={},f=this.attributes;for(h in f)a.call(f,h)&&(c=f[h],d.attributes[h]=c.clone());return d.children=[],this.children.forEach(function(y){var m;return m=y.clone(),m.parent=d,d.children.push(m)}),d},u.prototype.attribute=function(c,h){var d,f;if(c!=null&&(c=n(c)),r(c))for(d in c)a.call(c,d)&&(f=c[d],this.attribute(d,f));else i(h)&&(h=h.apply()),(!this.options.skipNullAttributes||h!=null)&&(this.attributes[c]=new t(this,c,h));return this},u.prototype.removeAttribute=function(c){var h,d,f;if(c==null)throw new Error("Missing attribute name. "+this.debugInfo());if(c=n(c),Array.isArray(c))for(d=0,f=c.length;d<f;d++)h=c[d],delete this.attributes[h];else delete this.attributes[c];return this},u.prototype.toString=function(c){return this.options.writer.set(c).element(this)},u.prototype.att=function(c,h){return this.attribute(c,h)},u.prototype.a=function(c,h){return this.attribute(c,h)},u}(e)}).call(Ve)),rw.exports}var sw={exports:{}},ON;function M_(){return ON||(ON=1,(function(){var t,e=function(i,r){for(var o in r)n.call(r,o)&&(i[o]=r[o]);function s(){this.constructor=i}return s.prototype=r.prototype,i.prototype=new s,i.__super__=r.prototype,i},n={}.hasOwnProperty;t=or(),sw.exports=function(i){e(r,i);function r(o,s){if(r.__super__.constructor.call(this,o),s==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.text=this.stringify.cdata(s)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(o){return this.options.writer.set(o).cdata(this)},r}(t)}).call(Ve)),sw.exports}var aw={exports:{}},BN;function O_(){return BN||(BN=1,(function(){var t,e=function(i,r){for(var o in r)n.call(r,o)&&(i[o]=r[o]);function s(){this.constructor=i}return s.prototype=r.prototype,i.prototype=new s,i.__super__=r.prototype,i},n={}.hasOwnProperty;t=or(),aw.exports=function(i){e(r,i);function r(o,s){if(r.__super__.constructor.call(this,o),s==null)throw new Error("Missing comment text. "+this.debugInfo());this.text=this.stringify.comment(s)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(o){return this.options.writer.set(o).comment(this)},r}(t)}).call(Ve)),aw.exports}var lw={exports:{}},qN;function B_(){return qN||(qN=1,(function(){var t,e,n=function(r,o){for(var s in o)i.call(o,s)&&(r[s]=o[s]);function a(){this.constructor=r}return a.prototype=o.prototype,r.prototype=new a,r.__super__=o.prototype,r},i={}.hasOwnProperty;e=pu().isObject,t=or(),lw.exports=function(r){n(o,r);function o(s,a,l,u){var c;o.__super__.constructor.call(this,s),e(a)&&(c=a,a=c.version,l=c.encoding,u=c.standalone),a||(a="1.0"),this.version=this.stringify.xmlVersion(a),l!=null&&(this.encoding=this.stringify.xmlEncoding(l)),u!=null&&(this.standalone=this.stringify.xmlStandalone(u))}return o.prototype.toString=function(s){return this.options.writer.set(s).declaration(this)},o}(t)}).call(Ve)),lw.exports}var uw={exports:{}},cw={exports:{}},WN;function q_(){return WN||(WN=1,(function(){var t,e=function(i,r){for(var o in r)n.call(r,o)&&(i[o]=r[o]);function s(){this.constructor=i}return s.prototype=r.prototype,i.prototype=new s,i.__super__=r.prototype,i},n={}.hasOwnProperty;t=or(),cw.exports=function(i){e(r,i);function r(o,s,a,l,u,c){if(r.__super__.constructor.call(this,o),s==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(a==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(s));if(!l)throw new Error("Missing DTD attribute type. "+this.debugInfo(s));if(!u)throw new Error("Missing DTD attribute default. "+this.debugInfo(s));if(u.indexOf("#")!==0&&(u="#"+u),!u.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(s));if(c&&!u.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(s));this.elementName=this.stringify.eleName(s),this.attributeName=this.stringify.attName(a),this.attributeType=this.stringify.dtdAttType(l),this.defaultValue=this.stringify.dtdAttDefault(c),this.defaultValueType=u}return r.prototype.toString=function(o){return this.options.writer.set(o).dtdAttList(this)},r}(t)}).call(Ve)),cw.exports}var dw={exports:{}},$N;function W_(){return $N||($N=1,(function(){var t,e,n=function(r,o){for(var s in o)i.call(o,s)&&(r[s]=o[s]);function a(){this.constructor=r}return a.prototype=o.prototype,r.prototype=new a,r.__super__=o.prototype,r},i={}.hasOwnProperty;e=pu().isObject,t=or(),dw.exports=function(r){n(o,r);function o(s,a,l,u){if(o.__super__.constructor.call(this,s),l==null)throw new Error("Missing DTD entity name. "+this.debugInfo(l));if(u==null)throw new Error("Missing DTD entity value. "+this.debugInfo(l));if(this.pe=!!a,this.name=this.stringify.eleName(l),!e(u))this.value=this.stringify.dtdEntityValue(u);else{if(!u.pubID&&!u.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(l));if(u.pubID&&!u.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(l));if(u.pubID!=null&&(this.pubID=this.stringify.dtdPubID(u.pubID)),u.sysID!=null&&(this.sysID=this.stringify.dtdSysID(u.sysID)),u.nData!=null&&(this.nData=this.stringify.dtdNData(u.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(l))}}return o.prototype.toString=function(s){return this.options.writer.set(s).dtdEntity(this)},o}(t)}).call(Ve)),dw.exports}var hw={exports:{}},zN;function $_(){return zN||(zN=1,(function(){var t,e=function(i,r){for(var o in r)n.call(r,o)&&(i[o]=r[o]);function s(){this.constructor=i}return s.prototype=r.prototype,i.prototype=new s,i.__super__=r.prototype,i},n={}.hasOwnProperty;t=or(),hw.exports=function(i){e(r,i);function r(o,s,a){if(r.__super__.constructor.call(this,o),s==null)throw new Error("Missing DTD element name. "+this.debugInfo());a||(a="(#PCDATA)"),Array.isArray(a)&&(a="("+a.join(",")+")"),this.name=this.stringify.eleName(s),this.value=this.stringify.dtdElementValue(a)}return r.prototype.toString=function(o){return this.options.writer.set(o).dtdElement(this)},r}(t)}).call(Ve)),hw.exports}var fw={exports:{}},HN;function z_(){return HN||(HN=1,(function(){var t,e=function(i,r){for(var o in r)n.call(r,o)&&(i[o]=r[o]);function s(){this.constructor=i}return s.prototype=r.prototype,i.prototype=new s,i.__super__=r.prototype,i},n={}.hasOwnProperty;t=or(),fw.exports=function(i){e(r,i);function r(o,s,a){if(r.__super__.constructor.call(this,o),s==null)throw new Error("Missing DTD notation name. "+this.debugInfo(s));if(!a.pubID&&!a.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(s));this.name=this.stringify.eleName(s),a.pubID!=null&&(this.pubID=this.stringify.dtdPubID(a.pubID)),a.sysID!=null&&(this.sysID=this.stringify.dtdSysID(a.sysID))}return r.prototype.toString=function(o){return this.options.writer.set(o).dtdNotation(this)},r}(t)}).call(Ve)),fw.exports}var VN;function H_(){return VN||(VN=1,(function(){var t,e,n,i,r,o,s=function(l,u){for(var c in u)a.call(u,c)&&(l[c]=u[c]);function h(){this.constructor=l}return h.prototype=u.prototype,l.prototype=new h,l.__super__=u.prototype,l},a={}.hasOwnProperty;o=pu().isObject,r=or(),t=q_(),n=W_(),e=$_(),i=z_(),uw.exports=function(l){s(u,l);function u(c,h,d){var f,y;u.__super__.constructor.call(this,c),this.name="!DOCTYPE",this.documentObject=c,o(h)&&(f=h,h=f.pubID,d=f.sysID),d==null&&(y=[h,d],d=y[0],h=y[1]),h!=null&&(this.pubID=this.stringify.dtdPubID(h)),d!=null&&(this.sysID=this.stringify.dtdSysID(d))}return u.prototype.element=function(c,h){var d;return d=new e(this,c,h),this.children.push(d),this},u.prototype.attList=function(c,h,d,f,y){var m;return m=new t(this,c,h,d,f,y),this.children.push(m),this},u.prototype.entity=function(c,h){var d;return d=new n(this,!1,c,h),this.children.push(d),this},u.prototype.pEntity=function(c,h){var d;return d=new n(this,!0,c,h),this.children.push(d),this},u.prototype.notation=function(c,h){var d;return d=new i(this,c,h),this.children.push(d),this},u.prototype.toString=function(c){return this.options.writer.set(c).docType(this)},u.prototype.ele=function(c,h){return this.element(c,h)},u.prototype.att=function(c,h,d,f,y){return this.attList(c,h,d,f,y)},u.prototype.ent=function(c,h){return this.entity(c,h)},u.prototype.pent=function(c,h){return this.pEntity(c,h)},u.prototype.not=function(c,h){return this.notation(c,h)},u.prototype.up=function(){return this.root()||this.documentObject},u}(r)}).call(Ve)),uw.exports}var pw={exports:{}},GN;function V_(){return GN||(GN=1,(function(){var t,e=function(i,r){for(var o in r)n.call(r,o)&&(i[o]=r[o]);function s(){this.constructor=i}return s.prototype=r.prototype,i.prototype=new s,i.__super__=r.prototype,i},n={}.hasOwnProperty;t=or(),pw.exports=function(i){e(r,i);function r(o,s){if(r.__super__.constructor.call(this,o),s==null)throw new Error("Missing raw text. "+this.debugInfo());this.value=this.stringify.raw(s)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(o){return this.options.writer.set(o).raw(this)},r}(t)}).call(Ve)),pw.exports}var gw={exports:{}},jN;function G_(){return jN||(jN=1,(function(){var t,e=function(i,r){for(var o in r)n.call(r,o)&&(i[o]=r[o]);function s(){this.constructor=i}return s.prototype=r.prototype,i.prototype=new s,i.__super__=r.prototype,i},n={}.hasOwnProperty;t=or(),gw.exports=function(i){e(r,i);function r(o,s){if(r.__super__.constructor.call(this,o),s==null)throw new Error("Missing element text. "+this.debugInfo());this.value=this.stringify.eleText(s)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(o){return this.options.writer.set(o).text(this)},r}(t)}).call(Ve)),gw.exports}var mw={exports:{}},XN;function j_(){return XN||(XN=1,(function(){var t,e=function(i,r){for(var o in r)n.call(r,o)&&(i[o]=r[o]);function s(){this.constructor=i}return s.prototype=r.prototype,i.prototype=new s,i.__super__=r.prototype,i},n={}.hasOwnProperty;t=or(),mw.exports=function(i){e(r,i);function r(o,s,a){if(r.__super__.constructor.call(this,o),s==null)throw new Error("Missing instruction target. "+this.debugInfo());this.target=this.stringify.insTarget(s),a&&(this.value=this.stringify.insValue(a))}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(o){return this.options.writer.set(o).processingInstruction(this)},r}(t)}).call(Ve)),mw.exports}var yw={exports:{}},YN;function pD(){return YN||(YN=1,(function(){var t,e=function(i,r){for(var o in r)n.call(r,o)&&(i[o]=r[o]);function s(){this.constructor=i}return s.prototype=r.prototype,i.prototype=new s,i.__super__=r.prototype,i},n={}.hasOwnProperty;t=or(),yw.exports=function(i){e(r,i);function r(o){r.__super__.constructor.call(this,o),this.isDummy=!0}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(o){return""},r}(t)}).call(Ve)),yw.exports}var KN;function or(){return KN||(KN=1,(function(){var t,e,n,i,r,o,s,a,l,u,c,h,d,f,y={}.hasOwnProperty;f=pu(),d=f.isObject,h=f.isFunction,c=f.isEmpty,u=f.getValue,o=null,t=null,e=null,n=null,i=null,a=null,l=null,s=null,r=null,iw.exports=function(){function m(v){this.parent=v,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],o||(o=P_(),t=M_(),e=O_(),n=B_(),i=H_(),a=V_(),l=G_(),s=j_(),r=pD())}return m.prototype.element=function(v,g,p){var _,x,T,A,E,k,U,N,I,S,L;if(k=null,g===null&&p==null&&(I=[{},null],g=I[0],p=I[1]),g==null&&(g={}),g=u(g),d(g)||(S=[g,p],p=S[0],g=S[1]),v!=null&&(v=u(v)),Array.isArray(v))for(T=0,U=v.length;T<U;T++)x=v[T],k=this.element(x);else if(h(v))k=this.element(v.apply());else if(d(v)){for(E in v)if(y.call(v,E))if(L=v[E],h(L)&&(L=L.apply()),d(L)&&c(L)&&(L=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&E.indexOf(this.stringify.convertAttKey)===0)k=this.attribute(E.substr(this.stringify.convertAttKey.length),L);else if(!this.options.separateArrayItems&&Array.isArray(L))for(A=0,N=L.length;A<N;A++)x=L[A],_={},_[E]=x,k=this.element(_);else d(L)?(k=this.element(E),k.element(L)):k=this.element(E,L)}else this.options.skipNullNodes&&p===null?k=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&v.indexOf(this.stringify.convertTextKey)===0?k=this.text(p):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&v.indexOf(this.stringify.convertCDataKey)===0?k=this.cdata(p):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&v.indexOf(this.stringify.convertCommentKey)===0?k=this.comment(p):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&v.indexOf(this.stringify.convertRawKey)===0?k=this.raw(p):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&v.indexOf(this.stringify.convertPIKey)===0?k=this.instruction(v.substr(this.stringify.convertPIKey.length),p):k=this.node(v,g,p);if(k==null)throw new Error("Could not create any elements with: "+v+". "+this.debugInfo());return k},m.prototype.insertBefore=function(v,g,p){var _,x,T;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(v));return x=this.parent.children.indexOf(this),T=this.parent.children.splice(x),_=this.parent.element(v,g,p),Array.prototype.push.apply(this.parent.children,T),_},m.prototype.insertAfter=function(v,g,p){var _,x,T;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(v));return x=this.parent.children.indexOf(this),T=this.parent.children.splice(x+1),_=this.parent.element(v,g,p),Array.prototype.push.apply(this.parent.children,T),_},m.prototype.remove=function(){var v;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return v=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[v,v-v+1].concat([])),this.parent},m.prototype.node=function(v,g,p){var _,x;return v!=null&&(v=u(v)),g||(g={}),g=u(g),d(g)||(x=[g,p],p=x[0],g=x[1]),_=new o(this,v,g),p!=null&&_.text(p),this.children.push(_),_},m.prototype.text=function(v){var g;return g=new l(this,v),this.children.push(g),this},m.prototype.cdata=function(v){var g;return g=new t(this,v),this.children.push(g),this},m.prototype.comment=function(v){var g;return g=new e(this,v),this.children.push(g),this},m.prototype.commentBefore=function(v){var g,p;return g=this.parent.children.indexOf(this),p=this.parent.children.splice(g),this.parent.comment(v),Array.prototype.push.apply(this.parent.children,p),this},m.prototype.commentAfter=function(v){var g,p;return g=this.parent.children.indexOf(this),p=this.parent.children.splice(g+1),this.parent.comment(v),Array.prototype.push.apply(this.parent.children,p),this},m.prototype.raw=function(v){var g;return g=new a(this,v),this.children.push(g),this},m.prototype.dummy=function(){var v;return v=new r(this),this.children.push(v),v},m.prototype.instruction=function(v,g){var p,_,x,T,A;if(v!=null&&(v=u(v)),g!=null&&(g=u(g)),Array.isArray(v))for(T=0,A=v.length;T<A;T++)p=v[T],this.instruction(p);else if(d(v))for(p in v)y.call(v,p)&&(_=v[p],this.instruction(p,_));else h(g)&&(g=g.apply()),x=new s(this,v,g),this.children.push(x);return this},m.prototype.instructionBefore=function(v,g){var p,_;return p=this.parent.children.indexOf(this),_=this.parent.children.splice(p),this.parent.instruction(v,g),Array.prototype.push.apply(this.parent.children,_),this},m.prototype.instructionAfter=function(v,g){var p,_;return p=this.parent.children.indexOf(this),_=this.parent.children.splice(p+1),this.parent.instruction(v,g),Array.prototype.push.apply(this.parent.children,_),this},m.prototype.declaration=function(v,g,p){var _,x;return _=this.document(),x=new n(_,v,g,p),_.children[0]instanceof n?_.children[0]=x:_.children.unshift(x),_.root()||_},m.prototype.doctype=function(v,g){var p,_,x,T,A,E,k,U,N,I;for(_=this.document(),x=new i(_,v,g),N=_.children,T=A=0,k=N.length;A<k;T=++A)if(p=N[T],p instanceof i)return _.children[T]=x,x;for(I=_.children,T=E=0,U=I.length;E<U;T=++E)if(p=I[T],p.isRoot)return _.children.splice(T,0,x),x;return _.children.push(x),x},m.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},m.prototype.root=function(){var v;for(v=this;v;){if(v.isDocument)return v.rootObject;if(v.isRoot)return v;v=v.parent}},m.prototype.document=function(){var v;for(v=this;v;){if(v.isDocument)return v;v=v.parent}},m.prototype.end=function(v){return this.document().end(v)},m.prototype.prev=function(){var v;for(v=this.parent.children.indexOf(this);v>0&&this.parent.children[v-1].isDummy;)v=v-1;if(v<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[v-1]},m.prototype.next=function(){var v;for(v=this.parent.children.indexOf(this);v<this.parent.children.length-1&&this.parent.children[v+1].isDummy;)v=v+1;if(v===-1||v===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[v+1]},m.prototype.importDocument=function(v){var g;return g=v.root().clone(),g.parent=this,g.isRoot=!1,this.children.push(g),this},m.prototype.debugInfo=function(v){var g,p;return v=v||this.name,v==null&&!((g=this.parent)!=null&&g.name)?"":v==null?"parent: <"+this.parent.name+">":(p=this.parent)!=null&&p.name?"node: <"+v+">, parent: <"+this.parent.name+">":"node: <"+v+">"},m.prototype.ele=function(v,g,p){return this.element(v,g,p)},m.prototype.nod=function(v,g,p){return this.node(v,g,p)},m.prototype.txt=function(v){return this.text(v)},m.prototype.dat=function(v){return this.cdata(v)},m.prototype.com=function(v){return this.comment(v)},m.prototype.ins=function(v,g){return this.instruction(v,g)},m.prototype.doc=function(){return this.document()},m.prototype.dec=function(v,g,p){return this.declaration(v,g,p)},m.prototype.dtd=function(v,g){return this.doctype(v,g)},m.prototype.e=function(v,g,p){return this.element(v,g,p)},m.prototype.n=function(v,g,p){return this.node(v,g,p)},m.prototype.t=function(v){return this.text(v)},m.prototype.d=function(v){return this.cdata(v)},m.prototype.c=function(v){return this.comment(v)},m.prototype.r=function(v){return this.raw(v)},m.prototype.i=function(v,g){return this.instruction(v,g)},m.prototype.u=function(){return this.up()},m.prototype.importXMLBuilder=function(v){return this.importDocument(v)},m}()}).call(Ve)),iw.exports}var vw={exports:{}},JN;function W6(){return JN||(JN=1,(function(){var t=function(n,i){return function(){return n.apply(i,arguments)}},e={}.hasOwnProperty;vw.exports=function(){function n(i){this.assertLegalChar=t(this.assertLegalChar,this);var r,o,s;i||(i={}),this.noDoubleEncoding=i.noDoubleEncoding,o=i.stringify||{};for(r in o)e.call(o,r)&&(s=o[r],this[r]=s)}return n.prototype.eleName=function(i){return i=""+i||"",this.assertLegalChar(i)},n.prototype.eleText=function(i){return i=""+i||"",this.assertLegalChar(this.elEscape(i))},n.prototype.cdata=function(i){return i=""+i||"",i=i.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(i)},n.prototype.comment=function(i){if(i=""+i||"",i.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+i);return this.assertLegalChar(i)},n.prototype.raw=function(i){return""+i||""},n.prototype.attName=function(i){return i=""+i||""},n.prototype.attValue=function(i){return i=""+i||"",this.attEscape(i)},n.prototype.insTarget=function(i){return""+i||""},n.prototype.insValue=function(i){if(i=""+i||"",i.match(/\?>/))throw new Error("Invalid processing instruction value: "+i);return i},n.prototype.xmlVersion=function(i){if(i=""+i||"",!i.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+i);return i},n.prototype.xmlEncoding=function(i){if(i=""+i||"",!i.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+i);return i},n.prototype.xmlStandalone=function(i){return i?"yes":"no"},n.prototype.dtdPubID=function(i){return""+i||""},n.prototype.dtdSysID=function(i){return""+i||""},n.prototype.dtdElementValue=function(i){return""+i||""},n.prototype.dtdAttType=function(i){return""+i||""},n.prototype.dtdAttDefault=function(i){return i!=null?""+i||"":i},n.prototype.dtdEntityValue=function(i){return""+i||""},n.prototype.dtdNData=function(i){return""+i||""},n.prototype.convertAttKey="@",n.prototype.convertPIKey="?",n.prototype.convertTextKey="#text",n.prototype.convertCDataKey="#cdata",n.prototype.convertCommentKey="#comment",n.prototype.convertRawKey="#raw",n.prototype.assertLegalChar=function(i){var r;if(r=i.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),r)throw new Error("Invalid character in string: "+i+" at index "+r.index);return i},n.prototype.elEscape=function(i){var r;return r=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,i.replace(r,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},n.prototype.attEscape=function(i){var r;return r=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,i.replace(r,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},n}()}).call(Ve)),vw.exports}var bw={exports:{}},_w={exports:{}},ZN;function $6(){return ZN||(ZN=1,(function(){var t={}.hasOwnProperty;_w.exports=function(){function e(n){var i,r,o,s,a,l,u,c,h;n||(n={}),this.pretty=n.pretty||!1,this.allowEmpty=(r=n.allowEmpty)!=null?r:!1,this.pretty?(this.indent=(o=n.indent)!=null?o:"  ",this.newline=(s=n.newline)!=null?s:`
`,this.offset=(a=n.offset)!=null?a:0,this.dontprettytextnodes=(l=n.dontprettytextnodes)!=null?l:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=(u=n.spacebeforeslash)!=null?u:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,c=n.writer||{};for(i in c)t.call(c,i)&&(h=c[i],this[i]=h)}return e.prototype.set=function(n){var i,r,o;n||(n={}),"pretty"in n&&(this.pretty=n.pretty),"allowEmpty"in n&&(this.allowEmpty=n.allowEmpty),this.pretty?(this.indent="indent"in n?n.indent:"  ",this.newline="newline"in n?n.newline:`
`,this.offset="offset"in n?n.offset:0,this.dontprettytextnodes="dontprettytextnodes"in n?n.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in n?n.spacebeforeslash:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,r=n.writer||{};for(i in r)t.call(r,i)&&(o=r[i],this[i]=o);return this},e.prototype.space=function(n){var i;return this.pretty?(i=(n||0)+this.offset+1,i>0?new Array(i).join(this.indent):""):""},e}()}).call(Ve)),_w.exports}var QN;function gD(){return QN||(QN=1,(function(){var t,e,n,i,r,o,s,a,l,u,c,h,d,f,y=function(v,g){for(var p in g)m.call(g,p)&&(v[p]=g[p]);function _(){this.constructor=v}return _.prototype=g.prototype,v.prototype=new _,v.__super__=g.prototype,v},m={}.hasOwnProperty;s=B_(),a=H_(),t=M_(),e=O_(),u=P_(),h=V_(),d=G_(),c=j_(),l=pD(),n=q_(),i=$_(),r=W_(),o=z_(),f=$6(),bw.exports=function(v){y(g,v);function g(p){g.__super__.constructor.call(this,p)}return g.prototype.document=function(p){var _,x,T,A,E;for(this.textispresent=!1,A="",E=p.children,x=0,T=E.length;x<T;x++)_=E[x],!(_ instanceof l)&&(A+=(function(){switch(!1){case!(_ instanceof s):return this.declaration(_);case!(_ instanceof a):return this.docType(_);case!(_ instanceof e):return this.comment(_);case!(_ instanceof c):return this.processingInstruction(_);default:return this.element(_,0)}}).call(this));return this.pretty&&A.slice(-this.newline.length)===this.newline&&(A=A.slice(0,-this.newline.length)),A},g.prototype.attribute=function(p){return" "+p.name+'="'+p.value+'"'},g.prototype.cdata=function(p,_){return this.space(_)+"<![CDATA["+p.text+"]]>"+this.newline},g.prototype.comment=function(p,_){return this.space(_)+"<!-- "+p.text+" -->"+this.newline},g.prototype.declaration=function(p,_){var x;return x=this.space(_),x+='<?xml version="'+p.version+'"',p.encoding!=null&&(x+=' encoding="'+p.encoding+'"'),p.standalone!=null&&(x+=' standalone="'+p.standalone+'"'),x+=this.spacebeforeslash+"?>",x+=this.newline,x},g.prototype.docType=function(p,_){var x,T,A,E,k;if(_||(_=0),E=this.space(_),E+="<!DOCTYPE "+p.root().name,p.pubID&&p.sysID?E+=' PUBLIC "'+p.pubID+'" "'+p.sysID+'"':p.sysID&&(E+=' SYSTEM "'+p.sysID+'"'),p.children.length>0){for(E+=" [",E+=this.newline,k=p.children,T=0,A=k.length;T<A;T++)x=k[T],E+=(function(){switch(!1){case!(x instanceof n):return this.dtdAttList(x,_+1);case!(x instanceof i):return this.dtdElement(x,_+1);case!(x instanceof r):return this.dtdEntity(x,_+1);case!(x instanceof o):return this.dtdNotation(x,_+1);case!(x instanceof t):return this.cdata(x,_+1);case!(x instanceof e):return this.comment(x,_+1);case!(x instanceof c):return this.processingInstruction(x,_+1);default:throw new Error("Unknown DTD node type: "+x.constructor.name)}}).call(this);E+="]"}return E+=this.spacebeforeslash+">",E+=this.newline,E},g.prototype.element=function(p,_){var x,T,A,E,k,U,N,I,S,L,D,$,R;_||(_=0),R=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),$=this.space(_),I="",I+=$+"<"+p.name,S=p.attributes;for(N in S)m.call(S,N)&&(x=S[N],I+=this.attribute(x));if(p.children.length===0||p.children.every(function(P){return P.value===""}))this.allowEmpty?I+="></"+p.name+">"+this.newline:I+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&p.children.length===1&&p.children[0].value!=null)I+=">",I+=p.children[0].value,I+="</"+p.name+">"+this.newline;else{if(this.dontprettytextnodes){for(L=p.children,A=0,k=L.length;A<k;A++)if(T=L[A],T.value!=null){this.textispresent++,R=!0;break}}for(this.textispresent&&(this.newline="",this.pretty=!1,$=this.space(_)),I+=">"+this.newline,D=p.children,E=0,U=D.length;E<U;E++)T=D[E],I+=(function(){switch(!1){case!(T instanceof t):return this.cdata(T,_+1);case!(T instanceof e):return this.comment(T,_+1);case!(T instanceof u):return this.element(T,_+1);case!(T instanceof h):return this.raw(T,_+1);case!(T instanceof d):return this.text(T,_+1);case!(T instanceof c):return this.processingInstruction(T,_+1);case!(T instanceof l):return"";default:throw new Error("Unknown XML node type: "+T.constructor.name)}}).call(this);R&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),I+=$+"</"+p.name+">"+this.newline}return I},g.prototype.processingInstruction=function(p,_){var x;return x=this.space(_)+"<?"+p.target,p.value&&(x+=" "+p.value),x+=this.spacebeforeslash+"?>"+this.newline,x},g.prototype.raw=function(p,_){return this.space(_)+p.value+this.newline},g.prototype.text=function(p,_){return this.space(_)+p.value+this.newline},g.prototype.dtdAttList=function(p,_){var x;return x=this.space(_)+"<!ATTLIST "+p.elementName+" "+p.attributeName+" "+p.attributeType,p.defaultValueType!=="#DEFAULT"&&(x+=" "+p.defaultValueType),p.defaultValue&&(x+=' "'+p.defaultValue+'"'),x+=this.spacebeforeslash+">"+this.newline,x},g.prototype.dtdElement=function(p,_){return this.space(_)+"<!ELEMENT "+p.name+" "+p.value+this.spacebeforeslash+">"+this.newline},g.prototype.dtdEntity=function(p,_){var x;return x=this.space(_)+"<!ENTITY",p.pe&&(x+=" %"),x+=" "+p.name,p.value?x+=' "'+p.value+'"':(p.pubID&&p.sysID?x+=' PUBLIC "'+p.pubID+'" "'+p.sysID+'"':p.sysID&&(x+=' SYSTEM "'+p.sysID+'"'),p.nData&&(x+=" NDATA "+p.nData)),x+=this.spacebeforeslash+">"+this.newline,x},g.prototype.dtdNotation=function(p,_){var x;return x=this.space(_)+"<!NOTATION "+p.name,p.pubID&&p.sysID?x+=' PUBLIC "'+p.pubID+'" "'+p.sysID+'"':p.pubID?x+=' PUBLIC "'+p.pubID+'"':p.sysID&&(x+=' SYSTEM "'+p.sysID+'"'),x+=this.spacebeforeslash+">"+this.newline,x},g.prototype.openNode=function(p,_){var x,T,A,E;if(_||(_=0),p instanceof u){A=this.space(_)+"<"+p.name,E=p.attributes;for(T in E)m.call(E,T)&&(x=E[T],A+=this.attribute(x));return A+=(p.children?">":"/>")+this.newline,A}else return A=this.space(_)+"<!DOCTYPE "+p.rootNodeName,p.pubID&&p.sysID?A+=' PUBLIC "'+p.pubID+'" "'+p.sysID+'"':p.sysID&&(A+=' SYSTEM "'+p.sysID+'"'),A+=(p.children?" [":">")+this.newline,A},g.prototype.closeNode=function(p,_){switch(_||(_=0),!1){case!(p instanceof u):return this.space(_)+"</"+p.name+">"+this.newline;case!(p instanceof a):return this.space(_)+"]>"+this.newline}},g}(f)}).call(Ve)),bw.exports}var eR;function Mee(){return eR||(eR=1,(function(){var t,e,n,i,r=function(s,a){for(var l in a)o.call(a,l)&&(s[l]=a[l]);function u(){this.constructor=s}return u.prototype=a.prototype,s.prototype=new u,s.__super__=a.prototype,s},o={}.hasOwnProperty;i=pu().isPlainObject,t=or(),n=W6(),e=gD(),nw.exports=function(s){r(a,s);function a(l){a.__super__.constructor.call(this,null),this.name="?xml",l||(l={}),l.writer||(l.writer=new e),this.options=l,this.stringify=new n(l),this.isDocument=!0}return a.prototype.end=function(l){var u;return l?i(l)&&(u=l,l=this.options.writer.set(u)):l=this.options.writer,l.document(this)},a.prototype.toString=function(l){return this.options.writer.set(l).document(this)},a}(t)}).call(Ve)),nw.exports}var xw={exports:{}},tR;function Oee(){return tR||(tR=1,(function(){var t,e,n,i,r,o,s,a,l,u,c,h,d,f,y,m,v,g,p,_,x={}.hasOwnProperty;_=pu(),g=_.isObject,v=_.isFunction,p=_.isPlainObject,m=_.getValue,u=P_(),e=M_(),n=O_(),h=V_(),y=G_(),c=j_(),a=B_(),l=H_(),i=q_(),o=W_(),r=$_(),s=z_(),t=q6(),f=W6(),d=gD(),xw.exports=function(){function T(A,E,k){var U;this.name="?xml",A||(A={}),A.writer?p(A.writer)&&(U=A.writer,A.writer=new d(U)):A.writer=new d(A),this.options=A,this.writer=A.writer,this.stringify=new f(A),this.onDataCallback=E||function(){},this.onEndCallback=k||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return T.prototype.node=function(A,E,k){var U,N;if(A==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(A));return this.openCurrent(),A=m(A),E===null&&k==null&&(U=[{},null],E=U[0],k=U[1]),E==null&&(E={}),E=m(E),g(E)||(N=[E,k],k=N[0],E=N[1]),this.currentNode=new u(this,A,E),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,k!=null&&this.text(k),this},T.prototype.element=function(A,E,k){return this.currentNode&&this.currentNode instanceof l?this.dtdElement.apply(this,arguments):this.node(A,E,k)},T.prototype.attribute=function(A,E){var k,U;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(A));if(A!=null&&(A=m(A)),g(A))for(k in A)x.call(A,k)&&(U=A[k],this.attribute(k,U));else v(E)&&(E=E.apply()),(!this.options.skipNullAttributes||E!=null)&&(this.currentNode.attributes[A]=new t(this,A,E));return this},T.prototype.text=function(A){var E;return this.openCurrent(),E=new y(this,A),this.onData(this.writer.text(E,this.currentLevel+1),this.currentLevel+1),this},T.prototype.cdata=function(A){var E;return this.openCurrent(),E=new e(this,A),this.onData(this.writer.cdata(E,this.currentLevel+1),this.currentLevel+1),this},T.prototype.comment=function(A){var E;return this.openCurrent(),E=new n(this,A),this.onData(this.writer.comment(E,this.currentLevel+1),this.currentLevel+1),this},T.prototype.raw=function(A){var E;return this.openCurrent(),E=new h(this,A),this.onData(this.writer.raw(E,this.currentLevel+1),this.currentLevel+1),this},T.prototype.instruction=function(A,E){var k,U,N,I,S;if(this.openCurrent(),A!=null&&(A=m(A)),E!=null&&(E=m(E)),Array.isArray(A))for(k=0,I=A.length;k<I;k++)U=A[k],this.instruction(U);else if(g(A))for(U in A)x.call(A,U)&&(N=A[U],this.instruction(U,N));else v(E)&&(E=E.apply()),S=new c(this,A,E),this.onData(this.writer.processingInstruction(S,this.currentLevel+1),this.currentLevel+1);return this},T.prototype.declaration=function(A,E,k){var U;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return U=new a(this,A,E,k),this.onData(this.writer.declaration(U,this.currentLevel+1),this.currentLevel+1),this},T.prototype.doctype=function(A,E,k){if(this.openCurrent(),A==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new l(this,E,k),this.currentNode.rootNodeName=A,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},T.prototype.dtdElement=function(A,E){var k;return this.openCurrent(),k=new r(this,A,E),this.onData(this.writer.dtdElement(k,this.currentLevel+1),this.currentLevel+1),this},T.prototype.attList=function(A,E,k,U,N){var I;return this.openCurrent(),I=new i(this,A,E,k,U,N),this.onData(this.writer.dtdAttList(I,this.currentLevel+1),this.currentLevel+1),this},T.prototype.entity=function(A,E){var k;return this.openCurrent(),k=new o(this,!1,A,E),this.onData(this.writer.dtdEntity(k,this.currentLevel+1),this.currentLevel+1),this},T.prototype.pEntity=function(A,E){var k;return this.openCurrent(),k=new o(this,!0,A,E),this.onData(this.writer.dtdEntity(k,this.currentLevel+1),this.currentLevel+1),this},T.prototype.notation=function(A,E){var k;return this.openCurrent(),k=new s(this,A,E),this.onData(this.writer.dtdNotation(k,this.currentLevel+1),this.currentLevel+1),this},T.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},T.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},T.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},T.prototype.openNode=function(A){if(!A.isOpen)return!this.root&&this.currentLevel===0&&A instanceof u&&(this.root=A),this.onData(this.writer.openNode(A,this.currentLevel),this.currentLevel),A.isOpen=!0},T.prototype.closeNode=function(A){if(!A.isClosed)return this.onData(this.writer.closeNode(A,this.currentLevel),this.currentLevel),A.isClosed=!0},T.prototype.onData=function(A,E){return this.documentStarted=!0,this.onDataCallback(A,E+1)},T.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},T.prototype.debugInfo=function(A){return A==null?"":"node: <"+A+">"},T.prototype.ele=function(){return this.element.apply(this,arguments)},T.prototype.nod=function(A,E,k){return this.node(A,E,k)},T.prototype.txt=function(A){return this.text(A)},T.prototype.dat=function(A){return this.cdata(A)},T.prototype.com=function(A){return this.comment(A)},T.prototype.ins=function(A,E){return this.instruction(A,E)},T.prototype.dec=function(A,E,k){return this.declaration(A,E,k)},T.prototype.dtd=function(A,E,k){return this.doctype(A,E,k)},T.prototype.e=function(A,E,k){return this.element(A,E,k)},T.prototype.n=function(A,E,k){return this.node(A,E,k)},T.prototype.t=function(A){return this.text(A)},T.prototype.d=function(A){return this.cdata(A)},T.prototype.c=function(A){return this.comment(A)},T.prototype.r=function(A){return this.raw(A)},T.prototype.i=function(A,E){return this.instruction(A,E)},T.prototype.att=function(){return this.currentNode&&this.currentNode instanceof l?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},T.prototype.a=function(){return this.currentNode&&this.currentNode instanceof l?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},T.prototype.ent=function(A,E){return this.entity(A,E)},T.prototype.pent=function(A,E){return this.pEntity(A,E)},T.prototype.not=function(A,E){return this.notation(A,E)},T}()}).call(Ve)),xw.exports}var ww={exports:{}},nR;function Bee(){return nR||(nR=1,(function(){var t,e,n,i,r,o,s,a,l,u,c,h,d,f,y=function(v,g){for(var p in g)m.call(g,p)&&(v[p]=g[p]);function _(){this.constructor=v}return _.prototype=g.prototype,v.prototype=new _,v.__super__=g.prototype,v},m={}.hasOwnProperty;s=B_(),a=H_(),t=M_(),e=O_(),u=P_(),h=V_(),d=G_(),c=j_(),l=pD(),n=q_(),i=$_(),r=W_(),o=z_(),f=$6(),ww.exports=function(v){y(g,v);function g(p,_){g.__super__.constructor.call(this,_),this.stream=p}return g.prototype.document=function(p){var _,x,T,A,E,k,U,N;for(k=p.children,x=0,A=k.length;x<A;x++)_=k[x],_.isLastRootNode=!1;for(p.children[p.children.length-1].isLastRootNode=!0,U=p.children,N=[],T=0,E=U.length;T<E;T++)if(_=U[T],!(_ instanceof l))switch(!1){case!(_ instanceof s):N.push(this.declaration(_));break;case!(_ instanceof a):N.push(this.docType(_));break;case!(_ instanceof e):N.push(this.comment(_));break;case!(_ instanceof c):N.push(this.processingInstruction(_));break;default:N.push(this.element(_))}return N},g.prototype.attribute=function(p){return this.stream.write(" "+p.name+'="'+p.value+'"')},g.prototype.cdata=function(p,_){return this.stream.write(this.space(_)+"<![CDATA["+p.text+"]]>"+this.endline(p))},g.prototype.comment=function(p,_){return this.stream.write(this.space(_)+"<!-- "+p.text+" -->"+this.endline(p))},g.prototype.declaration=function(p,_){return this.stream.write(this.space(_)),this.stream.write('<?xml version="'+p.version+'"'),p.encoding!=null&&this.stream.write(' encoding="'+p.encoding+'"'),p.standalone!=null&&this.stream.write(' standalone="'+p.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(p))},g.prototype.docType=function(p,_){var x,T,A,E;if(_||(_=0),this.stream.write(this.space(_)),this.stream.write("<!DOCTYPE "+p.root().name),p.pubID&&p.sysID?this.stream.write(' PUBLIC "'+p.pubID+'" "'+p.sysID+'"'):p.sysID&&this.stream.write(' SYSTEM "'+p.sysID+'"'),p.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(p)),E=p.children,T=0,A=E.length;T<A;T++)switch(x=E[T],!1){case!(x instanceof n):this.dtdAttList(x,_+1);break;case!(x instanceof i):this.dtdElement(x,_+1);break;case!(x instanceof r):this.dtdEntity(x,_+1);break;case!(x instanceof o):this.dtdNotation(x,_+1);break;case!(x instanceof t):this.cdata(x,_+1);break;case!(x instanceof e):this.comment(x,_+1);break;case!(x instanceof c):this.processingInstruction(x,_+1);break;default:throw new Error("Unknown DTD node type: "+x.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(p))},g.prototype.element=function(p,_){var x,T,A,E,k,U,N,I;_||(_=0),I=this.space(_),this.stream.write(I+"<"+p.name),U=p.attributes;for(k in U)m.call(U,k)&&(x=U[k],this.attribute(x));if(p.children.length===0||p.children.every(function(S){return S.value===""}))this.allowEmpty?this.stream.write("></"+p.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&p.children.length===1&&p.children[0].value!=null)this.stream.write(">"),this.stream.write(p.children[0].value),this.stream.write("</"+p.name+">");else{for(this.stream.write(">"+this.newline),N=p.children,A=0,E=N.length;A<E;A++)switch(T=N[A],!1){case!(T instanceof t):this.cdata(T,_+1);break;case!(T instanceof e):this.comment(T,_+1);break;case!(T instanceof u):this.element(T,_+1);break;case!(T instanceof h):this.raw(T,_+1);break;case!(T instanceof d):this.text(T,_+1);break;case!(T instanceof c):this.processingInstruction(T,_+1);break;case!(T instanceof l):break;default:throw new Error("Unknown XML node type: "+T.constructor.name)}this.stream.write(I+"</"+p.name+">")}return this.stream.write(this.endline(p))},g.prototype.processingInstruction=function(p,_){return this.stream.write(this.space(_)+"<?"+p.target),p.value&&this.stream.write(" "+p.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(p))},g.prototype.raw=function(p,_){return this.stream.write(this.space(_)+p.value+this.endline(p))},g.prototype.text=function(p,_){return this.stream.write(this.space(_)+p.value+this.endline(p))},g.prototype.dtdAttList=function(p,_){return this.stream.write(this.space(_)+"<!ATTLIST "+p.elementName+" "+p.attributeName+" "+p.attributeType),p.defaultValueType!=="#DEFAULT"&&this.stream.write(" "+p.defaultValueType),p.defaultValue&&this.stream.write(' "'+p.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(p))},g.prototype.dtdElement=function(p,_){return this.stream.write(this.space(_)+"<!ELEMENT "+p.name+" "+p.value),this.stream.write(this.spacebeforeslash+">"+this.endline(p))},g.prototype.dtdEntity=function(p,_){return this.stream.write(this.space(_)+"<!ENTITY"),p.pe&&this.stream.write(" %"),this.stream.write(" "+p.name),p.value?this.stream.write(' "'+p.value+'"'):(p.pubID&&p.sysID?this.stream.write(' PUBLIC "'+p.pubID+'" "'+p.sysID+'"'):p.sysID&&this.stream.write(' SYSTEM "'+p.sysID+'"'),p.nData&&this.stream.write(" NDATA "+p.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(p))},g.prototype.dtdNotation=function(p,_){return this.stream.write(this.space(_)+"<!NOTATION "+p.name),p.pubID&&p.sysID?this.stream.write(' PUBLIC "'+p.pubID+'" "'+p.sysID+'"'):p.pubID?this.stream.write(' PUBLIC "'+p.pubID+'"'):p.sysID&&this.stream.write(' SYSTEM "'+p.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(p))},g.prototype.endline=function(p){return p.isLastRootNode?"":this.newline},g}(f)}).call(Ve)),ww.exports}(function(){var t,e,n,i,r,o,s;s=pu(),r=s.assign,o=s.isFunction,t=Mee(),e=Oee(),i=gD(),n=Bee(),og.create=function(a,l,u,c){var h,d;if(a==null)throw new Error("Root element needs a name.");return c=r({},l,u,c),h=new t(c),d=h.element(a),c.headless||(h.declaration(c),(c.pubID!=null||c.sysID!=null)&&h.doctype(c)),d},og.begin=function(a,l,u){var c;return o(a)&&(c=[a,l],l=c[0],u=c[1],a={}),l?new e(a,l,u):new t(a)},og.stringWriter=function(a){return new i(a)},og.streamWriter=function(a,l){return new n(a,l)}}).call(Ve);var iR=on,qee=og;B6.writeString=Wee;function Wee(t,e){var n=iR.invert(e),i={element:o,text:$ee};function r(l,u){return i[u.type](l,u)}function o(l,u){var c=l.element(s(u.name),u.attributes);u.children.forEach(function(h){r(c,h)})}function s(l){var u=/^\{(.*)\}(.*)$/.exec(l);if(u){var c=n[u[1]];return c+(c===""?"":":")+u[2]}else return l}function a(l){var u=qee.create(s(l.name),{version:"1.0",encoding:"UTF-8",standalone:!0});return iR.forEach(e,function(c,h){var d="xmlns"+(h===""?"":":"+h);u.attribute(d,c)}),l.children.forEach(function(c){r(u,c)}),u.end()}return a(t)}function $ee(t,e){t.text(e.value)}var X_=Zf;Wa.Element=X_.Element;Wa.element=X_.element;Wa.emptyElement=X_.emptyElement;Wa.text=X_.text;Wa.readString=s6.readString;Wa.writeString=B6.writeString;var zee=on,Hee=Nn,Vee=Wa;nD.read=z6;nD.readXmlFromZipFile=jee;var Gee={"http://schemas.openxmlformats.org/wordprocessingml/2006/main":"w","http://schemas.openxmlformats.org/officeDocument/2006/relationships":"r","http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing":"wp","http://schemas.openxmlformats.org/drawingml/2006/main":"a","http://schemas.openxmlformats.org/drawingml/2006/picture":"pic","http://purl.oclc.org/ooxml/wordprocessingml/main":"w","http://purl.oclc.org/ooxml/officeDocument/relationships":"r","http://purl.oclc.org/ooxml/drawingml/wordprocessingDrawing":"wp","http://purl.oclc.org/ooxml/drawingml/main":"a","http://purl.oclc.org/ooxml/drawingml/picture":"pic","http://schemas.openxmlformats.org/package/2006/content-types":"content-types","http://schemas.openxmlformats.org/package/2006/relationships":"relationships","http://schemas.openxmlformats.org/markup-compatibility/2006":"mc","urn:schemas-microsoft-com:vml":"v","urn:schemas-microsoft-com:office:word":"office-word","http://schemas.microsoft.com/office/word/2010/wordml":"wordml"};function z6(t){return Vee.readString(t,Gee).then(function(e){return H6(e)[0]})}function jee(t,e){return t.exists(e)?t.read(e,"utf-8").then(Xee).then(z6):Hee.resolve(null)}function Xee(t){return t.replace(/^\uFEFF/g,"")}function H6(t){return t.type==="element"?t.name==="mc:AlternateContent"?t.firstOrEmpty("mc:Fallback").children:(t.children=zee.flatten(t.children.map(H6,!0)),[t]):[t]}var mD={},Yl={},yD={};Object.defineProperty(yD,"__esModule",{value:!0});var Yee=[{"Typeface name":"Symbol","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Symbol","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"33","Unicode hex":"21"},{"Typeface name":"Symbol","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"8704","Unicode hex":"2200"},{"Typeface name":"Symbol","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"35","Unicode hex":"23"},{"Typeface name":"Symbol","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"8707","Unicode hex":"2203"},{"Typeface name":"Symbol","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"37","Unicode hex":"25"},{"Typeface name":"Symbol","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"38","Unicode hex":"26"},{"Typeface name":"Symbol","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"8717","Unicode hex":"220D"},{"Typeface name":"Symbol","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"40","Unicode hex":"28"},{"Typeface name":"Symbol","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"41","Unicode hex":"29"},{"Typeface name":"Symbol","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"42","Unicode hex":"2A"},{"Typeface name":"Symbol","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"43","Unicode hex":"2B"},{"Typeface name":"Symbol","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"44","Unicode hex":"2C"},{"Typeface name":"Symbol","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"8722","Unicode hex":"2212"},{"Typeface name":"Symbol","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"46","Unicode hex":"2E"},{"Typeface name":"Symbol","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"47","Unicode hex":"2F"},{"Typeface name":"Symbol","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"48","Unicode hex":"30"},{"Typeface name":"Symbol","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"49","Unicode hex":"31"},{"Typeface name":"Symbol","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"50","Unicode hex":"32"},{"Typeface name":"Symbol","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"51","Unicode hex":"33"},{"Typeface name":"Symbol","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"52","Unicode hex":"34"},{"Typeface name":"Symbol","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"53","Unicode hex":"35"},{"Typeface name":"Symbol","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"54","Unicode hex":"36"},{"Typeface name":"Symbol","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"55","Unicode hex":"37"},{"Typeface name":"Symbol","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"56","Unicode hex":"38"},{"Typeface name":"Symbol","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"57","Unicode hex":"39"},{"Typeface name":"Symbol","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"58","Unicode hex":"3A"},{"Typeface name":"Symbol","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"59","Unicode hex":"3B"},{"Typeface name":"Symbol","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"60","Unicode hex":"3C"},{"Typeface name":"Symbol","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"61","Unicode hex":"3D"},{"Typeface name":"Symbol","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"62","Unicode hex":"3E"},{"Typeface name":"Symbol","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"63","Unicode hex":"3F"},{"Typeface name":"Symbol","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"8773","Unicode hex":"2245"},{"Typeface name":"Symbol","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"913","Unicode hex":"391"},{"Typeface name":"Symbol","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"914","Unicode hex":"392"},{"Typeface name":"Symbol","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"935","Unicode hex":"3A7"},{"Typeface name":"Symbol","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"916","Unicode hex":"394"},{"Typeface name":"Symbol","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"917","Unicode hex":"395"},{"Typeface name":"Symbol","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"934","Unicode hex":"3A6"},{"Typeface name":"Symbol","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"915","Unicode hex":"393"},{"Typeface name":"Symbol","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"919","Unicode hex":"397"},{"Typeface name":"Symbol","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"921","Unicode hex":"399"},{"Typeface name":"Symbol","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"977","Unicode hex":"3D1"},{"Typeface name":"Symbol","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"922","Unicode hex":"39A"},{"Typeface name":"Symbol","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"923","Unicode hex":"39B"},{"Typeface name":"Symbol","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"924","Unicode hex":"39C"},{"Typeface name":"Symbol","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"925","Unicode hex":"39D"},{"Typeface name":"Symbol","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"927","Unicode hex":"39F"},{"Typeface name":"Symbol","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"928","Unicode hex":"3A0"},{"Typeface name":"Symbol","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"920","Unicode hex":"398"},{"Typeface name":"Symbol","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"929","Unicode hex":"3A1"},{"Typeface name":"Symbol","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"931","Unicode hex":"3A3"},{"Typeface name":"Symbol","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"932","Unicode hex":"3A4"},{"Typeface name":"Symbol","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"933","Unicode hex":"3A5"},{"Typeface name":"Symbol","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"962","Unicode hex":"3C2"},{"Typeface name":"Symbol","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"937","Unicode hex":"3A9"},{"Typeface name":"Symbol","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"926","Unicode hex":"39E"},{"Typeface name":"Symbol","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"936","Unicode hex":"3A8"},{"Typeface name":"Symbol","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"918","Unicode hex":"396"},{"Typeface name":"Symbol","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"91","Unicode hex":"5B"},{"Typeface name":"Symbol","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"8756","Unicode hex":"2234"},{"Typeface name":"Symbol","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"93","Unicode hex":"5D"},{"Typeface name":"Symbol","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"8869","Unicode hex":"22A5"},{"Typeface name":"Symbol","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"95","Unicode hex":"5F"},{"Typeface name":"Symbol","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"8254","Unicode hex":"203E"},{"Typeface name":"Symbol","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"945","Unicode hex":"3B1"},{"Typeface name":"Symbol","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"946","Unicode hex":"3B2"},{"Typeface name":"Symbol","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"967","Unicode hex":"3C7"},{"Typeface name":"Symbol","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"948","Unicode hex":"3B4"},{"Typeface name":"Symbol","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"949","Unicode hex":"3B5"},{"Typeface name":"Symbol","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"966","Unicode hex":"3C6"},{"Typeface name":"Symbol","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"947","Unicode hex":"3B3"},{"Typeface name":"Symbol","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"951","Unicode hex":"3B7"},{"Typeface name":"Symbol","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"953","Unicode hex":"3B9"},{"Typeface name":"Symbol","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"981","Unicode hex":"3D5"},{"Typeface name":"Symbol","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"954","Unicode hex":"3BA"},{"Typeface name":"Symbol","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"955","Unicode hex":"3BB"},{"Typeface name":"Symbol","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"956","Unicode hex":"3BC"},{"Typeface name":"Symbol","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"957","Unicode hex":"3BD"},{"Typeface name":"Symbol","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"959","Unicode hex":"3BF"},{"Typeface name":"Symbol","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"960","Unicode hex":"3C0"},{"Typeface name":"Symbol","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"952","Unicode hex":"3B8"},{"Typeface name":"Symbol","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"961","Unicode hex":"3C1"},{"Typeface name":"Symbol","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"963","Unicode hex":"3C3"},{"Typeface name":"Symbol","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"964","Unicode hex":"3C4"},{"Typeface name":"Symbol","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"965","Unicode hex":"3C5"},{"Typeface name":"Symbol","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"982","Unicode hex":"3D6"},{"Typeface name":"Symbol","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"969","Unicode hex":"3C9"},{"Typeface name":"Symbol","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"958","Unicode hex":"3BE"},{"Typeface name":"Symbol","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"968","Unicode hex":"3C8"},{"Typeface name":"Symbol","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"950","Unicode hex":"3B6"},{"Typeface name":"Symbol","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"123","Unicode hex":"7B"},{"Typeface name":"Symbol","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"124","Unicode hex":"7C"},{"Typeface name":"Symbol","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"125","Unicode hex":"7D"},{"Typeface name":"Symbol","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"126","Unicode hex":"7E"},{"Typeface name":"Symbol","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"8364","Unicode hex":"20AC"},{"Typeface name":"Symbol","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"978","Unicode hex":"3D2"},{"Typeface name":"Symbol","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"8242","Unicode hex":"2032"},{"Typeface name":"Symbol","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"8804","Unicode hex":"2264"},{"Typeface name":"Symbol","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"8260","Unicode hex":"2044"},{"Typeface name":"Symbol","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"8734","Unicode hex":"221E"},{"Typeface name":"Symbol","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"402","Unicode hex":"192"},{"Typeface name":"Symbol","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9827","Unicode hex":"2663"},{"Typeface name":"Symbol","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9830","Unicode hex":"2666"},{"Typeface name":"Symbol","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"9829","Unicode hex":"2665"},{"Typeface name":"Symbol","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"9824","Unicode hex":"2660"},{"Typeface name":"Symbol","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"8596","Unicode hex":"2194"},{"Typeface name":"Symbol","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"8592","Unicode hex":"2190"},{"Typeface name":"Symbol","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"8593","Unicode hex":"2191"},{"Typeface name":"Symbol","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"8594","Unicode hex":"2192"},{"Typeface name":"Symbol","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"8595","Unicode hex":"2193"},{"Typeface name":"Symbol","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"176","Unicode hex":"B0"},{"Typeface name":"Symbol","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"177","Unicode hex":"B1"},{"Typeface name":"Symbol","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"8243","Unicode hex":"2033"},{"Typeface name":"Symbol","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"8805","Unicode hex":"2265"},{"Typeface name":"Symbol","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"215","Unicode hex":"D7"},{"Typeface name":"Symbol","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"8733","Unicode hex":"221D"},{"Typeface name":"Symbol","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"8706","Unicode hex":"2202"},{"Typeface name":"Symbol","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Symbol","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"247","Unicode hex":"F7"},{"Typeface name":"Symbol","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"8800","Unicode hex":"2260"},{"Typeface name":"Symbol","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"8801","Unicode hex":"2261"},{"Typeface name":"Symbol","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"8776","Unicode hex":"2248"},{"Typeface name":"Symbol","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"8230","Unicode hex":"2026"},{"Typeface name":"Symbol","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Symbol","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"9135","Unicode hex":"23AF"},{"Typeface name":"Symbol","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"8629","Unicode hex":"21B5"},{"Typeface name":"Symbol","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"8501","Unicode hex":"2135"},{"Typeface name":"Symbol","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"8465","Unicode hex":"2111"},{"Typeface name":"Symbol","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"8476","Unicode hex":"211C"},{"Typeface name":"Symbol","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"8472","Unicode hex":"2118"},{"Typeface name":"Symbol","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"8855","Unicode hex":"2297"},{"Typeface name":"Symbol","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"8853","Unicode hex":"2295"},{"Typeface name":"Symbol","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"8709","Unicode hex":"2205"},{"Typeface name":"Symbol","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"8745","Unicode hex":"2229"},{"Typeface name":"Symbol","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"8746","Unicode hex":"222A"},{"Typeface name":"Symbol","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"8835","Unicode hex":"2283"},{"Typeface name":"Symbol","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"8839","Unicode hex":"2287"},{"Typeface name":"Symbol","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"8836","Unicode hex":"2284"},{"Typeface name":"Symbol","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"8834","Unicode hex":"2282"},{"Typeface name":"Symbol","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"8838","Unicode hex":"2286"},{"Typeface name":"Symbol","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"8712","Unicode hex":"2208"},{"Typeface name":"Symbol","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"8713","Unicode hex":"2209"},{"Typeface name":"Symbol","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"8736","Unicode hex":"2220"},{"Typeface name":"Symbol","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"8711","Unicode hex":"2207"},{"Typeface name":"Symbol","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"8719","Unicode hex":"220F"},{"Typeface name":"Symbol","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8730","Unicode hex":"221A"},{"Typeface name":"Symbol","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Symbol","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"172","Unicode hex":"AC"},{"Typeface name":"Symbol","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"8743","Unicode hex":"2227"},{"Typeface name":"Symbol","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"8744","Unicode hex":"2228"},{"Typeface name":"Symbol","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"8660","Unicode hex":"21D4"},{"Typeface name":"Symbol","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"8656","Unicode hex":"21D0"},{"Typeface name":"Symbol","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"8657","Unicode hex":"21D1"},{"Typeface name":"Symbol","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"8658","Unicode hex":"21D2"},{"Typeface name":"Symbol","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"8659","Unicode hex":"21D3"},{"Typeface name":"Symbol","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Symbol","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"12296","Unicode hex":"3008"},{"Typeface name":"Symbol","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"8721","Unicode hex":"2211"},{"Typeface name":"Symbol","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"9115","Unicode hex":"239B"},{"Typeface name":"Symbol","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"9116","Unicode hex":"239C"},{"Typeface name":"Symbol","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9117","Unicode hex":"239D"},{"Typeface name":"Symbol","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9121","Unicode hex":"23A1"},{"Typeface name":"Symbol","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"9122","Unicode hex":"23A2"},{"Typeface name":"Symbol","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"9123","Unicode hex":"23A3"},{"Typeface name":"Symbol","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"9127","Unicode hex":"23A7"},{"Typeface name":"Symbol","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"9128","Unicode hex":"23A8"},{"Typeface name":"Symbol","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"9129","Unicode hex":"23A9"},{"Typeface name":"Symbol","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"9130","Unicode hex":"23AA"},{"Typeface name":"Symbol","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"63743","Unicode hex":"F8FF"},{"Typeface name":"Symbol","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"12297","Unicode hex":"3009"},{"Typeface name":"Symbol","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8747","Unicode hex":"222B"},{"Typeface name":"Symbol","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"8992","Unicode hex":"2320"},{"Typeface name":"Symbol","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"9134","Unicode hex":"23AE"},{"Typeface name":"Symbol","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"8993","Unicode hex":"2321"},{"Typeface name":"Symbol","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"9118","Unicode hex":"239E"},{"Typeface name":"Symbol","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"9119","Unicode hex":"239F"},{"Typeface name":"Symbol","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"9120","Unicode hex":"23A0"},{"Typeface name":"Symbol","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"9124","Unicode hex":"23A4"},{"Typeface name":"Symbol","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"9125","Unicode hex":"23A5"},{"Typeface name":"Symbol","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"9126","Unicode hex":"23A6"},{"Typeface name":"Symbol","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"9131","Unicode hex":"23AB"},{"Typeface name":"Symbol","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"9132","Unicode hex":"23AC"},{"Typeface name":"Symbol","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"9133","Unicode hex":"23AD"},{"Typeface name":"Webdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Webdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128375","Unicode hex":"1F577"},{"Typeface name":"Webdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128376","Unicode hex":"1F578"},{"Typeface name":"Webdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128370","Unicode hex":"1F572"},{"Typeface name":"Webdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128374","Unicode hex":"1F576"},{"Typeface name":"Webdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"127942","Unicode hex":"1F3C6"},{"Typeface name":"Webdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"127894","Unicode hex":"1F396"},{"Typeface name":"Webdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128391","Unicode hex":"1F587"},{"Typeface name":"Webdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128488","Unicode hex":"1F5E8"},{"Typeface name":"Webdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128489","Unicode hex":"1F5E9"},{"Typeface name":"Webdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128496","Unicode hex":"1F5F0"},{"Typeface name":"Webdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128497","Unicode hex":"1F5F1"},{"Typeface name":"Webdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"127798","Unicode hex":"1F336"},{"Typeface name":"Webdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"127895","Unicode hex":"1F397"},{"Typeface name":"Webdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128638","Unicode hex":"1F67E"},{"Typeface name":"Webdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128636","Unicode hex":"1F67C"},{"Typeface name":"Webdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128469","Unicode hex":"1F5D5"},{"Typeface name":"Webdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128470","Unicode hex":"1F5D6"},{"Typeface name":"Webdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128471","Unicode hex":"1F5D7"},{"Typeface name":"Webdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"9204","Unicode hex":"23F4"},{"Typeface name":"Webdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"9205","Unicode hex":"23F5"},{"Typeface name":"Webdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"9206","Unicode hex":"23F6"},{"Typeface name":"Webdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"9207","Unicode hex":"23F7"},{"Typeface name":"Webdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"9194","Unicode hex":"23EA"},{"Typeface name":"Webdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"9193","Unicode hex":"23E9"},{"Typeface name":"Webdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"9198","Unicode hex":"23EE"},{"Typeface name":"Webdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"9197","Unicode hex":"23ED"},{"Typeface name":"Webdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"9208","Unicode hex":"23F8"},{"Typeface name":"Webdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"9209","Unicode hex":"23F9"},{"Typeface name":"Webdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"9210","Unicode hex":"23FA"},{"Typeface name":"Webdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128474","Unicode hex":"1F5DA"},{"Typeface name":"Webdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128499","Unicode hex":"1F5F3"},{"Typeface name":"Webdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128736","Unicode hex":"1F6E0"},{"Typeface name":"Webdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"127959","Unicode hex":"1F3D7"},{"Typeface name":"Webdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"127960","Unicode hex":"1F3D8"},{"Typeface name":"Webdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"127961","Unicode hex":"1F3D9"},{"Typeface name":"Webdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"127962","Unicode hex":"1F3DA"},{"Typeface name":"Webdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"127964","Unicode hex":"1F3DC"},{"Typeface name":"Webdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"127981","Unicode hex":"1F3ED"},{"Typeface name":"Webdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"127963","Unicode hex":"1F3DB"},{"Typeface name":"Webdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"127968","Unicode hex":"1F3E0"},{"Typeface name":"Webdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"127958","Unicode hex":"1F3D6"},{"Typeface name":"Webdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"127965","Unicode hex":"1F3DD"},{"Typeface name":"Webdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128739","Unicode hex":"1F6E3"},{"Typeface name":"Webdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128269","Unicode hex":"1F50D"},{"Typeface name":"Webdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"127956","Unicode hex":"1F3D4"},{"Typeface name":"Webdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128065","Unicode hex":"1F441"},{"Typeface name":"Webdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128066","Unicode hex":"1F442"},{"Typeface name":"Webdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127966","Unicode hex":"1F3DE"},{"Typeface name":"Webdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"127957","Unicode hex":"1F3D5"},{"Typeface name":"Webdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"128740","Unicode hex":"1F6E4"},{"Typeface name":"Webdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127967","Unicode hex":"1F3DF"},{"Typeface name":"Webdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"128755","Unicode hex":"1F6F3"},{"Typeface name":"Webdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128364","Unicode hex":"1F56C"},{"Typeface name":"Webdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"128363","Unicode hex":"1F56B"},{"Typeface name":"Webdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128360","Unicode hex":"1F568"},{"Typeface name":"Webdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"128264","Unicode hex":"1F508"},{"Typeface name":"Webdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"127892","Unicode hex":"1F394"},{"Typeface name":"Webdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"127893","Unicode hex":"1F395"},{"Typeface name":"Webdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128492","Unicode hex":"1F5EC"},{"Typeface name":"Webdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128637","Unicode hex":"1F67D"},{"Typeface name":"Webdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"128493","Unicode hex":"1F5ED"},{"Typeface name":"Webdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128490","Unicode hex":"1F5EA"},{"Typeface name":"Webdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128491","Unicode hex":"1F5EB"},{"Typeface name":"Webdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"11156","Unicode hex":"2B94"},{"Typeface name":"Webdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"10004","Unicode hex":"2714"},{"Typeface name":"Webdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128690","Unicode hex":"1F6B2"},{"Typeface name":"Webdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"11036","Unicode hex":"2B1C"},{"Typeface name":"Webdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128737","Unicode hex":"1F6E1"},{"Typeface name":"Webdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128230","Unicode hex":"1F4E6"},{"Typeface name":"Webdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128753","Unicode hex":"1F6F1"},{"Typeface name":"Webdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"11035","Unicode hex":"2B1B"},{"Typeface name":"Webdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128657","Unicode hex":"1F691"},{"Typeface name":"Webdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"128712","Unicode hex":"1F6C8"},{"Typeface name":"Webdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128745","Unicode hex":"1F6E9"},{"Typeface name":"Webdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128752","Unicode hex":"1F6F0"},{"Typeface name":"Webdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"128968","Unicode hex":"1F7C8"},{"Typeface name":"Webdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128372","Unicode hex":"1F574"},{"Typeface name":"Webdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"11044","Unicode hex":"2B24"},{"Typeface name":"Webdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128741","Unicode hex":"1F6E5"},{"Typeface name":"Webdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128660","Unicode hex":"1F694"},{"Typeface name":"Webdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"128472","Unicode hex":"1F5D8"},{"Typeface name":"Webdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"128473","Unicode hex":"1F5D9"},{"Typeface name":"Webdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"10067","Unicode hex":"2753"},{"Typeface name":"Webdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"128754","Unicode hex":"1F6F2"},{"Typeface name":"Webdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"128647","Unicode hex":"1F687"},{"Typeface name":"Webdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"128653","Unicode hex":"1F68D"},{"Typeface name":"Webdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9971","Unicode hex":"26F3"},{"Typeface name":"Webdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Webdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"8854","Unicode hex":"2296"},{"Typeface name":"Webdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"128685","Unicode hex":"1F6AD"},{"Typeface name":"Webdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"128494","Unicode hex":"1F5EE"},{"Typeface name":"Webdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Webdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128495","Unicode hex":"1F5EF"},{"Typeface name":"Webdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128498","Unicode hex":"1F5F2"},{"Typeface name":"Webdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128697","Unicode hex":"1F6B9"},{"Typeface name":"Webdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"128698","Unicode hex":"1F6BA"},{"Typeface name":"Webdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"128713","Unicode hex":"1F6C9"},{"Typeface name":"Webdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"128714","Unicode hex":"1F6CA"},{"Typeface name":"Webdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"128700","Unicode hex":"1F6BC"},{"Typeface name":"Webdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"128125","Unicode hex":"1F47D"},{"Typeface name":"Webdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"127947","Unicode hex":"1F3CB"},{"Typeface name":"Webdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"9975","Unicode hex":"26F7"},{"Typeface name":"Webdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"127938","Unicode hex":"1F3C2"},{"Typeface name":"Webdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"127948","Unicode hex":"1F3CC"},{"Typeface name":"Webdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"127946","Unicode hex":"1F3CA"},{"Typeface name":"Webdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127940","Unicode hex":"1F3C4"},{"Typeface name":"Webdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"127949","Unicode hex":"1F3CD"},{"Typeface name":"Webdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"127950","Unicode hex":"1F3CE"},{"Typeface name":"Webdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128664","Unicode hex":"1F698"},{"Typeface name":"Webdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128480","Unicode hex":"1F5E0"},{"Typeface name":"Webdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128738","Unicode hex":"1F6E2"},{"Typeface name":"Webdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128176","Unicode hex":"1F4B0"},{"Typeface name":"Webdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"127991","Unicode hex":"1F3F7"},{"Typeface name":"Webdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128179","Unicode hex":"1F4B3"},{"Typeface name":"Webdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128106","Unicode hex":"1F46A"},{"Typeface name":"Webdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"128481","Unicode hex":"1F5E1"},{"Typeface name":"Webdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128482","Unicode hex":"1F5E2"},{"Typeface name":"Webdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128483","Unicode hex":"1F5E3"},{"Typeface name":"Webdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Webdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128388","Unicode hex":"1F584"},{"Typeface name":"Webdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128389","Unicode hex":"1F585"},{"Typeface name":"Webdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Webdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128390","Unicode hex":"1F586"},{"Typeface name":"Webdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128441","Unicode hex":"1F5B9"},{"Typeface name":"Webdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"128442","Unicode hex":"1F5BA"},{"Typeface name":"Webdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128443","Unicode hex":"1F5BB"},{"Typeface name":"Webdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128373","Unicode hex":"1F575"},{"Typeface name":"Webdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"128368","Unicode hex":"1F570"},{"Typeface name":"Webdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128445","Unicode hex":"1F5BD"},{"Typeface name":"Webdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128446","Unicode hex":"1F5BE"},{"Typeface name":"Webdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Webdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128466","Unicode hex":"1F5D2"},{"Typeface name":"Webdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128467","Unicode hex":"1F5D3"},{"Typeface name":"Webdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Webdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128218","Unicode hex":"1F4DA"},{"Typeface name":"Webdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128478","Unicode hex":"1F5DE"},{"Typeface name":"Webdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128479","Unicode hex":"1F5DF"},{"Typeface name":"Webdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128451","Unicode hex":"1F5C3"},{"Typeface name":"Webdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128450","Unicode hex":"1F5C2"},{"Typeface name":"Webdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128444","Unicode hex":"1F5BC"},{"Typeface name":"Webdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"127917","Unicode hex":"1F3AD"},{"Typeface name":"Webdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"127900","Unicode hex":"1F39C"},{"Typeface name":"Webdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"127896","Unicode hex":"1F398"},{"Typeface name":"Webdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"127897","Unicode hex":"1F399"},{"Typeface name":"Webdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"127911","Unicode hex":"1F3A7"},{"Typeface name":"Webdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128191","Unicode hex":"1F4BF"},{"Typeface name":"Webdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"127902","Unicode hex":"1F39E"},{"Typeface name":"Webdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128247","Unicode hex":"1F4F7"},{"Typeface name":"Webdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"127903","Unicode hex":"1F39F"},{"Typeface name":"Webdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"127916","Unicode hex":"1F3AC"},{"Typeface name":"Webdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128253","Unicode hex":"1F4FD"},{"Typeface name":"Webdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128249","Unicode hex":"1F4F9"},{"Typeface name":"Webdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128254","Unicode hex":"1F4FE"},{"Typeface name":"Webdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128251","Unicode hex":"1F4FB"},{"Typeface name":"Webdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"127898","Unicode hex":"1F39A"},{"Typeface name":"Webdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"127899","Unicode hex":"1F39B"},{"Typeface name":"Webdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128250","Unicode hex":"1F4FA"},{"Typeface name":"Webdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128187","Unicode hex":"1F4BB"},{"Typeface name":"Webdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128421","Unicode hex":"1F5A5"},{"Typeface name":"Webdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128422","Unicode hex":"1F5A6"},{"Typeface name":"Webdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128423","Unicode hex":"1F5A7"},{"Typeface name":"Webdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"128377","Unicode hex":"1F579"},{"Typeface name":"Webdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"127918","Unicode hex":"1F3AE"},{"Typeface name":"Webdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"128379","Unicode hex":"1F57B"},{"Typeface name":"Webdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128380","Unicode hex":"1F57C"},{"Typeface name":"Webdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128223","Unicode hex":"1F4DF"},{"Typeface name":"Webdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128385","Unicode hex":"1F581"},{"Typeface name":"Webdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128384","Unicode hex":"1F580"},{"Typeface name":"Webdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128424","Unicode hex":"1F5A8"},{"Typeface name":"Webdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128425","Unicode hex":"1F5A9"},{"Typeface name":"Webdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128447","Unicode hex":"1F5BF"},{"Typeface name":"Webdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128426","Unicode hex":"1F5AA"},{"Typeface name":"Webdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128476","Unicode hex":"1F5DC"},{"Typeface name":"Webdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128274","Unicode hex":"1F512"},{"Typeface name":"Webdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128275","Unicode hex":"1F513"},{"Typeface name":"Webdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128477","Unicode hex":"1F5DD"},{"Typeface name":"Webdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128229","Unicode hex":"1F4E5"},{"Typeface name":"Webdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128228","Unicode hex":"1F4E4"},{"Typeface name":"Webdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128371","Unicode hex":"1F573"},{"Typeface name":"Webdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"127779","Unicode hex":"1F323"},{"Typeface name":"Webdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"127780","Unicode hex":"1F324"},{"Typeface name":"Webdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"127781","Unicode hex":"1F325"},{"Typeface name":"Webdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"127782","Unicode hex":"1F326"},{"Typeface name":"Webdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"9729","Unicode hex":"2601"},{"Typeface name":"Webdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"127784","Unicode hex":"1F328"},{"Typeface name":"Webdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"127783","Unicode hex":"1F327"},{"Typeface name":"Webdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"127785","Unicode hex":"1F329"},{"Typeface name":"Webdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"127786","Unicode hex":"1F32A"},{"Typeface name":"Webdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"127788","Unicode hex":"1F32C"},{"Typeface name":"Webdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"127787","Unicode hex":"1F32B"},{"Typeface name":"Webdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"127772","Unicode hex":"1F31C"},{"Typeface name":"Webdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"127777","Unicode hex":"1F321"},{"Typeface name":"Webdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128715","Unicode hex":"1F6CB"},{"Typeface name":"Webdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128719","Unicode hex":"1F6CF"},{"Typeface name":"Webdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"127869","Unicode hex":"1F37D"},{"Typeface name":"Webdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"127864","Unicode hex":"1F378"},{"Typeface name":"Webdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128718","Unicode hex":"1F6CE"},{"Typeface name":"Webdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128717","Unicode hex":"1F6CD"},{"Typeface name":"Webdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9413","Unicode hex":"24C5"},{"Typeface name":"Webdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9855","Unicode hex":"267F"},{"Typeface name":"Webdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128710","Unicode hex":"1F6C6"},{"Typeface name":"Webdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"128392","Unicode hex":"1F588"},{"Typeface name":"Webdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"127891","Unicode hex":"1F393"},{"Typeface name":"Webdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128484","Unicode hex":"1F5E4"},{"Typeface name":"Webdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128485","Unicode hex":"1F5E5"},{"Typeface name":"Webdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128486","Unicode hex":"1F5E6"},{"Typeface name":"Webdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"128487","Unicode hex":"1F5E7"},{"Typeface name":"Webdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128746","Unicode hex":"1F6EA"},{"Typeface name":"Webdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128063","Unicode hex":"1F43F"},{"Typeface name":"Webdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"128038","Unicode hex":"1F426"},{"Typeface name":"Webdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128031","Unicode hex":"1F41F"},{"Typeface name":"Webdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128021","Unicode hex":"1F415"},{"Typeface name":"Webdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"128008","Unicode hex":"1F408"},{"Typeface name":"Webdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"128620","Unicode hex":"1F66C"},{"Typeface name":"Webdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"128622","Unicode hex":"1F66E"},{"Typeface name":"Webdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"128621","Unicode hex":"1F66D"},{"Typeface name":"Webdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"128623","Unicode hex":"1F66F"},{"Typeface name":"Webdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128506","Unicode hex":"1F5FA"},{"Typeface name":"Webdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"127757","Unicode hex":"1F30D"},{"Typeface name":"Webdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"127759","Unicode hex":"1F30F"},{"Typeface name":"Webdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"127758","Unicode hex":"1F30E"},{"Typeface name":"Webdings","Dingbat dec":"255","Dingbat hex":"FF","Unicode dec":"128330","Unicode hex":"1F54A"},{"Typeface name":"Wingdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128393","Unicode hex":"1F589"},{"Typeface name":"Wingdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"9986","Unicode hex":"2702"},{"Typeface name":"Wingdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"9985","Unicode hex":"2701"},{"Typeface name":"Wingdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128083","Unicode hex":"1F453"},{"Typeface name":"Wingdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"128365","Unicode hex":"1F56D"},{"Typeface name":"Wingdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Wingdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128367","Unicode hex":"1F56F"},{"Typeface name":"Wingdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128383","Unicode hex":"1F57F"},{"Typeface name":"Wingdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"9990","Unicode hex":"2706"},{"Typeface name":"Wingdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128386","Unicode hex":"1F582"},{"Typeface name":"Wingdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Wingdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128234","Unicode hex":"1F4EA"},{"Typeface name":"Wingdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128235","Unicode hex":"1F4EB"},{"Typeface name":"Wingdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128236","Unicode hex":"1F4EC"},{"Typeface name":"Wingdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128237","Unicode hex":"1F4ED"},{"Typeface name":"Wingdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128448","Unicode hex":"1F5C0"},{"Typeface name":"Wingdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128449","Unicode hex":"1F5C1"},{"Typeface name":"Wingdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128462","Unicode hex":"1F5CE"},{"Typeface name":"Wingdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128463","Unicode hex":"1F5CF"},{"Typeface name":"Wingdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128464","Unicode hex":"1F5D0"},{"Typeface name":"Wingdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128452","Unicode hex":"1F5C4"},{"Typeface name":"Wingdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"8987","Unicode hex":"231B"},{"Typeface name":"Wingdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128430","Unicode hex":"1F5AE"},{"Typeface name":"Wingdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128432","Unicode hex":"1F5B0"},{"Typeface name":"Wingdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128434","Unicode hex":"1F5B2"},{"Typeface name":"Wingdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128435","Unicode hex":"1F5B3"},{"Typeface name":"Wingdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128436","Unicode hex":"1F5B4"},{"Typeface name":"Wingdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128427","Unicode hex":"1F5AB"},{"Typeface name":"Wingdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128428","Unicode hex":"1F5AC"},{"Typeface name":"Wingdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"9991","Unicode hex":"2707"},{"Typeface name":"Wingdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"9997","Unicode hex":"270D"},{"Typeface name":"Wingdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128398","Unicode hex":"1F58E"},{"Typeface name":"Wingdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"9996","Unicode hex":"270C"},{"Typeface name":"Wingdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128399","Unicode hex":"1F58F"},{"Typeface name":"Wingdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128077","Unicode hex":"1F44D"},{"Typeface name":"Wingdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128078","Unicode hex":"1F44E"},{"Typeface name":"Wingdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"9756","Unicode hex":"261C"},{"Typeface name":"Wingdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"9758","Unicode hex":"261E"},{"Typeface name":"Wingdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"9757","Unicode hex":"261D"},{"Typeface name":"Wingdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"9759","Unicode hex":"261F"},{"Typeface name":"Wingdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128400","Unicode hex":"1F590"},{"Typeface name":"Wingdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"9786","Unicode hex":"263A"},{"Typeface name":"Wingdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128528","Unicode hex":"1F610"},{"Typeface name":"Wingdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"9785","Unicode hex":"2639"},{"Typeface name":"Wingdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128163","Unicode hex":"1F4A3"},{"Typeface name":"Wingdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128369","Unicode hex":"1F571"},{"Typeface name":"Wingdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"127987","Unicode hex":"1F3F3"},{"Typeface name":"Wingdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127985","Unicode hex":"1F3F1"},{"Typeface name":"Wingdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"9992","Unicode hex":"2708"},{"Typeface name":"Wingdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9788","Unicode hex":"263C"},{"Typeface name":"Wingdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127778","Unicode hex":"1F322"},{"Typeface name":"Wingdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"10052","Unicode hex":"2744"},{"Typeface name":"Wingdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128326","Unicode hex":"1F546"},{"Typeface name":"Wingdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"10014","Unicode hex":"271E"},{"Typeface name":"Wingdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128328","Unicode hex":"1F548"},{"Typeface name":"Wingdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10016","Unicode hex":"2720"},{"Typeface name":"Wingdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"10017","Unicode hex":"2721"},{"Typeface name":"Wingdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"9770","Unicode hex":"262A"},{"Typeface name":"Wingdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"9775","Unicode hex":"262F"},{"Typeface name":"Wingdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128329","Unicode hex":"1F549"},{"Typeface name":"Wingdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"9784","Unicode hex":"2638"},{"Typeface name":"Wingdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"9800","Unicode hex":"2648"},{"Typeface name":"Wingdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"9801","Unicode hex":"2649"},{"Typeface name":"Wingdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"9802","Unicode hex":"264A"},{"Typeface name":"Wingdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"9803","Unicode hex":"264B"},{"Typeface name":"Wingdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"9804","Unicode hex":"264C"},{"Typeface name":"Wingdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"9805","Unicode hex":"264D"},{"Typeface name":"Wingdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"9806","Unicode hex":"264E"},{"Typeface name":"Wingdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"9807","Unicode hex":"264F"},{"Typeface name":"Wingdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"9808","Unicode hex":"2650"},{"Typeface name":"Wingdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"9809","Unicode hex":"2651"},{"Typeface name":"Wingdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"9810","Unicode hex":"2652"},{"Typeface name":"Wingdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9811","Unicode hex":"2653"},{"Typeface name":"Wingdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128624","Unicode hex":"1F670"},{"Typeface name":"Wingdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128629","Unicode hex":"1F675"},{"Typeface name":"Wingdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9899","Unicode hex":"26AB"},{"Typeface name":"Wingdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128318","Unicode hex":"1F53E"},{"Typeface name":"Wingdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9724","Unicode hex":"25FC"},{"Typeface name":"Wingdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128911","Unicode hex":"1F78F"},{"Typeface name":"Wingdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128912","Unicode hex":"1F790"},{"Typeface name":"Wingdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"10065","Unicode hex":"2751"},{"Typeface name":"Wingdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"10066","Unicode hex":"2752"},{"Typeface name":"Wingdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"128927","Unicode hex":"1F79F"},{"Typeface name":"Wingdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"10731","Unicode hex":"29EB"},{"Typeface name":"Wingdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9670","Unicode hex":"25C6"},{"Typeface name":"Wingdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10070","Unicode hex":"2756"},{"Typeface name":"Wingdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"8999","Unicode hex":"2327"},{"Typeface name":"Wingdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"11193","Unicode hex":"2BB9"},{"Typeface name":"Wingdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"8984","Unicode hex":"2318"},{"Typeface name":"Wingdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"127989","Unicode hex":"1F3F5"},{"Typeface name":"Wingdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"127990","Unicode hex":"1F3F6"},{"Typeface name":"Wingdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128630","Unicode hex":"1F676"},{"Typeface name":"Wingdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128631","Unicode hex":"1F677"},{"Typeface name":"Wingdings","Dingbat dec":"127","Dingbat hex":"7F","Unicode dec":"9647","Unicode hex":"25AF"},{"Typeface name":"Wingdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"127243","Unicode hex":"1F10B"},{"Typeface name":"Wingdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"10112","Unicode hex":"2780"},{"Typeface name":"Wingdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"10113","Unicode hex":"2781"},{"Typeface name":"Wingdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"10114","Unicode hex":"2782"},{"Typeface name":"Wingdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"10115","Unicode hex":"2783"},{"Typeface name":"Wingdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10116","Unicode hex":"2784"},{"Typeface name":"Wingdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"10117","Unicode hex":"2785"},{"Typeface name":"Wingdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"10118","Unicode hex":"2786"},{"Typeface name":"Wingdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"10119","Unicode hex":"2787"},{"Typeface name":"Wingdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"10120","Unicode hex":"2788"},{"Typeface name":"Wingdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"10121","Unicode hex":"2789"},{"Typeface name":"Wingdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127244","Unicode hex":"1F10C"},{"Typeface name":"Wingdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"10122","Unicode hex":"278A"},{"Typeface name":"Wingdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"10123","Unicode hex":"278B"},{"Typeface name":"Wingdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"10124","Unicode hex":"278C"},{"Typeface name":"Wingdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"10125","Unicode hex":"278D"},{"Typeface name":"Wingdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"10126","Unicode hex":"278E"},{"Typeface name":"Wingdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"10127","Unicode hex":"278F"},{"Typeface name":"Wingdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"10128","Unicode hex":"2790"},{"Typeface name":"Wingdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"10129","Unicode hex":"2791"},{"Typeface name":"Wingdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"10130","Unicode hex":"2792"},{"Typeface name":"Wingdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"10131","Unicode hex":"2793"},{"Typeface name":"Wingdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128610","Unicode hex":"1F662"},{"Typeface name":"Wingdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128608","Unicode hex":"1F660"},{"Typeface name":"Wingdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"128609","Unicode hex":"1F661"},{"Typeface name":"Wingdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128611","Unicode hex":"1F663"},{"Typeface name":"Wingdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128606","Unicode hex":"1F65E"},{"Typeface name":"Wingdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128604","Unicode hex":"1F65C"},{"Typeface name":"Wingdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128605","Unicode hex":"1F65D"},{"Typeface name":"Wingdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128607","Unicode hex":"1F65F"},{"Typeface name":"Wingdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"8729","Unicode hex":"2219"},{"Typeface name":"Wingdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Wingdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"11037","Unicode hex":"2B1D"},{"Typeface name":"Wingdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"11096","Unicode hex":"2B58"},{"Typeface name":"Wingdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128902","Unicode hex":"1F786"},{"Typeface name":"Wingdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128904","Unicode hex":"1F788"},{"Typeface name":"Wingdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128906","Unicode hex":"1F78A"},{"Typeface name":"Wingdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128907","Unicode hex":"1F78B"},{"Typeface name":"Wingdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128319","Unicode hex":"1F53F"},{"Typeface name":"Wingdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9642","Unicode hex":"25AA"},{"Typeface name":"Wingdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128910","Unicode hex":"1F78E"},{"Typeface name":"Wingdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128961","Unicode hex":"1F7C1"},{"Typeface name":"Wingdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128965","Unicode hex":"1F7C5"},{"Typeface name":"Wingdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"9733","Unicode hex":"2605"},{"Typeface name":"Wingdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128971","Unicode hex":"1F7CB"},{"Typeface name":"Wingdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128975","Unicode hex":"1F7CF"},{"Typeface name":"Wingdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"128979","Unicode hex":"1F7D3"},{"Typeface name":"Wingdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"128977","Unicode hex":"1F7D1"},{"Typeface name":"Wingdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"11216","Unicode hex":"2BD0"},{"Typeface name":"Wingdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"8982","Unicode hex":"2316"},{"Typeface name":"Wingdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"11214","Unicode hex":"2BCE"},{"Typeface name":"Wingdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"11215","Unicode hex":"2BCF"},{"Typeface name":"Wingdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"11217","Unicode hex":"2BD1"},{"Typeface name":"Wingdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"10026","Unicode hex":"272A"},{"Typeface name":"Wingdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"10032","Unicode hex":"2730"},{"Typeface name":"Wingdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"128336","Unicode hex":"1F550"},{"Typeface name":"Wingdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128337","Unicode hex":"1F551"},{"Typeface name":"Wingdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128338","Unicode hex":"1F552"},{"Typeface name":"Wingdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128339","Unicode hex":"1F553"},{"Typeface name":"Wingdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128340","Unicode hex":"1F554"},{"Typeface name":"Wingdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"128341","Unicode hex":"1F555"},{"Typeface name":"Wingdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"128342","Unicode hex":"1F556"},{"Typeface name":"Wingdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128343","Unicode hex":"1F557"},{"Typeface name":"Wingdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128344","Unicode hex":"1F558"},{"Typeface name":"Wingdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128345","Unicode hex":"1F559"},{"Typeface name":"Wingdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128346","Unicode hex":"1F55A"},{"Typeface name":"Wingdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128347","Unicode hex":"1F55B"},{"Typeface name":"Wingdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11184","Unicode hex":"2BB0"},{"Typeface name":"Wingdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11185","Unicode hex":"2BB1"},{"Typeface name":"Wingdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11186","Unicode hex":"2BB2"},{"Typeface name":"Wingdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"11187","Unicode hex":"2BB3"},{"Typeface name":"Wingdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"11188","Unicode hex":"2BB4"},{"Typeface name":"Wingdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"11189","Unicode hex":"2BB5"},{"Typeface name":"Wingdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11190","Unicode hex":"2BB6"},{"Typeface name":"Wingdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11191","Unicode hex":"2BB7"},{"Typeface name":"Wingdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128618","Unicode hex":"1F66A"},{"Typeface name":"Wingdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128619","Unicode hex":"1F66B"},{"Typeface name":"Wingdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128597","Unicode hex":"1F655"},{"Typeface name":"Wingdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128596","Unicode hex":"1F654"},{"Typeface name":"Wingdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128599","Unicode hex":"1F657"},{"Typeface name":"Wingdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128598","Unicode hex":"1F656"},{"Typeface name":"Wingdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128592","Unicode hex":"1F650"},{"Typeface name":"Wingdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128593","Unicode hex":"1F651"},{"Typeface name":"Wingdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128594","Unicode hex":"1F652"},{"Typeface name":"Wingdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128595","Unicode hex":"1F653"},{"Typeface name":"Wingdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"9003","Unicode hex":"232B"},{"Typeface name":"Wingdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8998","Unicode hex":"2326"},{"Typeface name":"Wingdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"11160","Unicode hex":"2B98"},{"Typeface name":"Wingdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"11162","Unicode hex":"2B9A"},{"Typeface name":"Wingdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"11161","Unicode hex":"2B99"},{"Typeface name":"Wingdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"11163","Unicode hex":"2B9B"},{"Typeface name":"Wingdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"11144","Unicode hex":"2B88"},{"Typeface name":"Wingdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"11146","Unicode hex":"2B8A"},{"Typeface name":"Wingdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"11145","Unicode hex":"2B89"},{"Typeface name":"Wingdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"11147","Unicode hex":"2B8B"},{"Typeface name":"Wingdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129128","Unicode hex":"1F868"},{"Typeface name":"Wingdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129130","Unicode hex":"1F86A"},{"Typeface name":"Wingdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129129","Unicode hex":"1F869"},{"Typeface name":"Wingdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129131","Unicode hex":"1F86B"},{"Typeface name":"Wingdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129132","Unicode hex":"1F86C"},{"Typeface name":"Wingdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129133","Unicode hex":"1F86D"},{"Typeface name":"Wingdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129135","Unicode hex":"1F86F"},{"Typeface name":"Wingdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129134","Unicode hex":"1F86E"},{"Typeface name":"Wingdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129144","Unicode hex":"1F878"},{"Typeface name":"Wingdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129146","Unicode hex":"1F87A"},{"Typeface name":"Wingdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129145","Unicode hex":"1F879"},{"Typeface name":"Wingdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129147","Unicode hex":"1F87B"},{"Typeface name":"Wingdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129148","Unicode hex":"1F87C"},{"Typeface name":"Wingdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129149","Unicode hex":"1F87D"},{"Typeface name":"Wingdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129151","Unicode hex":"1F87F"},{"Typeface name":"Wingdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129150","Unicode hex":"1F87E"},{"Typeface name":"Wingdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"8678","Unicode hex":"21E6"},{"Typeface name":"Wingdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"8680","Unicode hex":"21E8"},{"Typeface name":"Wingdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"8679","Unicode hex":"21E7"},{"Typeface name":"Wingdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8681","Unicode hex":"21E9"},{"Typeface name":"Wingdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"11012","Unicode hex":"2B04"},{"Typeface name":"Wingdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"8691","Unicode hex":"21F3"},{"Typeface name":"Wingdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"11009","Unicode hex":"2B01"},{"Typeface name":"Wingdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11008","Unicode hex":"2B00"},{"Typeface name":"Wingdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11011","Unicode hex":"2B03"},{"Typeface name":"Wingdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"11010","Unicode hex":"2B02"},{"Typeface name":"Wingdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"129196","Unicode hex":"1F8AC"},{"Typeface name":"Wingdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"129197","Unicode hex":"1F8AD"},{"Typeface name":"Wingdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128502","Unicode hex":"1F5F6"},{"Typeface name":"Wingdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"10003","Unicode hex":"2713"},{"Typeface name":"Wingdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"128503","Unicode hex":"1F5F7"},{"Typeface name":"Wingdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"128505","Unicode hex":"1F5F9"},{"Typeface name":"Wingdings 2","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 2","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128394","Unicode hex":"1F58A"},{"Typeface name":"Wingdings 2","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128395","Unicode hex":"1F58B"},{"Typeface name":"Wingdings 2","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128396","Unicode hex":"1F58C"},{"Typeface name":"Wingdings 2","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128397","Unicode hex":"1F58D"},{"Typeface name":"Wingdings 2","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"9988","Unicode hex":"2704"},{"Typeface name":"Wingdings 2","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"9984","Unicode hex":"2700"},{"Typeface name":"Wingdings 2","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128382","Unicode hex":"1F57E"},{"Typeface name":"Wingdings 2","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128381","Unicode hex":"1F57D"},{"Typeface name":"Wingdings 2","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128453","Unicode hex":"1F5C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128454","Unicode hex":"1F5C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128455","Unicode hex":"1F5C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128456","Unicode hex":"1F5C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128457","Unicode hex":"1F5C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128458","Unicode hex":"1F5CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128459","Unicode hex":"1F5CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128460","Unicode hex":"1F5CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128461","Unicode hex":"1F5CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128465","Unicode hex":"1F5D1"},{"Typeface name":"Wingdings 2","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128468","Unicode hex":"1F5D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128437","Unicode hex":"1F5B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"128438","Unicode hex":"1F5B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128439","Unicode hex":"1F5B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128440","Unicode hex":"1F5B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128429","Unicode hex":"1F5AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128431","Unicode hex":"1F5AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128433","Unicode hex":"1F5B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128402","Unicode hex":"1F592"},{"Typeface name":"Wingdings 2","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128403","Unicode hex":"1F593"},{"Typeface name":"Wingdings 2","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128408","Unicode hex":"1F598"},{"Typeface name":"Wingdings 2","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128409","Unicode hex":"1F599"},{"Typeface name":"Wingdings 2","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128410","Unicode hex":"1F59A"},{"Typeface name":"Wingdings 2","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"128411","Unicode hex":"1F59B"},{"Typeface name":"Wingdings 2","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128072","Unicode hex":"1F448"},{"Typeface name":"Wingdings 2","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128073","Unicode hex":"1F449"},{"Typeface name":"Wingdings 2","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128412","Unicode hex":"1F59C"},{"Typeface name":"Wingdings 2","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"128413","Unicode hex":"1F59D"},{"Typeface name":"Wingdings 2","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"128414","Unicode hex":"1F59E"},{"Typeface name":"Wingdings 2","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"128415","Unicode hex":"1F59F"},{"Typeface name":"Wingdings 2","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"128416","Unicode hex":"1F5A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128417","Unicode hex":"1F5A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"128070","Unicode hex":"1F446"},{"Typeface name":"Wingdings 2","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128071","Unicode hex":"1F447"},{"Typeface name":"Wingdings 2","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128418","Unicode hex":"1F5A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128419","Unicode hex":"1F5A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128401","Unicode hex":"1F591"},{"Typeface name":"Wingdings 2","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128500","Unicode hex":"1F5F4"},{"Typeface name":"Wingdings 2","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"128504","Unicode hex":"1F5F8"},{"Typeface name":"Wingdings 2","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"128501","Unicode hex":"1F5F5"},{"Typeface name":"Wingdings 2","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9745","Unicode hex":"2611"},{"Typeface name":"Wingdings 2","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"11197","Unicode hex":"2BBD"},{"Typeface name":"Wingdings 2","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"9746","Unicode hex":"2612"},{"Typeface name":"Wingdings 2","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"11198","Unicode hex":"2BBE"},{"Typeface name":"Wingdings 2","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"11199","Unicode hex":"2BBF"},{"Typeface name":"Wingdings 2","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128711","Unicode hex":"1F6C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"128625","Unicode hex":"1F671"},{"Typeface name":"Wingdings 2","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"128628","Unicode hex":"1F674"},{"Typeface name":"Wingdings 2","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128626","Unicode hex":"1F672"},{"Typeface name":"Wingdings 2","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128627","Unicode hex":"1F673"},{"Typeface name":"Wingdings 2","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"8253","Unicode hex":"203D"},{"Typeface name":"Wingdings 2","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128633","Unicode hex":"1F679"},{"Typeface name":"Wingdings 2","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128634","Unicode hex":"1F67A"},{"Typeface name":"Wingdings 2","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"128635","Unicode hex":"1F67B"},{"Typeface name":"Wingdings 2","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"128614","Unicode hex":"1F666"},{"Typeface name":"Wingdings 2","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128612","Unicode hex":"1F664"},{"Typeface name":"Wingdings 2","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"128613","Unicode hex":"1F665"},{"Typeface name":"Wingdings 2","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128615","Unicode hex":"1F667"},{"Typeface name":"Wingdings 2","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128602","Unicode hex":"1F65A"},{"Typeface name":"Wingdings 2","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128600","Unicode hex":"1F658"},{"Typeface name":"Wingdings 2","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"128601","Unicode hex":"1F659"},{"Typeface name":"Wingdings 2","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128603","Unicode hex":"1F65B"},{"Typeface name":"Wingdings 2","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9450","Unicode hex":"24EA"},{"Typeface name":"Wingdings 2","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"9312","Unicode hex":"2460"},{"Typeface name":"Wingdings 2","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"9313","Unicode hex":"2461"},{"Typeface name":"Wingdings 2","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9314","Unicode hex":"2462"},{"Typeface name":"Wingdings 2","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"9315","Unicode hex":"2463"},{"Typeface name":"Wingdings 2","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9316","Unicode hex":"2464"},{"Typeface name":"Wingdings 2","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"9317","Unicode hex":"2465"},{"Typeface name":"Wingdings 2","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9318","Unicode hex":"2466"},{"Typeface name":"Wingdings 2","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9319","Unicode hex":"2467"},{"Typeface name":"Wingdings 2","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9320","Unicode hex":"2468"},{"Typeface name":"Wingdings 2","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9321","Unicode hex":"2469"},{"Typeface name":"Wingdings 2","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9471","Unicode hex":"24FF"},{"Typeface name":"Wingdings 2","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"10102","Unicode hex":"2776"},{"Typeface name":"Wingdings 2","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10103","Unicode hex":"2777"},{"Typeface name":"Wingdings 2","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"10104","Unicode hex":"2778"},{"Typeface name":"Wingdings 2","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10105","Unicode hex":"2779"},{"Typeface name":"Wingdings 2","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"10106","Unicode hex":"277A"},{"Typeface name":"Wingdings 2","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"10107","Unicode hex":"277B"},{"Typeface name":"Wingdings 2","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"10108","Unicode hex":"277C"},{"Typeface name":"Wingdings 2","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"10109","Unicode hex":"277D"},{"Typeface name":"Wingdings 2","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"10110","Unicode hex":"277E"},{"Typeface name":"Wingdings 2","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"10111","Unicode hex":"277F"},{"Typeface name":"Wingdings 2","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"9737","Unicode hex":"2609"},{"Typeface name":"Wingdings 2","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"127765","Unicode hex":"1F315"},{"Typeface name":"Wingdings 2","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"9789","Unicode hex":"263D"},{"Typeface name":"Wingdings 2","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"9790","Unicode hex":"263E"},{"Typeface name":"Wingdings 2","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11839","Unicode hex":"2E3F"},{"Typeface name":"Wingdings 2","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10013","Unicode hex":"271D"},{"Typeface name":"Wingdings 2","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"128327","Unicode hex":"1F547"},{"Typeface name":"Wingdings 2","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"128348","Unicode hex":"1F55C"},{"Typeface name":"Wingdings 2","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"128349","Unicode hex":"1F55D"},{"Typeface name":"Wingdings 2","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"128350","Unicode hex":"1F55E"},{"Typeface name":"Wingdings 2","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"128351","Unicode hex":"1F55F"},{"Typeface name":"Wingdings 2","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"128352","Unicode hex":"1F560"},{"Typeface name":"Wingdings 2","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"128353","Unicode hex":"1F561"},{"Typeface name":"Wingdings 2","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"128354","Unicode hex":"1F562"},{"Typeface name":"Wingdings 2","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128355","Unicode hex":"1F563"},{"Typeface name":"Wingdings 2","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128356","Unicode hex":"1F564"},{"Typeface name":"Wingdings 2","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128357","Unicode hex":"1F565"},{"Typeface name":"Wingdings 2","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128358","Unicode hex":"1F566"},{"Typeface name":"Wingdings 2","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"128359","Unicode hex":"1F567"},{"Typeface name":"Wingdings 2","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128616","Unicode hex":"1F668"},{"Typeface name":"Wingdings 2","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128617","Unicode hex":"1F669"},{"Typeface name":"Wingdings 2","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128900","Unicode hex":"1F784"},{"Typeface name":"Wingdings 2","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"10625","Unicode hex":"2981"},{"Typeface name":"Wingdings 2","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"9679","Unicode hex":"25CF"},{"Typeface name":"Wingdings 2","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"9675","Unicode hex":"25CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128901","Unicode hex":"1F785"},{"Typeface name":"Wingdings 2","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128903","Unicode hex":"1F787"},{"Typeface name":"Wingdings 2","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128905","Unicode hex":"1F789"},{"Typeface name":"Wingdings 2","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"8857","Unicode hex":"2299"},{"Typeface name":"Wingdings 2","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"10687","Unicode hex":"29BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128908","Unicode hex":"1F78C"},{"Typeface name":"Wingdings 2","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128909","Unicode hex":"1F78D"},{"Typeface name":"Wingdings 2","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"9726","Unicode hex":"25FE"},{"Typeface name":"Wingdings 2","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"9632","Unicode hex":"25A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"9633","Unicode hex":"25A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128913","Unicode hex":"1F791"},{"Typeface name":"Wingdings 2","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128914","Unicode hex":"1F792"},{"Typeface name":"Wingdings 2","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128915","Unicode hex":"1F793"},{"Typeface name":"Wingdings 2","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128916","Unicode hex":"1F794"},{"Typeface name":"Wingdings 2","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9635","Unicode hex":"25A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128917","Unicode hex":"1F795"},{"Typeface name":"Wingdings 2","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128918","Unicode hex":"1F796"},{"Typeface name":"Wingdings 2","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128919","Unicode hex":"1F797"},{"Typeface name":"Wingdings 2","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128920","Unicode hex":"1F798"},{"Typeface name":"Wingdings 2","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings 2","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"11045","Unicode hex":"2B25"},{"Typeface name":"Wingdings 2","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"9671","Unicode hex":"25C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"128922","Unicode hex":"1F79A"},{"Typeface name":"Wingdings 2","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"9672","Unicode hex":"25C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"128923","Unicode hex":"1F79B"},{"Typeface name":"Wingdings 2","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128924","Unicode hex":"1F79C"},{"Typeface name":"Wingdings 2","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"128925","Unicode hex":"1F79D"},{"Typeface name":"Wingdings 2","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128926","Unicode hex":"1F79E"},{"Typeface name":"Wingdings 2","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"11050","Unicode hex":"2B2A"},{"Typeface name":"Wingdings 2","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"11047","Unicode hex":"2B27"},{"Typeface name":"Wingdings 2","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128928","Unicode hex":"1F7A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"9686","Unicode hex":"25D6"},{"Typeface name":"Wingdings 2","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"9687","Unicode hex":"25D7"},{"Typeface name":"Wingdings 2","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"11210","Unicode hex":"2BCA"},{"Typeface name":"Wingdings 2","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"11211","Unicode hex":"2BCB"},{"Typeface name":"Wingdings 2","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"11200","Unicode hex":"2BC0"},{"Typeface name":"Wingdings 2","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"11201","Unicode hex":"2BC1"},{"Typeface name":"Wingdings 2","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"11039","Unicode hex":"2B1F"},{"Typeface name":"Wingdings 2","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"11202","Unicode hex":"2BC2"},{"Typeface name":"Wingdings 2","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"11043","Unicode hex":"2B23"},{"Typeface name":"Wingdings 2","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11042","Unicode hex":"2B22"},{"Typeface name":"Wingdings 2","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11203","Unicode hex":"2BC3"},{"Typeface name":"Wingdings 2","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11204","Unicode hex":"2BC4"},{"Typeface name":"Wingdings 2","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128929","Unicode hex":"1F7A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128930","Unicode hex":"1F7A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128931","Unicode hex":"1F7A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128932","Unicode hex":"1F7A4"},{"Typeface name":"Wingdings 2","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128933","Unicode hex":"1F7A5"},{"Typeface name":"Wingdings 2","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128934","Unicode hex":"1F7A6"},{"Typeface name":"Wingdings 2","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128935","Unicode hex":"1F7A7"},{"Typeface name":"Wingdings 2","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128936","Unicode hex":"1F7A8"},{"Typeface name":"Wingdings 2","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128937","Unicode hex":"1F7A9"},{"Typeface name":"Wingdings 2","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128938","Unicode hex":"1F7AA"},{"Typeface name":"Wingdings 2","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128939","Unicode hex":"1F7AB"},{"Typeface name":"Wingdings 2","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128940","Unicode hex":"1F7AC"},{"Typeface name":"Wingdings 2","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128941","Unicode hex":"1F7AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128942","Unicode hex":"1F7AE"},{"Typeface name":"Wingdings 2","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128943","Unicode hex":"1F7AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"128944","Unicode hex":"1F7B0"},{"Typeface name":"Wingdings 2","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"128945","Unicode hex":"1F7B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"128946","Unicode hex":"1F7B2"},{"Typeface name":"Wingdings 2","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"128947","Unicode hex":"1F7B3"},{"Typeface name":"Wingdings 2","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"128948","Unicode hex":"1F7B4"},{"Typeface name":"Wingdings 2","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"128949","Unicode hex":"1F7B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"128950","Unicode hex":"1F7B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"128951","Unicode hex":"1F7B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"128952","Unicode hex":"1F7B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"128953","Unicode hex":"1F7B9"},{"Typeface name":"Wingdings 2","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"128954","Unicode hex":"1F7BA"},{"Typeface name":"Wingdings 2","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"128955","Unicode hex":"1F7BB"},{"Typeface name":"Wingdings 2","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"128956","Unicode hex":"1F7BC"},{"Typeface name":"Wingdings 2","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128957","Unicode hex":"1F7BD"},{"Typeface name":"Wingdings 2","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128958","Unicode hex":"1F7BE"},{"Typeface name":"Wingdings 2","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"128959","Unicode hex":"1F7BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"128960","Unicode hex":"1F7C0"},{"Typeface name":"Wingdings 2","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128962","Unicode hex":"1F7C2"},{"Typeface name":"Wingdings 2","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128964","Unicode hex":"1F7C4"},{"Typeface name":"Wingdings 2","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"128966","Unicode hex":"1F7C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"128969","Unicode hex":"1F7C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128970","Unicode hex":"1F7CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"10038","Unicode hex":"2736"},{"Typeface name":"Wingdings 2","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"128972","Unicode hex":"1F7CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128974","Unicode hex":"1F7CE"},{"Typeface name":"Wingdings 2","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128976","Unicode hex":"1F7D0"},{"Typeface name":"Wingdings 2","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128978","Unicode hex":"1F7D2"},{"Typeface name":"Wingdings 2","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"10041","Unicode hex":"2739"},{"Typeface name":"Wingdings 2","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128963","Unicode hex":"1F7C3"},{"Typeface name":"Wingdings 2","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128967","Unicode hex":"1F7C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Wingdings 2","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128973","Unicode hex":"1F7CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128980","Unicode hex":"1F7D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11212","Unicode hex":"2BCC"},{"Typeface name":"Wingdings 2","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11213","Unicode hex":"2BCD"},{"Typeface name":"Wingdings 2","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"8251","Unicode hex":"203B"},{"Typeface name":"Wingdings 2","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"8258","Unicode hex":"2042"},{"Typeface name":"Wingdings 3","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 3","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"11104","Unicode hex":"2B60"},{"Typeface name":"Wingdings 3","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"11106","Unicode hex":"2B62"},{"Typeface name":"Wingdings 3","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"11105","Unicode hex":"2B61"},{"Typeface name":"Wingdings 3","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"11107","Unicode hex":"2B63"},{"Typeface name":"Wingdings 3","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"11110","Unicode hex":"2B66"},{"Typeface name":"Wingdings 3","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"11111","Unicode hex":"2B67"},{"Typeface name":"Wingdings 3","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"11113","Unicode hex":"2B69"},{"Typeface name":"Wingdings 3","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"11112","Unicode hex":"2B68"},{"Typeface name":"Wingdings 3","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"11120","Unicode hex":"2B70"},{"Typeface name":"Wingdings 3","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"11122","Unicode hex":"2B72"},{"Typeface name":"Wingdings 3","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"11121","Unicode hex":"2B71"},{"Typeface name":"Wingdings 3","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"11123","Unicode hex":"2B73"},{"Typeface name":"Wingdings 3","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"11126","Unicode hex":"2B76"},{"Typeface name":"Wingdings 3","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"11128","Unicode hex":"2B78"},{"Typeface name":"Wingdings 3","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"11131","Unicode hex":"2B7B"},{"Typeface name":"Wingdings 3","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"11133","Unicode hex":"2B7D"},{"Typeface name":"Wingdings 3","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"11108","Unicode hex":"2B64"},{"Typeface name":"Wingdings 3","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"11109","Unicode hex":"2B65"},{"Typeface name":"Wingdings 3","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"11114","Unicode hex":"2B6A"},{"Typeface name":"Wingdings 3","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"11116","Unicode hex":"2B6C"},{"Typeface name":"Wingdings 3","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"11115","Unicode hex":"2B6B"},{"Typeface name":"Wingdings 3","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"11117","Unicode hex":"2B6D"},{"Typeface name":"Wingdings 3","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"11085","Unicode hex":"2B4D"},{"Typeface name":"Wingdings 3","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"11168","Unicode hex":"2BA0"},{"Typeface name":"Wingdings 3","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"11169","Unicode hex":"2BA1"},{"Typeface name":"Wingdings 3","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"11170","Unicode hex":"2BA2"},{"Typeface name":"Wingdings 3","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"11171","Unicode hex":"2BA3"},{"Typeface name":"Wingdings 3","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"11172","Unicode hex":"2BA4"},{"Typeface name":"Wingdings 3","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"11173","Unicode hex":"2BA5"},{"Typeface name":"Wingdings 3","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"11174","Unicode hex":"2BA6"},{"Typeface name":"Wingdings 3","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"11175","Unicode hex":"2BA7"},{"Typeface name":"Wingdings 3","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"11152","Unicode hex":"2B90"},{"Typeface name":"Wingdings 3","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"11153","Unicode hex":"2B91"},{"Typeface name":"Wingdings 3","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"11154","Unicode hex":"2B92"},{"Typeface name":"Wingdings 3","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"11155","Unicode hex":"2B93"},{"Typeface name":"Wingdings 3","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"11136","Unicode hex":"2B80"},{"Typeface name":"Wingdings 3","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"11139","Unicode hex":"2B83"},{"Typeface name":"Wingdings 3","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"11134","Unicode hex":"2B7E"},{"Typeface name":"Wingdings 3","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"11135","Unicode hex":"2B7F"},{"Typeface name":"Wingdings 3","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"11140","Unicode hex":"2B84"},{"Typeface name":"Wingdings 3","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"11142","Unicode hex":"2B86"},{"Typeface name":"Wingdings 3","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"11141","Unicode hex":"2B85"},{"Typeface name":"Wingdings 3","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"11143","Unicode hex":"2B87"},{"Typeface name":"Wingdings 3","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"11151","Unicode hex":"2B8F"},{"Typeface name":"Wingdings 3","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"11149","Unicode hex":"2B8D"},{"Typeface name":"Wingdings 3","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"11150","Unicode hex":"2B8E"},{"Typeface name":"Wingdings 3","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"11148","Unicode hex":"2B8C"},{"Typeface name":"Wingdings 3","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"11118","Unicode hex":"2B6E"},{"Typeface name":"Wingdings 3","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"11119","Unicode hex":"2B6F"},{"Typeface name":"Wingdings 3","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9099","Unicode hex":"238B"},{"Typeface name":"Wingdings 3","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"8996","Unicode hex":"2324"},{"Typeface name":"Wingdings 3","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"8963","Unicode hex":"2303"},{"Typeface name":"Wingdings 3","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"8997","Unicode hex":"2325"},{"Typeface name":"Wingdings 3","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"9251","Unicode hex":"2423"},{"Typeface name":"Wingdings 3","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"9085","Unicode hex":"237D"},{"Typeface name":"Wingdings 3","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"8682","Unicode hex":"21EA"},{"Typeface name":"Wingdings 3","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"11192","Unicode hex":"2BB8"},{"Typeface name":"Wingdings 3","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"129184","Unicode hex":"1F8A0"},{"Typeface name":"Wingdings 3","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"129185","Unicode hex":"1F8A1"},{"Typeface name":"Wingdings 3","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"129186","Unicode hex":"1F8A2"},{"Typeface name":"Wingdings 3","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"129187","Unicode hex":"1F8A3"},{"Typeface name":"Wingdings 3","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"129188","Unicode hex":"1F8A4"},{"Typeface name":"Wingdings 3","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"129189","Unicode hex":"1F8A5"},{"Typeface name":"Wingdings 3","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"129190","Unicode hex":"1F8A6"},{"Typeface name":"Wingdings 3","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"129191","Unicode hex":"1F8A7"},{"Typeface name":"Wingdings 3","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"129192","Unicode hex":"1F8A8"},{"Typeface name":"Wingdings 3","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"129193","Unicode hex":"1F8A9"},{"Typeface name":"Wingdings 3","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"129194","Unicode hex":"1F8AA"},{"Typeface name":"Wingdings 3","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"129195","Unicode hex":"1F8AB"},{"Typeface name":"Wingdings 3","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"129104","Unicode hex":"1F850"},{"Typeface name":"Wingdings 3","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"129106","Unicode hex":"1F852"},{"Typeface name":"Wingdings 3","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"129105","Unicode hex":"1F851"},{"Typeface name":"Wingdings 3","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"129107","Unicode hex":"1F853"},{"Typeface name":"Wingdings 3","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"129108","Unicode hex":"1F854"},{"Typeface name":"Wingdings 3","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"129109","Unicode hex":"1F855"},{"Typeface name":"Wingdings 3","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"129111","Unicode hex":"1F857"},{"Typeface name":"Wingdings 3","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"129110","Unicode hex":"1F856"},{"Typeface name":"Wingdings 3","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"129112","Unicode hex":"1F858"},{"Typeface name":"Wingdings 3","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"129113","Unicode hex":"1F859"},{"Typeface name":"Wingdings 3","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9650","Unicode hex":"25B2"},{"Typeface name":"Wingdings 3","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9660","Unicode hex":"25BC"},{"Typeface name":"Wingdings 3","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9651","Unicode hex":"25B3"},{"Typeface name":"Wingdings 3","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9661","Unicode hex":"25BD"},{"Typeface name":"Wingdings 3","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9664","Unicode hex":"25C0"},{"Typeface name":"Wingdings 3","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9654","Unicode hex":"25B6"},{"Typeface name":"Wingdings 3","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"9665","Unicode hex":"25C1"},{"Typeface name":"Wingdings 3","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9655","Unicode hex":"25B7"},{"Typeface name":"Wingdings 3","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"9699","Unicode hex":"25E3"},{"Typeface name":"Wingdings 3","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"9698","Unicode hex":"25E2"},{"Typeface name":"Wingdings 3","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"9700","Unicode hex":"25E4"},{"Typeface name":"Wingdings 3","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"9701","Unicode hex":"25E5"},{"Typeface name":"Wingdings 3","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"128896","Unicode hex":"1F780"},{"Typeface name":"Wingdings 3","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128898","Unicode hex":"1F782"},{"Typeface name":"Wingdings 3","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128897","Unicode hex":"1F781"},{"Typeface name":"Wingdings 3","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128899","Unicode hex":"1F783"},{"Typeface name":"Wingdings 3","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"11205","Unicode hex":"2BC5"},{"Typeface name":"Wingdings 3","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"11206","Unicode hex":"2BC6"},{"Typeface name":"Wingdings 3","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"11207","Unicode hex":"2BC7"},{"Typeface name":"Wingdings 3","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11208","Unicode hex":"2BC8"},{"Typeface name":"Wingdings 3","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"11164","Unicode hex":"2B9C"},{"Typeface name":"Wingdings 3","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"11166","Unicode hex":"2B9E"},{"Typeface name":"Wingdings 3","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"11165","Unicode hex":"2B9D"},{"Typeface name":"Wingdings 3","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"11167","Unicode hex":"2B9F"},{"Typeface name":"Wingdings 3","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"129040","Unicode hex":"1F810"},{"Typeface name":"Wingdings 3","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"129042","Unicode hex":"1F812"},{"Typeface name":"Wingdings 3","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"129041","Unicode hex":"1F811"},{"Typeface name":"Wingdings 3","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"129043","Unicode hex":"1F813"},{"Typeface name":"Wingdings 3","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"129044","Unicode hex":"1F814"},{"Typeface name":"Wingdings 3","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"129046","Unicode hex":"1F816"},{"Typeface name":"Wingdings 3","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"129045","Unicode hex":"1F815"},{"Typeface name":"Wingdings 3","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"129047","Unicode hex":"1F817"},{"Typeface name":"Wingdings 3","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"129048","Unicode hex":"1F818"},{"Typeface name":"Wingdings 3","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"129050","Unicode hex":"1F81A"},{"Typeface name":"Wingdings 3","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"129049","Unicode hex":"1F819"},{"Typeface name":"Wingdings 3","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"129051","Unicode hex":"1F81B"},{"Typeface name":"Wingdings 3","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"129052","Unicode hex":"1F81C"},{"Typeface name":"Wingdings 3","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"129054","Unicode hex":"1F81E"},{"Typeface name":"Wingdings 3","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"129053","Unicode hex":"1F81D"},{"Typeface name":"Wingdings 3","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"129055","Unicode hex":"1F81F"},{"Typeface name":"Wingdings 3","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"129024","Unicode hex":"1F800"},{"Typeface name":"Wingdings 3","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"129026","Unicode hex":"1F802"},{"Typeface name":"Wingdings 3","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"129025","Unicode hex":"1F801"},{"Typeface name":"Wingdings 3","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"129027","Unicode hex":"1F803"},{"Typeface name":"Wingdings 3","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"129028","Unicode hex":"1F804"},{"Typeface name":"Wingdings 3","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"129030","Unicode hex":"1F806"},{"Typeface name":"Wingdings 3","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"129029","Unicode hex":"1F805"},{"Typeface name":"Wingdings 3","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"129031","Unicode hex":"1F807"},{"Typeface name":"Wingdings 3","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"129032","Unicode hex":"1F808"},{"Typeface name":"Wingdings 3","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"129034","Unicode hex":"1F80A"},{"Typeface name":"Wingdings 3","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"129033","Unicode hex":"1F809"},{"Typeface name":"Wingdings 3","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"129035","Unicode hex":"1F80B"},{"Typeface name":"Wingdings 3","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"129056","Unicode hex":"1F820"},{"Typeface name":"Wingdings 3","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"129058","Unicode hex":"1F822"},{"Typeface name":"Wingdings 3","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"129060","Unicode hex":"1F824"},{"Typeface name":"Wingdings 3","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"129062","Unicode hex":"1F826"},{"Typeface name":"Wingdings 3","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"129064","Unicode hex":"1F828"},{"Typeface name":"Wingdings 3","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"129066","Unicode hex":"1F82A"},{"Typeface name":"Wingdings 3","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"129068","Unicode hex":"1F82C"},{"Typeface name":"Wingdings 3","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"129180","Unicode hex":"1F89C"},{"Typeface name":"Wingdings 3","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"129181","Unicode hex":"1F89D"},{"Typeface name":"Wingdings 3","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"129182","Unicode hex":"1F89E"},{"Typeface name":"Wingdings 3","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"129183","Unicode hex":"1F89F"},{"Typeface name":"Wingdings 3","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"129070","Unicode hex":"1F82E"},{"Typeface name":"Wingdings 3","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"129072","Unicode hex":"1F830"},{"Typeface name":"Wingdings 3","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"129074","Unicode hex":"1F832"},{"Typeface name":"Wingdings 3","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"129076","Unicode hex":"1F834"},{"Typeface name":"Wingdings 3","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"129078","Unicode hex":"1F836"},{"Typeface name":"Wingdings 3","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"129080","Unicode hex":"1F838"},{"Typeface name":"Wingdings 3","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"129082","Unicode hex":"1F83A"},{"Typeface name":"Wingdings 3","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"129081","Unicode hex":"1F839"},{"Typeface name":"Wingdings 3","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"129083","Unicode hex":"1F83B"},{"Typeface name":"Wingdings 3","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"129176","Unicode hex":"1F898"},{"Typeface name":"Wingdings 3","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"129178","Unicode hex":"1F89A"},{"Typeface name":"Wingdings 3","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"129177","Unicode hex":"1F899"},{"Typeface name":"Wingdings 3","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"129179","Unicode hex":"1F89B"},{"Typeface name":"Wingdings 3","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"129084","Unicode hex":"1F83C"},{"Typeface name":"Wingdings 3","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"129086","Unicode hex":"1F83E"},{"Typeface name":"Wingdings 3","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"129085","Unicode hex":"1F83D"},{"Typeface name":"Wingdings 3","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"129087","Unicode hex":"1F83F"},{"Typeface name":"Wingdings 3","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"129088","Unicode hex":"1F840"},{"Typeface name":"Wingdings 3","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"129090","Unicode hex":"1F842"},{"Typeface name":"Wingdings 3","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"129089","Unicode hex":"1F841"},{"Typeface name":"Wingdings 3","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"129091","Unicode hex":"1F843"},{"Typeface name":"Wingdings 3","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"129092","Unicode hex":"1F844"},{"Typeface name":"Wingdings 3","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"129094","Unicode hex":"1F846"},{"Typeface name":"Wingdings 3","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"129093","Unicode hex":"1F845"},{"Typeface name":"Wingdings 3","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"129095","Unicode hex":"1F847"},{"Typeface name":"Wingdings 3","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11176","Unicode hex":"2BA8"},{"Typeface name":"Wingdings 3","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11177","Unicode hex":"2BA9"},{"Typeface name":"Wingdings 3","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"11178","Unicode hex":"2BAA"},{"Typeface name":"Wingdings 3","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"11179","Unicode hex":"2BAB"},{"Typeface name":"Wingdings 3","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"11180","Unicode hex":"2BAC"},{"Typeface name":"Wingdings 3","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"11181","Unicode hex":"2BAD"},{"Typeface name":"Wingdings 3","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"11182","Unicode hex":"2BAE"},{"Typeface name":"Wingdings 3","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"11183","Unicode hex":"2BAF"},{"Typeface name":"Wingdings 3","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"129120","Unicode hex":"1F860"},{"Typeface name":"Wingdings 3","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"129122","Unicode hex":"1F862"},{"Typeface name":"Wingdings 3","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"129121","Unicode hex":"1F861"},{"Typeface name":"Wingdings 3","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"129123","Unicode hex":"1F863"},{"Typeface name":"Wingdings 3","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"129124","Unicode hex":"1F864"},{"Typeface name":"Wingdings 3","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"129125","Unicode hex":"1F865"},{"Typeface name":"Wingdings 3","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"129127","Unicode hex":"1F867"},{"Typeface name":"Wingdings 3","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"129126","Unicode hex":"1F866"},{"Typeface name":"Wingdings 3","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"129136","Unicode hex":"1F870"},{"Typeface name":"Wingdings 3","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"129138","Unicode hex":"1F872"},{"Typeface name":"Wingdings 3","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"129137","Unicode hex":"1F871"},{"Typeface name":"Wingdings 3","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"129139","Unicode hex":"1F873"},{"Typeface name":"Wingdings 3","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"129140","Unicode hex":"1F874"},{"Typeface name":"Wingdings 3","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"129141","Unicode hex":"1F875"},{"Typeface name":"Wingdings 3","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129143","Unicode hex":"1F877"},{"Typeface name":"Wingdings 3","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129142","Unicode hex":"1F876"},{"Typeface name":"Wingdings 3","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129152","Unicode hex":"1F880"},{"Typeface name":"Wingdings 3","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129154","Unicode hex":"1F882"},{"Typeface name":"Wingdings 3","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129153","Unicode hex":"1F881"},{"Typeface name":"Wingdings 3","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129155","Unicode hex":"1F883"},{"Typeface name":"Wingdings 3","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129156","Unicode hex":"1F884"},{"Typeface name":"Wingdings 3","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129157","Unicode hex":"1F885"},{"Typeface name":"Wingdings 3","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129159","Unicode hex":"1F887"},{"Typeface name":"Wingdings 3","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129158","Unicode hex":"1F886"},{"Typeface name":"Wingdings 3","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129168","Unicode hex":"1F890"},{"Typeface name":"Wingdings 3","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129170","Unicode hex":"1F892"},{"Typeface name":"Wingdings 3","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129169","Unicode hex":"1F891"},{"Typeface name":"Wingdings 3","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129171","Unicode hex":"1F893"},{"Typeface name":"Wingdings 3","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129172","Unicode hex":"1F894"},{"Typeface name":"Wingdings 3","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129174","Unicode hex":"1F896"},{"Typeface name":"Wingdings 3","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"129173","Unicode hex":"1F895"},{"Typeface name":"Wingdings 3","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"129175","Unicode hex":"1F897"}];yD.default=Yee;var Kee=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yl,"__esModule",{value:!0});Yl.hex=Yl.dec=Yl.codePoint=void 0;var Jee=Kee(yD),V6={},Zee=String.fromCodePoint?String.fromCodePoint:nte;for(var Tw=0,rR=Jee.default;Tw<rR.length;Tw++){var Cw=rR[Tw],oR=parseInt(Cw["Unicode dec"],10),Qee={codePoint:oR,string:Zee(oR)};V6[Cw["Typeface name"].toUpperCase()+"_"+Cw["Dingbat dec"]]=Qee}function vD(t,e){return V6[t.toUpperCase()+"_"+e]}Yl.codePoint=vD;function ete(t,e){return vD(t,parseInt(e,10))}Yl.dec=ete;function tte(t,e){return vD(t,parseInt(e,16))}Yl.hex=tte;function nte(t){if(t<=65535)return String.fromCharCode(t);var e=Math.floor((t-65536)/1024)+55296,n=(t-65536)%1024+56320;return String.fromCharCode(e,n)}var gu={},sR=on;gu.paragraph=ite;gu.run=rte;gu._elements=G6;gu._elementsOfType=bD;gu.getDescendantsOfType=ote;gu.getDescendants=j6;function ite(t){return bD("paragraph",t)}function rte(t){return bD("run",t)}function bD(t,e){return G6(function(n){return n.type===t?e(n):n})}function G6(t){return function e(n){if(n.children){var i=sR.map(n.children,e);n=sR.extend(n,{children:i})}return t(n)}}function ote(t,e){return j6(t).filter(function(n){return n.type===e})}function j6(t){var e=[];return X6(t,function(n){e.push(n)}),e}function X6(t,e){t.children&&t.children.forEach(function(n){X6(n,e),e(n)})}var _D={};_D.uriToZipEntryName=ste;_D.replaceFragment=ate;function ste(t,e){return e.charAt(0)==="/"?e.substr(1):t+"/"+e}function ate(t,e){var n=t.indexOf("#");return n!==-1&&(t=t.substring(0,n)),t+"#"+e}mD.createBodyReader=ute;mD._readNumberingProperties=K6;var aR=Yl,jr=on,kt=st,Y6=Nr.Result,Us=Nr.warning,lte=Wa,lR=gu,uR=_D;function ute(t){return{readXmlElement:function(e){return new cR(t).readXmlElement(e)},readXmlElements:function(e){return new cR(t).readXmlElements(e)}}}function cR(t){var e=[],n=[],i=[],r=t.relationships,o=t.contentTypes,s=t.docxFile,a=t.files,l=t.numbering,u=t.styles;function c(se){var pe=se.map(h);return dR(pe)}function h(se){if(se.type==="element"){var pe=R[se.name];if(pe)return pe(se);if(!Object.prototype.hasOwnProperty.call(dte,se.name)){var B=Us("An unrecognised element was ignored: "+se.name);return kp([B])}}return Td()}function d(se){return _(se).map(function(pe){return{type:"paragraphProperties",styleId:pe.styleId,styleName:pe.name,alignment:se.firstOrEmpty("w:jc").attributes["w:val"],numbering:K6(pe.styleId,se.firstOrEmpty("w:numPr"),l),indent:f(se.firstOrEmpty("w:ind"))}})}function f(se){return{start:se.attributes["w:start"]||se.attributes["w:left"],end:se.attributes["w:end"]||se.attributes["w:right"],firstLine:se.attributes["w:firstLine"],hanging:se.attributes["w:hanging"]}}function y(se){return x(se).map(function(pe){var B=se.firstOrEmpty("w:sz").attributes["w:val"],le=/^[0-9]+$/.test(B)?parseInt(B,10)/2:null;return{type:"runProperties",styleId:pe.styleId,styleName:pe.name,verticalAlignment:se.firstOrEmpty("w:vertAlign").attributes["w:val"],font:se.firstOrEmpty("w:rFonts").attributes["w:ascii"],fontSize:le,isBold:v(se.first("w:b")),isUnderline:m(se.first("w:u")),isItalic:v(se.first("w:i")),isStrikethrough:v(se.first("w:strike")),isAllCaps:v(se.first("w:caps")),isSmallCaps:v(se.first("w:smallCaps")),highlight:p(se.firstOrEmpty("w:highlight").attributes["w:val"])}})}function m(se){if(se){var pe=se.attributes["w:val"];return pe!==void 0&&pe!=="false"&&pe!=="0"&&pe!=="none"}else return!1}function v(se){if(se){var pe=se.attributes["w:val"];return pe!=="false"&&pe!=="0"}else return!1}function g(se){return se!=="false"&&se!=="0"}function p(se){return!se||se==="none"?null:se}function _(se){return A(se,"w:pStyle","Paragraph",u.findParagraphStyleById)}function x(se){return A(se,"w:rStyle","Run",u.findCharacterStyleById)}function T(se){return A(se,"w:tblStyle","Table",u.findTableStyleById)}function A(se,pe,B,le){var de=[],ee=se.first(pe),V=null,Q=null;if(ee&&(V=ee.attributes["w:val"],V)){var ue=le(V);ue?Q=ue.name:de.push(ve(B,V))}return $v({styleId:V,name:Q},de)}function E(se){var pe=se.attributes["w:fldCharType"];if(pe==="begin")e.push({type:"begin",fldChar:se}),n=[];else if(pe==="end"){var B=e.pop();if(B.type==="begin"&&(B=U(B)),B.type==="checkbox")return ar(kt.checkbox({checked:B.checked}))}else if(pe==="separate"){var le=e.pop(),de=U(le);e.push(de)}return Td()}function k(){var se=jr.last(e.filter(function(pe){return pe.type==="hyperlink"}));return se?se.options:null}function U(se){return N(n.join(""),se.type==="begin"?se.fldChar:lte.emptyElement)}function N(se,pe){var B=/\s*HYPERLINK "(.*)"/.exec(se);if(B)return{type:"hyperlink",options:{href:B[1]}};var le=/\s*HYPERLINK\s+\\l\s+"(.*)"/.exec(se);if(le)return{type:"hyperlink",options:{anchor:le[1]}};var de=/\s*FORMCHECKBOX\s*/.exec(se);if(de){var ee=pe.firstOrEmpty("w:ffData").firstOrEmpty("w:checkBox"),V=ee.first("w:checked"),Q=V==null?v(ee.first("w:default")):v(V);return{type:"checkbox",checked:Q}}return{type:"unknown"}}function I(se){return n.push(se.text()),Td()}function S(se){var pe=se.attributes["w:font"],B=se.attributes["w:char"],le=aR.hex(pe,B);return le==null&&/^F0..$/.test(B)&&(le=aR.hex(pe,B.substring(2))),le==null?kp([Us("A w:sym element with an unsupported character was ignored: char "+B+" in font "+pe)]):ar(new kt.Text(le.string))}function L(se){return function(pe){var B=pe.attributes["w:id"];return ar(new kt.NoteReference({noteType:se,noteId:B}))}}function D(se){return ar(kt.commentReference({commentId:se.attributes["w:id"]}))}function $(se){return c(se.children)}var R={"w:p":function(se){var pe=se.firstOrEmpty("w:pPr"),B=!!pe.firstOrEmpty("w:rPr").first("w:del");if(B)return se.children.forEach(function(de){i.push(de)}),Td();var le=se.children;return i.length>0&&(le=i.concat(le),i=[]),zn.map(d(pe),c(le),function(de,ee){return new kt.Paragraph(ee,de)}).insertExtra()},"w:r":function(se){return zn.map(y(se.firstOrEmpty("w:rPr")),c(se.children),function(pe,B){var le=k();return le!==null&&(B=[new kt.Hyperlink(B,le)]),new kt.Run(B,pe)})},"w:fldChar":E,"w:instrText":I,"w:t":function(se){return ar(new kt.Text(se.text()))},"w:tab":function(se){return ar(new kt.Tab)},"w:noBreakHyphen":function(){return ar(new kt.Text(""))},"w:softHyphen":function(se){return ar(new kt.Text(""))},"w:sym":S,"w:hyperlink":function(se){var pe=se.attributes["r:id"],B=se.attributes["w:anchor"];return c(se.children).map(function(le){function de(V){var Q=se.attributes["w:tgtFrame"]||null;return new kt.Hyperlink(le,jr.extend({targetFrame:Q},V))}if(pe){var ee=r.findTargetByRelationshipId(pe);return B&&(ee=uR.replaceFragment(ee,B)),de({href:ee})}else return B?de({anchor:B}):le})},"w:tbl":P,"w:tr":M,"w:tc":q,"w:footnoteReference":L("footnote"),"w:endnoteReference":L("endnote"),"w:commentReference":D,"w:br":function(se){var pe=se.attributes["w:type"];return pe==null||pe==="textWrapping"?ar(kt.lineBreak):pe==="page"?ar(kt.pageBreak):pe==="column"?ar(kt.columnBreak):kp([Us("Unsupported break type: "+pe)])},"w:bookmarkStart":function(se){var pe=se.attributes["w:name"];return pe==="_GoBack"?Td():ar(new kt.BookmarkStart({name:pe}))},"mc:AlternateContent":function(se){return $(se.firstOrEmpty("mc:Fallback"))},"w:sdt":function(se){var pe=c(se.firstOrEmpty("w:sdtContent").children);return pe.map(function(B){var le=se.firstOrEmpty("w:sdtPr").first("wordml:checkbox");if(le){var de=le.first("wordml:checked"),ee=!!de&&g(de.attributes["wordml:val"]),V=kt.checkbox({checked:ee}),Q=!1,ue=B.map(lR._elementsOfType(kt.types.text,function(he){return he.value.length>0&&!Q?(Q=!0,V):he}));return Q?ue:V}else return B})},"w:ins":$,"w:object":$,"w:smartTag":$,"w:drawing":$,"w:pict":function(se){return $(se).toExtra()},"v:roundrect":$,"v:shape":$,"v:textbox":$,"w:txbxContent":$,"wp:inline":J,"wp:anchor":J,"v:imagedata":re,"v:group":$,"v:rect":$};return{readXmlElement:h,readXmlElements:c};function P(se){var pe=z(se.firstOrEmpty("w:tblPr"));return c(se.children).flatMap(O).flatMap(function(B){return pe.map(function(le){return kt.Table(B,le)})})}function z(se){return T(se).map(function(pe){return{styleId:pe.styleId,styleName:pe.name}})}function M(se){var pe=se.firstOrEmpty("w:trPr"),B=!!pe.first("w:del");if(B)return Td();var le=!!pe.first("w:tblHeader");return c(se.children).map(function(de){return kt.TableRow(de,{isHeader:le})})}function q(se){return c(se.children).map(function(pe){var B=se.firstOrEmpty("w:tcPr"),le=B.firstOrEmpty("w:gridSpan").attributes["w:val"],de=le?parseInt(le,10):1,ee=kt.TableCell(pe,{colSpan:de});return ee._vMerge=F(B),ee})}function F(se){var pe=se.first("w:vMerge");if(pe){var B=pe.attributes["w:val"];return B==="continue"||!B}else return null}function O(se){var pe=jr.any(se,function(de){return de.type!==kt.types.tableRow});if(pe)return W(se),$v(se,[Us("unexpected non-row element in table, cell merging may be incorrect")]);var B=jr.any(se,function(de){return jr.any(de.children,function(ee){return ee.type!==kt.types.tableCell})});if(B)return W(se),$v(se,[Us("unexpected non-cell element in table row, cell merging may be incorrect")]);var le={};return se.forEach(function(de){var ee=0;de.children.forEach(function(V){V._vMerge&&le[ee]?le[ee].rowSpan++:(le[ee]=V,V._vMerge=!1),ee+=V.colSpan})}),se.forEach(function(de){de.children=de.children.filter(function(ee){return!ee._vMerge}),de.children.forEach(function(ee){delete ee._vMerge})}),ar(se)}function W(se){se.forEach(function(pe){var B=lR.getDescendantsOfType(pe,kt.types.tableCell);B.forEach(function(le){delete le._vMerge})})}function J(se){var pe=se.getElementsByTagName("a:graphic").getElementsByTagName("a:graphicData").getElementsByTagName("pic:pic").getElementsByTagName("pic:blipFill").getElementsByTagName("a:blip");return dR(pe.map(K.bind(null,se)))}function K(se,pe){var B=se.first("wp:docPr").attributes,le=G(B.descr)?B.title:B.descr,de=Z(pe);return de===null?kp([Us("Could not find image file for a:blip element")]):ge(de,le)}function G(se){return se==null||/^\s*$/.test(se)}function Z(se){var pe=se.attributes["r:embed"],B=se.attributes["r:link"];if(pe)return ae(pe);if(B){var le=r.findTargetByRelationshipId(B);return{path:le,read:a.read.bind(a,le)}}else return null}function re(se){var pe=se.attributes["r:id"];return pe?ge(ae(pe),se.attributes["o:title"]):kp([Us("A v:imagedata element without a relationship ID was ignored")])}function ae(se){var pe=uR.uriToZipEntryName("word",r.findTargetByRelationshipId(se));return{path:pe,read:s.read.bind(s,pe)}}function ge(se,pe){var B=o.findContentType(se.path),le=kt.Image({readImage:se.read,altText:pe,contentType:B}),de=cte[B]?[]:Us("Image of type "+B+" is unlikely to display in web browsers");return $v(le,de)}function ve(se,pe){return Us(se+" style with ID "+pe+" was referenced but not defined in the document")}}function K6(t,e,n){var i=e.firstOrEmpty("w:ilvl").attributes["w:val"],r=e.firstOrEmpty("w:numId").attributes["w:val"];if(i!==void 0&&r!==void 0)return n.findLevel(r,i);if(t!=null){var o=n.findLevelByParagraphStyleId(t);if(o!=null)return o}return r!==void 0?n.findLevel(r,"0"):null}var cte={"image/png":!0,"image/gif":!0,"image/jpeg":!0,"image/svg+xml":!0,"image/tiff":!0},dte={"office-word:wrap":!0,"v:shadow":!0,"v:shapetype":!0,"w:annotationRef":!0,"w:bookmarkEnd":!0,"w:sectPr":!0,"w:proofErr":!0,"w:lastRenderedPageBreak":!0,"w:commentRangeStart":!0,"w:commentRangeEnd":!0,"w:del":!0,"w:footnoteRef":!0,"w:endnoteRef":!0,"w:pPr":!0,"w:rPr":!0,"w:tblPr":!0,"w:tblGrid":!0,"w:trPr":!0,"w:tcPr":!0};function kp(t){return new zn(null,null,t)}function Td(){return new zn(null)}function ar(t){return new zn(t)}function $v(t,e){return new zn(t,null,e)}function zn(t,e,n){this.value=t||[],this.extra=e||[],this._result=new Y6({element:this.value,extra:e},n),this.messages=this._result.messages}zn.prototype.toExtra=function(){return new zn(null,Y_(this.extra,this.value),this.messages)};zn.prototype.insertExtra=function(){var t=this.extra;return t&&t.length?new zn(Y_(this.value,t),null,this.messages):this};zn.prototype.map=function(t){var e=this._result.map(function(n){return t(n.element)});return new zn(e.value,this.extra,e.messages)};zn.prototype.flatMap=function(t){var e=this._result.flatMap(function(n){return t(n.element)._result});return new zn(e.value.element,Y_(this.extra,e.value.extra),e.messages)};zn.map=function(t,e,n){return new zn(n(t.value,e.value),Y_(t.extra,e.extra),t.messages.concat(e.messages))};function dR(t){var e=Y6.combine(jr.pluck(t,"_result"));return new zn(jr.flatten(jr.pluck(e.value,"element")),jr.filter(jr.flatten(jr.pluck(e.value,"extra")),hte),e.messages)}function Y_(t,e){return jr.flatten([t,e])}function hte(t){return t}var J6={};J6.DocumentXmlReader=gte;var fte=st,pte=Nr.Result;function gte(t){var e=t.bodyReader;function n(i){var r=i.first("w:body");if(r==null)throw new Error("Could not find the body element: are you sure this is a docx file?");var o=e.readXmlElements(r.children).map(function(s){return new fte.Document(s,{notes:t.notes,comments:t.comments})});return new pte(o.value,o.messages)}return{convertXmlToDocument:n}}var K_={};K_.readRelationships=mte;K_.defaultValue=new xD([]);K_.Relationships=xD;function mte(t){var e=[];return t.children.forEach(function(n){if(n.name==="relationships:Relationship"){var i={relationshipId:n.attributes.Id,target:n.attributes.Target,type:n.attributes.Type};e.push(i)}}),new xD(e)}function xD(t){var e={};t.forEach(function(i){e[i.relationshipId]=i.target});var n={};return t.forEach(function(i){n[i.type]||(n[i.type]=[]),n[i.type].push(i.target)}),{findTargetByRelationshipId:function(i){return e[i]},findTargetsByType:function(i){return n[i]||[]}}}var wD={};wD.readContentTypesFromXml=vte;var yte={png:"png",gif:"gif",jpeg:"jpeg",jpg:"jpeg",tif:"tiff",tiff:"tiff",bmp:"bmp"};wD.defaultContentTypes=Z6({},{});function vte(t){var e={},n={};return t.children.forEach(function(i){if(i.name==="content-types:Default"&&(e[i.attributes.Extension]=i.attributes.ContentType),i.name==="content-types:Override"){var r=i.attributes.PartName;r.charAt(0)==="/"&&(r=r.substring(1)),n[r]=i.attributes.ContentType}}),Z6(n,e)}function Z6(t,e){return{findContentType:function(n){var i=t[n];if(i)return i;var r=n.split("."),o=r[r.length-1];if(e.hasOwnProperty(o))return e[o];var s=yte[o.toLowerCase()];return s?"image/"+s:null}}}var J_={},zv=on;J_.readNumberingXml=bte;J_.Numbering=TD;J_.defaultNumbering=new TD({},{});function TD(t,e,n){var i=zv.flatten(zv.values(e).map(function(a){return zv.values(a.levels)})),r=zv.indexBy(i.filter(function(a){return a.paragraphStyleId!=null}),"paragraphStyleId");function o(a,l){var u=t[a];if(u){var c=e[u.abstractNumId];if(c){if(c.numStyleLink==null)return e[u.abstractNumId].levels[l];var h=n.findNumberingStyleById(c.numStyleLink);return o(h.numId,l)}else return null}else return null}function s(a){return r[a]||null}return{findLevel:o,findLevelByParagraphStyleId:s}}function bte(t,e){if(!e||!e.styles)throw new Error("styles is missing");var n=_te(t),i=wte(t);return new TD(i,n,e.styles)}function _te(t){var e={};return t.getElementsByTagName("w:abstractNum").forEach(function(n){var i=n.attributes["w:abstractNumId"];e[i]=xte(n)}),e}function xte(t){var e={},n=null;t.getElementsByTagName("w:lvl").forEach(function(r){var o=r.attributes["w:ilvl"],s=r.firstOrEmpty("w:numFmt").attributes["w:val"],a=s!=="bullet",l=r.firstOrEmpty("w:pStyle").attributes["w:val"];o===void 0?n={isOrdered:a,level:"0",paragraphStyleId:l}:e[o]={isOrdered:a,level:o,paragraphStyleId:l}}),n!==null&&e[n.level]===void 0&&(e[n.level]=n);var i=t.firstOrEmpty("w:numStyleLink").attributes["w:val"];return{levels:e,numStyleLink:i}}function wte(t){var e={};return t.getElementsByTagName("w:num").forEach(function(n){var i=n.attributes["w:numId"],r=n.first("w:abstractNumId").attributes["w:val"];e[i]={abstractNumId:r}}),e}var Z_={};Z_.readStylesXml=Tte;Z_.Styles=am;Z_.defaultStyles=new am({},{});function am(t,e,n,i){return{findParagraphStyleById:function(r){return t[r]},findCharacterStyleById:function(r){return e[r]},findTableStyleById:function(r){return n[r]},findNumberingStyleById:function(r){return i[r]}}}am.EMPTY=new am({},{},{},{});function Tte(t){var e={},n={},i={},r={},o={paragraph:e,character:n,table:i,numbering:r};return t.getElementsByTagName("w:style").forEach(function(s){var a=Cte(s),l=o[a.type];l&&l[a.styleId]===void 0&&(l[a.styleId]=a)}),new am(e,n,i,r)}function Cte(t){var e=t.attributes["w:type"];if(e==="numbering")return Ate(e,t);var n=Q6(t),i=Ete(t);return{type:e,styleId:n,name:i}}function Ete(t){var e=t.first("w:name");return e?e.attributes["w:val"]:null}function Ate(t,e){var n=Q6(e),i=e.firstOrEmpty("w:pPr").firstOrEmpty("w:numPr").firstOrEmpty("w:numId").attributes["w:val"];return{type:t,numId:i,styleId:n}}function Q6(t){return t.attributes["w:styleId"]}var CD={},Ste=st,Dte=Nr.Result;CD.createFootnotesReader=eB.bind(Ve,"footnote");CD.createEndnotesReader=eB.bind(Ve,"endnote");function eB(t,e){function n(o){return Dte.combine(o.getElementsByTagName("w:"+t).filter(i).map(r))}function i(o){var s=o.attributes["w:type"];return s!=="continuationSeparator"&&s!=="separator"}function r(o){var s=o.attributes["w:id"];return e.readXmlElements(o.children).map(function(a){return Ste.Note({noteType:t,noteId:s,body:a})})}return n}var tB={},kte=st,Ite=Nr.Result;function Fte(t){function e(i){return Ite.combine(i.getElementsByTagName("w:comment").map(n))}function n(i){var r=i.attributes["w:id"];function o(s){return(i.attributes[s]||"").trim()||null}return t.readXmlElements(i.children).map(function(s){return kte.comment({commentId:r,body:s,authorName:o("w:author"),authorInitials:o("w:initials")})})}return e}tB.createCommentsReader=Fte;var nB={},Nte=Nn;nB.Files=Rte;function Rte(){function t(e){return Nte.reject(new Error("could not open external image: '"+e+`'
cannot open linked files from a web browser`))}return{read:t}}QS.read=qte;QS._findPartPaths=rB;var Ute=Nn,Lte=st,Ew=Nr.Result,j1=ev,iB=nD.readXmlFromZipFile,Pte=mD.createBodyReader,Mte=J6.DocumentXmlReader,Ff=K_,hR=wD,fR=J_,pR=Z_,gR=CD,Ote=tB,Bte=nB.Files;function qte(t,e,n){e=e||{},n=n||{};var i=new Bte({externalFileAccess:n.externalFileAccess,relativeToFile:e.path});return Ute.props({contentTypes:$te(t),partPaths:rB(t),docxFile:t,files:i}).also(function(r){return{styles:Hte(t,r.partPaths.styles)}}).also(function(r){return{numbering:zte(t,r.partPaths.numbering,r.styles)}}).also(function(r){return{footnotes:Hv(r.partPaths.footnotes,r,function(o,s){return s?gR.createFootnotesReader(o)(s):new Ew([])}),endnotes:Hv(r.partPaths.endnotes,r,function(o,s){return s?gR.createEndnotesReader(o)(s):new Ew([])}),comments:Hv(r.partPaths.comments,r,function(o,s){return s?Ote.createCommentsReader(o)(s):new Ew([])})}}).also(function(r){return{notes:r.footnotes.flatMap(function(o){return r.endnotes.map(function(s){return new Lte.Notes(o.concat(s))})})}}).then(function(r){return Hv(r.partPaths.mainDocument,r,function(o,s){return r.notes.flatMap(function(a){return r.comments.flatMap(function(l){var u=new Mte({bodyReader:o,notes:a,comments:l});return u.convertXmlToDocument(s)})})})})}function rB(t){return Vte(t).then(function(e){var n=mR({docxFile:t,relationships:e,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",basePath:"",fallbackPath:"word/document.xml"});if(!t.exists(n))throw new Error("Could not find main document part. Are you sure this is a valid .docx file?");return ep({filename:oB(n),readElement:Ff.readRelationships,defaultValue:Ff.defaultValue})(t).then(function(i){function r(o){return mR({docxFile:t,relationships:i,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/"+o,basePath:j1.splitPath(n).dirname,fallbackPath:"word/"+o+".xml"})}return{mainDocument:n,comments:r("comments"),endnotes:r("endnotes"),footnotes:r("footnotes"),numbering:r("numbering"),styles:r("styles")}})})}function mR(t){var e=t.docxFile,n=t.relationships,i=t.relationshipType,r=t.basePath,o=t.fallbackPath,s=n.findTargetsByType(i),a=s.map(function(u){return Wte(j1.joinPath(r,u),"/")}),l=a.filter(function(u){return e.exists(u)});return l.length===0?o:l[0]}function Wte(t,e){return t.substring(0,e.length)===e?t.substring(e.length):t}function ep(t){return function(e){return iB(e,t.filename).then(function(n){return n?t.readElement(n):t.defaultValue})}}function Hv(t,e,n){var i=ep({filename:oB(t),readElement:Ff.readRelationships,defaultValue:Ff.defaultValue});return i(e.docxFile).then(function(r){var o=new Pte({relationships:r,contentTypes:e.contentTypes,docxFile:e.docxFile,numbering:e.numbering,styles:e.styles,files:e.files});return iB(e.docxFile,t).then(function(s){return n(o,s)})})}function oB(t){var e=j1.splitPath(t);return j1.joinPath(e.dirname,"_rels",e.basename+".rels")}var $te=ep({filename:"[Content_Types].xml",readElement:hR.readContentTypesFromXml,defaultValue:hR.defaultContentTypes});function zte(t,e,n){return ep({filename:e,readElement:function(i){return fR.readNumberingXml(i,{styles:n})},defaultValue:fR.defaultNumbering})(t)}function Hte(t,e){return ep({filename:e,readElement:pR.readStylesXml,defaultValue:pR.defaultStyles})(t)}var Vte=ep({filename:"_rels/.rels",readElement:Ff.readRelationships,defaultValue:Ff.defaultValue}),ED={},Gte=on,jte=Nn,lm=Wa;ED.writeStyleMap=Yte;ED.readStyleMap=Zte;var Xte="http://schemas.zwobble.org/mammoth/style-map",X1="mammoth/style-map",sB="/"+X1;function Yte(t,e){return t.write(X1,e),Kte(t).then(function(){return Jte(t)})}function Kte(t){var e="word/_rels/document.xml.rels",n="http://schemas.openxmlformats.org/package/2006/relationships",i="{"+n+"}Relationship";return t.read(e,"utf8").then(lm.readString).then(function(r){var o=r.children;aB(o,i,"Id",{Id:"rMammothStyleMap",Type:Xte,Target:sB});var s={"":n};return t.write(e,lm.writeString(r,s))})}function Jte(t){var e="[Content_Types].xml",n="http://schemas.openxmlformats.org/package/2006/content-types",i="{"+n+"}Override";return t.read(e,"utf8").then(lm.readString).then(function(r){var o=r.children;aB(o,i,"PartName",{PartName:sB,ContentType:"text/prs.mammoth.style-map"});var s={"":n};return t.write(e,lm.writeString(r,s))})}function aB(t,e,n,i){var r=Gte.find(t,function(o){return o.name===e&&o.attributes[n]===i[n]});r?r.attributes=i:t.push(lm.element(e,i))}function Zte(t){return t.exists(X1)?t.read(X1,"utf8"):jte.resolve(null)}var AD={},vu={},Ls={},Xa={},yR;function lB(){if(yR)return Xa;yR=1;var t=ex();function e(l,u,c){return i(t.element(l,u,{fresh:!1}),c)}function n(l,u,c){var h=t.element(l,u,{fresh:!0});return i(h,c)}function i(l,u){return{type:"element",tag:l,children:u||[]}}function r(l){return{type:"text",value:l}}var o={type:"forceWrite"};Xa.freshElement=n,Xa.nonFreshElement=e,Xa.elementWithTag=i,Xa.text=r,Xa.forceWrite=o;var s={br:!0,hr:!0,img:!0,input:!0};function a(l){return l.children.length===0&&s[l.tag.tagName]}return Xa.isVoidElement=a,Xa}var Aw,vR;function Qte(){if(vR)return Aw;vR=1;var t=on,e=lB();function n(m){return i(u(m))}function i(m){var v=[];return m.map(r).forEach(function(g){l(v,g)}),v}function r(m){return o[m.type](m)}var o={element:s,text:a,forceWrite:a};function s(m){return e.elementWithTag(m.tag,i(m.children))}function a(m){return m}function l(m,v){var g=m[m.length-1];v.type==="element"&&!v.tag.fresh&&g&&g.type==="element"&&v.tag.matchesElement(g.tag)?(v.tag.separator&&l(g.children,e.text(v.tag.separator)),v.children.forEach(function(p){l(g.children,p)})):m.push(v)}function u(m){return c(m,function(v){return h[v.type](v)})}function c(m,v){return t.flatten(t.map(m,v),!0)}var h={element:f,text:y,forceWrite:d};function d(m){return[m]}function f(m){var v=u(m.children);return v.length===0&&!e.isVoidElement(m)?[]:[e.elementWithTag(m.tag,v)]}function y(m){return m.value.length===0?[]:[m]}return Aw=n,Aw}var bR;function Q_(){if(bR)return Ls;bR=1;var t=lB();Ls.freshElement=t.freshElement,Ls.nonFreshElement=t.nonFreshElement,Ls.elementWithTag=t.elementWithTag,Ls.text=t.text,Ls.forceWrite=t.forceWrite,Ls.simplify=Qte();function e(s,a){a.forEach(function(l){n(s,l)})}function n(s,a){i[a.type](s,a)}var i={element:r,text:o,forceWrite:function(){}};function r(s,a){t.isVoidElement(a)?s.selfClosing(a.tag.tagName,a.tag.attributes):(s.open(a.tag.tagName,a.tag.attributes),e(s,a.children),s.close(a.tag.tagName))}function o(s,a){s.text(a.value)}return Ls.write=e,Ls}var _R;function ex(){if(_R)return vu;_R=1;var t=on,e=Q_();vu.topLevelElement=n,vu.elements=i,vu.element=o;function n(a,l){return i([o(a,l,{fresh:!0})])}function i(a){return new r(a.map(function(l){return t.isString(l)?o(l):l}))}function r(a){this._elements=a}r.prototype.wrap=function(l){for(var u=l(),c=this._elements.length-1;c>=0;c--)u=this._elements[c].wrapNodes(u);return u};function o(a,l,u){return u=u||{},new s(a,l,u)}function s(a,l,u){var c={};t.isArray(a)?(a.forEach(function(h){c[h]=!0}),a=a[0]):c[a]=!0,this.tagName=a,this.tagNames=c,this.attributes=l||{},this.fresh=u.fresh,this.separator=u.separator}return s.prototype.matchesElement=function(a){return this.tagNames[a.tagName]&&t.isEqual(this.attributes||{},a.attributes||{})},s.prototype.wrap=function(l){return this.wrapNodes(l())},s.prototype.wrapNodes=function(l){return[e.elementWithTag(this,l)]},vu.empty=i([]),vu.ignore={wrap:function(){return[]}},vu}var SD={};(function(t){var e=on,n=Nn,i=Q_();t.imgElement=r;function r(o){return function(s,a){return n.when(o(s)).then(function(l){var u={};return s.altText&&(u.alt=s.altText),e.extend(u,l),[i.freshElement("img",u)]})}}t.inline=t.imgElement,t.dataUri=r(function(o){return o.readAsBase64String().then(function(s){return{src:"data:"+o.contentType+";base64,"+s}})})})(SD);var uB={},cB={},dB=on;cB.writer=ene;function ene(t){return t=t||{},t.prettyPrint?tne():hB()}var Vv={div:!0,p:!0,ul:!0,li:!0};function tne(){var t=0,e="  ",n=[],i=!0,r=!1,o=hB();function s(y,m){Vv[y]&&d(),n.push(y),o.open(y,m),Vv[y]&&t++,i=!1}function a(y){Vv[y]&&(t--,d()),n.pop(),o.close(y)}function l(y){h();var m=f()?y:y.replace(`
`,`
`+e);o.text(m)}function u(y,m){d(),o.selfClosing(y,m)}function c(){return n.length===0||Vv[n[n.length-1]]}function h(){r||(d(),r=!0)}function d(){if(r=!1,!i&&c()&&!f()){o._append(`
`);for(var y=0;y<t;y++)o._append(e)}}function f(){return dB.some(n,function(y){return y==="pre"})}return{asString:o.asString,open:s,close:a,text:l,selfClosing:u}}function hB(){var t=[];function e(l,u){var c=r(u);t.push("<"+l+c+">")}function n(l){t.push("</"+l+">")}function i(l,u){var c=r(u);t.push("<"+l+c+" />")}function r(l){return dB.map(l,function(u,c){return" "+c+'="'+ine(u)+'"'}).join("")}function o(l){t.push(nne(l))}function s(l){t.push(l)}function a(){return t.join("")}return{asString:a,open:e,close:n,text:o,selfClosing:i,_append:s}}function nne(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ine(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var fB={},rne=on;function xR(t){return Y1(t,t)}function Y1(t,e){return function(){return{start:t,end:e}}}function one(t){var e=t.href||"";return e?{start:"[",end:"]("+e+")",anchorPosition:"before"}:{}}function sne(t){var e=t.src||"",n=t.alt||"";return e||n?{start:"!["+n+"]("+e+")"}:{}}function wR(t){return function(e,n){return{start:n?`
`:"",end:n?"":`
`,list:{isOrdered:t.isOrdered,indent:n?n.indent+1:0,count:0}}}}function ane(t,e,n){e=e||{indent:0,isOrdered:!1,count:0},e.count++,n.hasClosed=!1;var i=e.isOrdered?e.count+".":"-",r=gB("	",e.indent)+i+" ";return{start:r,end:function(){if(!n.hasClosed)return n.hasClosed=!0,`
`}}}var pB={p:Y1("",`

`),br:Y1("",`  
`),ul:wR({isOrdered:!1}),ol:wR({isOrdered:!0}),li:ane,strong:xR("__"),em:xR("*"),a:one,img:sne};(function(){for(var t=1;t<=6;t++)pB["h"+t]=Y1(gB("#",t)+" ",`

`)})();function gB(t,e){return new Array(e+1).join(t)}function lne(){var t=[],e=[],n=null,i={};function r(c,h){h=h||{};var d=pB[c]||function(){return{}},f=d(h,n,i);e.push({end:f.end,list:n}),f.list&&(n=f.list);var y=f.anchorPosition==="before";y&&o(h),t.push(f.start||""),y||o(h)}function o(c){c.id&&t.push('<a id="'+c.id+'"></a>')}function s(c){var h=e.pop();n=h.list;var d=rne.isFunction(h.end)?h.end():h.end;t.push(d||"")}function a(c,h){r(c,h),s()}function l(c){t.push(une(c))}function u(){return t.join("")}return{asString:u,open:r,close:s,text:l,selfClosing:a}}fB.writer=lne;function une(t){return t.replace(/\\/g,"\\\\").replace(/([\`\*_\{\}\[\]\(\)\#\+\-\.\!])/g,"\\$1")}var cne=cB,dne=fB;uB.writer=hne;function hne(t){return t=t||{},t.outputFormat==="markdown"?dne.writer():cne.writer(t)}var Qa=on,TR=Nn,V0=st,Ur=ex(),CE=Nr,fne=SD,at=Q_(),pne=uB;AD.DocumentConverter=gne;function gne(t){return{convertToHtml:function(e){var n=Qa.indexBy(e.type===V0.types.document?e.comments:[],"commentId"),i=new mne(t,n);return i.convertToHtml(e)}}}function mne(t,e){var n=1,i=[],r=[];t=Qa.extend({ignoreEmptyParagraphs:!0},t);var o=t.idPrefix===void 0?"":t.idPrefix,s=t.ignoreEmptyParagraphs,a=Ur.topLevelElement("p"),l=t.styleMap||[];function u(z){var M=[],q=h(z,M,{}),F=[];mB(q,function(W){W.type==="deferred"&&F.push(W)});var O={};return TR.mapSeries(F,function(W){return W.value().then(function(J){O[W.id]=J})}).then(function(){function W(K){return Sw(K,function(G){return G.type==="deferred"?O[G.id]:G.children?[Qa.extend({},G,{children:W(G.children)})]:[G]})}var J=pne.writer({prettyPrint:t.prettyPrint,outputFormat:t.outputFormat});return at.write(J,at.simplify(W(q))),new CE.Result(J.asString(),M)})}function c(z,M,q){return Sw(z,function(F){return h(F,M,q)})}function h(z,M,q){if(!q)throw new Error("options not set");var F=P[z.type];return F?F(z,M,q):[]}function d(z,M,q){return f(z,M).wrap(function(){var F=c(z.children,M,q);return s?F:[at.forceWrite].concat(F)})}function f(z,M){var q=g(z);return q?q.to:(z.styleId&&M.push(CR("paragraph",z)),a)}function y(z,M,q){var F=function(){return c(z.children,M,q)},O=[];if(z.highlight!==null){var W=v({type:"highlight",color:z.highlight});W&&O.push(W)}z.isSmallCaps&&O.push(m("smallCaps")),z.isAllCaps&&O.push(m("allCaps")),z.isStrikethrough&&O.push(m("strikethrough","s")),z.isUnderline&&O.push(m("underline")),z.verticalAlignment===V0.verticalAlignment.subscript&&O.push(Ur.element("sub",{},{fresh:!1})),z.verticalAlignment===V0.verticalAlignment.superscript&&O.push(Ur.element("sup",{},{fresh:!1})),z.isItalic&&O.push(m("italic","em")),z.isBold&&O.push(m("bold","strong"));var J=Ur.empty,K=g(z);return K?J=K.to:z.styleId&&M.push(CR("run",z)),O.push(J),O.forEach(function(G){F=G.wrap.bind(G,F)}),F()}function m(z,M){var q=v({type:z});return q||(M?Ur.element(M,{},{fresh:!1}):Ur.empty)}function v(z,M){var q=g(z);return q?q.to:M}function g(z){for(var M=0;M<l.length;M++)if(l[M].from.matches(z))return l[M]}function p(z){return function(M,q){return TR.attempt(function(){return z(M,q)}).caught(function(F){return q.push(CE.error(F)),[]})}}function _(z){return T(z.noteType,z.noteId)}function x(z){return A(z.noteType,z.noteId)}function T(z,M){return E(z+"-"+M)}function A(z,M){return E(z+"-ref-"+M)}function E(z){return o+z}var k=Ur.elements([Ur.element("table",{},{fresh:!0})]);function U(z,M,q){return v(z,k).wrap(function(){return N(z,M,q)})}function N(z,M,q){var F=Qa.findIndex(z.children,function(K){return!K.type===V0.types.tableRow||!K.isHeader});F===-1&&(F=z.children.length);var O;if(F===0)O=c(z.children,M,Qa.extend({},q,{isTableHeader:!1}));else{var W=c(z.children.slice(0,F),M,Qa.extend({},q,{isTableHeader:!0})),J=c(z.children.slice(F),M,Qa.extend({},q,{isTableHeader:!1}));O=[at.freshElement("thead",{},W),at.freshElement("tbody",{},J)]}return[at.forceWrite].concat(O)}function I(z,M,q){var F=c(z.children,M,q);return[at.freshElement("tr",{},[at.forceWrite].concat(F))]}function S(z,M,q){var F=q.isTableHeader?"th":"td",O=c(z.children,M,q),W={};return z.colSpan!==1&&(W.colspan=z.colSpan.toString()),z.rowSpan!==1&&(W.rowspan=z.rowSpan.toString()),[at.freshElement(F,W,[at.forceWrite].concat(O))]}function L(z,M,q){return v(z,Ur.ignore).wrap(function(){var F=e[z.commentId],O=r.length+1,W="["+bne(F)+O+"]";return r.push({label:W,comment:F}),[at.freshElement("a",{href:"#"+T("comment",z.commentId),id:A("comment",z.commentId)},[at.text(W)])]})}function D(z,M,q){var F=z.label,O=z.comment,W=c(O.body,M,q).concat([at.nonFreshElement("p",{},[at.text(" "),at.freshElement("a",{href:"#"+A("comment",O.commentId)},[at.text("")])])]);return[at.freshElement("dt",{id:T("comment",O.commentId)},[at.text("Comment "+F)]),at.freshElement("dd",{},W)]}function $(z,M,q){return R(z).wrap(function(){return[]})}function R(z){var M=g(z);return M?M.to:z.breakType==="line"?Ur.topLevelElement("br"):Ur.empty}var P={document:function(z,M,q){var F=c(z.children,M,q),O=i.map(function(J){return z.notes.resolve(J)}),W=c(O,M,q);return F.concat([at.freshElement("ol",{},W),at.freshElement("dl",{},Sw(r,function(J){return D(J,M,q)}))])},paragraph:d,run:y,text:function(z,M,q){return[at.text(z.value)]},tab:function(z,M,q){return[at.text("	")]},hyperlink:function(z,M,q){var F=z.anchor?"#"+E(z.anchor):z.href,O={href:F};z.targetFrame!=null&&(O.target=z.targetFrame);var W=c(z.children,M,q);return[at.nonFreshElement("a",O,W)]},checkbox:function(z){var M={type:"checkbox"};return z.checked&&(M.checked="checked"),[at.freshElement("input",M)]},bookmarkStart:function(z,M,q){var F=at.freshElement("a",{id:E(z.name)},[at.forceWrite]);return[F]},noteReference:function(z,M,q){i.push(z);var F=at.freshElement("a",{href:"#"+_(z),id:x(z)},[at.text("["+n+++"]")]);return[at.freshElement("sup",{},[F])]},note:function(z,M,q){var F=c(z.body,M,q),O=at.elementWithTag(Ur.element("p",{},{fresh:!1}),[at.text(" "),at.freshElement("a",{href:"#"+x(z)},[at.text("")])]),W=F.concat([O]);return at.freshElement("li",{id:_(z)},W)},commentReference:L,comment:D,image:vne(p(t.convertImage||fne.dataUri)),table:U,tableRow:I,tableCell:S,break:$};return{convertToHtml:u}}var yne=1;function vne(t){return function(e,n,i){return[{type:"deferred",id:yne++,value:function(){return t(e,n,i)}}]}}function CR(t,e){return CE.warning("Unrecognised "+t+" style: '"+e.styleName+"' (Style ID: "+e.styleId+")")}function Sw(t,e){return Qa.flatten(t.map(e),!0)}function mB(t,e){t.forEach(function(n){e(n),n.children&&mB(n.children,e)})}var bne=AD.commentAuthorLabel=function(e){return e.authorInitials||""},yB={},_ne=st;function vB(t){if(t.type==="text")return t.value;if(t.type===_ne.types.tab)return"	";var e=t.type==="paragraph"?`

`:"";return(t.children||[]).map(vB).join("")+e}yB.convertElementToRawText=vB;var tx={},qo={},bB={},_B={exports:{}},Nf=_B.exports=function(t,e){this._tokens=t,this._startIndex=e||0};Nf.prototype.head=function(){return this._tokens[this._startIndex]};Nf.prototype.tail=function(t){return new Nf(this._tokens,this._startIndex+1)};Nf.prototype.toArray=function(){return this._tokens.slice(this._startIndex)};Nf.prototype.end=function(){return this._tokens[this._tokens.length-1]};Nf.prototype.to=function(t){var e=this.head().source,n=t.head()||t.end();return e.to(n.source)};var xne=_B.exports,wne=xne;bB.Parser=function(t){var e=function(n,i){return n(new wne(i))};return{parseTokens:e}};var DD={},xB={};(function(t){t.none=Object.create({value:function(){throw new Error("Called value on none")},isNone:function(){return!0},isSome:function(){return!1},map:function(){return t.none},flatMap:function(){return t.none},filter:function(){return t.none},toArray:function(){return[]},orElse:e,valueOrElse:e});function e(i){return typeof i=="function"?i():i}t.some=function(i){return new n(i)};var n=function(i){this._value=i};n.prototype.value=function(){return this._value},n.prototype.isNone=function(){return!1},n.prototype.isSome=function(){return!0},n.prototype.map=function(i){return new n(i(this._value))},n.prototype.flatMap=function(i){return i(this._value)},n.prototype.filter=function(i){return i(this._value)?this:t.none},n.prototype.toArray=function(){return[this._value]},n.prototype.orElse=function(i){return this},n.prototype.valueOrElse=function(i){return this._value},t.isOption=function(i){return i===t.none||i instanceof n},t.fromNullable=function(i){return i==null?t.none:new n(i)}})(xB);var kD={failure:function(t,e){if(t.length<1)throw new Error("Failure must have errors");return new ui({status:"failure",remaining:e,errors:t})},error:function(t,e){if(t.length<1)throw new Error("Failure must have errors");return new ui({status:"error",remaining:e,errors:t})},success:function(t,e,n){return new ui({status:"success",value:t,source:n,remaining:e,errors:[]})},cut:function(t){return new ui({status:"cut",remaining:t,errors:[]})}},ui=function(t){this._value=t.value,this._status=t.status,this._hasValue=t.value!==void 0,this._remaining=t.remaining,this._source=t.source,this._errors=t.errors};ui.prototype.map=function(t){return this._hasValue?new ui({value:t(this._value,this._source),status:this._status,remaining:this._remaining,source:this._source,errors:this._errors}):this};ui.prototype.changeRemaining=function(t){return new ui({value:this._value,status:this._status,remaining:t,source:this._source,errors:this._errors})};ui.prototype.isSuccess=function(){return this._status==="success"||this._status==="cut"};ui.prototype.isFailure=function(){return this._status==="failure"};ui.prototype.isError=function(){return this._status==="error"};ui.prototype.isCut=function(){return this._status==="cut"};ui.prototype.value=function(){return this._value};ui.prototype.remaining=function(){return this._remaining};ui.prototype.source=function(){return this._source};ui.prototype.errors=function(){return this._errors};var ID={};ID.error=function(t){return new nx(t)};var nx=function(t){this.expected=t.expected,this.actual=t.actual,this._location=t.location};nx.prototype.describe=function(){var t=this._location?this._location.describe()+`:
`:"";return t+"Expected "+this.expected+`
but got `+this.actual};nx.prototype.lineNumber=function(){return this._location.lineNumber()};nx.prototype.characterNumber=function(){return this._location.characterNumber()};var wB={};wB.fromArray=function(t){var e=0,n=function(){return e<t.length};return new Zc({hasNext:n,next:function(){if(n())return t[e++];throw new Error("No more elements")}})};var Zc=function(t){this._iterator=t};Zc.prototype.map=function(t){var e=this._iterator;return new Zc({hasNext:function(){return e.hasNext()},next:function(){return t(e.next())}})};Zc.prototype.filter=function(t){var e=this._iterator,n=!1,i=!1,r,o=function(){if(!n)for(n=!0,i=!1;e.hasNext()&&!i;)r=e.next(),i=t(r)};return new Zc({hasNext:function(){return o(),i},next:function(){o();var s=r;return n=!1,s}})};Zc.prototype.first=function(){var t=this._iterator;return this._iterator.hasNext()?t.next():null};Zc.prototype.toArray=function(){for(var t=[];this._iterator.hasNext();)t.push(this._iterator.next());return t};(function(t){var e=on,n=xB,i=kD,r=ID,o=wB;t.token=function(d,f){var y=f!==void 0;return function(m){var v=m.head();if(v&&v.name===d&&(!y||v.value===f))return i.success(v.value,m.tail(),v.source);var g=c({name:d,value:f});return h(m,g)}},t.tokenOfType=function(d){return t.token(d)},t.firstOf=function(d,f){return e.isArray(f)||(f=Array.prototype.slice.call(arguments,1)),function(y){return o.fromArray(f).map(function(m){return m(y)}).filter(function(m){return m.isSuccess()||m.isError()}).first()||h(y,d)}},t.then=function(d,f){return function(y){var m=d(y);return m.map||console.log(m),m.map(f)}},t.sequence=function(){var d=Array.prototype.slice.call(arguments,0),f=function(m){var v=e.foldl(d,function(p,_){var x=p.result,T=p.hasCut;if(!x.isSuccess())return{result:x,hasCut:T};var A=_(x.remaining());if(A.isCut())return{result:x,hasCut:!0};if(A.isSuccess()){var E;_.isCaptured?E=x.value().withValue(_,A.value()):E=x.value();var k=A.remaining(),U=m.to(k);return{result:i.success(E,k,U),hasCut:T}}else return T?{result:i.error(A.errors(),A.remaining()),hasCut:T}:{result:A,hasCut:T}},{result:i.success(new s,m),hasCut:!1}).result,g=m.to(v.remaining());return v.map(function(p){return p.withValue(t.sequence.source,g)})};f.head=function(){var m=e.find(d,y);return t.then(f,t.sequence.extract(m))},f.map=function(m){return t.then(f,function(v){return m.apply(this,v.toArray())})};function y(m){return m.isCaptured}return f};var s=function(d,f){this._values=d||{},this._valuesArray=f||[]};s.prototype.withValue=function(d,f){if(d.captureName&&d.captureName in this._values)throw new Error('Cannot add second value for capture "'+d.captureName+'"');var y=e.clone(this._values);y[d.captureName]=f;var m=this._valuesArray.concat([f]);return new s(y,m)},s.prototype.get=function(d){if(d.captureName in this._values)return this._values[d.captureName];throw new Error('No value for capture "'+d.captureName+'"')},s.prototype.toArray=function(){return this._valuesArray},t.sequence.capture=function(d,f){var y=function(){return d.apply(this,arguments)};return y.captureName=f,y.isCaptured=!0,y},t.sequence.extract=function(d){return function(f){return f.get(d)}},t.sequence.applyValues=function(d){var f=Array.prototype.slice.call(arguments,1);return function(y){var m=f.map(function(v){return y.get(v)});return d.apply(this,m)}},t.sequence.source={captureName:"source"},t.sequence.cut=function(){return function(d){return i.cut(d)}},t.optional=function(d){return function(f){var y=d(f);return y.isSuccess()?y.map(n.some):y.isFailure()?i.success(n.none,f):y}},t.zeroOrMoreWithSeparator=function(d,f){return u(d,f,!1)},t.oneOrMoreWithSeparator=function(d,f){return u(d,f,!0)};var a=t.zeroOrMore=function(d){return function(f){for(var y=[],m;(m=d(f))&&m.isSuccess();)f=m.remaining(),y.push(m.value());return m.isError()?m:i.success(y,f)}};t.oneOrMore=function(d){return t.oneOrMoreWithSeparator(d,l)};function l(d){return i.success(null,d)}var u=function(d,f,y){return function(m){var v=d(m);if(v.isSuccess()){var g=t.sequence.capture(d,"main"),p=a(t.then(t.sequence(f,g),t.sequence.extract(g))),_=p(v.remaining());return i.success([v.value()].concat(_.value()),_.remaining())}else return y||v.isError()?v:i.success([],m)}};t.leftAssociative=function(d,f,y){var m;y?m=[{func:y,rule:f}]:m=f,m=m.map(function(g){return t.then(g.rule,function(p){return function(_,x){return g.func(_,p,x)}})});var v=t.firstOf.apply(null,["rules"].concat(m));return function(g){var p=g,_=d(g);if(!_.isSuccess())return _;for(var x=v(_.remaining());x.isSuccess();){var T=x.remaining(),A=p.to(x.remaining()),E=x.value();_=i.success(E(_.value(),A),T,A),x=v(_.remaining())}return x.isError()?x:_}},t.leftAssociative.firstOf=function(){return Array.prototype.slice.call(arguments,0)},t.nonConsuming=function(d){return function(f){return d(f).changeRemaining(f)}};var c=function(d){return d.value?d.name+' "'+d.value+'"':d.name};function h(d,f){var y,m=d.head();return m?y=r.error({expected:f,actual:c(m),location:m.source}):y=r.error({expected:f,actual:"end of tokens"}),i.failure([y],d)}})(DD);var TB={exports:{}};TB.exports=function(t,e){var n={asString:function(){return t},range:function(i,r){return new Qc(t,e,i,r)}};return n};var Qc=function(t,e,n,i){this._string=t,this._description=e,this._startIndex=n,this._endIndex=i};Qc.prototype.to=function(t){return new Qc(this._string,this._description,this._startIndex,t._endIndex)};Qc.prototype.describe=function(){var t=this._position(),e=this._description?this._description+`
`:"";return e+"Line number: "+t.lineNumber+`
Character number: `+t.characterNumber};Qc.prototype.lineNumber=function(){return this._position().lineNumber};Qc.prototype.characterNumber=function(){return this._position().characterNumber};Qc.prototype._position=function(){for(var t=this,e=0,n=function(){return t._string.indexOf(`
`,e)},i=1;n()!==-1&&n()<this._startIndex;)e=n()+1,i+=1;var r=this._startIndex-e+1;return{lineNumber:i,characterNumber:r}};var CB=TB.exports,EB=function(t,e,n){this.name=t,this.value=e,n&&(this.source=n)},AB={};(function(t){var e=DD,n=kD;t.parser=function(o,s,a){var l={rule:d,leftAssociative:f,rightAssociative:y},u=new i(a.map(h)),c=e.firstOf(o,s);function h(g){return{name:g.name,rule:r(g.ruleBuilder.bind(null,l))}}function d(){return m(u)}function f(g){return m(u.untilExclusive(g))}function y(g){return m(u.untilInclusive(g))}function m(g){return v.bind(null,g)}function v(g,p){var _=c(p);return _.isSuccess()?g.apply(_):_}return l};function i(o){function s(h){return new i(o.slice(0,l().indexOf(h)))}function a(h){return new i(o.slice(0,l().indexOf(h)+1))}function l(){return o.map(function(h){return h.name})}function u(h){for(var d,f;;)if(d=c(h.remaining()),d.isSuccess())f=h.source().to(d.source()),h=n.success(d.value()(h.value(),f),d.remaining(),f);else return d.isFailure()?h:d}function c(h){return e.firstOf("infix",o.map(function(d){return d.rule}))(h)}return{apply:u,untilExclusive:s,untilInclusive:a}}t.infix=function(o,s){function a(l){return t.infix(o,function(u){var c=s(u);return function(h){var d=c(h);return d.map(function(f){return function(y,m){return l(y,f,m)}})}})}return{name:o,ruleBuilder:s,map:a}};var r=function(o){var s;return function(a){return s||(s=o()),s(a)}}})(AB);var SB={},Dw=EB,Tne=CB;SB.RegexTokeniser=Cne;function Cne(t){t=t.map(function(r){return{name:r.name,regex:new RegExp(r.regex.source,"g")}});function e(r,o){for(var s=new Tne(r,o),a=0,l=[];a<r.length;){var u=n(r,a,s);a=u.endIndex,l.push(u.token)}return l.push(i(r,s)),l}function n(r,o,s){for(var a=0;a<t.length;a++){var l=t[a].regex;l.lastIndex=o;var u=l.exec(r);if(u){var h=o+u[0].length;if(u.index===o&&h>o){var c=u[1],d=new Dw(t[a].name,c,s.range(o,h));return{token:d,endIndex:h}}}}var h=o+1,d=new Dw("unrecognisedCharacter",r.substring(o,h),s.range(o,h));return{token:d,endIndex:h}}function i(r,o){return new Dw("end",null,o.range(r.length,r.length))}return{tokenise:e}}qo.Parser=bB.Parser;qo.rules=DD;qo.errors=ID;qo.results=kD;qo.StringSource=CB;qo.Token=EB;qo.bottomUp=AB;qo.RegexTokeniser=SB.RegexTokeniser;qo.rule=function(t){var e;return function(n){return e||(e=t()),e(n)}};var Vn={};Vn.paragraph=Ene;Vn.run=Ane;Vn.table=Sne;Vn.bold=new Wo("bold");Vn.italic=new Wo("italic");Vn.underline=new Wo("underline");Vn.strikethrough=new Wo("strikethrough");Vn.allCaps=new Wo("allCaps");Vn.smallCaps=new Wo("smallCaps");Vn.highlight=Dne;Vn.commentReference=new Wo("commentReference");Vn.lineBreak=new ix({breakType:"line"});Vn.pageBreak=new ix({breakType:"page"});Vn.columnBreak=new ix({breakType:"column"});Vn.equalTo=Ine;Vn.startsWith=Fne;function Ene(t){return new Wo("paragraph",t)}function Ane(t){return new Wo("run",t)}function Sne(t){return new Wo("table",t)}function Dne(t){return new DB(t)}function Wo(t,e){e=e||{},this._elementType=t,this._styleId=e.styleId,this._styleName=e.styleName,e.list&&(this._listIndex=e.list.levelIndex,this._listIsOrdered=e.list.isOrdered)}Wo.prototype.matches=function(t){return t.type===this._elementType&&(this._styleId===void 0||t.styleId===this._styleId)&&(this._styleName===void 0||t.styleName&&this._styleName.operator(this._styleName.operand,t.styleName))&&(this._listIndex===void 0||kne(t,this._listIndex,this._listIsOrdered))&&(this._breakType===void 0||this._breakType===t.breakType)};function DB(t){t=t||{},this._color=t.color}DB.prototype.matches=function(t){return t.type==="highlight"&&(this._color===void 0||t.color===this._color)};function ix(t){t=t||{},this._breakType=t.breakType}ix.prototype.matches=function(t){return t.type==="break"&&(this._breakType===void 0||t.breakType===this._breakType)};function kne(t,e,n){return t.numbering&&t.numbering.level==e&&t.numbering.isOrdered==n}function Ine(t){return{operator:Nne,operand:t}}function Fne(t){return{operator:Rne,operand:t}}function Nne(t,e){return t.toUpperCase()===e.toUpperCase()}function Rne(t,e){return e.toUpperCase().indexOf(t.toUpperCase())===0}var kB={},Une=qo,Lne=Une.RegexTokeniser;kB.tokenise=Pne;var ER="'((?:\\\\.|[^'])*)";function Pne(t){var e="(?:[a-zA-Z\\-_]|\\\\.)",n=new Lne([{name:"identifier",regex:new RegExp("("+e+"(?:"+e+"|[0-9])*)")},{name:"dot",regex:/\./},{name:"colon",regex:/:/},{name:"gt",regex:/>/},{name:"whitespace",regex:/\s+/},{name:"arrow",regex:/=>/},{name:"equals",regex:/=/},{name:"startsWith",regex:/\^=/},{name:"open-paren",regex:/\(/},{name:"close-paren",regex:/\)/},{name:"open-square-bracket",regex:/\[/},{name:"close-square-bracket",regex:/\]/},{name:"string",regex:new RegExp(ER+"'")},{name:"unterminated-string",regex:new RegExp(ER)},{name:"integer",regex:/([0-9]+)/},{name:"choice",regex:/\|/},{name:"bang",regex:/(!)/}]);return n.tokenise(t)}var Mne=on,_e=qo,Yn=Vn,G0=ex(),One=kB.tokenise,kw=Nr;tx.readHtmlPath=$ne;tx.readDocumentMatcher=Wne;tx.readStyle=Bne;function Bne(t){return FD(Kne,t)}function qne(){return _e.rules.sequence(_e.rules.sequence.capture(IB()),_e.rules.tokenOfType("whitespace"),_e.rules.tokenOfType("arrow"),_e.rules.sequence.capture(_e.rules.optional(_e.rules.sequence(_e.rules.tokenOfType("whitespace"),_e.rules.sequence.capture(FB())).head())),_e.rules.tokenOfType("end")).map(function(t,e){return{from:t,to:e.valueOrElse(G0.empty)}})}function Wne(t){return FD(IB(),t)}function IB(){var t=_e.rules.sequence,e=function(A,E){return _e.rules.then(_e.rules.token("identifier",A),function(){return E})},n=e("p",Yn.paragraph),i=e("r",Yn.run),r=_e.rules.firstOf("p or r or table",n,i),o=_e.rules.sequence(_e.rules.tokenOfType("dot"),_e.rules.sequence.cut(),_e.rules.sequence.capture(rx)).map(function(A){return{styleId:A}}),s=_e.rules.firstOf("style name matcher",_e.rules.then(_e.rules.sequence(_e.rules.tokenOfType("equals"),_e.rules.sequence.cut(),_e.rules.sequence.capture(Gd)).head(),function(A){return{styleName:Yn.equalTo(A)}}),_e.rules.then(_e.rules.sequence(_e.rules.tokenOfType("startsWith"),_e.rules.sequence.cut(),_e.rules.sequence.capture(Gd)).head(),function(A){return{styleName:Yn.startsWith(A)}})),a=_e.rules.sequence(_e.rules.tokenOfType("open-square-bracket"),_e.rules.sequence.cut(),_e.rules.token("identifier","style-name"),_e.rules.sequence.capture(s),_e.rules.tokenOfType("close-square-bracket")).head(),l=_e.rules.firstOf("list type",e("ordered-list",{isOrdered:!0}),e("unordered-list",{isOrdered:!1})),u=t(_e.rules.tokenOfType("colon"),t.capture(l),t.cut(),_e.rules.tokenOfType("open-paren"),t.capture(zne),_e.rules.tokenOfType("close-paren")).map(function(A,E){return{list:{isOrdered:A.isOrdered,levelIndex:E-1}}});function c(A){var E=_e.rules.firstOf.apply(_e.rules.firstOf,["matcher suffix"].concat(A)),k=_e.rules.zeroOrMore(E);return _e.rules.then(k,function(U){var N={};return U.forEach(function(I){Mne.extend(N,I)}),N})}var h=t(t.capture(r),t.capture(c([o,a,u]))).map(function(A,E){return A(E)}),d=t(_e.rules.token("identifier","table"),t.capture(c([o,a]))).map(function(A){return Yn.table(A)}),f=e("b",Yn.bold),y=e("i",Yn.italic),m=e("u",Yn.underline),v=e("strike",Yn.strikethrough),g=e("all-caps",Yn.allCaps),p=e("small-caps",Yn.smallCaps),_=t(_e.rules.token("identifier","highlight"),_e.rules.sequence.capture(_e.rules.optional(_e.rules.sequence(_e.rules.tokenOfType("open-square-bracket"),_e.rules.sequence.cut(),_e.rules.token("identifier","color"),_e.rules.tokenOfType("equals"),_e.rules.sequence.capture(Gd),_e.rules.tokenOfType("close-square-bracket")).head()))).map(function(A){return Yn.highlight({color:A.valueOrElse(void 0)})}),x=e("comment-reference",Yn.commentReference),T=t(_e.rules.token("identifier","br"),t.cut(),_e.rules.tokenOfType("open-square-bracket"),_e.rules.token("identifier","type"),_e.rules.tokenOfType("equals"),t.capture(Gd),_e.rules.tokenOfType("close-square-bracket")).map(function(A){switch(A){case"line":return Yn.lineBreak;case"page":return Yn.pageBreak;case"column":return Yn.columnBreak}});return _e.rules.firstOf("element type",h,d,f,y,m,v,g,p,_,x,T)}function $ne(t){return FD(FB(),t)}function FB(){var t=_e.rules.sequence.capture,e=_e.rules.tokenOfType("whitespace"),n=_e.rules.then(_e.rules.optional(_e.rules.sequence(_e.rules.tokenOfType("colon"),_e.rules.token("identifier","fresh"))),function(s){return s.map(function(){return!0}).valueOrElse(!1)}),i=_e.rules.then(_e.rules.optional(_e.rules.sequence(_e.rules.tokenOfType("colon"),_e.rules.token("identifier","separator"),_e.rules.tokenOfType("open-paren"),t(Gd),_e.rules.tokenOfType("close-paren")).head()),function(s){return s.valueOrElse("")}),r=_e.rules.oneOrMoreWithSeparator(rx,_e.rules.tokenOfType("choice")),o=_e.rules.sequence(t(r),t(_e.rules.zeroOrMore(jne)),t(n),t(i)).map(function(s,a,l,u){var c={},h={};return a.forEach(function(d){d.append&&c[d.name]?c[d.name]+=" "+d.value:c[d.name]=d.value}),l&&(h.fresh=!0),u&&(h.separator=u),G0.element(s,c,h)});return _e.rules.firstOf("html path",_e.rules.then(_e.rules.tokenOfType("bang"),function(){return G0.ignore}),_e.rules.then(_e.rules.zeroOrMoreWithSeparator(o,_e.rules.sequence(e,_e.rules.tokenOfType("gt"),e)),G0.elements))}var rx=_e.rules.then(_e.rules.tokenOfType("identifier"),NB),zne=_e.rules.tokenOfType("integer"),Gd=_e.rules.then(_e.rules.tokenOfType("string"),NB),Hne={n:`
`,r:"\r",t:"	"};function NB(t){return t.replace(/\\(.)/g,function(e,n){return Hne[n]||n})}var Vne=_e.rules.sequence(_e.rules.tokenOfType("open-square-bracket"),_e.rules.sequence.cut(),_e.rules.sequence.capture(rx),_e.rules.tokenOfType("equals"),_e.rules.sequence.capture(Gd),_e.rules.tokenOfType("close-square-bracket")).map(function(t,e){return{name:t,value:e,append:!1}}),Gne=_e.rules.sequence(_e.rules.tokenOfType("dot"),_e.rules.sequence.cut(),_e.rules.sequence.capture(rx)).map(function(t){return{name:"class",value:t,append:!0}}),jne=_e.rules.firstOf("attribute or class",Vne,Gne);function FD(t,e){var n=One(e),i=_e.Parser(),r=i.parseTokens(t,n);return r.isSuccess()?kw.success(r.value()):new kw.Result(null,[kw.warning(Xne(e,r))])}function Xne(t,e){return"Did not understand this style mapping, so ignored it: "+t+`
`+e.errors().map(Yne).join(`
`)}function Yne(t){return"Error was at character number "+t.characterNumber()+": Expected "+t.expected+" but got "+t.actual}var Kne=qne(),ox={};ox.readOptions=Qne;var RB=on,Jne=ox._defaultStyleMap=["p.Heading1 => h1:fresh","p.Heading2 => h2:fresh","p.Heading3 => h3:fresh","p.Heading4 => h4:fresh","p.Heading5 => h5:fresh","p.Heading6 => h6:fresh","p[style-name='Heading 1'] => h1:fresh","p[style-name='Heading 2'] => h2:fresh","p[style-name='Heading 3'] => h3:fresh","p[style-name='Heading 4'] => h4:fresh","p[style-name='Heading 5'] => h5:fresh","p[style-name='Heading 6'] => h6:fresh","p[style-name='heading 1'] => h1:fresh","p[style-name='heading 2'] => h2:fresh","p[style-name='heading 3'] => h3:fresh","p[style-name='heading 4'] => h4:fresh","p[style-name='heading 5'] => h5:fresh","p[style-name='heading 6'] => h6:fresh","p.Heading => h1:fresh","p[style-name='Heading'] => h1:fresh","r[style-name='Strong'] => strong","p[style-name='footnote text'] => p:fresh","r[style-name='footnote reference'] =>","p[style-name='endnote text'] => p:fresh","r[style-name='endnote reference'] =>","p[style-name='annotation text'] => p:fresh","r[style-name='annotation reference'] =>","p[style-name='Footnote'] => p:fresh","r[style-name='Footnote anchor'] =>","p[style-name='Endnote'] => p:fresh","r[style-name='Endnote anchor'] =>","p:unordered-list(1) => ul > li:fresh","p:unordered-list(2) => ul|ol > li > ul > li:fresh","p:unordered-list(3) => ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:ordered-list(1) => ol > li:fresh","p:ordered-list(2) => ul|ol > li > ol > li:fresh","p:ordered-list(3) => ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","r[style-name='Hyperlink'] =>","p[style-name='Normal'] => p:fresh","p.Body => p:fresh","p[style-name='Body'] => p:fresh"],Zne=ox._standardOptions={externalFileAccess:!1,transformDocument:eie,includeDefaultStyleMap:!0,includeEmbeddedStyleMap:!0};function Qne(t){return t=t||{},RB.extend({},Zne,t,{customStyleMap:AR(t.styleMap),readStyleMap:function(){var e=this.customStyleMap;return this.includeEmbeddedStyleMap&&(e=e.concat(AR(this.embeddedStyleMap))),this.includeDefaultStyleMap&&(e=e.concat(Jne)),e}})}function AR(t){return t?RB.isString(t)?t.split(`
`).map(function(e){return e.trim()}).filter(function(e){return e!==""&&e.charAt(0)!=="#"}):t:[]}function eie(t){return t}var UB={},SR=Nn,tie=ev;UB.openZip=nie;function nie(t){return t.arrayBuffer?SR.resolve(tie.openArrayBuffer(t.arrayBuffer)):SR.reject(new Error("Could not find file in options"))}var LB={},iie=ex(),rie=Q_();LB.element=oie;function oie(t){return function(e){return rie.elementWithTag(iie.element(t),[e])}}var sie=on,PB=QS,ND=ED,aie=AD.DocumentConverter,lie=yB.convertElementToRawText,uie=tx.readStyle,cie=ox.readOptions,sx=UB,die=Nr.Result;Bo.convertToHtml=hie;Bo.convertToMarkdown=fie;Bo.convert=RD;Bo.extractRawText=yie;Bo.images=SD;Bo.transforms=gu;Bo.underline=LB;Bo.embedStyleMap=vie;Bo.readEmbeddedStyleMap=pie;function hie(t,e){return RD(t,e)}function fie(t,e){var n=Object.create(e||{});return n.outputFormat="markdown",RD(t,n)}function RD(t,e){return e=cie(e),sx.openZip(t).tap(function(n){return ND.readStyleMap(n).then(function(i){e.embeddedStyleMap=i})}).then(function(n){return PB.read(n,t,e).then(function(i){return i.map(e.transformDocument)}).then(function(i){return gie(i,e)})})}function pie(t){return sx.openZip(t).then(ND.readStyleMap)}function gie(t,e){var n=mie(e.readStyleMap()),i=sie.extend({},e,{styleMap:n.value}),r=new aie(i);return t.flatMapThen(function(o){return n.flatMapThen(function(s){return r.convertToHtml(o)})})}function mie(t){return die.combine((t||[]).map(uie)).map(function(e){return e.filter(function(n){return!!n})})}function yie(t){return sx.openZip(t).then(PB.read).then(function(e){return e.map(lie)})}function vie(t,e){return sx.openZip(t).tap(function(n){return ND.writeStyleMap(n,e)}).then(function(n){return n.toArrayBuffer()}).then(function(n){return{toArrayBuffer:function(){return n},toBuffer:function(){return Buffer.from(n)}}})}Bo.styleMapping=function(){throw new Error(`Use a raw string instead of mammoth.styleMapping e.g. "p[style-name='Title'] => h1" instead of mammoth.styleMapping("p[style-name='Title'] => h1")`)};pZ.workerSrc="https://cdn.jsdelivr.net/npm/pdfjs-dist@4.4.168/build/pdf.worker.min.mjs";const MB=async t=>{const{name:e}=t;if(t.type==="application/pdf"){const n=new FileReader;return new Promise((i,r)=>{n.onload=async o=>{var s;try{if(!((s=o.target)!=null&&s.result))return r(new Error("File could not be read."));const a=await gZ(o.target.result).promise;let l="";for(let u=1;u<=a.numPages;u++){const h=await(await a.getPage(u)).getTextContent();l+=h.items.map(d=>"str"in d?d.str:"").join(" "),l+=`

`}i({name:e,content:l})}catch(a){console.error("Error parsing PDF:",a),r(a)}},n.onerror=o=>r(o),n.readAsArrayBuffer(t)})}else if(t.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"){const n=new FileReader;return new Promise((i,r)=>{n.onload=async o=>{var s;try{if(!((s=o.target)!=null&&s.result))return r(new Error("File could not be read."));const a=await Bo.extractRawText({arrayBuffer:o.target.result});i({name:e,content:a.value})}catch(a){console.error("Error parsing DOCX:",a),r(a)}},n.onerror=o=>r(o),n.readAsArrayBuffer(t)})}else if(t.type.startsWith("text/")||t.name.endsWith(".md"))return new Promise((n,i)=>{const r=new FileReader;r.onload=o=>{var s;return n({name:e,content:(s=o.target)==null?void 0:s.result})},r.onerror=o=>i(o),r.readAsText(t)});return console.warn(`Unsupported file type: ${t.type} (${t.name}). File was ignored.`),null};function bie(){this.__data__=[],this.size=0}var _ie=bie;function xie(t,e){return t===e||t!==t&&e!==e}var OB=xie,wie=OB;function Tie(t,e){for(var n=t.length;n--;)if(wie(t[n][0],e))return n;return-1}var ax=Tie,Cie=ax,Eie=Array.prototype,Aie=Eie.splice;function Sie(t){var e=this.__data__,n=Cie(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():Aie.call(e,n,1),--this.size,!0}var Die=Sie,kie=ax;function Iie(t){var e=this.__data__,n=kie(e,t);return n<0?void 0:e[n][1]}var Fie=Iie,Nie=ax;function Rie(t){return Nie(this.__data__,t)>-1}var Uie=Rie,Lie=ax;function Pie(t,e){var n=this.__data__,i=Lie(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}var Mie=Pie,Oie=_ie,Bie=Die,qie=Fie,Wie=Uie,$ie=Mie;function tp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}tp.prototype.clear=Oie;tp.prototype.delete=Bie;tp.prototype.get=qie;tp.prototype.has=Wie;tp.prototype.set=$ie;var lx=tp,zie=lx;function Hie(){this.__data__=new zie,this.size=0}var Vie=Hie;function Gie(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var jie=Gie;function Xie(t){return this.__data__.get(t)}var Yie=Xie;function Kie(t){return this.__data__.has(t)}var Jie=Kie,Zie=typeof Ve=="object"&&Ve&&Ve.Object===Object&&Ve,BB=Zie,Qie=BB,ere=typeof self=="object"&&self&&self.Object===Object&&self,tre=Qie||ere||Function("return this")(),za=tre,nre=za,ire=nre.Symbol,UD=ire,DR=UD,qB=Object.prototype,rre=qB.hasOwnProperty,ore=qB.toString,Ip=DR?DR.toStringTag:void 0;function sre(t){var e=rre.call(t,Ip),n=t[Ip];try{t[Ip]=void 0;var i=!0}catch{}var r=ore.call(t);return i&&(e?t[Ip]=n:delete t[Ip]),r}var are=sre,lre=Object.prototype,ure=lre.toString;function cre(t){return ure.call(t)}var dre=cre,kR=UD,hre=are,fre=dre,pre="[object Null]",gre="[object Undefined]",IR=kR?kR.toStringTag:void 0;function mre(t){return t==null?t===void 0?gre:pre:IR&&IR in Object(t)?hre(t):fre(t)}var ux=mre;function yre(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var WB=yre,vre=ux,bre=WB,_re="[object AsyncFunction]",xre="[object Function]",wre="[object GeneratorFunction]",Tre="[object Proxy]";function Cre(t){if(!bre(t))return!1;var e=vre(t);return e==xre||e==wre||e==_re||e==Tre}var $B=Cre,Ere=za,Are=Ere["__core-js_shared__"],Sre=Are,Iw=Sre,FR=function(){var t=/[^.]+$/.exec(Iw&&Iw.keys&&Iw.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Dre(t){return!!FR&&FR in t}var kre=Dre,Ire=Function.prototype,Fre=Ire.toString;function Nre(t){if(t!=null){try{return Fre.call(t)}catch{}try{return t+""}catch{}}return""}var zB=Nre,Rre=$B,Ure=kre,Lre=WB,Pre=zB,Mre=/[\\^$.*+?()[\]{}|]/g,Ore=/^\[object .+?Constructor\]$/,Bre=Function.prototype,qre=Object.prototype,Wre=Bre.toString,$re=qre.hasOwnProperty,zre=RegExp("^"+Wre.call($re).replace(Mre,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Hre(t){if(!Lre(t)||Ure(t))return!1;var e=Rre(t)?zre:Ore;return e.test(Pre(t))}var Vre=Hre;function Gre(t,e){return t==null?void 0:t[e]}var jre=Gre,Xre=Vre,Yre=jre;function Kre(t,e){var n=Yre(t,e);return Xre(n)?n:void 0}var np=Kre,Jre=np,Zre=za,Qre=Jre(Zre,"Map"),LD=Qre,eoe=np,toe=eoe(Object,"create"),cx=toe,NR=cx;function noe(){this.__data__=NR?NR(null):{},this.size=0}var ioe=noe;function roe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var ooe=roe,soe=cx,aoe="__lodash_hash_undefined__",loe=Object.prototype,uoe=loe.hasOwnProperty;function coe(t){var e=this.__data__;if(soe){var n=e[t];return n===aoe?void 0:n}return uoe.call(e,t)?e[t]:void 0}var doe=coe,hoe=cx,foe=Object.prototype,poe=foe.hasOwnProperty;function goe(t){var e=this.__data__;return hoe?e[t]!==void 0:poe.call(e,t)}var moe=goe,yoe=cx,voe="__lodash_hash_undefined__";function boe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=yoe&&e===void 0?voe:e,this}var _oe=boe,xoe=ioe,woe=ooe,Toe=doe,Coe=moe,Eoe=_oe;function ip(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}ip.prototype.clear=xoe;ip.prototype.delete=woe;ip.prototype.get=Toe;ip.prototype.has=Coe;ip.prototype.set=Eoe;var Aoe=ip,RR=Aoe,Soe=lx,Doe=LD;function koe(){this.size=0,this.__data__={hash:new RR,map:new(Doe||Soe),string:new RR}}var Ioe=koe;function Foe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Noe=Foe,Roe=Noe;function Uoe(t,e){var n=t.__data__;return Roe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var dx=Uoe,Loe=dx;function Poe(t){var e=Loe(this,t).delete(t);return this.size-=e?1:0,e}var Moe=Poe,Ooe=dx;function Boe(t){return Ooe(this,t).get(t)}var qoe=Boe,Woe=dx;function $oe(t){return Woe(this,t).has(t)}var zoe=$oe,Hoe=dx;function Voe(t,e){var n=Hoe(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}var Goe=Voe,joe=Ioe,Xoe=Moe,Yoe=qoe,Koe=zoe,Joe=Goe;function rp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}rp.prototype.clear=joe;rp.prototype.delete=Xoe;rp.prototype.get=Yoe;rp.prototype.has=Koe;rp.prototype.set=Joe;var HB=rp,Zoe=lx,Qoe=LD,ese=HB,tse=200;function nse(t,e){var n=this.__data__;if(n instanceof Zoe){var i=n.__data__;if(!Qoe||i.length<tse-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new ese(i)}return n.set(t,e),this.size=n.size,this}var ise=nse,rse=lx,ose=Vie,sse=jie,ase=Yie,lse=Jie,use=ise;function op(t){var e=this.__data__=new rse(t);this.size=e.size}op.prototype.clear=ose;op.prototype.delete=sse;op.prototype.get=ase;op.prototype.has=lse;op.prototype.set=use;var cse=op,dse="__lodash_hash_undefined__";function hse(t){return this.__data__.set(t,dse),this}var fse=hse;function pse(t){return this.__data__.has(t)}var gse=pse,mse=HB,yse=fse,vse=gse;function K1(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new mse;++e<n;)this.add(t[e])}K1.prototype.add=K1.prototype.push=yse;K1.prototype.has=vse;var bse=K1;function _se(t,e){for(var n=-1,i=t==null?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var xse=_se;function wse(t,e){return t.has(e)}var Tse=wse,Cse=bse,Ese=xse,Ase=Tse,Sse=1,Dse=2;function kse(t,e,n,i,r,o){var s=n&Sse,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var h=-1,d=!0,f=n&Dse?new Cse:void 0;for(o.set(t,e),o.set(e,t);++h<a;){var y=t[h],m=e[h];if(i)var v=s?i(m,y,h,e,t,o):i(y,m,h,t,e,o);if(v!==void 0){if(v)continue;d=!1;break}if(f){if(!Ese(e,function(g,p){if(!Ase(f,p)&&(y===g||r(y,g,n,i,o)))return f.push(p)})){d=!1;break}}else if(!(y===m||r(y,m,n,i,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var VB=kse,Ise=za,Fse=Ise.Uint8Array,Nse=Fse;function Rse(t){var e=-1,n=Array(t.size);return t.forEach(function(i,r){n[++e]=[r,i]}),n}var Use=Rse;function Lse(t){var e=-1,n=Array(t.size);return t.forEach(function(i){n[++e]=i}),n}var Pse=Lse,UR=UD,LR=Nse,Mse=OB,Ose=VB,Bse=Use,qse=Pse,Wse=1,$se=2,zse="[object Boolean]",Hse="[object Date]",Vse="[object Error]",Gse="[object Map]",jse="[object Number]",Xse="[object RegExp]",Yse="[object Set]",Kse="[object String]",Jse="[object Symbol]",Zse="[object ArrayBuffer]",Qse="[object DataView]",PR=UR?UR.prototype:void 0,Fw=PR?PR.valueOf:void 0;function eae(t,e,n,i,r,o,s){switch(n){case Qse:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Zse:return!(t.byteLength!=e.byteLength||!o(new LR(t),new LR(e)));case zse:case Hse:case jse:return Mse(+t,+e);case Vse:return t.name==e.name&&t.message==e.message;case Xse:case Kse:return t==e+"";case Gse:var a=Bse;case Yse:var l=i&Wse;if(a||(a=qse),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;i|=$se,s.set(t,e);var c=Ose(a(t),a(e),i,r,o,s);return s.delete(t),c;case Jse:if(Fw)return Fw.call(t)==Fw.call(e)}return!1}var tae=eae;function nae(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}var iae=nae,rae=Array.isArray,PD=rae,oae=iae,sae=PD;function aae(t,e,n){var i=e(t);return sae(t)?i:oae(i,n(t))}var lae=aae;function uae(t,e){for(var n=-1,i=t==null?0:t.length,r=0,o=[];++n<i;){var s=t[n];e(s,n,t)&&(o[r++]=s)}return o}var cae=uae;function dae(){return[]}var hae=dae,fae=cae,pae=hae,gae=Object.prototype,mae=gae.propertyIsEnumerable,MR=Object.getOwnPropertySymbols,yae=MR?function(t){return t==null?[]:(t=Object(t),fae(MR(t),function(e){return mae.call(t,e)}))}:pae,vae=yae;function bae(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}var _ae=bae;function xae(t){return t!=null&&typeof t=="object"}var hx=xae,wae=ux,Tae=hx,Cae="[object Arguments]";function Eae(t){return Tae(t)&&wae(t)==Cae}var Aae=Eae,OR=Aae,Sae=hx,GB=Object.prototype,Dae=GB.hasOwnProperty,kae=GB.propertyIsEnumerable,Iae=OR(function(){return arguments}())?OR:function(t){return Sae(t)&&Dae.call(t,"callee")&&!kae.call(t,"callee")},Fae=Iae,J1={exports:{}};function Nae(){return!1}var Rae=Nae;J1.exports;(function(t,e){var n=za,i=Rae,r=e&&!e.nodeType&&e,o=r&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===r,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||i;t.exports=u})(J1,J1.exports);var jB=J1.exports,Uae=9007199254740991,Lae=/^(?:0|[1-9]\d*)$/;function Pae(t,e){var n=typeof t;return e=e??Uae,!!e&&(n=="number"||n!="symbol"&&Lae.test(t))&&t>-1&&t%1==0&&t<e}var Mae=Pae,Oae=9007199254740991;function Bae(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Oae}var XB=Bae,qae=ux,Wae=XB,$ae=hx,zae="[object Arguments]",Hae="[object Array]",Vae="[object Boolean]",Gae="[object Date]",jae="[object Error]",Xae="[object Function]",Yae="[object Map]",Kae="[object Number]",Jae="[object Object]",Zae="[object RegExp]",Qae="[object Set]",ele="[object String]",tle="[object WeakMap]",nle="[object ArrayBuffer]",ile="[object DataView]",rle="[object Float32Array]",ole="[object Float64Array]",sle="[object Int8Array]",ale="[object Int16Array]",lle="[object Int32Array]",ule="[object Uint8Array]",cle="[object Uint8ClampedArray]",dle="[object Uint16Array]",hle="[object Uint32Array]",Rt={};Rt[rle]=Rt[ole]=Rt[sle]=Rt[ale]=Rt[lle]=Rt[ule]=Rt[cle]=Rt[dle]=Rt[hle]=!0;Rt[zae]=Rt[Hae]=Rt[nle]=Rt[Vae]=Rt[ile]=Rt[Gae]=Rt[jae]=Rt[Xae]=Rt[Yae]=Rt[Kae]=Rt[Jae]=Rt[Zae]=Rt[Qae]=Rt[ele]=Rt[tle]=!1;function fle(t){return $ae(t)&&Wae(t.length)&&!!Rt[qae(t)]}var ple=fle;function gle(t){return function(e){return t(e)}}var mle=gle,Z1={exports:{}};Z1.exports;(function(t,e){var n=BB,i=e&&!e.nodeType&&e,r=i&&!0&&t&&!t.nodeType&&t,o=r&&r.exports===i,s=o&&n.process,a=function(){try{var l=r&&r.require&&r.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(Z1,Z1.exports);var yle=Z1.exports,vle=ple,ble=mle,BR=yle,qR=BR&&BR.isTypedArray,_le=qR?ble(qR):vle,YB=_le,xle=_ae,wle=Fae,Tle=PD,Cle=jB,Ele=Mae,Ale=YB,Sle=Object.prototype,Dle=Sle.hasOwnProperty;function kle(t,e){var n=Tle(t),i=!n&&wle(t),r=!n&&!i&&Cle(t),o=!n&&!i&&!r&&Ale(t),s=n||i||r||o,a=s?xle(t.length,String):[],l=a.length;for(var u in t)(e||Dle.call(t,u))&&!(s&&(u=="length"||r&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Ele(u,l)))&&a.push(u);return a}var Ile=kle,Fle=Object.prototype;function Nle(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Fle;return t===n}var Rle=Nle;function Ule(t,e){return function(n){return t(e(n))}}var Lle=Ule,Ple=Lle,Mle=Ple(Object.keys,Object),Ole=Mle,Ble=Rle,qle=Ole,Wle=Object.prototype,$le=Wle.hasOwnProperty;function zle(t){if(!Ble(t))return qle(t);var e=[];for(var n in Object(t))$le.call(t,n)&&n!="constructor"&&e.push(n);return e}var Hle=zle,Vle=$B,Gle=XB;function jle(t){return t!=null&&Gle(t.length)&&!Vle(t)}var Xle=jle,Yle=Ile,Kle=Hle,Jle=Xle;function Zle(t){return Jle(t)?Yle(t):Kle(t)}var Qle=Zle,eue=lae,tue=vae,nue=Qle;function iue(t){return eue(t,nue,tue)}var rue=iue,WR=rue,oue=1,sue=Object.prototype,aue=sue.hasOwnProperty;function lue(t,e,n,i,r,o){var s=n&oue,a=WR(t),l=a.length,u=WR(e),c=u.length;if(l!=c&&!s)return!1;for(var h=l;h--;){var d=a[h];if(!(s?d in e:aue.call(e,d)))return!1}var f=o.get(t),y=o.get(e);if(f&&y)return f==e&&y==t;var m=!0;o.set(t,e),o.set(e,t);for(var v=s;++h<l;){d=a[h];var g=t[d],p=e[d];if(i)var _=s?i(p,g,d,e,t,o):i(g,p,d,t,e,o);if(!(_===void 0?g===p||r(g,p,n,i,o):_)){m=!1;break}v||(v=d=="constructor")}if(m&&!v){var x=t.constructor,T=e.constructor;x!=T&&"constructor"in t&&"constructor"in e&&!(typeof x=="function"&&x instanceof x&&typeof T=="function"&&T instanceof T)&&(m=!1)}return o.delete(t),o.delete(e),m}var uue=lue,cue=np,due=za,hue=cue(due,"DataView"),fue=hue,pue=np,gue=za,mue=pue(gue,"Promise"),yue=mue,vue=np,bue=za,_ue=vue(bue,"Set"),xue=_ue,wue=np,Tue=za,Cue=wue(Tue,"WeakMap"),Eue=Cue,EE=fue,AE=LD,SE=yue,DE=xue,kE=Eue,KB=ux,sp=zB,$R="[object Map]",Aue="[object Object]",zR="[object Promise]",HR="[object Set]",VR="[object WeakMap]",GR="[object DataView]",Sue=sp(EE),Due=sp(AE),kue=sp(SE),Iue=sp(DE),Fue=sp(kE),Cu=KB;(EE&&Cu(new EE(new ArrayBuffer(1)))!=GR||AE&&Cu(new AE)!=$R||SE&&Cu(SE.resolve())!=zR||DE&&Cu(new DE)!=HR||kE&&Cu(new kE)!=VR)&&(Cu=function(t){var e=KB(t),n=e==Aue?t.constructor:void 0,i=n?sp(n):"";if(i)switch(i){case Sue:return GR;case Due:return $R;case kue:return zR;case Iue:return HR;case Fue:return VR}return e});var Nue=Cu,Nw=cse,Rue=VB,Uue=tae,Lue=uue,jR=Nue,XR=PD,YR=jB,Pue=YB,Mue=1,KR="[object Arguments]",JR="[object Array]",Gv="[object Object]",Oue=Object.prototype,ZR=Oue.hasOwnProperty;function Bue(t,e,n,i,r,o){var s=XR(t),a=XR(e),l=s?JR:jR(t),u=a?JR:jR(e);l=l==KR?Gv:l,u=u==KR?Gv:u;var c=l==Gv,h=u==Gv,d=l==u;if(d&&YR(t)){if(!YR(e))return!1;s=!0,c=!1}if(d&&!c)return o||(o=new Nw),s||Pue(t)?Rue(t,e,n,i,r,o):Uue(t,e,l,n,i,r,o);if(!(n&Mue)){var f=c&&ZR.call(t,"__wrapped__"),y=h&&ZR.call(e,"__wrapped__");if(f||y){var m=f?t.value():t,v=y?e.value():e;return o||(o=new Nw),r(m,v,n,i,o)}}return d?(o||(o=new Nw),Lue(t,e,n,i,r,o)):!1}var que=Bue,Wue=que,QR=hx;function JB(t,e,n,i,r){return t===e?!0:t==null||e==null||!QR(t)&&!QR(e)?t!==t&&e!==e:Wue(t,e,n,i,JB,r)}var $ue=JB,zue=$ue;function Hue(t,e){return zue(t,e)}var Vue=Hue,ZB={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(i,r){t.exports=r()})(typeof self<"u"?self:Ve,function(){return function(n){var i={};function r(o){if(i[o])return i[o].exports;var s=i[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=n,r.c=i,r.d=function(o,s,a){r.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},r.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return r.d(s,"a",s),s},r.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},r.p="",r(r.s=109)}([function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var o=r(17),s=r(18),a=r(19),l=r(45),u=r(46),c=r(47),h=r(48),d=r(49),f=r(12),y=r(32),m=r(33),v=r(31),g=r(1),p={Scope:g.Scope,create:g.create,find:g.find,query:g.query,register:g.register,Container:o.default,Format:s.default,Leaf:a.default,Embed:h.default,Scroll:l.default,Block:c.default,Inline:u.default,Text:d.default,Attributor:{Attribute:f.default,Class:y.default,Style:m.default,Store:v.default}};i.default=p},function(n,i,r){var o=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,p){g.__proto__=p}||function(g,p){for(var _ in p)p.hasOwnProperty(_)&&(g[_]=p[_])};return function(g,p){v(g,p);function _(){this.constructor=g}g.prototype=p===null?Object.create(p):(_.prototype=p.prototype,new _)}}();Object.defineProperty(i,"__esModule",{value:!0});var s=function(v){o(g,v);function g(p){var _=this;return p="[Parchment] "+p,_=v.call(this,p)||this,_.message=p,_.name=_.constructor.name,_}return g}(Error);i.ParchmentError=s;var a={},l={},u={},c={};i.DATA_KEY="__blot";var h;(function(v){v[v.TYPE=3]="TYPE",v[v.LEVEL=12]="LEVEL",v[v.ATTRIBUTE=13]="ATTRIBUTE",v[v.BLOT=14]="BLOT",v[v.INLINE=7]="INLINE",v[v.BLOCK=11]="BLOCK",v[v.BLOCK_BLOT=10]="BLOCK_BLOT",v[v.INLINE_BLOT=6]="INLINE_BLOT",v[v.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",v[v.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",v[v.ANY=15]="ANY"})(h=i.Scope||(i.Scope={}));function d(v,g){var p=y(v);if(p==null)throw new s("Unable to create "+v+" blot");var _=p,x=v instanceof Node||v.nodeType===Node.TEXT_NODE?v:_.create(g);return new _(x,g)}i.create=d;function f(v,g){return g===void 0&&(g=!1),v==null?null:v[i.DATA_KEY]!=null?v[i.DATA_KEY].blot:g?f(v.parentNode,g):null}i.find=f;function y(v,g){g===void 0&&(g=h.ANY);var p;if(typeof v=="string")p=c[v]||a[v];else if(v instanceof Text||v.nodeType===Node.TEXT_NODE)p=c.text;else if(typeof v=="number")v&h.LEVEL&h.BLOCK?p=c.block:v&h.LEVEL&h.INLINE&&(p=c.inline);else if(v instanceof HTMLElement){var _=(v.getAttribute("class")||"").split(/\s+/);for(var x in _)if(p=l[_[x]],p)break;p=p||u[v.tagName]}return p==null?null:g&h.LEVEL&p.scope&&g&h.TYPE&p.scope?p:null}i.query=y;function m(){for(var v=[],g=0;g<arguments.length;g++)v[g]=arguments[g];if(v.length>1)return v.map(function(x){return m(x)});var p=v[0];if(typeof p.blotName!="string"&&typeof p.attrName!="string")throw new s("Invalid definition");if(p.blotName==="abstract")throw new s("Cannot register abstract class");if(c[p.blotName||p.attrName]=p,typeof p.keyName=="string")a[p.keyName]=p;else if(p.className!=null&&(l[p.className]=p),p.tagName!=null){Array.isArray(p.tagName)?p.tagName=p.tagName.map(function(x){return x.toUpperCase()}):p.tagName=p.tagName.toUpperCase();var _=Array.isArray(p.tagName)?p.tagName:[p.tagName];_.forEach(function(x){(u[x]==null||p.className==null)&&(u[x]=p)})}return p}i.register=m},function(n,i,r){var o=r(51),s=r(11),a=r(3),l=r(20),u="\0",c=function(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]};c.prototype.insert=function(h,d){var f={};return h.length===0?this:(f.insert=h,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(f.attributes=d),this.push(f))},c.prototype.delete=function(h){return h<=0?this:this.push({delete:h})},c.prototype.retain=function(h,d){if(h<=0)return this;var f={retain:h};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(f.attributes=d),this.push(f)},c.prototype.push=function(h){var d=this.ops.length,f=this.ops[d-1];if(h=a(!0,{},h),typeof f=="object"){if(typeof h.delete=="number"&&typeof f.delete=="number")return this.ops[d-1]={delete:f.delete+h.delete},this;if(typeof f.delete=="number"&&h.insert!=null&&(d-=1,f=this.ops[d-1],typeof f!="object"))return this.ops.unshift(h),this;if(s(h.attributes,f.attributes)){if(typeof h.insert=="string"&&typeof f.insert=="string")return this.ops[d-1]={insert:f.insert+h.insert},typeof h.attributes=="object"&&(this.ops[d-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof f.retain=="number")return this.ops[d-1]={retain:f.retain+h.retain},typeof h.attributes=="object"&&(this.ops[d-1].attributes=h.attributes),this}}return d===this.ops.length?this.ops.push(h):this.ops.splice(d,0,h),this},c.prototype.chop=function(){var h=this.ops[this.ops.length-1];return h&&h.retain&&!h.attributes&&this.ops.pop(),this},c.prototype.filter=function(h){return this.ops.filter(h)},c.prototype.forEach=function(h){this.ops.forEach(h)},c.prototype.map=function(h){return this.ops.map(h)},c.prototype.partition=function(h){var d=[],f=[];return this.forEach(function(y){var m=h(y)?d:f;m.push(y)}),[d,f]},c.prototype.reduce=function(h,d){return this.ops.reduce(h,d)},c.prototype.changeLength=function(){return this.reduce(function(h,d){return d.insert?h+l.length(d):d.delete?h-d.delete:h},0)},c.prototype.length=function(){return this.reduce(function(h,d){return h+l.length(d)},0)},c.prototype.slice=function(h,d){h=h||0,typeof d!="number"&&(d=1/0);for(var f=[],y=l.iterator(this.ops),m=0;m<d&&y.hasNext();){var v;m<h?v=y.next(h-m):(v=y.next(d-m),f.push(v)),m+=l.length(v)}return new c(f)},c.prototype.compose=function(h){var d=l.iterator(this.ops),f=l.iterator(h.ops),y=[],m=f.peek();if(m!=null&&typeof m.retain=="number"&&m.attributes==null){for(var v=m.retain;d.peekType()==="insert"&&d.peekLength()<=v;)v-=d.peekLength(),y.push(d.next());m.retain-v>0&&f.next(m.retain-v)}for(var g=new c(y);d.hasNext()||f.hasNext();)if(f.peekType()==="insert")g.push(f.next());else if(d.peekType()==="delete")g.push(d.next());else{var p=Math.min(d.peekLength(),f.peekLength()),_=d.next(p),x=f.next(p);if(typeof x.retain=="number"){var T={};typeof _.retain=="number"?T.retain=p:T.insert=_.insert;var A=l.attributes.compose(_.attributes,x.attributes,typeof _.retain=="number");if(A&&(T.attributes=A),g.push(T),!f.hasNext()&&s(g.ops[g.ops.length-1],T)){var E=new c(d.rest());return g.concat(E).chop()}}else typeof x.delete=="number"&&typeof _.retain=="number"&&g.push(x)}return g.chop()},c.prototype.concat=function(h){var d=new c(this.ops.slice());return h.ops.length>0&&(d.push(h.ops[0]),d.ops=d.ops.concat(h.ops.slice(1))),d},c.prototype.diff=function(h,d){if(this.ops===h.ops)return new c;var f=[this,h].map(function(p){return p.map(function(_){if(_.insert!=null)return typeof _.insert=="string"?_.insert:u;var x=p===h?"on":"with";throw new Error("diff() called "+x+" non-document")}).join("")}),y=new c,m=o(f[0],f[1],d),v=l.iterator(this.ops),g=l.iterator(h.ops);return m.forEach(function(p){for(var _=p[1].length;_>0;){var x=0;switch(p[0]){case o.INSERT:x=Math.min(g.peekLength(),_),y.push(g.next(x));break;case o.DELETE:x=Math.min(_,v.peekLength()),v.next(x),y.delete(x);break;case o.EQUAL:x=Math.min(v.peekLength(),g.peekLength(),_);var T=v.next(x),A=g.next(x);s(T.insert,A.insert)?y.retain(x,l.attributes.diff(T.attributes,A.attributes)):y.push(A).delete(x);break}_-=x}}),y.chop()},c.prototype.eachLine=function(h,d){d=d||`
`;for(var f=l.iterator(this.ops),y=new c,m=0;f.hasNext();){if(f.peekType()!=="insert")return;var v=f.peek(),g=l.length(v)-f.peekLength(),p=typeof v.insert=="string"?v.insert.indexOf(d,g)-g:-1;if(p<0)y.push(f.next());else if(p>0)y.push(f.next(p));else{if(h(y,f.next(1).attributes||{},m)===!1)return;m+=1,y=new c}}y.length()>0&&h(y,{},m)},c.prototype.transform=function(h,d){if(d=!!d,typeof h=="number")return this.transformPosition(h,d);for(var f=l.iterator(this.ops),y=l.iterator(h.ops),m=new c;f.hasNext()||y.hasNext();)if(f.peekType()==="insert"&&(d||y.peekType()!=="insert"))m.retain(l.length(f.next()));else if(y.peekType()==="insert")m.push(y.next());else{var v=Math.min(f.peekLength(),y.peekLength()),g=f.next(v),p=y.next(v);if(g.delete)continue;p.delete?m.push(p):m.retain(v,l.attributes.transform(g.attributes,p.attributes,d))}return m.chop()},c.prototype.transformPosition=function(h,d){d=!!d;for(var f=l.iterator(this.ops),y=0;f.hasNext()&&y<=h;){var m=f.peekLength(),v=f.peekType();if(f.next(),v==="delete"){h-=Math.min(m,h-y);continue}else v==="insert"&&(y<h||!d)&&(h+=m);y+=m}return h},n.exports=c},function(n,i){var r=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(f){return typeof Array.isArray=="function"?Array.isArray(f):o.call(f)==="[object Array]"},u=function(f){if(!f||o.call(f)!=="[object Object]")return!1;var y=r.call(f,"constructor"),m=f.constructor&&f.constructor.prototype&&r.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!y&&!m)return!1;var v;for(v in f);return typeof v>"u"||r.call(f,v)},c=function(f,y){s&&y.name==="__proto__"?s(f,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):f[y.name]=y.newValue},h=function(f,y){if(y==="__proto__")if(r.call(f,y)){if(a)return a(f,y).value}else return;return f[y]};n.exports=function d(){var f,y,m,v,g,p,_=arguments[0],x=1,T=arguments.length,A=!1;for(typeof _=="boolean"&&(A=_,_=arguments[1]||{},x=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});x<T;++x)if(f=arguments[x],f!=null)for(y in f)m=h(_,y),v=h(f,y),_!==v&&(A&&v&&(u(v)||(g=l(v)))?(g?(g=!1,p=m&&l(m)?m:[]):p=m&&u(m)?m:{},c(_,{name:y,newValue:d(A,p,v)})):typeof v<"u"&&c(_,{name:y,newValue:v}));return _}},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BlockEmbed=i.bubbleFormats=void 0;var o=function(){function I(S,L){for(var D=0;D<L.length;D++){var $=L[D];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(S,$.key,$)}}return function(S,L,D){return L&&I(S.prototype,L),D&&I(S,D),S}}(),s=function I(S,L,D){S===null&&(S=Function.prototype);var $=Object.getOwnPropertyDescriptor(S,L);if($===void 0){var R=Object.getPrototypeOf(S);return R===null?void 0:I(R,L,D)}else{if("value"in $)return $.value;var P=$.get;return P===void 0?void 0:P.call(D)}},a=r(3),l=_(a),u=r(2),c=_(u),h=r(0),d=_(h),f=r(16),y=_(f),m=r(6),v=_(m),g=r(7),p=_(g);function _(I){return I&&I.__esModule?I:{default:I}}function x(I,S){if(!(I instanceof S))throw new TypeError("Cannot call a class as a function")}function T(I,S){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:I}function A(I,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);I.prototype=Object.create(S&&S.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(I,S):I.__proto__=S)}var E=1,k=function(I){A(S,I);function S(){return x(this,S),T(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return o(S,[{key:"attach",value:function(){s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new c.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(D,$){var R=d.default.query(D,d.default.Scope.BLOCK_ATTRIBUTE);R!=null&&this.attributes.attribute(R,$)}},{key:"formatAt",value:function(D,$,R,P){this.format(R,P)}},{key:"insertAt",value:function(D,$,R){if(typeof $=="string"&&$.endsWith(`
`)){var P=d.default.create(U.blotName);this.parent.insertBefore(P,D===0?this:this.next),P.insertAt(0,$.slice(0,-1))}else s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertAt",this).call(this,D,$,R)}}]),S}(d.default.Embed);k.scope=d.default.Scope.BLOCK_BLOT;var U=function(I){A(S,I);function S(L){x(this,S);var D=T(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,L));return D.cache={},D}return o(S,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function(D,$){return $.length()===0?D:D.insert($.value(),N($))},new c.default).insert(`
`,N(this))),this.cache.delta}},{key:"deleteAt",value:function(D,$){s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"deleteAt",this).call(this,D,$),this.cache={}}},{key:"formatAt",value:function(D,$,R,P){$<=0||(d.default.query(R,d.default.Scope.BLOCK)?D+$===this.length()&&this.format(R,P):s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"formatAt",this).call(this,D,Math.min($,this.length()-D-1),R,P),this.cache={})}},{key:"insertAt",value:function(D,$,R){if(R!=null)return s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertAt",this).call(this,D,$,R);if($.length!==0){var P=$.split(`
`),z=P.shift();z.length>0&&(D<this.length()-1||this.children.tail==null?s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertAt",this).call(this,Math.min(D,this.length()-1),z):this.children.tail.insertAt(this.children.tail.length(),z),this.cache={});var M=this;P.reduce(function(q,F){return M=M.split(q,!0),M.insertAt(0,F),F.length},D+z.length)}}},{key:"insertBefore",value:function(D,$){var R=this.children.head;s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,D,$),R instanceof y.default&&R.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"length",this).call(this)+E),this.cache.length}},{key:"moveChildren",value:function(D,$){s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"moveChildren",this).call(this,D,$),this.cache={}}},{key:"optimize",value:function(D){s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,D),this.cache={}}},{key:"path",value:function(D){return s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"path",this).call(this,D,!0)}},{key:"removeChild",value:function(D){s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"removeChild",this).call(this,D),this.cache={}}},{key:"split",value:function(D){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if($&&(D===0||D>=this.length()-E)){var R=this.clone();return D===0?(this.parent.insertBefore(R,this),this):(this.parent.insertBefore(R,this.next),R)}else{var P=s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"split",this).call(this,D,$);return this.cache={},P}}}]),S}(d.default.Block);U.blotName="block",U.tagName="P",U.defaultChild="break",U.allowedChildren=[v.default,d.default.Embed,p.default];function N(I){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return I==null||(typeof I.formats=="function"&&(S=(0,l.default)(S,I.formats())),I.parent==null||I.parent.blotName=="scroll"||I.parent.statics.scope!==I.statics.scope)?S:N(I.parent,S)}i.bubbleFormats=N,i.BlockEmbed=k,i.default=U},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.overload=i.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},s=function(){function M(q,F){var O=[],W=!0,J=!1,K=void 0;try{for(var G=q[Symbol.iterator](),Z;!(W=(Z=G.next()).done)&&(O.push(Z.value),!(F&&O.length===F));W=!0);}catch(re){J=!0,K=re}finally{try{!W&&G.return&&G.return()}finally{if(J)throw K}}return O}return function(q,F){if(Array.isArray(q))return q;if(Symbol.iterator in Object(q))return M(q,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function M(q,F){for(var O=0;O<F.length;O++){var W=F[O];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(q,W.key,W)}}return function(q,F,O){return F&&M(q.prototype,F),O&&M(q,O),q}}();r(50);var l=r(2),u=N(l),c=r(14),h=N(c),d=r(8),f=N(d),y=r(9),m=N(y),v=r(0),g=N(v),p=r(15),_=N(p),x=r(3),T=N(x),A=r(10),E=N(A),k=r(34),U=N(k);function N(M){return M&&M.__esModule?M:{default:M}}function I(M,q,F){return q in M?Object.defineProperty(M,q,{value:F,enumerable:!0,configurable:!0,writable:!0}):M[q]=F,M}function S(M,q){if(!(M instanceof q))throw new TypeError("Cannot call a class as a function")}var L=(0,E.default)("quill"),D=function(){a(M,null,[{key:"debug",value:function(F){F===!0&&(F="log"),E.default.level(F)}},{key:"find",value:function(F){return F.__quill||g.default.find(F)}},{key:"import",value:function(F){return this.imports[F]==null&&L.error("Cannot import "+F+". Are you sure it was registered?"),this.imports[F]}},{key:"register",value:function(F,O){var W=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof F!="string"){var K=F.attrName||F.blotName;typeof K=="string"?this.register("formats/"+K,F,O):Object.keys(F).forEach(function(G){W.register(G,F[G],O)})}else this.imports[F]!=null&&!J&&L.warn("Overwriting "+F+" with",O),this.imports[F]=O,(F.startsWith("blots/")||F.startsWith("formats/"))&&O.blotName!=="abstract"?g.default.register(O):F.startsWith("modules")&&typeof O.register=="function"&&O.register()}}]);function M(q){var F=this,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(S(this,M),this.options=$(q,O),this.container=this.options.container,this.container==null)return L.error("Invalid Quill container",q);this.options.debug&&M.debug(this.options.debug);var W=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new f.default,this.scroll=g.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new h.default(this.scroll),this.selection=new _.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(f.default.events.EDITOR_CHANGE,function(K){K===f.default.events.TEXT_CHANGE&&F.root.classList.toggle("ql-blank",F.editor.isBlank())}),this.emitter.on(f.default.events.SCROLL_UPDATE,function(K,G){var Z=F.selection.lastRange,re=Z&&Z.length===0?Z.index:void 0;R.call(F,function(){return F.editor.update(null,G,re)},K)});var J=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+W+"<p><br></p></div>");this.setContents(J),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(M,[{key:"addContainer",value:function(F){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof F=="string"){var W=F;F=document.createElement("div"),F.classList.add(W)}return this.container.insertBefore(F,O),F}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(F,O,W){var J=this,K=P(F,O,W),G=s(K,4);return F=G[0],O=G[1],W=G[3],R.call(this,function(){return J.editor.deleteText(F,O)},W,F,-1*O)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(F),this.container.classList.toggle("ql-disabled",!F)}},{key:"focus",value:function(){var F=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=F,this.scrollIntoView()}},{key:"format",value:function(F,O){var W=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:f.default.sources.API;return R.call(this,function(){var K=W.getSelection(!0),G=new u.default;if(K==null)return G;if(g.default.query(F,g.default.Scope.BLOCK))G=W.editor.formatLine(K.index,K.length,I({},F,O));else{if(K.length===0)return W.selection.format(F,O),G;G=W.editor.formatText(K.index,K.length,I({},F,O))}return W.setSelection(K,f.default.sources.SILENT),G},J)}},{key:"formatLine",value:function(F,O,W,J,K){var G=this,Z=void 0,re=P(F,O,W,J,K),ae=s(re,4);return F=ae[0],O=ae[1],Z=ae[2],K=ae[3],R.call(this,function(){return G.editor.formatLine(F,O,Z)},K,F,0)}},{key:"formatText",value:function(F,O,W,J,K){var G=this,Z=void 0,re=P(F,O,W,J,K),ae=s(re,4);return F=ae[0],O=ae[1],Z=ae[2],K=ae[3],R.call(this,function(){return G.editor.formatText(F,O,Z)},K,F,0)}},{key:"getBounds",value:function(F){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,W=void 0;typeof F=="number"?W=this.selection.getBounds(F,O):W=this.selection.getBounds(F.index,F.length);var J=this.container.getBoundingClientRect();return{bottom:W.bottom-J.top,height:W.height,left:W.left-J.left,right:W.right-J.left,top:W.top-J.top,width:W.width}}},{key:"getContents",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-F,W=P(F,O),J=s(W,2);return F=J[0],O=J[1],this.editor.getContents(F,O)}},{key:"getFormat",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof F=="number"?this.editor.getFormat(F,O):this.editor.getFormat(F.index,F.length)}},{key:"getIndex",value:function(F){return F.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(F){return this.scroll.leaf(F)}},{key:"getLine",value:function(F){return this.scroll.line(F)}},{key:"getLines",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof F!="number"?this.scroll.lines(F.index,F.length):this.scroll.lines(F,O)}},{key:"getModule",value:function(F){return this.theme.modules[F]}},{key:"getSelection",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return F&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-F,W=P(F,O),J=s(W,2);return F=J[0],O=J[1],this.editor.getText(F,O)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(F,O,W){var J=this,K=arguments.length>3&&arguments[3]!==void 0?arguments[3]:M.sources.API;return R.call(this,function(){return J.editor.insertEmbed(F,O,W)},K,F)}},{key:"insertText",value:function(F,O,W,J,K){var G=this,Z=void 0,re=P(F,0,W,J,K),ae=s(re,4);return F=ae[0],Z=ae[2],K=ae[3],R.call(this,function(){return G.editor.insertText(F,O,Z)},K,F,O.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(F,O,W){this.clipboard.dangerouslyPasteHTML(F,O,W)}},{key:"removeFormat",value:function(F,O,W){var J=this,K=P(F,O,W),G=s(K,4);return F=G[0],O=G[1],W=G[3],R.call(this,function(){return J.editor.removeFormat(F,O)},W,F)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(F){var O=this,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.default.sources.API;return R.call(this,function(){F=new u.default(F);var J=O.getLength(),K=O.editor.deleteText(0,J),G=O.editor.applyDelta(F),Z=G.ops[G.ops.length-1];Z!=null&&typeof Z.insert=="string"&&Z.insert[Z.insert.length-1]===`
`&&(O.editor.deleteText(O.getLength()-1,1),G.delete(1));var re=K.compose(G);return re},W)}},{key:"setSelection",value:function(F,O,W){if(F==null)this.selection.setRange(null,O||M.sources.API);else{var J=P(F,O,W),K=s(J,4);F=K[0],O=K[1],W=K[3],this.selection.setRange(new p.Range(F,O),W),W!==f.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(F){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.default.sources.API,W=new u.default().insert(F);return this.setContents(W,O)}},{key:"update",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f.default.sources.USER,O=this.scroll.update(F);return this.selection.update(F),O}},{key:"updateContents",value:function(F){var O=this,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.default.sources.API;return R.call(this,function(){return F=new u.default(F),O.editor.applyDelta(F,W)},W,!0)}}]),M}();D.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},D.events=f.default.events,D.sources=f.default.sources,D.version="1.3.7",D.imports={delta:u.default,parchment:g.default,"core/module":m.default,"core/theme":U.default};function $(M,q){if(q=(0,T.default)(!0,{container:M,modules:{clipboard:!0,keyboard:!0,history:!0}},q),!q.theme||q.theme===D.DEFAULTS.theme)q.theme=U.default;else if(q.theme=D.import("themes/"+q.theme),q.theme==null)throw new Error("Invalid theme "+q.theme+". Did you register it?");var F=(0,T.default)(!0,{},q.theme.DEFAULTS);[F,q].forEach(function(J){J.modules=J.modules||{},Object.keys(J.modules).forEach(function(K){J.modules[K]===!0&&(J.modules[K]={})})});var O=Object.keys(F.modules).concat(Object.keys(q.modules)),W=O.reduce(function(J,K){var G=D.import("modules/"+K);return G==null?L.error("Cannot load "+K+" module. Are you sure you registered it?"):J[K]=G.DEFAULTS||{},J},{});return q.modules!=null&&q.modules.toolbar&&q.modules.toolbar.constructor!==Object&&(q.modules.toolbar={container:q.modules.toolbar}),q=(0,T.default)(!0,{},D.DEFAULTS,{modules:W},F,q),["bounds","container","scrollingContainer"].forEach(function(J){typeof q[J]=="string"&&(q[J]=document.querySelector(q[J]))}),q.modules=Object.keys(q.modules).reduce(function(J,K){return q.modules[K]&&(J[K]=q.modules[K]),J},{}),q}function R(M,q,F,O){if(this.options.strict&&!this.isEnabled()&&q===f.default.sources.USER)return new u.default;var W=F==null?null:this.getSelection(),J=this.editor.delta,K=M();if(W!=null&&(F===!0&&(F=W.index),O==null?W=z(W,K,q):O!==0&&(W=z(W,F,O,q)),this.setSelection(W,f.default.sources.SILENT)),K.length()>0){var G,Z=[f.default.events.TEXT_CHANGE,K,J,q];if((G=this.emitter).emit.apply(G,[f.default.events.EDITOR_CHANGE].concat(Z)),q!==f.default.sources.SILENT){var re;(re=this.emitter).emit.apply(re,Z)}}return K}function P(M,q,F,O,W){var J={};return typeof M.index=="number"&&typeof M.length=="number"?typeof q!="number"?(W=O,O=F,F=q,q=M.length,M=M.index):(q=M.length,M=M.index):typeof q!="number"&&(W=O,O=F,F=q,q=0),(typeof F>"u"?"undefined":o(F))==="object"?(J=F,W=O):typeof F=="string"&&(O!=null?J[F]=O:W=F),W=W||f.default.sources.API,[M,q,J,W]}function z(M,q,F,O){if(M==null)return null;var W=void 0,J=void 0;if(q instanceof u.default){var K=[M.index,M.index+M.length].map(function(ae){return q.transformPosition(ae,O!==f.default.sources.USER)}),G=s(K,2);W=G[0],J=G[1]}else{var Z=[M.index,M.index+M.length].map(function(ae){return ae<q||ae===q&&O===f.default.sources.USER?ae:F>=0?ae+F:Math.max(q,ae+F)}),re=s(Z,2);W=re[0],J=re[1]}return new p.Range(W,J-W)}i.expandConfig=$,i.overload=P,i.default=D},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function v(g,p){for(var _=0;_<p.length;_++){var x=p[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,p,_){return p&&v(g.prototype,p),_&&v(g,_),g}}(),s=function v(g,p,_){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,p);if(x===void 0){var T=Object.getPrototypeOf(g);return T===null?void 0:v(T,p,_)}else{if("value"in x)return x.value;var A=x.get;return A===void 0?void 0:A.call(_)}},a=r(7),l=h(a),u=r(0),c=h(u);function h(v){return v&&v.__esModule?v:{default:v}}function d(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function f(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function y(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var m=function(v){y(g,v);function g(){return d(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"formatAt",value:function(_,x,T,A){if(g.compare(this.statics.blotName,T)<0&&c.default.query(T,c.default.Scope.BLOT)){var E=this.isolate(_,x);A&&E.wrap(T,A)}else s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"formatAt",this).call(this,_,x,T,A)}},{key:"optimize",value:function(_){if(s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,_),this.parent instanceof g&&g.compare(this.statics.blotName,this.parent.statics.blotName)>0){var x=this.parent.isolate(this.offset(),this.length());this.moveChildren(x),x.wrap(this)}}}],[{key:"compare",value:function(_,x){var T=g.order.indexOf(_),A=g.order.indexOf(x);return T>=0||A>=0?T-A:_===x?0:_<x?-1:1}}]),g}(c.default.Inline);m.allowedChildren=[m,c.default.Embed,l.default],m.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],i.default=m},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var o=r(0),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function u(d,f){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:d}function c(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(d,f):d.__proto__=f)}var h=function(d){c(f,d);function f(){return l(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(s.default.Text);i.default=h},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function p(_,x){for(var T=0;T<x.length;T++){var A=x[T];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(_,A.key,A)}}return function(_,x,T){return x&&p(_.prototype,x),T&&p(_,T),_}}(),s=function p(_,x,T){_===null&&(_=Function.prototype);var A=Object.getOwnPropertyDescriptor(_,x);if(A===void 0){var E=Object.getPrototypeOf(_);return E===null?void 0:p(E,x,T)}else{if("value"in A)return A.value;var k=A.get;return k===void 0?void 0:k.call(T)}},a=r(54),l=h(a),u=r(10),c=h(u);function h(p){return p&&p.__esModule?p:{default:p}}function d(p,_){if(!(p instanceof _))throw new TypeError("Cannot call a class as a function")}function f(p,_){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:p}function y(p,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);p.prototype=Object.create(_&&_.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(p,_):p.__proto__=_)}var m=(0,c.default)("quill:events"),v=["selectionchange","mousedown","mouseup","click"];v.forEach(function(p){document.addEventListener(p,function(){for(var _=arguments.length,x=Array(_),T=0;T<_;T++)x[T]=arguments[T];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(A){if(A.__quill&&A.__quill.emitter){var E;(E=A.__quill.emitter).handleDOM.apply(E,x)}})})});var g=function(p){y(_,p);function _(){d(this,_);var x=f(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));return x.listeners={},x.on("error",m.error),x}return o(_,[{key:"emit",value:function(){m.log.apply(m,arguments),s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(T){for(var A=arguments.length,E=Array(A>1?A-1:0),k=1;k<A;k++)E[k-1]=arguments[k];(this.listeners[T.type]||[]).forEach(function(U){var N=U.node,I=U.handler;(T.target===N||N.contains(T.target))&&I.apply(void 0,[T].concat(E))})}},{key:"listenDOM",value:function(T,A,E){this.listeners[T]||(this.listeners[T]=[]),this.listeners[T].push({node:A,handler:E})}}]),_}(l.default);g.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},g.sources={API:"api",SILENT:"silent",USER:"user"},i.default=g},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});function o(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function a(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,a),this.quill=l,this.options=u};s.DEFAULTS={},i.default=s},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var o=["error","warn","log","info"],s="warn";function a(u){if(o.indexOf(u)<=o.indexOf(s)){for(var c,h=arguments.length,d=Array(h>1?h-1:0),f=1;f<h;f++)d[f-1]=arguments[f];(c=console)[u].apply(c,d)}}function l(u){return o.reduce(function(c,h){return c[h]=a.bind(console,h,u),c},{})}a.level=l.level=function(u){s=u},i.default=l},function(n,i,r){var o=Array.prototype.slice,s=r(52),a=r(53),l=n.exports=function(d,f,y){return y||(y={}),d===f?!0:d instanceof Date&&f instanceof Date?d.getTime()===f.getTime():!d||!f||typeof d!="object"&&typeof f!="object"?y.strict?d===f:d==f:h(d,f,y)};function u(d){return d==null}function c(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function h(d,f,y){var m,v;if(u(d)||u(f)||d.prototype!==f.prototype)return!1;if(a(d))return a(f)?(d=o.call(d),f=o.call(f),l(d,f,y)):!1;if(c(d)){if(!c(f)||d.length!==f.length)return!1;for(m=0;m<d.length;m++)if(d[m]!==f[m])return!1;return!0}try{var g=s(d),p=s(f)}catch{return!1}if(g.length!=p.length)return!1;for(g.sort(),p.sort(),m=g.length-1;m>=0;m--)if(g[m]!=p[m])return!1;for(m=g.length-1;m>=0;m--)if(v=g[m],!l(d[v],f[v],y))return!1;return typeof d==typeof f}},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var o=r(1),s=function(){function a(l,u,c){c===void 0&&(c={}),this.attrName=l,this.keyName=u;var h=o.Scope.TYPE&o.Scope.ATTRIBUTE;c.scope!=null?this.scope=c.scope&o.Scope.LEVEL|h:this.scope=o.Scope.ATTRIBUTE,c.whitelist!=null&&(this.whitelist=c.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(u){return u.name})},a.prototype.add=function(l,u){return this.canAdd(l,u)?(l.setAttribute(this.keyName,u),!0):!1},a.prototype.canAdd=function(l,u){var c=o.query(l,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return c==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var u=l.getAttribute(this.keyName);return this.canAdd(l,u)&&u?u:""},a}();i.default=s},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.Code=void 0;var o=function(){function k(U,N){var I=[],S=!0,L=!1,D=void 0;try{for(var $=U[Symbol.iterator](),R;!(S=(R=$.next()).done)&&(I.push(R.value),!(N&&I.length===N));S=!0);}catch(P){L=!0,D=P}finally{try{!S&&$.return&&$.return()}finally{if(L)throw D}}return I}return function(U,N){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return k(U,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function k(U,N){for(var I=0;I<N.length;I++){var S=N[I];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(U,S.key,S)}}return function(U,N,I){return N&&k(U.prototype,N),I&&k(U,I),U}}(),a=function k(U,N,I){U===null&&(U=Function.prototype);var S=Object.getOwnPropertyDescriptor(U,N);if(S===void 0){var L=Object.getPrototypeOf(U);return L===null?void 0:k(L,N,I)}else{if("value"in S)return S.value;var D=S.get;return D===void 0?void 0:D.call(I)}},l=r(2),u=p(l),c=r(0),h=p(c),d=r(4),f=p(d),y=r(6),m=p(y),v=r(7),g=p(v);function p(k){return k&&k.__esModule?k:{default:k}}function _(k,U){if(!(k instanceof U))throw new TypeError("Cannot call a class as a function")}function x(k,U){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:k}function T(k,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);k.prototype=Object.create(U&&U.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(k,U):k.__proto__=U)}var A=function(k){T(U,k);function U(){return _(this,U),x(this,(U.__proto__||Object.getPrototypeOf(U)).apply(this,arguments))}return U}(m.default);A.blotName="code",A.tagName="CODE";var E=function(k){T(U,k);function U(){return _(this,U),x(this,(U.__proto__||Object.getPrototypeOf(U)).apply(this,arguments))}return s(U,[{key:"delta",value:function(){var I=this,S=this.domNode.textContent;return S.endsWith(`
`)&&(S=S.slice(0,-1)),S.split(`
`).reduce(function(L,D){return L.insert(D).insert(`
`,I.formats())},new u.default)}},{key:"format",value:function(I,S){if(!(I===this.statics.blotName&&S)){var L=this.descendant(g.default,this.length()-1),D=o(L,1),$=D[0];$!=null&&$.deleteAt($.length()-1,1),a(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),"format",this).call(this,I,S)}}},{key:"formatAt",value:function(I,S,L,D){if(S!==0&&!(h.default.query(L,h.default.Scope.BLOCK)==null||L===this.statics.blotName&&D===this.statics.formats(this.domNode))){var $=this.newlineIndex(I);if(!($<0||$>=I+S)){var R=this.newlineIndex(I,!0)+1,P=$-R+1,z=this.isolate(R,P),M=z.next;z.format(L,D),M instanceof U&&M.formatAt(0,I-R+S-P,L,D)}}}},{key:"insertAt",value:function(I,S,L){if(L==null){var D=this.descendant(g.default,I),$=o(D,2),R=$[0],P=$[1];R.insertAt(P,S)}}},{key:"length",value:function(){var I=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?I:I+1}},{key:"newlineIndex",value:function(I){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(S)return this.domNode.textContent.slice(0,I).lastIndexOf(`
`);var L=this.domNode.textContent.slice(I).indexOf(`
`);return L>-1?I+L:-1}},{key:"optimize",value:function(I){this.domNode.textContent.endsWith(`
`)||this.appendChild(h.default.create("text",`
`)),a(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),"optimize",this).call(this,I);var S=this.next;S!=null&&S.prev===this&&S.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===S.statics.formats(S.domNode)&&(S.optimize(I),S.moveChildren(this),S.remove())}},{key:"replace",value:function(I){a(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),"replace",this).call(this,I),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(S){var L=h.default.find(S);L==null?S.parentNode.removeChild(S):L instanceof h.default.Embed?L.remove():L.unwrap()})}}],[{key:"create",value:function(I){var S=a(U.__proto__||Object.getPrototypeOf(U),"create",this).call(this,I);return S.setAttribute("spellcheck",!1),S}},{key:"formats",value:function(){return!0}}]),U}(f.default);E.blotName="code-block",E.tagName="PRE",E.TAB="  ",i.Code=A,i.default=E},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},s=function(){function M(q,F){var O=[],W=!0,J=!1,K=void 0;try{for(var G=q[Symbol.iterator](),Z;!(W=(Z=G.next()).done)&&(O.push(Z.value),!(F&&O.length===F));W=!0);}catch(re){J=!0,K=re}finally{try{!W&&G.return&&G.return()}finally{if(J)throw K}}return O}return function(q,F){if(Array.isArray(q))return q;if(Symbol.iterator in Object(q))return M(q,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function M(q,F){for(var O=0;O<F.length;O++){var W=F[O];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(q,W.key,W)}}return function(q,F,O){return F&&M(q.prototype,F),O&&M(q,O),q}}(),l=r(2),u=S(l),c=r(20),h=S(c),d=r(0),f=S(d),y=r(13),m=S(y),v=r(24),g=S(v),p=r(4),_=S(p),x=r(16),T=S(x),A=r(21),E=S(A),k=r(11),U=S(k),N=r(3),I=S(N);function S(M){return M&&M.__esModule?M:{default:M}}function L(M,q,F){return q in M?Object.defineProperty(M,q,{value:F,enumerable:!0,configurable:!0,writable:!0}):M[q]=F,M}function D(M,q){if(!(M instanceof q))throw new TypeError("Cannot call a class as a function")}var $=/^[ -~]*$/,R=function(){function M(q){D(this,M),this.scroll=q,this.delta=this.getDelta()}return a(M,[{key:"applyDelta",value:function(F){var O=this,W=!1;this.scroll.update();var J=this.scroll.length();return this.scroll.batchStart(),F=z(F),F.reduce(function(K,G){var Z=G.retain||G.delete||G.insert.length||1,re=G.attributes||{};if(G.insert!=null){if(typeof G.insert=="string"){var ae=G.insert;ae.endsWith(`
`)&&W&&(W=!1,ae=ae.slice(0,-1)),K>=J&&!ae.endsWith(`
`)&&(W=!0),O.scroll.insertAt(K,ae);var ge=O.scroll.line(K),ve=s(ge,2),se=ve[0],pe=ve[1],B=(0,I.default)({},(0,p.bubbleFormats)(se));if(se instanceof _.default){var le=se.descendant(f.default.Leaf,pe),de=s(le,1),ee=de[0];B=(0,I.default)(B,(0,p.bubbleFormats)(ee))}re=h.default.attributes.diff(B,re)||{}}else if(o(G.insert)==="object"){var V=Object.keys(G.insert)[0];if(V==null)return K;O.scroll.insertAt(K,V,G.insert[V])}J+=Z}return Object.keys(re).forEach(function(Q){O.scroll.formatAt(K,Z,Q,re[Q])}),K+Z},0),F.reduce(function(K,G){return typeof G.delete=="number"?(O.scroll.deleteAt(K,G.delete),K):K+(G.retain||G.insert.length||1)},0),this.scroll.batchEnd(),this.update(F)}},{key:"deleteText",value:function(F,O){return this.scroll.deleteAt(F,O),this.update(new u.default().retain(F).delete(O))}},{key:"formatLine",value:function(F,O){var W=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(J).forEach(function(K){if(!(W.scroll.whitelist!=null&&!W.scroll.whitelist[K])){var G=W.scroll.lines(F,Math.max(O,1)),Z=O;G.forEach(function(re){var ae=re.length();if(!(re instanceof m.default))re.format(K,J[K]);else{var ge=F-re.offset(W.scroll),ve=re.newlineIndex(ge+Z)-ge+1;re.formatAt(ge,ve,K,J[K])}Z-=ae})}}),this.scroll.optimize(),this.update(new u.default().retain(F).retain(O,(0,E.default)(J)))}},{key:"formatText",value:function(F,O){var W=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(J).forEach(function(K){W.scroll.formatAt(F,O,K,J[K])}),this.update(new u.default().retain(F).retain(O,(0,E.default)(J)))}},{key:"getContents",value:function(F,O){return this.delta.slice(F,F+O)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(F,O){return F.concat(O.delta())},new u.default)}},{key:"getFormat",value:function(F){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,W=[],J=[];O===0?this.scroll.path(F).forEach(function(G){var Z=s(G,1),re=Z[0];re instanceof _.default?W.push(re):re instanceof f.default.Leaf&&J.push(re)}):(W=this.scroll.lines(F,O),J=this.scroll.descendants(f.default.Leaf,F,O));var K=[W,J].map(function(G){if(G.length===0)return{};for(var Z=(0,p.bubbleFormats)(G.shift());Object.keys(Z).length>0;){var re=G.shift();if(re==null)return Z;Z=P((0,p.bubbleFormats)(re),Z)}return Z});return I.default.apply(I.default,K)}},{key:"getText",value:function(F,O){return this.getContents(F,O).filter(function(W){return typeof W.insert=="string"}).map(function(W){return W.insert}).join("")}},{key:"insertEmbed",value:function(F,O,W){return this.scroll.insertAt(F,O,W),this.update(new u.default().retain(F).insert(L({},O,W)))}},{key:"insertText",value:function(F,O){var W=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return O=O.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(F,O),Object.keys(J).forEach(function(K){W.scroll.formatAt(F,O.length,K,J[K])}),this.update(new u.default().retain(F).insert(O,(0,E.default)(J)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var F=this.scroll.children.head;return F.statics.blotName!==_.default.blotName||F.children.length>1?!1:F.children.head instanceof T.default}},{key:"removeFormat",value:function(F,O){var W=this.getText(F,O),J=this.scroll.line(F+O),K=s(J,2),G=K[0],Z=K[1],re=0,ae=new u.default;G!=null&&(G instanceof m.default?re=G.newlineIndex(Z)-Z+1:re=G.length()-Z,ae=G.delta().slice(Z,Z+re-1).insert(`
`));var ge=this.getContents(F,O+re),ve=ge.diff(new u.default().insert(W).concat(ae)),se=new u.default().retain(F).concat(ve);return this.applyDelta(se)}},{key:"update",value:function(F){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,J=this.delta;if(O.length===1&&O[0].type==="characterData"&&O[0].target.data.match($)&&f.default.find(O[0].target)){var K=f.default.find(O[0].target),G=(0,p.bubbleFormats)(K),Z=K.offset(this.scroll),re=O[0].oldValue.replace(g.default.CONTENTS,""),ae=new u.default().insert(re),ge=new u.default().insert(K.value()),ve=new u.default().retain(Z).concat(ae.diff(ge,W));F=ve.reduce(function(se,pe){return pe.insert?se.insert(pe.insert,G):se.push(pe)},new u.default),this.delta=J.compose(F)}else this.delta=this.getDelta(),(!F||!(0,U.default)(J.compose(F),this.delta))&&(F=J.diff(this.delta,W));return F}}]),M}();function P(M,q){return Object.keys(q).reduce(function(F,O){return M[O]==null||(q[O]===M[O]?F[O]=q[O]:Array.isArray(q[O])?q[O].indexOf(M[O])<0&&(F[O]=q[O].concat([M[O]])):F[O]=[q[O],M[O]]),F},{})}function z(M){return M.reduce(function(q,F){if(F.insert===1){var O=(0,E.default)(F.attributes);return delete O.image,q.insert({image:F.attributes.image},O)}if(F.attributes!=null&&(F.attributes.list===!0||F.attributes.bullet===!0)&&(F=(0,E.default)(F),F.attributes.list?F.attributes.list="ordered":(F.attributes.list="bullet",delete F.attributes.bullet)),typeof F.insert=="string"){var W=F.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return q.insert(W,F.attributes)}return q.push(F)},new u.default)}i.default=R},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.Range=void 0;var o=function(){function k(U,N){var I=[],S=!0,L=!1,D=void 0;try{for(var $=U[Symbol.iterator](),R;!(S=(R=$.next()).done)&&(I.push(R.value),!(N&&I.length===N));S=!0);}catch(P){L=!0,D=P}finally{try{!S&&$.return&&$.return()}finally{if(L)throw D}}return I}return function(U,N){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return k(U,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function k(U,N){for(var I=0;I<N.length;I++){var S=N[I];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(U,S.key,S)}}return function(U,N,I){return N&&k(U.prototype,N),I&&k(U,I),U}}(),a=r(0),l=g(a),u=r(21),c=g(u),h=r(11),d=g(h),f=r(8),y=g(f),m=r(10),v=g(m);function g(k){return k&&k.__esModule?k:{default:k}}function p(k){if(Array.isArray(k)){for(var U=0,N=Array(k.length);U<k.length;U++)N[U]=k[U];return N}else return Array.from(k)}function _(k,U){if(!(k instanceof U))throw new TypeError("Cannot call a class as a function")}var x=(0,v.default)("quill:selection"),T=function k(U){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;_(this,k),this.index=U,this.length=N},A=function(){function k(U,N){var I=this;_(this,k),this.emitter=N,this.scroll=U,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new T(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){I.mouseDown||setTimeout(I.update.bind(I,y.default.sources.USER),1)}),this.emitter.on(y.default.events.EDITOR_CHANGE,function(S,L){S===y.default.events.TEXT_CHANGE&&L.length()>0&&I.update(y.default.sources.SILENT)}),this.emitter.on(y.default.events.SCROLL_BEFORE_UPDATE,function(){if(I.hasFocus()){var S=I.getNativeRange();S!=null&&S.start.node!==I.cursor.textNode&&I.emitter.once(y.default.events.SCROLL_UPDATE,function(){try{I.setNativeRange(S.start.node,S.start.offset,S.end.node,S.end.offset)}catch{}})}}),this.emitter.on(y.default.events.SCROLL_OPTIMIZE,function(S,L){if(L.range){var D=L.range,$=D.startNode,R=D.startOffset,P=D.endNode,z=D.endOffset;I.setNativeRange($,R,P,z)}}),this.update(y.default.sources.SILENT)}return s(k,[{key:"handleComposition",value:function(){var N=this;this.root.addEventListener("compositionstart",function(){N.composing=!0}),this.root.addEventListener("compositionend",function(){if(N.composing=!1,N.cursor.parent){var I=N.cursor.restore();if(!I)return;setTimeout(function(){N.setNativeRange(I.startNode,I.startOffset,I.endNode,I.endOffset)},1)}})}},{key:"handleDragging",value:function(){var N=this;this.emitter.listenDOM("mousedown",document.body,function(){N.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){N.mouseDown=!1,N.update(y.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(N,I){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[N])){this.scroll.update();var S=this.getNativeRange();if(!(S==null||!S.native.collapsed||l.default.query(N,l.default.Scope.BLOCK))){if(S.start.node!==this.cursor.textNode){var L=l.default.find(S.start.node,!1);if(L==null)return;if(L instanceof l.default.Leaf){var D=L.split(S.start.offset);L.parent.insertBefore(this.cursor,D)}else L.insertBefore(this.cursor,S.start.node);this.cursor.attach()}this.cursor.format(N,I),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(N){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,S=this.scroll.length();N=Math.min(N,S-1),I=Math.min(N+I,S-1)-N;var L=void 0,D=this.scroll.leaf(N),$=o(D,2),R=$[0],P=$[1];if(R==null)return null;var z=R.position(P,!0),M=o(z,2);L=M[0],P=M[1];var q=document.createRange();if(I>0){q.setStart(L,P);var F=this.scroll.leaf(N+I),O=o(F,2);if(R=O[0],P=O[1],R==null)return null;var W=R.position(P,!0),J=o(W,2);return L=J[0],P=J[1],q.setEnd(L,P),q.getBoundingClientRect()}else{var K="left",G=void 0;return L instanceof Text?(P<L.data.length?(q.setStart(L,P),q.setEnd(L,P+1)):(q.setStart(L,P-1),q.setEnd(L,P),K="right"),G=q.getBoundingClientRect()):(G=R.domNode.getBoundingClientRect(),P>0&&(K="right")),{bottom:G.top+G.height,height:G.height,left:G[K],right:G[K],top:G.top,width:0}}}},{key:"getNativeRange",value:function(){var N=document.getSelection();if(N==null||N.rangeCount<=0)return null;var I=N.getRangeAt(0);if(I==null)return null;var S=this.normalizeNative(I);return x.info("getNativeRange",S),S}},{key:"getRange",value:function(){var N=this.getNativeRange();if(N==null)return[null,null];var I=this.normalizedToRange(N);return[I,N]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(N){var I=this,S=[[N.start.node,N.start.offset]];N.native.collapsed||S.push([N.end.node,N.end.offset]);var L=S.map(function(R){var P=o(R,2),z=P[0],M=P[1],q=l.default.find(z,!0),F=q.offset(I.scroll);return M===0?F:q instanceof l.default.Container?F+q.length():F+q.index(z,M)}),D=Math.min(Math.max.apply(Math,p(L)),this.scroll.length()-1),$=Math.min.apply(Math,[D].concat(p(L)));return new T($,D-$)}},{key:"normalizeNative",value:function(N){if(!E(this.root,N.startContainer)||!N.collapsed&&!E(this.root,N.endContainer))return null;var I={start:{node:N.startContainer,offset:N.startOffset},end:{node:N.endContainer,offset:N.endOffset},native:N};return[I.start,I.end].forEach(function(S){for(var L=S.node,D=S.offset;!(L instanceof Text)&&L.childNodes.length>0;)if(L.childNodes.length>D)L=L.childNodes[D],D=0;else if(L.childNodes.length===D)L=L.lastChild,D=L instanceof Text?L.data.length:L.childNodes.length+1;else break;S.node=L,S.offset=D}),I}},{key:"rangeToNative",value:function(N){var I=this,S=N.collapsed?[N.index]:[N.index,N.index+N.length],L=[],D=this.scroll.length();return S.forEach(function($,R){$=Math.min(D-1,$);var P=void 0,z=I.scroll.leaf($),M=o(z,2),q=M[0],F=M[1],O=q.position(F,R!==0),W=o(O,2);P=W[0],F=W[1],L.push(P,F)}),L.length<2&&(L=L.concat(L)),L}},{key:"scrollIntoView",value:function(N){var I=this.lastRange;if(I!=null){var S=this.getBounds(I.index,I.length);if(S!=null){var L=this.scroll.length()-1,D=this.scroll.line(Math.min(I.index,L)),$=o(D,1),R=$[0],P=R;if(I.length>0){var z=this.scroll.line(Math.min(I.index+I.length,L)),M=o(z,1);P=M[0]}if(!(R==null||P==null)){var q=N.getBoundingClientRect();S.top<q.top?N.scrollTop-=q.top-S.top:S.bottom>q.bottom&&(N.scrollTop+=S.bottom-q.bottom)}}}}},{key:"setNativeRange",value:function(N,I){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:N,L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:I,D=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(x.info("setNativeRange",N,I,S,L),!(N!=null&&(this.root.parentNode==null||N.parentNode==null||S.parentNode==null))){var $=document.getSelection();if($!=null)if(N!=null){this.hasFocus()||this.root.focus();var R=(this.getNativeRange()||{}).native;if(R==null||D||N!==R.startContainer||I!==R.startOffset||S!==R.endContainer||L!==R.endOffset){N.tagName=="BR"&&(I=[].indexOf.call(N.parentNode.childNodes,N),N=N.parentNode),S.tagName=="BR"&&(L=[].indexOf.call(S.parentNode.childNodes,S),S=S.parentNode);var P=document.createRange();P.setStart(N,I),P.setEnd(S,L),$.removeAllRanges(),$.addRange(P)}}else $.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(N){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof I=="string"&&(S=I,I=!1),x.info("setRange",N),N!=null){var L=this.rangeToNative(N);this.setNativeRange.apply(this,p(L).concat([I]))}else this.setNativeRange(null);this.update(S)}},{key:"update",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y.default.sources.USER,I=this.lastRange,S=this.getRange(),L=o(S,2),D=L[0],$=L[1];if(this.lastRange=D,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,d.default)(I,this.lastRange)){var R;!this.composing&&$!=null&&$.native.collapsed&&$.start.node!==this.cursor.textNode&&this.cursor.restore();var P=[y.default.events.SELECTION_CHANGE,(0,c.default)(this.lastRange),(0,c.default)(I),N];if((R=this.emitter).emit.apply(R,[y.default.events.EDITOR_CHANGE].concat(P)),N!==y.default.sources.SILENT){var z;(z=this.emitter).emit.apply(z,P)}}}}]),k}();function E(k,U){try{U.parentNode}catch{return!1}return U instanceof Text&&(U=U.parentNode),k.contains(U)}i.Range=T,i.default=A},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function y(m,v){for(var g=0;g<v.length;g++){var p=v[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,v,g){return v&&y(m.prototype,v),g&&y(m,g),m}}(),s=function y(m,v,g){m===null&&(m=Function.prototype);var p=Object.getOwnPropertyDescriptor(m,v);if(p===void 0){var _=Object.getPrototypeOf(m);return _===null?void 0:y(_,v,g)}else{if("value"in p)return p.value;var x=p.get;return x===void 0?void 0:x.call(g)}},a=r(0),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function h(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function d(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var f=function(y){d(m,y);function m(){return c(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"insertInto",value:function(g,p){g.children.length===0?s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"insertInto",this).call(this,g,p):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),m}(l.default.Embed);f.blotName="break",f.tagName="BR",i.default=f},function(n,i,r){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var y in f)f.hasOwnProperty(y)&&(d[y]=f[y])};return function(d,f){h(d,f);function y(){this.constructor=d}d.prototype=f===null?Object.create(f):(y.prototype=f.prototype,new y)}}();Object.defineProperty(i,"__esModule",{value:!0});var s=r(44),a=r(30),l=r(1),u=function(h){o(d,h);function d(f){var y=h.call(this,f)||this;return y.build(),y}return d.prototype.appendChild=function(f){this.insertBefore(f)},d.prototype.attach=function(){h.prototype.attach.call(this),this.children.forEach(function(f){f.attach()})},d.prototype.build=function(){var f=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(y){try{var m=c(y);f.insertBefore(m,f.children.head||void 0)}catch(v){if(v instanceof l.ParchmentError)return;throw v}})},d.prototype.deleteAt=function(f,y){if(f===0&&y===this.length())return this.remove();this.children.forEachAt(f,y,function(m,v,g){m.deleteAt(v,g)})},d.prototype.descendant=function(f,y){var m=this.children.find(y),v=m[0],g=m[1];return f.blotName==null&&f(v)||f.blotName!=null&&v instanceof f?[v,g]:v instanceof d?v.descendant(f,g):[null,-1]},d.prototype.descendants=function(f,y,m){y===void 0&&(y=0),m===void 0&&(m=Number.MAX_VALUE);var v=[],g=m;return this.children.forEachAt(y,m,function(p,_,x){(f.blotName==null&&f(p)||f.blotName!=null&&p instanceof f)&&v.push(p),p instanceof d&&(v=v.concat(p.descendants(f,_,g))),g-=x}),v},d.prototype.detach=function(){this.children.forEach(function(f){f.detach()}),h.prototype.detach.call(this)},d.prototype.formatAt=function(f,y,m,v){this.children.forEachAt(f,y,function(g,p,_){g.formatAt(p,_,m,v)})},d.prototype.insertAt=function(f,y,m){var v=this.children.find(f),g=v[0],p=v[1];if(g)g.insertAt(p,y,m);else{var _=m==null?l.create("text",y):l.create(y,m);this.appendChild(_)}},d.prototype.insertBefore=function(f,y){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(m){return f instanceof m}))throw new l.ParchmentError("Cannot insert "+f.statics.blotName+" into "+this.statics.blotName);f.insertInto(this,y)},d.prototype.length=function(){return this.children.reduce(function(f,y){return f+y.length()},0)},d.prototype.moveChildren=function(f,y){this.children.forEach(function(m){f.insertBefore(m,y)})},d.prototype.optimize=function(f){if(h.prototype.optimize.call(this,f),this.children.length===0)if(this.statics.defaultChild!=null){var y=l.create(this.statics.defaultChild);this.appendChild(y),y.optimize(f)}else this.remove()},d.prototype.path=function(f,y){y===void 0&&(y=!1);var m=this.children.find(f,y),v=m[0],g=m[1],p=[[this,f]];return v instanceof d?p.concat(v.path(g,y)):(v!=null&&p.push([v,g]),p)},d.prototype.removeChild=function(f){this.children.remove(f)},d.prototype.replace=function(f){f instanceof d&&f.moveChildren(this),h.prototype.replace.call(this,f)},d.prototype.split=function(f,y){if(y===void 0&&(y=!1),!y){if(f===0)return this;if(f===this.length())return this.next}var m=this.clone();return this.parent.insertBefore(m,this.next),this.children.forEachAt(f,this.length(),function(v,g,p){v=v.split(g,y),m.appendChild(v)}),m},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(f,y){var m=this,v=[],g=[];f.forEach(function(p){p.target===m.domNode&&p.type==="childList"&&(v.push.apply(v,p.addedNodes),g.push.apply(g,p.removedNodes))}),g.forEach(function(p){if(!(p.parentNode!=null&&p.tagName!=="IFRAME"&&document.body.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var _=l.find(p);_!=null&&(_.domNode.parentNode==null||_.domNode.parentNode===m.domNode)&&_.detach()}}),v.filter(function(p){return p.parentNode==m.domNode}).sort(function(p,_){return p===_?0:p.compareDocumentPosition(_)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(p){var _=null;p.nextSibling!=null&&(_=l.find(p.nextSibling));var x=c(p);(x.next!=_||x.next==null)&&(x.parent!=null&&x.parent.removeChild(m),m.insertBefore(x,_||void 0))})},d}(a.default);function c(h){var d=l.find(h);if(d==null)try{d=l.create(h)}catch{d=l.create(l.Scope.INLINE),[].slice.call(h.childNodes).forEach(function(y){d.domNode.appendChild(y)}),h.parentNode&&h.parentNode.replaceChild(d.domNode,h),d.attach()}return d}i.default=u},function(n,i,r){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var y in f)f.hasOwnProperty(y)&&(d[y]=f[y])};return function(d,f){h(d,f);function y(){this.constructor=d}d.prototype=f===null?Object.create(f):(y.prototype=f.prototype,new y)}}();Object.defineProperty(i,"__esModule",{value:!0});var s=r(12),a=r(31),l=r(17),u=r(1),c=function(h){o(d,h);function d(f){var y=h.call(this,f)||this;return y.attributes=new a.default(y.domNode),y}return d.formats=function(f){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return f.tagName.toLowerCase()},d.prototype.format=function(f,y){var m=u.query(f);m instanceof s.default?this.attributes.attribute(m,y):y&&m!=null&&(f!==this.statics.blotName||this.formats()[f]!==y)&&this.replaceWith(f,y)},d.prototype.formats=function(){var f=this.attributes.values(),y=this.statics.formats(this.domNode);return y!=null&&(f[this.statics.blotName]=y),f},d.prototype.replaceWith=function(f,y){var m=h.prototype.replaceWith.call(this,f,y);return this.attributes.copy(m),m},d.prototype.update=function(f,y){var m=this;h.prototype.update.call(this,f,y),f.some(function(v){return v.target===m.domNode&&v.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(f,y){var m=h.prototype.wrap.call(this,f,y);return m instanceof d&&m.statics.scope===this.statics.scope&&this.attributes.move(m),m},d}(l.default);i.default=c},function(n,i,r){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var d in h)h.hasOwnProperty(d)&&(c[d]=h[d])};return function(c,h){u(c,h);function d(){this.constructor=c}c.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(i,"__esModule",{value:!0});var s=r(30),a=r(1),l=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.value=function(h){return!0},c.prototype.index=function(h,d){return this.domNode===h||this.domNode.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},c.prototype.position=function(h,d){var f=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return h>0&&(f+=1),[this.parent.domNode,f]},c.prototype.value=function(){var h;return h={},h[this.statics.blotName]=this.statics.value(this.domNode)||!0,h},c.scope=a.Scope.INLINE_BLOT,c}(s.default);i.default=l},function(n,i,r){var o=r(11),s=r(3),a={attributes:{compose:function(u,c,h){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var d=s(!0,{},c);h||(d=Object.keys(d).reduce(function(y,m){return d[m]!=null&&(y[m]=d[m]),y},{}));for(var f in u)u[f]!==void 0&&c[f]===void 0&&(d[f]=u[f]);return Object.keys(d).length>0?d:void 0},diff:function(u,c){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var h=Object.keys(u).concat(Object.keys(c)).reduce(function(d,f){return o(u[f],c[f])||(d[f]=c[f]===void 0?null:c[f]),d},{});return Object.keys(h).length>0?h:void 0},transform:function(u,c,h){if(typeof u!="object")return c;if(typeof c=="object"){if(!h)return c;var d=Object.keys(c).reduce(function(f,y){return u[y]===void 0&&(f[y]=c[y]),f},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(u){return new l(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function l(u){this.ops=u,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(u){u||(u=1/0);var c=this.ops[this.index];if(c){var h=this.offset,d=a.length(c);if(u>=d-h?(u=d-h,this.index+=1,this.offset=0):this.offset+=u,typeof c.delete=="number")return{delete:u};var f={};return c.attributes&&(f.attributes=c.attributes),typeof c.retain=="number"?f.retain=u:typeof c.insert=="string"?f.insert=c.insert.substr(h,u):f.insert=c.insert,f}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,c=this.index,h=this.next(),d=this.ops.slice(this.index);return this.offset=u,this.index=c,[h].concat(d)}else return[]},n.exports=a},function(n,i){var r=function(){function o(m,v){return v!=null&&m instanceof v}var s;try{s=Map}catch{s=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function u(m,v,g,p,_){typeof v=="object"&&(g=v.depth,p=v.prototype,_=v.includeNonEnumerable,v=v.circular);var x=[],T=[],A=typeof Buffer<"u";typeof v>"u"&&(v=!0),typeof g>"u"&&(g=1/0);function E(k,U){if(k===null)return null;if(U===0)return k;var N,I;if(typeof k!="object")return k;if(o(k,s))N=new s;else if(o(k,a))N=new a;else if(o(k,l))N=new l(function(q,F){k.then(function(O){q(E(O,U-1))},function(O){F(E(O,U-1))})});else if(u.__isArray(k))N=[];else if(u.__isRegExp(k))N=new RegExp(k.source,y(k)),k.lastIndex&&(N.lastIndex=k.lastIndex);else if(u.__isDate(k))N=new Date(k.getTime());else{if(A&&Buffer.isBuffer(k))return Buffer.allocUnsafe?N=Buffer.allocUnsafe(k.length):N=new Buffer(k.length),k.copy(N),N;o(k,Error)?N=Object.create(k):typeof p>"u"?(I=Object.getPrototypeOf(k),N=Object.create(I)):(N=Object.create(p),I=p)}if(v){var S=x.indexOf(k);if(S!=-1)return T[S];x.push(k),T.push(N)}o(k,s)&&k.forEach(function(q,F){var O=E(F,U-1),W=E(q,U-1);N.set(O,W)}),o(k,a)&&k.forEach(function(q){var F=E(q,U-1);N.add(F)});for(var L in k){var D;I&&(D=Object.getOwnPropertyDescriptor(I,L)),!(D&&D.set==null)&&(N[L]=E(k[L],U-1))}if(Object.getOwnPropertySymbols)for(var $=Object.getOwnPropertySymbols(k),L=0;L<$.length;L++){var R=$[L],P=Object.getOwnPropertyDescriptor(k,R);P&&!P.enumerable&&!_||(N[R]=E(k[R],U-1),P.enumerable||Object.defineProperty(N,R,{enumerable:!1}))}if(_)for(var z=Object.getOwnPropertyNames(k),L=0;L<z.length;L++){var M=z[L],P=Object.getOwnPropertyDescriptor(k,M);P&&P.enumerable||(N[M]=E(k[M],U-1),Object.defineProperty(N,M,{enumerable:!1}))}return N}return E(m,g)}u.clonePrototype=function(v){if(v===null)return null;var g=function(){};return g.prototype=v,new g};function c(m){return Object.prototype.toString.call(m)}u.__objToStr=c;function h(m){return typeof m=="object"&&c(m)==="[object Date]"}u.__isDate=h;function d(m){return typeof m=="object"&&c(m)==="[object Array]"}u.__isArray=d;function f(m){return typeof m=="object"&&c(m)==="[object RegExp]"}u.__isRegExp=f;function y(m){var v="";return m.global&&(v+="g"),m.ignoreCase&&(v+="i"),m.multiline&&(v+="m"),v}return u.__getRegExpFlags=y,u}();typeof n=="object"&&n.exports&&(n.exports=r)},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function N(I,S){var L=[],D=!0,$=!1,R=void 0;try{for(var P=I[Symbol.iterator](),z;!(D=(z=P.next()).done)&&(L.push(z.value),!(S&&L.length===S));D=!0);}catch(M){$=!0,R=M}finally{try{!D&&P.return&&P.return()}finally{if($)throw R}}return L}return function(I,S){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return N(I,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function N(I,S){for(var L=0;L<S.length;L++){var D=S[L];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(I,D.key,D)}}return function(I,S,L){return S&&N(I.prototype,S),L&&N(I,L),I}}(),a=function N(I,S,L){I===null&&(I=Function.prototype);var D=Object.getOwnPropertyDescriptor(I,S);if(D===void 0){var $=Object.getPrototypeOf(I);return $===null?void 0:N($,S,L)}else{if("value"in D)return D.value;var R=D.get;return R===void 0?void 0:R.call(L)}},l=r(0),u=x(l),c=r(8),h=x(c),d=r(4),f=x(d),y=r(16),m=x(y),v=r(13),g=x(v),p=r(25),_=x(p);function x(N){return N&&N.__esModule?N:{default:N}}function T(N,I){if(!(N instanceof I))throw new TypeError("Cannot call a class as a function")}function A(N,I){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:N}function E(N,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);N.prototype=Object.create(I&&I.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(N,I):N.__proto__=I)}function k(N){return N instanceof f.default||N instanceof d.BlockEmbed}var U=function(N){E(I,N);function I(S,L){T(this,I);var D=A(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,S));return D.emitter=L.emitter,Array.isArray(L.whitelist)&&(D.whitelist=L.whitelist.reduce(function($,R){return $[R]=!0,$},{})),D.domNode.addEventListener("DOMNodeInserted",function(){}),D.optimize(),D.enable(),D}return s(I,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(L,D){var $=this.line(L),R=o($,2),P=R[0],z=R[1],M=this.line(L+D),q=o(M,1),F=q[0];if(a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"deleteAt",this).call(this,L,D),F!=null&&P!==F&&z>0){if(P instanceof d.BlockEmbed||F instanceof d.BlockEmbed){this.optimize();return}if(P instanceof g.default){var O=P.newlineIndex(P.length(),!0);if(O>-1&&(P=P.split(O+1),P===F)){this.optimize();return}}else if(F instanceof g.default){var W=F.newlineIndex(0);W>-1&&F.split(W+1)}var J=F.children.head instanceof m.default?null:F.children.head;P.moveChildren(F,J),P.remove()}this.optimize()}},{key:"enable",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",L)}},{key:"formatAt",value:function(L,D,$,R){this.whitelist!=null&&!this.whitelist[$]||(a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"formatAt",this).call(this,L,D,$,R),this.optimize())}},{key:"insertAt",value:function(L,D,$){if(!($!=null&&this.whitelist!=null&&!this.whitelist[D])){if(L>=this.length())if($==null||u.default.query(D,u.default.Scope.BLOCK)==null){var R=u.default.create(this.statics.defaultChild);this.appendChild(R),$==null&&D.endsWith(`
`)&&(D=D.slice(0,-1)),R.insertAt(0,D,$)}else{var P=u.default.create(D,$);this.appendChild(P)}else a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,L,D,$);this.optimize()}}},{key:"insertBefore",value:function(L,D){if(L.statics.scope===u.default.Scope.INLINE_BLOT){var $=u.default.create(this.statics.defaultChild);$.appendChild(L),L=$}a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertBefore",this).call(this,L,D)}},{key:"leaf",value:function(L){return this.path(L).pop()||[null,-1]}},{key:"line",value:function(L){return L===this.length()?this.line(L-1):this.descendant(k,L)}},{key:"lines",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,$=function R(P,z,M){var q=[],F=M;return P.children.forEachAt(z,M,function(O,W,J){k(O)?q.push(O):O instanceof u.default.Container&&(q=q.concat(R(O,W,F))),F-=J}),q};return $(this,L,D)}},{key:"optimize",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,L,D),L.length>0&&this.emitter.emit(h.default.events.SCROLL_OPTIMIZE,L,D))}},{key:"path",value:function(L){return a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"path",this).call(this,L).slice(1)}},{key:"update",value:function(L){if(this.batch!==!0){var D=h.default.sources.USER;typeof L=="string"&&(D=L),Array.isArray(L)||(L=this.observer.takeRecords()),L.length>0&&this.emitter.emit(h.default.events.SCROLL_BEFORE_UPDATE,D,L),a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"update",this).call(this,L.concat([])),L.length>0&&this.emitter.emit(h.default.events.SCROLL_UPDATE,D,L)}}}]),I}(u.default.Scroll);U.blotName="scroll",U.className="ql-editor",U.tagName="DIV",U.defaultChild="block",U.allowedChildren=[f.default,d.BlockEmbed,_.default],i.default=U},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.SHORTKEY=i.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},s=function(){function G(Z,re){var ae=[],ge=!0,ve=!1,se=void 0;try{for(var pe=Z[Symbol.iterator](),B;!(ge=(B=pe.next()).done)&&(ae.push(B.value),!(re&&ae.length===re));ge=!0);}catch(le){ve=!0,se=le}finally{try{!ge&&pe.return&&pe.return()}finally{if(ve)throw se}}return ae}return function(Z,re){if(Array.isArray(Z))return Z;if(Symbol.iterator in Object(Z))return G(Z,re);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function G(Z,re){for(var ae=0;ae<re.length;ae++){var ge=re[ae];ge.enumerable=ge.enumerable||!1,ge.configurable=!0,"value"in ge&&(ge.writable=!0),Object.defineProperty(Z,ge.key,ge)}}return function(Z,re,ae){return re&&G(Z.prototype,re),ae&&G(Z,ae),Z}}(),l=r(21),u=N(l),c=r(11),h=N(c),d=r(3),f=N(d),y=r(2),m=N(y),v=r(20),g=N(v),p=r(0),_=N(p),x=r(5),T=N(x),A=r(10),E=N(A),k=r(9),U=N(k);function N(G){return G&&G.__esModule?G:{default:G}}function I(G,Z,re){return Z in G?Object.defineProperty(G,Z,{value:re,enumerable:!0,configurable:!0,writable:!0}):G[Z]=re,G}function S(G,Z){if(!(G instanceof Z))throw new TypeError("Cannot call a class as a function")}function L(G,Z){if(!G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z&&(typeof Z=="object"||typeof Z=="function")?Z:G}function D(G,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Z);G.prototype=Object.create(Z&&Z.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),Z&&(Object.setPrototypeOf?Object.setPrototypeOf(G,Z):G.__proto__=Z)}var $=(0,E.default)("quill:keyboard"),R=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",P=function(G){D(Z,G),a(Z,null,[{key:"match",value:function(ae,ge){return ge=K(ge),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ve){return!!ge[ve]!==ae[ve]&&ge[ve]!==null})?!1:ge.key===(ae.which||ae.keyCode)}}]);function Z(re,ae){S(this,Z);var ge=L(this,(Z.__proto__||Object.getPrototypeOf(Z)).call(this,re,ae));return ge.bindings={},Object.keys(ge.options.bindings).forEach(function(ve){ve==="list autofill"&&re.scroll.whitelist!=null&&!re.scroll.whitelist.list||ge.options.bindings[ve]&&ge.addBinding(ge.options.bindings[ve])}),ge.addBinding({key:Z.keys.ENTER,shiftKey:null},O),ge.addBinding({key:Z.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(ge.addBinding({key:Z.keys.BACKSPACE},{collapsed:!0},M),ge.addBinding({key:Z.keys.DELETE},{collapsed:!0},q)):(ge.addBinding({key:Z.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},M),ge.addBinding({key:Z.keys.DELETE},{collapsed:!0,suffix:/^.?$/},q)),ge.addBinding({key:Z.keys.BACKSPACE},{collapsed:!1},F),ge.addBinding({key:Z.keys.DELETE},{collapsed:!1},F),ge.addBinding({key:Z.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},M),ge.listen(),ge}return a(Z,[{key:"addBinding",value:function(ae){var ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},se=K(ae);if(se==null||se.key==null)return $.warn("Attempted to add invalid keyboard binding",se);typeof ge=="function"&&(ge={handler:ge}),typeof ve=="function"&&(ve={handler:ve}),se=(0,f.default)(se,ge,ve),this.bindings[se.key]=this.bindings[se.key]||[],this.bindings[se.key].push(se)}},{key:"listen",value:function(){var ae=this;this.quill.root.addEventListener("keydown",function(ge){if(!ge.defaultPrevented){var ve=ge.which||ge.keyCode,se=(ae.bindings[ve]||[]).filter(function(De){return Z.match(ge,De)});if(se.length!==0){var pe=ae.quill.getSelection();if(!(pe==null||!ae.quill.hasFocus())){var B=ae.quill.getLine(pe.index),le=s(B,2),de=le[0],ee=le[1],V=ae.quill.getLeaf(pe.index),Q=s(V,2),ue=Q[0],he=Q[1],ne=pe.length===0?[ue,he]:ae.quill.getLeaf(pe.index+pe.length),te=s(ne,2),ie=te[0],oe=te[1],me=ue instanceof _.default.Text?ue.value().slice(0,he):"",we=ie instanceof _.default.Text?ie.value().slice(oe):"",Ee={collapsed:pe.length===0,empty:pe.length===0&&de.length()<=1,format:ae.quill.getFormat(pe),offset:ee,prefix:me,suffix:we},je=se.some(function(De){if(De.collapsed!=null&&De.collapsed!==Ee.collapsed||De.empty!=null&&De.empty!==Ee.empty||De.offset!=null&&De.offset!==Ee.offset)return!1;if(Array.isArray(De.format)){if(De.format.every(function(Xe){return Ee.format[Xe]==null}))return!1}else if(o(De.format)==="object"&&!Object.keys(De.format).every(function(Xe){return De.format[Xe]===!0?Ee.format[Xe]!=null:De.format[Xe]===!1?Ee.format[Xe]==null:(0,h.default)(De.format[Xe],Ee.format[Xe])}))return!1;return De.prefix!=null&&!De.prefix.test(Ee.prefix)||De.suffix!=null&&!De.suffix.test(Ee.suffix)?!1:De.handler.call(ae,pe,Ee)!==!0});je&&ge.preventDefault()}}}})}}]),Z}(U.default);P.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},P.DEFAULTS={bindings:{bold:J("bold"),italic:J("italic"),underline:J("underline"),indent:{key:P.keys.TAB,format:["blockquote","indent","list"],handler:function(Z,re){if(re.collapsed&&re.offset!==0)return!0;this.quill.format("indent","+1",T.default.sources.USER)}},outdent:{key:P.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(Z,re){if(re.collapsed&&re.offset!==0)return!0;this.quill.format("indent","-1",T.default.sources.USER)}},"outdent backspace":{key:P.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(Z,re){re.format.indent!=null?this.quill.format("indent","-1",T.default.sources.USER):re.format.list!=null&&this.quill.format("list",!1,T.default.sources.USER)}},"indent code-block":W(!0),"outdent code-block":W(!1),"remove tab":{key:P.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(Z){this.quill.deleteText(Z.index-1,1,T.default.sources.USER)}},tab:{key:P.keys.TAB,handler:function(Z){this.quill.history.cutoff();var re=new m.default().retain(Z.index).delete(Z.length).insert("	");this.quill.updateContents(re,T.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Z.index+1,T.default.sources.SILENT)}},"list empty enter":{key:P.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(Z,re){this.quill.format("list",!1,T.default.sources.USER),re.format.indent&&this.quill.format("indent",!1,T.default.sources.USER)}},"checklist enter":{key:P.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(Z){var re=this.quill.getLine(Z.index),ae=s(re,2),ge=ae[0],ve=ae[1],se=(0,f.default)({},ge.formats(),{list:"checked"}),pe=new m.default().retain(Z.index).insert(`
`,se).retain(ge.length()-ve-1).retain(1,{list:"unchecked"});this.quill.updateContents(pe,T.default.sources.USER),this.quill.setSelection(Z.index+1,T.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:P.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(Z,re){var ae=this.quill.getLine(Z.index),ge=s(ae,2),ve=ge[0],se=ge[1],pe=new m.default().retain(Z.index).insert(`
`,re.format).retain(ve.length()-se-1).retain(1,{header:null});this.quill.updateContents(pe,T.default.sources.USER),this.quill.setSelection(Z.index+1,T.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(Z,re){var ae=re.prefix.length,ge=this.quill.getLine(Z.index),ve=s(ge,2),se=ve[0],pe=ve[1];if(pe>ae)return!0;var B=void 0;switch(re.prefix.trim()){case"[]":case"[ ]":B="unchecked";break;case"[x]":B="checked";break;case"-":case"*":B="bullet";break;default:B="ordered"}this.quill.insertText(Z.index," ",T.default.sources.USER),this.quill.history.cutoff();var le=new m.default().retain(Z.index-pe).delete(ae+1).retain(se.length()-2-pe).retain(1,{list:B});this.quill.updateContents(le,T.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Z.index-ae,T.default.sources.SILENT)}},"code exit":{key:P.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(Z){var re=this.quill.getLine(Z.index),ae=s(re,2),ge=ae[0],ve=ae[1],se=new m.default().retain(Z.index+ge.length()-ve-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(se,T.default.sources.USER)}},"embed left":z(P.keys.LEFT,!1),"embed left shift":z(P.keys.LEFT,!0),"embed right":z(P.keys.RIGHT,!1),"embed right shift":z(P.keys.RIGHT,!0)}};function z(G,Z){var re,ae=G===P.keys.LEFT?"prefix":"suffix";return re={key:G,shiftKey:Z,altKey:null},I(re,ae,/^$/),I(re,"handler",function(ve){var se=ve.index;G===P.keys.RIGHT&&(se+=ve.length+1);var pe=this.quill.getLeaf(se),B=s(pe,1),le=B[0];return le instanceof _.default.Embed?(G===P.keys.LEFT?Z?this.quill.setSelection(ve.index-1,ve.length+1,T.default.sources.USER):this.quill.setSelection(ve.index-1,T.default.sources.USER):Z?this.quill.setSelection(ve.index,ve.length+1,T.default.sources.USER):this.quill.setSelection(ve.index+ve.length+1,T.default.sources.USER),!1):!0}),re}function M(G,Z){if(!(G.index===0||this.quill.getLength()<=1)){var re=this.quill.getLine(G.index),ae=s(re,1),ge=ae[0],ve={};if(Z.offset===0){var se=this.quill.getLine(G.index-1),pe=s(se,1),B=pe[0];if(B!=null&&B.length()>1){var le=ge.formats(),de=this.quill.getFormat(G.index-1,1);ve=g.default.attributes.diff(le,de)||{}}}var ee=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(Z.prefix)?2:1;this.quill.deleteText(G.index-ee,ee,T.default.sources.USER),Object.keys(ve).length>0&&this.quill.formatLine(G.index-ee,ee,ve,T.default.sources.USER),this.quill.focus()}}function q(G,Z){var re=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(Z.suffix)?2:1;if(!(G.index>=this.quill.getLength()-re)){var ae={},ge=0,ve=this.quill.getLine(G.index),se=s(ve,1),pe=se[0];if(Z.offset>=pe.length()-1){var B=this.quill.getLine(G.index+1),le=s(B,1),de=le[0];if(de){var ee=pe.formats(),V=this.quill.getFormat(G.index,1);ae=g.default.attributes.diff(ee,V)||{},ge=de.length()}}this.quill.deleteText(G.index,re,T.default.sources.USER),Object.keys(ae).length>0&&this.quill.formatLine(G.index+ge-1,re,ae,T.default.sources.USER)}}function F(G){var Z=this.quill.getLines(G),re={};if(Z.length>1){var ae=Z[0].formats(),ge=Z[Z.length-1].formats();re=g.default.attributes.diff(ge,ae)||{}}this.quill.deleteText(G,T.default.sources.USER),Object.keys(re).length>0&&this.quill.formatLine(G.index,1,re,T.default.sources.USER),this.quill.setSelection(G.index,T.default.sources.SILENT),this.quill.focus()}function O(G,Z){var re=this;G.length>0&&this.quill.scroll.deleteAt(G.index,G.length);var ae=Object.keys(Z.format).reduce(function(ge,ve){return _.default.query(ve,_.default.Scope.BLOCK)&&!Array.isArray(Z.format[ve])&&(ge[ve]=Z.format[ve]),ge},{});this.quill.insertText(G.index,`
`,ae,T.default.sources.USER),this.quill.setSelection(G.index+1,T.default.sources.SILENT),this.quill.focus(),Object.keys(Z.format).forEach(function(ge){ae[ge]==null&&(Array.isArray(Z.format[ge])||ge!=="link"&&re.quill.format(ge,Z.format[ge],T.default.sources.USER))})}function W(G){return{key:P.keys.TAB,shiftKey:!G,format:{"code-block":!0},handler:function(re){var ae=_.default.query("code-block"),ge=re.index,ve=re.length,se=this.quill.scroll.descendant(ae,ge),pe=s(se,2),B=pe[0],le=pe[1];if(B!=null){var de=this.quill.getIndex(B),ee=B.newlineIndex(le,!0)+1,V=B.newlineIndex(de+le+ve),Q=B.domNode.textContent.slice(ee,V).split(`
`);le=0,Q.forEach(function(ue,he){G?(B.insertAt(ee+le,ae.TAB),le+=ae.TAB.length,he===0?ge+=ae.TAB.length:ve+=ae.TAB.length):ue.startsWith(ae.TAB)&&(B.deleteAt(ee+le,ae.TAB.length),le-=ae.TAB.length,he===0?ge-=ae.TAB.length:ve-=ae.TAB.length),le+=ue.length+1}),this.quill.update(T.default.sources.USER),this.quill.setSelection(ge,ve,T.default.sources.SILENT)}}}}function J(G){return{key:G[0].toUpperCase(),shortKey:!0,handler:function(re,ae){this.quill.format(G,!ae.format[G],T.default.sources.USER)}}}function K(G){if(typeof G=="string"||typeof G=="number")return K({key:G});if((typeof G>"u"?"undefined":o(G))==="object"&&(G=(0,u.default)(G,!1)),typeof G.key=="string")if(P.keys[G.key.toUpperCase()]!=null)G.key=P.keys[G.key.toUpperCase()];else if(G.key.length===1)G.key=G.key.toUpperCase().charCodeAt(0);else return null;return G.shortKey&&(G[R]=G.shortKey,delete G.shortKey),G}i.default=P,i.SHORTKEY=R},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function g(p,_){var x=[],T=!0,A=!1,E=void 0;try{for(var k=p[Symbol.iterator](),U;!(T=(U=k.next()).done)&&(x.push(U.value),!(_&&x.length===_));T=!0);}catch(N){A=!0,E=N}finally{try{!T&&k.return&&k.return()}finally{if(A)throw E}}return x}return function(p,_){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return g(p,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function g(p,_,x){p===null&&(p=Function.prototype);var T=Object.getOwnPropertyDescriptor(p,_);if(T===void 0){var A=Object.getPrototypeOf(p);return A===null?void 0:g(A,_,x)}else{if("value"in T)return T.value;var E=T.get;return E===void 0?void 0:E.call(x)}},a=function(){function g(p,_){for(var x=0;x<_.length;x++){var T=_[x];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(p,T.key,T)}}return function(p,_,x){return _&&g(p.prototype,_),x&&g(p,x),p}}(),l=r(0),u=d(l),c=r(7),h=d(c);function d(g){return g&&g.__esModule?g:{default:g}}function f(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}function y(g,p){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:g}function m(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(g,p):g.__proto__=p)}var v=function(g){m(p,g),a(p,null,[{key:"value",value:function(){}}]);function p(_,x){f(this,p);var T=y(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,_));return T.selection=x,T.textNode=document.createTextNode(p.CONTENTS),T.domNode.appendChild(T.textNode),T._length=0,T}return a(p,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(x,T){if(this._length!==0)return s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,x,T);for(var A=this,E=0;A!=null&&A.statics.scope!==u.default.Scope.BLOCK_BLOT;)E+=A.offset(A.parent),A=A.parent;A!=null&&(this._length=p.CONTENTS.length,A.optimize(),A.formatAt(E,p.CONTENTS.length,x,T),this._length=0)}},{key:"index",value:function(x,T){return x===this.textNode?0:s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"index",this).call(this,x,T)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var x=this.textNode,T=this.selection.getNativeRange(),A=void 0,E=void 0,k=void 0;if(T!=null&&T.start.node===x&&T.end.node===x){var U=[x,T.start.offset,T.end.offset];A=U[0],E=U[1],k=U[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==p.CONTENTS){var N=this.textNode.data.split(p.CONTENTS).join("");this.next instanceof h.default?(A=this.next.domNode,this.next.insertAt(0,N),this.textNode.data=p.CONTENTS):(this.textNode.data=N,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(p.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),E!=null){var I=[E,k].map(function(L){return Math.max(0,Math.min(A.data.length,L-1))}),S=o(I,2);return E=S[0],k=S[1],{startNode:A,startOffset:E,endNode:A,endOffset:k}}}}},{key:"update",value:function(x,T){var A=this;if(x.some(function(k){return k.type==="characterData"&&k.target===A.textNode})){var E=this.restore();E&&(T.range=E)}}},{key:"value",value:function(){return""}}]),p}(u.default.Embed);v.blotName="cursor",v.className="ql-cursor",v.tagName="span",v.CONTENTS="\uFEFF",i.default=v},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var o=r(0),s=u(o),a=r(4),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function h(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function d(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var f=function(y){d(m,y);function m(){return c(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default.Container);f.allowedChildren=[l.default,a.BlockEmbed,f],i.default=f},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.ColorStyle=i.ColorClass=i.ColorAttributor=void 0;var o=function(){function v(g,p){for(var _=0;_<p.length;_++){var x=p[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,p,_){return p&&v(g.prototype,p),_&&v(g,_),g}}(),s=function v(g,p,_){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,p);if(x===void 0){var T=Object.getPrototypeOf(g);return T===null?void 0:v(T,p,_)}else{if("value"in x)return x.value;var A=x.get;return A===void 0?void 0:A.call(_)}},a=r(0),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function h(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function d(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var f=function(v){d(g,v);function g(){return c(this,g),h(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"value",value:function(_){var x=s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,_);return x.startsWith("rgb(")?(x=x.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+x.split(",").map(function(T){return("00"+parseInt(T).toString(16)).slice(-2)}).join("")):x}}]),g}(l.default.Attributor.Style),y=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),m=new f("color","color",{scope:l.default.Scope.INLINE});i.ColorAttributor=f,i.ColorClass=y,i.ColorStyle=m},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.sanitize=i.default=void 0;var o=function(){function m(v,g){for(var p=0;p<g.length;p++){var _=g[p];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(v,_.key,_)}}return function(v,g,p){return g&&m(v.prototype,g),p&&m(v,p),v}}(),s=function m(v,g,p){v===null&&(v=Function.prototype);var _=Object.getOwnPropertyDescriptor(v,g);if(_===void 0){var x=Object.getPrototypeOf(v);return x===null?void 0:m(x,g,p)}else{if("value"in _)return _.value;var T=_.get;return T===void 0?void 0:T.call(p)}},a=r(6),l=u(a);function u(m){return m&&m.__esModule?m:{default:m}}function c(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}function h(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:m}function d(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}var f=function(m){d(v,m);function v(){return c(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"format",value:function(p,_){if(p!==this.statics.blotName||!_)return s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,p,_);_=this.constructor.sanitize(_),this.domNode.setAttribute("href",_)}}],[{key:"create",value:function(p){var _=s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,p);return p=this.sanitize(p),_.setAttribute("href",p),_.setAttribute("rel","noopener noreferrer"),_.setAttribute("target","_blank"),_}},{key:"formats",value:function(p){return p.getAttribute("href")}},{key:"sanitize",value:function(p){return y(p,this.PROTOCOL_WHITELIST)?p:this.SANITIZED_URL}}]),v}(l.default);f.blotName="link",f.tagName="A",f.SANITIZED_URL="about:blank",f.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function y(m,v){var g=document.createElement("a");g.href=m;var p=g.href.slice(0,g.href.indexOf(":"));return v.indexOf(p)>-1}i.default=f,i.sanitize=y},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},s=function(){function v(g,p){for(var _=0;_<p.length;_++){var x=p[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,p,_){return p&&v(g.prototype,p),_&&v(g,_),g}}(),a=r(23),l=h(a),u=r(107),c=h(u);function h(v){return v&&v.__esModule?v:{default:v}}function d(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}var f=0;function y(v,g){v.setAttribute(g,v.getAttribute(g)!=="true")}var m=function(){function v(g){var p=this;d(this,v),this.select=g,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){p.togglePicker()}),this.label.addEventListener("keydown",function(_){switch(_.keyCode){case l.default.keys.ENTER:p.togglePicker();break;case l.default.keys.ESCAPE:p.escape(),_.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(v,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),y(this.label,"aria-expanded"),y(this.options,"aria-hidden")}},{key:"buildItem",value:function(p){var _=this,x=document.createElement("span");return x.tabIndex="0",x.setAttribute("role","button"),x.classList.add("ql-picker-item"),p.hasAttribute("value")&&x.setAttribute("data-value",p.getAttribute("value")),p.textContent&&x.setAttribute("data-label",p.textContent),x.addEventListener("click",function(){_.selectItem(x,!0)}),x.addEventListener("keydown",function(T){switch(T.keyCode){case l.default.keys.ENTER:_.selectItem(x,!0),T.preventDefault();break;case l.default.keys.ESCAPE:_.escape(),T.preventDefault();break}}),x}},{key:"buildLabel",value:function(){var p=document.createElement("span");return p.classList.add("ql-picker-label"),p.innerHTML=c.default,p.tabIndex="0",p.setAttribute("role","button"),p.setAttribute("aria-expanded","false"),this.container.appendChild(p),p}},{key:"buildOptions",value:function(){var p=this,_=document.createElement("span");_.classList.add("ql-picker-options"),_.setAttribute("aria-hidden","true"),_.tabIndex="-1",_.id="ql-picker-options-"+f,f+=1,this.label.setAttribute("aria-controls",_.id),this.options=_,[].slice.call(this.select.options).forEach(function(x){var T=p.buildItem(x);_.appendChild(T),x.selected===!0&&p.selectItem(T)}),this.container.appendChild(_)}},{key:"buildPicker",value:function(){var p=this;[].slice.call(this.select.attributes).forEach(function(_){p.container.setAttribute(_.name,_.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var p=this;this.close(),setTimeout(function(){return p.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(p){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,x=this.container.querySelector(".ql-selected");if(p!==x&&(x!=null&&x.classList.remove("ql-selected"),p!=null&&(p.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(p.parentNode.children,p),p.hasAttribute("data-value")?this.label.setAttribute("data-value",p.getAttribute("data-value")):this.label.removeAttribute("data-value"),p.hasAttribute("data-label")?this.label.setAttribute("data-label",p.getAttribute("data-label")):this.label.removeAttribute("data-label"),_))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var T=document.createEvent("Event");T.initEvent("change",!0,!0),this.select.dispatchEvent(T)}this.close()}}},{key:"update",value:function(){var p=void 0;if(this.select.selectedIndex>-1){var _=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];p=this.select.options[this.select.selectedIndex],this.selectItem(_)}else this.selectItem(null);var x=p!=null&&p!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",x)}}]),v}();i.default=m},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var o=r(0),s=$(o),a=r(5),l=$(a),u=r(4),c=$(u),h=r(16),d=$(h),f=r(25),y=$(f),m=r(24),v=$(m),g=r(35),p=$(g),_=r(6),x=$(_),T=r(22),A=$(T),E=r(7),k=$(E),U=r(55),N=$(U),I=r(42),S=$(I),L=r(23),D=$(L);function $(R){return R&&R.__esModule?R:{default:R}}l.default.register({"blots/block":c.default,"blots/block/embed":u.BlockEmbed,"blots/break":d.default,"blots/container":y.default,"blots/cursor":v.default,"blots/embed":p.default,"blots/inline":x.default,"blots/scroll":A.default,"blots/text":k.default,"modules/clipboard":N.default,"modules/history":S.default,"modules/keyboard":D.default}),s.default.register(c.default,d.default,v.default,x.default,A.default,k.default),i.default=l.default},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var o=r(1),s=function(){function a(l){this.domNode=l,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?u=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?u=document.createElement(l):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return o.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},a.prototype.deleteAt=function(l,u){var c=this.isolate(l,u);c.remove()},a.prototype.formatAt=function(l,u,c,h){var d=this.isolate(l,u);if(o.query(c,o.Scope.BLOT)!=null&&h)d.wrap(c,h);else if(o.query(c,o.Scope.ATTRIBUTE)!=null){var f=o.create(this.statics.scope);d.wrap(f),f.format(c,h)}},a.prototype.insertAt=function(l,u,c){var h=c==null?o.create("text",u):o.create(u,c),d=this.split(l);this.parent.insertBefore(h,d)},a.prototype.insertInto=function(l,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var c=null;l.children.insertBefore(this,u),u!=null&&(c=u.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=c)&&l.domNode.insertBefore(this.domNode,c),this.parent=l,this.attach()},a.prototype.isolate=function(l,u){var c=this.split(l);return c.split(u),c},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,u){var c=typeof l=="string"?o.create(l,u):l;return c.replace(this),c},a.prototype.split=function(l,u){return l===0?this:this.next},a.prototype.update=function(l,u){},a.prototype.wrap=function(l,u){var c=typeof l=="string"?o.create(l,u):l;return this.parent!=null&&this.parent.insertBefore(c,this.next),c.appendChild(this),c},a.blotName="abstract",a}();i.default=s},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var o=r(12),s=r(32),a=r(33),l=r(1),u=function(){function c(h){this.attributes={},this.domNode=h,this.build()}return c.prototype.attribute=function(h,d){d?h.add(this.domNode,d)&&(h.value(this.domNode)!=null?this.attributes[h.attrName]=h:delete this.attributes[h.attrName]):(h.remove(this.domNode),delete this.attributes[h.attrName])},c.prototype.build=function(){var h=this;this.attributes={};var d=o.default.keys(this.domNode),f=s.default.keys(this.domNode),y=a.default.keys(this.domNode);d.concat(f).concat(y).forEach(function(m){var v=l.query(m,l.Scope.ATTRIBUTE);v instanceof o.default&&(h.attributes[v.attrName]=v)})},c.prototype.copy=function(h){var d=this;Object.keys(this.attributes).forEach(function(f){var y=d.attributes[f].value(d.domNode);h.format(f,y)})},c.prototype.move=function(h){var d=this;this.copy(h),Object.keys(this.attributes).forEach(function(f){d.attributes[f].remove(d.domNode)}),this.attributes={}},c.prototype.values=function(){var h=this;return Object.keys(this.attributes).reduce(function(d,f){return d[f]=h.attributes[f].value(h.domNode),d},{})},c}();i.default=u},function(n,i,r){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var d in h)h.hasOwnProperty(d)&&(c[d]=h[d])};return function(c,h){u(c,h);function d(){this.constructor=c}c.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(i,"__esModule",{value:!0});var s=r(12);function a(u,c){var h=u.getAttribute("class")||"";return h.split(/\s+/).filter(function(d){return d.indexOf(c+"-")===0})}var l=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(h){return(h.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},c.prototype.add=function(h,d){return this.canAdd(h,d)?(this.remove(h),h.classList.add(this.keyName+"-"+d),!0):!1},c.prototype.remove=function(h){var d=a(h,this.keyName);d.forEach(function(f){h.classList.remove(f)}),h.classList.length===0&&h.removeAttribute("class")},c.prototype.value=function(h){var d=a(h,this.keyName)[0]||"",f=d.slice(this.keyName.length+1);return this.canAdd(h,f)?f:""},c}(s.default);i.default=l},function(n,i,r){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var d in h)h.hasOwnProperty(d)&&(c[d]=h[d])};return function(c,h){u(c,h);function d(){this.constructor=c}c.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(i,"__esModule",{value:!0});var s=r(12);function a(u){var c=u.split("-"),h=c.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return c[0]+h}var l=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(h){return(h.getAttribute("style")||"").split(";").map(function(d){var f=d.split(":");return f[0].trim()})},c.prototype.add=function(h,d){return this.canAdd(h,d)?(h.style[a(this.keyName)]=d,!0):!1},c.prototype.remove=function(h){h.style[a(this.keyName)]="",h.getAttribute("style")||h.removeAttribute("style")},c.prototype.value=function(h){var d=h.style[a(this.keyName)];return this.canAdd(h,d)?d:""},c}(s.default);i.default=l},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function l(u,c){for(var h=0;h<c.length;h++){var d=c[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,c,h){return c&&l(u.prototype,c),h&&l(u,h),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,c){s(this,l),this.quill=u,this.options=c,this.modules={}}return o(l,[{key:"init",value:function(){var c=this;Object.keys(this.options.modules).forEach(function(h){c.modules[h]==null&&c.addModule(h)})}},{key:"addModule",value:function(c){var h=this.quill.constructor.import("modules/"+c);return this.modules[c]=new h(this.quill,this.options.modules[c]||{}),this.modules[c]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},i.default=a},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function g(p,_){for(var x=0;x<_.length;x++){var T=_[x];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(p,T.key,T)}}return function(p,_,x){return _&&g(p.prototype,_),x&&g(p,x),p}}(),s=function g(p,_,x){p===null&&(p=Function.prototype);var T=Object.getOwnPropertyDescriptor(p,_);if(T===void 0){var A=Object.getPrototypeOf(p);return A===null?void 0:g(A,_,x)}else{if("value"in T)return T.value;var E=T.get;return E===void 0?void 0:E.call(x)}},a=r(0),l=h(a),u=r(7),c=h(u);function h(g){return g&&g.__esModule?g:{default:g}}function d(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}function f(g,p){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:g}function y(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(g,p):g.__proto__=p)}var m="\uFEFF",v=function(g){y(p,g);function p(_){d(this,p);var x=f(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,_));return x.contentNode=document.createElement("span"),x.contentNode.setAttribute("contenteditable",!1),[].slice.call(x.domNode.childNodes).forEach(function(T){x.contentNode.appendChild(T)}),x.leftGuard=document.createTextNode(m),x.rightGuard=document.createTextNode(m),x.domNode.appendChild(x.leftGuard),x.domNode.appendChild(x.contentNode),x.domNode.appendChild(x.rightGuard),x}return o(p,[{key:"index",value:function(x,T){return x===this.leftGuard?0:x===this.rightGuard?1:s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"index",this).call(this,x,T)}},{key:"restore",value:function(x){var T=void 0,A=void 0,E=x.data.split(m).join("");if(x===this.leftGuard)if(this.prev instanceof c.default){var k=this.prev.length();this.prev.insertAt(k,E),T={startNode:this.prev.domNode,startOffset:k+E.length}}else A=document.createTextNode(E),this.parent.insertBefore(l.default.create(A),this),T={startNode:A,startOffset:E.length};else x===this.rightGuard&&(this.next instanceof c.default?(this.next.insertAt(0,E),T={startNode:this.next.domNode,startOffset:E.length}):(A=document.createTextNode(E),this.parent.insertBefore(l.default.create(A),this.next),T={startNode:A,startOffset:E.length}));return x.data=m,T}},{key:"update",value:function(x,T){var A=this;x.forEach(function(E){if(E.type==="characterData"&&(E.target===A.leftGuard||E.target===A.rightGuard)){var k=A.restore(E.target);k&&(T.range=k)}})}}]),p}(l.default.Embed);i.default=v},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.AlignStyle=i.AlignClass=i.AlignAttribute=void 0;var o=r(0),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}var l={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new s.default.Attributor.Attribute("align","align",l),c=new s.default.Attributor.Class("align","ql-align",l),h=new s.default.Attributor.Style("align","text-align",l);i.AlignAttribute=u,i.AlignClass=c,i.AlignStyle=h},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.BackgroundStyle=i.BackgroundClass=void 0;var o=r(0),s=l(o),a=r(26);function l(h){return h&&h.__esModule?h:{default:h}}var u=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),c=new a.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});i.BackgroundClass=u,i.BackgroundStyle=c},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.DirectionStyle=i.DirectionClass=i.DirectionAttribute=void 0;var o=r(0),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}var l={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},u=new s.default.Attributor.Attribute("direction","dir",l),c=new s.default.Attributor.Class("direction","ql-direction",l),h=new s.default.Attributor.Style("direction","direction",l);i.DirectionAttribute=u,i.DirectionClass=c,i.DirectionStyle=h},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.FontClass=i.FontStyle=void 0;var o=function(){function g(p,_){for(var x=0;x<_.length;x++){var T=_[x];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(p,T.key,T)}}return function(p,_,x){return _&&g(p.prototype,_),x&&g(p,x),p}}(),s=function g(p,_,x){p===null&&(p=Function.prototype);var T=Object.getOwnPropertyDescriptor(p,_);if(T===void 0){var A=Object.getPrototypeOf(p);return A===null?void 0:g(A,_,x)}else{if("value"in T)return T.value;var E=T.get;return E===void 0?void 0:E.call(x)}},a=r(0),l=u(a);function u(g){return g&&g.__esModule?g:{default:g}}function c(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}function h(g,p){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:g}function d(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(g,p):g.__proto__=p)}var f={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},y=new l.default.Attributor.Class("font","ql-font",f),m=function(g){d(p,g);function p(){return c(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"value",value:function(x){return s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,x).replace(/["']/g,"")}}]),p}(l.default.Attributor.Style),v=new m("font","font-family",f);i.FontStyle=v,i.FontClass=y},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.SizeStyle=i.SizeClass=void 0;var o=r(0),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}var l=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});i.SizeClass=l,i.SizeStyle=u},function(n,i,r){n.exports={align:{"":r(76),center:r(77),right:r(78),justify:r(79)},background:r(80),blockquote:r(81),bold:r(82),clean:r(83),code:r(58),"code-block":r(58),color:r(84),direction:{"":r(85),rtl:r(86)},float:{center:r(87),full:r(88),left:r(89),right:r(90)},formula:r(91),header:{1:r(92),2:r(93)},italic:r(94),image:r(95),indent:{"+1":r(96),"-1":r(97)},link:r(98),list:{ordered:r(99),bullet:r(100),check:r(101)},script:{sub:r(102),super:r(103)},strike:r(104),underline:r(105),video:r(106)}},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.getLastChangeIndex=i.default=void 0;var o=function(){function _(x,T){for(var A=0;A<T.length;A++){var E=T[A];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(x,E.key,E)}}return function(x,T,A){return T&&_(x.prototype,T),A&&_(x,A),x}}(),s=r(0),a=d(s),l=r(5),u=d(l),c=r(9),h=d(c);function d(_){return _&&_.__esModule?_:{default:_}}function f(_,x){if(!(_ instanceof x))throw new TypeError("Cannot call a class as a function")}function y(_,x){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:_}function m(_,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);_.prototype=Object.create(x&&x.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(_,x):_.__proto__=x)}var v=function(_){m(x,_);function x(T,A){f(this,x);var E=y(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,T,A));return E.lastRecorded=0,E.ignoreChange=!1,E.clear(),E.quill.on(u.default.events.EDITOR_CHANGE,function(k,U,N,I){k!==u.default.events.TEXT_CHANGE||E.ignoreChange||(!E.options.userOnly||I===u.default.sources.USER?E.record(U,N):E.transform(U))}),E.quill.keyboard.addBinding({key:"Z",shortKey:!0},E.undo.bind(E)),E.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},E.redo.bind(E)),/Win/i.test(navigator.platform)&&E.quill.keyboard.addBinding({key:"Y",shortKey:!0},E.redo.bind(E)),E}return o(x,[{key:"change",value:function(A,E){if(this.stack[A].length!==0){var k=this.stack[A].pop();this.stack[E].push(k),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(k[A],u.default.sources.USER),this.ignoreChange=!1;var U=p(k[A]);this.quill.setSelection(U)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(A,E){if(A.ops.length!==0){this.stack.redo=[];var k=this.quill.getContents().diff(E),U=Date.now();if(this.lastRecorded+this.options.delay>U&&this.stack.undo.length>0){var N=this.stack.undo.pop();k=k.compose(N.undo),A=N.redo.compose(A)}else this.lastRecorded=U;this.stack.undo.push({redo:A,undo:k}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(A){this.stack.undo.forEach(function(E){E.undo=A.transform(E.undo,!0),E.redo=A.transform(E.redo,!0)}),this.stack.redo.forEach(function(E){E.undo=A.transform(E.undo,!0),E.redo=A.transform(E.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),x}(h.default);v.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function g(_){var x=_.ops[_.ops.length-1];return x==null?!1:x.insert!=null?typeof x.insert=="string"&&x.insert.endsWith(`
`):x.attributes!=null?Object.keys(x.attributes).some(function(T){return a.default.query(T,a.default.Scope.BLOCK)!=null}):!1}function p(_){var x=_.reduce(function(A,E){return A+=E.delete||0,A},0),T=_.length()-x;return g(_)&&(T-=1),T}i.default=v,i.getLastChangeIndex=p},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BaseTooltip=void 0;var o=function(){function O(W,J){for(var K=0;K<J.length;K++){var G=J[K];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(W,G.key,G)}}return function(W,J,K){return J&&O(W.prototype,J),K&&O(W,K),W}}(),s=function O(W,J,K){W===null&&(W=Function.prototype);var G=Object.getOwnPropertyDescriptor(W,J);if(G===void 0){var Z=Object.getPrototypeOf(W);return Z===null?void 0:O(Z,J,K)}else{if("value"in G)return G.value;var re=G.get;return re===void 0?void 0:re.call(K)}},a=r(3),l=U(a),u=r(2),c=U(u),h=r(8),d=U(h),f=r(23),y=U(f),m=r(34),v=U(m),g=r(59),p=U(g),_=r(60),x=U(_),T=r(28),A=U(T),E=r(61),k=U(E);function U(O){return O&&O.__esModule?O:{default:O}}function N(O,W){if(!(O instanceof W))throw new TypeError("Cannot call a class as a function")}function I(O,W){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W&&(typeof W=="object"||typeof W=="function")?W:O}function S(O,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof W);O.prototype=Object.create(W&&W.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(O,W):O.__proto__=W)}var L=[!1,"center","right","justify"],D=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],$=[!1,"serif","monospace"],R=["1","2","3",!1],P=["small",!1,"large","huge"],z=function(O){S(W,O);function W(J,K){N(this,W);var G=I(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,J,K)),Z=function re(ae){if(!document.body.contains(J.root))return document.body.removeEventListener("click",re);G.tooltip!=null&&!G.tooltip.root.contains(ae.target)&&document.activeElement!==G.tooltip.textbox&&!G.quill.hasFocus()&&G.tooltip.hide(),G.pickers!=null&&G.pickers.forEach(function(ge){ge.container.contains(ae.target)||ge.close()})};return J.emitter.listenDOM("click",document.body,Z),G}return o(W,[{key:"addModule",value:function(K){var G=s(W.prototype.__proto__||Object.getPrototypeOf(W.prototype),"addModule",this).call(this,K);return K==="toolbar"&&this.extendToolbar(G),G}},{key:"buildButtons",value:function(K,G){K.forEach(function(Z){var re=Z.getAttribute("class")||"";re.split(/\s+/).forEach(function(ae){if(ae.startsWith("ql-")&&(ae=ae.slice(3),G[ae]!=null))if(ae==="direction")Z.innerHTML=G[ae][""]+G[ae].rtl;else if(typeof G[ae]=="string")Z.innerHTML=G[ae];else{var ge=Z.value||"";ge!=null&&G[ae][ge]&&(Z.innerHTML=G[ae][ge])}})})}},{key:"buildPickers",value:function(K,G){var Z=this;this.pickers=K.map(function(ae){if(ae.classList.contains("ql-align"))return ae.querySelector("option")==null&&F(ae,L),new x.default(ae,G.align);if(ae.classList.contains("ql-background")||ae.classList.contains("ql-color")){var ge=ae.classList.contains("ql-background")?"background":"color";return ae.querySelector("option")==null&&F(ae,D,ge==="background"?"#ffffff":"#000000"),new p.default(ae,G[ge])}else return ae.querySelector("option")==null&&(ae.classList.contains("ql-font")?F(ae,$):ae.classList.contains("ql-header")?F(ae,R):ae.classList.contains("ql-size")&&F(ae,P)),new A.default(ae)});var re=function(){Z.pickers.forEach(function(ge){ge.update()})};this.quill.on(d.default.events.EDITOR_CHANGE,re)}}]),W}(v.default);z.DEFAULTS=(0,l.default)(!0,{},v.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var W=this,J=this.container.querySelector("input.ql-image[type=file]");J==null&&(J=document.createElement("input"),J.setAttribute("type","file"),J.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),J.classList.add("ql-image"),J.addEventListener("change",function(){if(J.files!=null&&J.files[0]!=null){var K=new FileReader;K.onload=function(G){var Z=W.quill.getSelection(!0);W.quill.updateContents(new c.default().retain(Z.index).delete(Z.length).insert({image:G.target.result}),d.default.sources.USER),W.quill.setSelection(Z.index+1,d.default.sources.SILENT),J.value=""},K.readAsDataURL(J.files[0])}}),this.container.appendChild(J)),J.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var M=function(O){S(W,O);function W(J,K){N(this,W);var G=I(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,J,K));return G.textbox=G.root.querySelector('input[type="text"]'),G.listen(),G}return o(W,[{key:"listen",value:function(){var K=this;this.textbox.addEventListener("keydown",function(G){y.default.match(G,"enter")?(K.save(),G.preventDefault()):y.default.match(G,"escape")&&(K.cancel(),G.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),G!=null?this.textbox.value=G:K!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+K)||""),this.root.setAttribute("data-mode",K)}},{key:"restoreFocus",value:function(){var K=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=K}},{key:"save",value:function(){var K=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var G=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",K,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",K,d.default.sources.USER)),this.quill.root.scrollTop=G;break}case"video":K=q(K);case"formula":{if(!K)break;var Z=this.quill.getSelection(!0);if(Z!=null){var re=Z.index+Z.length;this.quill.insertEmbed(re,this.root.getAttribute("data-mode"),K,d.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(re+1," ",d.default.sources.USER),this.quill.setSelection(re+2,d.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),W}(k.default);function q(O){var W=O.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||O.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return W?(W[1]||"https")+"://www.youtube.com/embed/"+W[2]+"?showinfo=0":(W=O.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(W[1]||"https")+"://player.vimeo.com/video/"+W[2]+"/":O}function F(O,W){var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;W.forEach(function(K){var G=document.createElement("option");K===J?G.setAttribute("selected","selected"):G.setAttribute("value",K),O.appendChild(G)})}i.BaseTooltip=M,i.default=z},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},s.prototype.contains=function(a){for(var l,u=this.iterator();l=u();)if(l===a)return!0;return!1},s.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},s.prototype.offset=function(a){for(var l=0,u=this.head;u!=null;){if(u===a)return l;l+=u.length(),u=u.next}return-1},s.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},s.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},s.prototype.find=function(a,l){l===void 0&&(l=!1);for(var u,c=this.iterator();u=c();){var h=u.length();if(a<h||l&&a===h&&(u.next==null||u.next.length()!==0))return[u,a];a-=h}return[null,0]},s.prototype.forEach=function(a){for(var l,u=this.iterator();l=u();)a(l)},s.prototype.forEachAt=function(a,l,u){if(!(l<=0))for(var c=this.find(a),h=c[0],d=c[1],f,y=a-d,m=this.iterator(h);(f=m())&&y<a+l;){var v=f.length();a>y?u(f,a-y,Math.min(l,y+v-a)):u(f,0,Math.min(v,a+l-y)),y+=v}},s.prototype.map=function(a){return this.reduce(function(l,u){return l.push(a(u)),l},[])},s.prototype.reduce=function(a,l){for(var u,c=this.iterator();u=c();)l=a(l,u);return l},s}();i.default=o},function(n,i,r){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var y in f)f.hasOwnProperty(y)&&(d[y]=f[y])};return function(d,f){h(d,f);function y(){this.constructor=d}d.prototype=f===null?Object.create(f):(y.prototype=f.prototype,new y)}}();Object.defineProperty(i,"__esModule",{value:!0});var s=r(17),a=r(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,c=function(h){o(d,h);function d(f){var y=h.call(this,f)||this;return y.scroll=y,y.observer=new MutationObserver(function(m){y.update(m)}),y.observer.observe(y.domNode,l),y.attach(),y}return d.prototype.detach=function(){h.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(f,y){this.update(),f===0&&y===this.length()?this.children.forEach(function(m){m.remove()}):h.prototype.deleteAt.call(this,f,y)},d.prototype.formatAt=function(f,y,m,v){this.update(),h.prototype.formatAt.call(this,f,y,m,v)},d.prototype.insertAt=function(f,y,m){this.update(),h.prototype.insertAt.call(this,f,y,m)},d.prototype.optimize=function(f,y){var m=this;f===void 0&&(f=[]),y===void 0&&(y={}),h.prototype.optimize.call(this,y);for(var v=[].slice.call(this.observer.takeRecords());v.length>0;)f.push(v.pop());for(var g=function(T,A){A===void 0&&(A=!0),!(T==null||T===m)&&T.domNode.parentNode!=null&&(T.domNode[a.DATA_KEY].mutations==null&&(T.domNode[a.DATA_KEY].mutations=[]),A&&g(T.parent))},p=function(T){T.domNode[a.DATA_KEY]==null||T.domNode[a.DATA_KEY].mutations==null||(T instanceof s.default&&T.children.forEach(p),T.optimize(y))},_=f,x=0;_.length>0;x+=1){if(x>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(_.forEach(function(T){var A=a.find(T.target,!0);A!=null&&(A.domNode===T.target&&(T.type==="childList"?(g(a.find(T.previousSibling,!1)),[].forEach.call(T.addedNodes,function(E){var k=a.find(E,!1);g(k,!1),k instanceof s.default&&k.children.forEach(function(U){g(U,!1)})})):T.type==="attributes"&&g(A.prev)),g(A))}),this.children.forEach(p),_=[].slice.call(this.observer.takeRecords()),v=_.slice();v.length>0;)f.push(v.pop())}},d.prototype.update=function(f,y){var m=this;y===void 0&&(y={}),f=f||this.observer.takeRecords(),f.map(function(v){var g=a.find(v.target,!0);return g==null?null:g.domNode[a.DATA_KEY].mutations==null?(g.domNode[a.DATA_KEY].mutations=[v],g):(g.domNode[a.DATA_KEY].mutations.push(v),null)}).forEach(function(v){v==null||v===m||v.domNode[a.DATA_KEY]==null||v.update(v.domNode[a.DATA_KEY].mutations||[],y)}),this.domNode[a.DATA_KEY].mutations!=null&&h.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,y),this.optimize(f,y)},d.blotName="scroll",d.defaultChild="block",d.scope=a.Scope.BLOCK_BLOT,d.tagName="DIV",d}(s.default);i.default=c},function(n,i,r){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var f in d)d.hasOwnProperty(f)&&(h[f]=d[f])};return function(h,d){c(h,d);function f(){this.constructor=h}h.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(i,"__esModule",{value:!0});var s=r(18),a=r(1);function l(c,h){if(Object.keys(c).length!==Object.keys(h).length)return!1;for(var d in c)if(c[d]!==h[d])return!1;return!0}var u=function(c){o(h,c);function h(){return c!==null&&c.apply(this,arguments)||this}return h.formats=function(d){if(d.tagName!==h.tagName)return c.formats.call(this,d)},h.prototype.format=function(d,f){var y=this;d===this.statics.blotName&&!f?(this.children.forEach(function(m){m instanceof s.default||(m=m.wrap(h.blotName,!0)),y.attributes.copy(m)}),this.unwrap()):c.prototype.format.call(this,d,f)},h.prototype.formatAt=function(d,f,y,m){if(this.formats()[y]!=null||a.query(y,a.Scope.ATTRIBUTE)){var v=this.isolate(d,f);v.format(y,m)}else c.prototype.formatAt.call(this,d,f,y,m)},h.prototype.optimize=function(d){c.prototype.optimize.call(this,d);var f=this.formats();if(Object.keys(f).length===0)return this.unwrap();var y=this.next;y instanceof h&&y.prev===this&&l(f,y.formats())&&(y.moveChildren(this),y.remove())},h.blotName="inline",h.scope=a.Scope.INLINE_BLOT,h.tagName="SPAN",h}(s.default);i.default=u},function(n,i,r){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var d in h)h.hasOwnProperty(d)&&(c[d]=h[d])};return function(c,h){u(c,h);function d(){this.constructor=c}c.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(i,"__esModule",{value:!0});var s=r(18),a=r(1),l=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.formats=function(h){var d=a.query(c.blotName).tagName;if(h.tagName!==d)return u.formats.call(this,h)},c.prototype.format=function(h,d){a.query(h,a.Scope.BLOCK)!=null&&(h===this.statics.blotName&&!d?this.replaceWith(c.blotName):u.prototype.format.call(this,h,d))},c.prototype.formatAt=function(h,d,f,y){a.query(f,a.Scope.BLOCK)!=null?this.format(f,y):u.prototype.formatAt.call(this,h,d,f,y)},c.prototype.insertAt=function(h,d,f){if(f==null||a.query(d,a.Scope.INLINE)!=null)u.prototype.insertAt.call(this,h,d,f);else{var y=this.split(h),m=a.create(d,f);y.parent.insertBefore(m,y)}},c.prototype.update=function(h,d){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,h,d)},c.blotName="block",c.scope=a.Scope.BLOCK_BLOT,c.tagName="P",c}(s.default);i.default=l},function(n,i,r){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var h in c)c.hasOwnProperty(h)&&(u[h]=c[h])};return function(u,c){l(u,c);function h(){this.constructor=u}u.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}();Object.defineProperty(i,"__esModule",{value:!0});var s=r(19),a=function(l){o(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.formats=function(c){},u.prototype.format=function(c,h){l.prototype.formatAt.call(this,0,this.length(),c,h)},u.prototype.formatAt=function(c,h,d,f){c===0&&h===this.length()?this.format(d,f):l.prototype.formatAt.call(this,c,h,d,f)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(s.default);i.default=a},function(n,i,r){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var d in h)h.hasOwnProperty(d)&&(c[d]=h[d])};return function(c,h){u(c,h);function d(){this.constructor=c}c.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(i,"__esModule",{value:!0});var s=r(19),a=r(1),l=function(u){o(c,u);function c(h){var d=u.call(this,h)||this;return d.text=d.statics.value(d.domNode),d}return c.create=function(h){return document.createTextNode(h)},c.value=function(h){var d=h.data;return d.normalize&&(d=d.normalize()),d},c.prototype.deleteAt=function(h,d){this.domNode.data=this.text=this.text.slice(0,h)+this.text.slice(h+d)},c.prototype.index=function(h,d){return this.domNode===h?d:-1},c.prototype.insertAt=function(h,d,f){f==null?(this.text=this.text.slice(0,h)+d+this.text.slice(h),this.domNode.data=this.text):u.prototype.insertAt.call(this,h,d,f)},c.prototype.length=function(){return this.text.length},c.prototype.optimize=function(h){u.prototype.optimize.call(this,h),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof c&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},c.prototype.position=function(h,d){return[this.domNode,h]},c.prototype.split=function(h,d){if(d===void 0&&(d=!1),!d){if(h===0)return this;if(h===this.length())return this.next}var f=a.create(this.domNode.splitText(h));return this.parent.insertBefore(f,this.next),this.text=this.statics.value(this.domNode),f},c.prototype.update=function(h,d){var f=this;h.some(function(y){return y.type==="characterData"&&y.target===f.domNode})&&(this.text=this.statics.value(this.domNode))},c.prototype.value=function(){return this.text},c.blotName="text",c.scope=a.Scope.INLINE_BLOT,c}(s.default);i.default=l},function(n,i,r){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:s.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var u=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>u.length)&&(l=u.length),l-=a.length;var c=u.indexOf(a,l);return c!==-1&&c===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),c=u.length>>>0,h=arguments[1],d,f=0;f<c;f++)if(d=u[f],l.call(h,d,f,u))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,i){var r=-1,o=1,s=0;function a(x,T,A){if(x==T)return x?[[s,x]]:[];(A<0||x.length<A)&&(A=null);var E=h(x,T),k=x.substring(0,E);x=x.substring(E),T=T.substring(E),E=d(x,T);var U=x.substring(x.length-E);x=x.substring(0,x.length-E),T=T.substring(0,T.length-E);var N=l(x,T);return k&&N.unshift([s,k]),U&&N.push([s,U]),y(N),A!=null&&(N=g(N,A)),N=p(N),N}function l(x,T){var A;if(!x)return[[o,T]];if(!T)return[[r,x]];var E=x.length>T.length?x:T,k=x.length>T.length?T:x,U=E.indexOf(k);if(U!=-1)return A=[[o,E.substring(0,U)],[s,k],[o,E.substring(U+k.length)]],x.length>T.length&&(A[0][0]=A[2][0]=r),A;if(k.length==1)return[[r,x],[o,T]];var N=f(x,T);if(N){var I=N[0],S=N[1],L=N[2],D=N[3],$=N[4],R=a(I,L),P=a(S,D);return R.concat([[s,$]],P)}return u(x,T)}function u(x,T){for(var A=x.length,E=T.length,k=Math.ceil((A+E)/2),U=k,N=2*k,I=new Array(N),S=new Array(N),L=0;L<N;L++)I[L]=-1,S[L]=-1;I[U+1]=0,S[U+1]=0;for(var D=A-E,$=D%2!=0,R=0,P=0,z=0,M=0,q=0;q<k;q++){for(var F=-q+R;F<=q-P;F+=2){var O=U+F,W;F==-q||F!=q&&I[O-1]<I[O+1]?W=I[O+1]:W=I[O-1]+1;for(var J=W-F;W<A&&J<E&&x.charAt(W)==T.charAt(J);)W++,J++;if(I[O]=W,W>A)P+=2;else if(J>E)R+=2;else if($){var K=U+D-F;if(K>=0&&K<N&&S[K]!=-1){var G=A-S[K];if(W>=G)return c(x,T,W,J)}}}for(var Z=-q+z;Z<=q-M;Z+=2){var K=U+Z,G;Z==-q||Z!=q&&S[K-1]<S[K+1]?G=S[K+1]:G=S[K-1]+1;for(var re=G-Z;G<A&&re<E&&x.charAt(A-G-1)==T.charAt(E-re-1);)G++,re++;if(S[K]=G,G>A)M+=2;else if(re>E)z+=2;else if(!$){var O=U+D-Z;if(O>=0&&O<N&&I[O]!=-1){var W=I[O],J=U+W-O;if(G=A-G,W>=G)return c(x,T,W,J)}}}}return[[r,x],[o,T]]}function c(x,T,A,E){var k=x.substring(0,A),U=T.substring(0,E),N=x.substring(A),I=T.substring(E),S=a(k,U),L=a(N,I);return S.concat(L)}function h(x,T){if(!x||!T||x.charAt(0)!=T.charAt(0))return 0;for(var A=0,E=Math.min(x.length,T.length),k=E,U=0;A<k;)x.substring(U,k)==T.substring(U,k)?(A=k,U=A):E=k,k=Math.floor((E-A)/2+A);return k}function d(x,T){if(!x||!T||x.charAt(x.length-1)!=T.charAt(T.length-1))return 0;for(var A=0,E=Math.min(x.length,T.length),k=E,U=0;A<k;)x.substring(x.length-k,x.length-U)==T.substring(T.length-k,T.length-U)?(A=k,U=A):E=k,k=Math.floor((E-A)/2+A);return k}function f(x,T){var A=x.length>T.length?x:T,E=x.length>T.length?T:x;if(A.length<4||E.length*2<A.length)return null;function k(P,z,M){for(var q=P.substring(M,M+Math.floor(P.length/4)),F=-1,O="",W,J,K,G;(F=z.indexOf(q,F+1))!=-1;){var Z=h(P.substring(M),z.substring(F)),re=d(P.substring(0,M),z.substring(0,F));O.length<re+Z&&(O=z.substring(F-re,F)+z.substring(F,F+Z),W=P.substring(0,M-re),J=P.substring(M+Z),K=z.substring(0,F-re),G=z.substring(F+Z))}return O.length*2>=P.length?[W,J,K,G,O]:null}var U=k(A,E,Math.ceil(A.length/4)),N=k(A,E,Math.ceil(A.length/2)),I;if(!U&&!N)return null;N?U?I=U[4].length>N[4].length?U:N:I=N:I=U;var S,L,D,$;x.length>T.length?(S=I[0],L=I[1],D=I[2],$=I[3]):(D=I[0],$=I[1],S=I[2],L=I[3]);var R=I[4];return[S,L,D,$,R]}function y(x){x.push([s,""]);for(var T=0,A=0,E=0,k="",U="",N;T<x.length;)switch(x[T][0]){case o:E++,U+=x[T][1],T++;break;case r:A++,k+=x[T][1],T++;break;case s:A+E>1?(A!==0&&E!==0&&(N=h(U,k),N!==0&&(T-A-E>0&&x[T-A-E-1][0]==s?x[T-A-E-1][1]+=U.substring(0,N):(x.splice(0,0,[s,U.substring(0,N)]),T++),U=U.substring(N),k=k.substring(N)),N=d(U,k),N!==0&&(x[T][1]=U.substring(U.length-N)+x[T][1],U=U.substring(0,U.length-N),k=k.substring(0,k.length-N))),A===0?x.splice(T-E,A+E,[o,U]):E===0?x.splice(T-A,A+E,[r,k]):x.splice(T-A-E,A+E,[r,k],[o,U]),T=T-A-E+(A?1:0)+(E?1:0)+1):T!==0&&x[T-1][0]==s?(x[T-1][1]+=x[T][1],x.splice(T,1)):T++,E=0,A=0,k="",U="";break}x[x.length-1][1]===""&&x.pop();var I=!1;for(T=1;T<x.length-1;)x[T-1][0]==s&&x[T+1][0]==s&&(x[T][1].substring(x[T][1].length-x[T-1][1].length)==x[T-1][1]?(x[T][1]=x[T-1][1]+x[T][1].substring(0,x[T][1].length-x[T-1][1].length),x[T+1][1]=x[T-1][1]+x[T+1][1],x.splice(T-1,1),I=!0):x[T][1].substring(0,x[T+1][1].length)==x[T+1][1]&&(x[T-1][1]+=x[T+1][1],x[T][1]=x[T][1].substring(x[T+1][1].length)+x[T+1][1],x.splice(T+1,1),I=!0)),T++;I&&y(x)}var m=a;m.INSERT=o,m.DELETE=r,m.EQUAL=s,n.exports=m;function v(x,T){if(T===0)return[s,x];for(var A=0,E=0;E<x.length;E++){var k=x[E];if(k[0]===r||k[0]===s){var U=A+k[1].length;if(T===U)return[E+1,x];if(T<U){x=x.slice();var N=T-A,I=[k[0],k[1].slice(0,N)],S=[k[0],k[1].slice(N)];return x.splice(E,1,I,S),[E+1,x]}else A=U}}throw new Error("cursor_pos is out of bounds!")}function g(x,T){var A=v(x,T),E=A[1],k=A[0],U=E[k],N=E[k+1];if(U==null)return x;if(U[0]!==s)return x;if(N!=null&&U[1]+N[1]===N[1]+U[1])return E.splice(k,2,N,U),_(E,k,2);if(N!=null&&N[1].indexOf(U[1])===0){E.splice(k,2,[N[0],U[1]],[0,U[1]]);var I=N[1].slice(U[1].length);return I.length>0&&E.splice(k+2,0,[N[0],I]),_(E,k,3)}else return x}function p(x){for(var T=!1,A=function(N){return N.charCodeAt(0)>=56320&&N.charCodeAt(0)<=57343},E=function(N){return N.charCodeAt(N.length-1)>=55296&&N.charCodeAt(N.length-1)<=56319},k=2;k<x.length;k+=1)x[k-2][0]===s&&E(x[k-2][1])&&x[k-1][0]===r&&A(x[k-1][1])&&x[k][0]===o&&A(x[k][1])&&(T=!0,x[k-1][1]=x[k-2][1].slice(-1)+x[k-1][1],x[k][1]=x[k-2][1].slice(-1)+x[k][1],x[k-2][1]=x[k-2][1].slice(0,-1));if(!T)return x;for(var U=[],k=0;k<x.length;k+=1)x[k][1].length>0&&U.push(x[k]);return U}function _(x,T,A){for(var E=T+A-1;E>=0&&E>=T-1;E--)if(E+1<x.length){var k=x[E],U=x[E+1];k[0]===U[1]&&x.splice(E,2,[k[0],k[1]+U[1]])}return x}},function(n,i){i=n.exports=typeof Object.keys=="function"?Object.keys:r,i.shim=r;function r(o){var s=[];for(var a in o)s.push(a);return s}},function(n,i){var r=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";i=n.exports=r?o:s,i.supported=o;function o(a){return Object.prototype.toString.call(a)=="[object Arguments]"}i.unsupported=s;function s(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,i){var r=Object.prototype.hasOwnProperty,o="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(o=!1));function a(u,c,h){this.fn=u,this.context=c,this.once=h||!1}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],h,d;if(this._eventsCount===0)return c;for(d in h=this._events)r.call(h,d)&&c.push(o?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},l.prototype.listeners=function(c,h){var d=o?o+c:c,f=this._events[d];if(h)return!!f;if(!f)return[];if(f.fn)return[f.fn];for(var y=0,m=f.length,v=new Array(m);y<m;y++)v[y]=f[y].fn;return v},l.prototype.emit=function(c,h,d,f,y,m){var v=o?o+c:c;if(!this._events[v])return!1;var g=this._events[v],p=arguments.length,_,x;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),p){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,h),!0;case 3:return g.fn.call(g.context,h,d),!0;case 4:return g.fn.call(g.context,h,d,f),!0;case 5:return g.fn.call(g.context,h,d,f,y),!0;case 6:return g.fn.call(g.context,h,d,f,y,m),!0}for(x=1,_=new Array(p-1);x<p;x++)_[x-1]=arguments[x];g.fn.apply(g.context,_)}else{var T=g.length,A;for(x=0;x<T;x++)switch(g[x].once&&this.removeListener(c,g[x].fn,void 0,!0),p){case 1:g[x].fn.call(g[x].context);break;case 2:g[x].fn.call(g[x].context,h);break;case 3:g[x].fn.call(g[x].context,h,d);break;case 4:g[x].fn.call(g[x].context,h,d,f);break;default:if(!_)for(A=1,_=new Array(p-1);A<p;A++)_[A-1]=arguments[A];g[x].fn.apply(g[x].context,_)}}return!0},l.prototype.on=function(c,h,d){var f=new a(h,d||this),y=o?o+c:c;return this._events[y]?this._events[y].fn?this._events[y]=[this._events[y],f]:this._events[y].push(f):(this._events[y]=f,this._eventsCount++),this},l.prototype.once=function(c,h,d){var f=new a(h,d||this,!0),y=o?o+c:c;return this._events[y]?this._events[y].fn?this._events[y]=[this._events[y],f]:this._events[y].push(f):(this._events[y]=f,this._eventsCount++),this},l.prototype.removeListener=function(c,h,d,f){var y=o?o+c:c;if(!this._events[y])return this;if(!h)return--this._eventsCount===0?this._events=new s:delete this._events[y],this;var m=this._events[y];if(m.fn)m.fn===h&&(!f||m.once)&&(!d||m.context===d)&&(--this._eventsCount===0?this._events=new s:delete this._events[y]);else{for(var v=0,g=[],p=m.length;v<p;v++)(m[v].fn!==h||f&&!m[v].once||d&&m[v].context!==d)&&g.push(m[v]);g.length?this._events[y]=g.length===1?g[0]:g:--this._eventsCount===0?this._events=new s:delete this._events[y]}return this},l.prototype.removeAllListeners=function(c){var h;return c?(h=o?o+c:c,this._events[h]&&(--this._eventsCount===0?this._events=new s:delete this._events[h])):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=o,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.matchText=i.matchSpacing=i.matchNewline=i.matchBlot=i.matchAttributor=i.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},s=function(){function V(Q,ue){var he=[],ne=!0,te=!1,ie=void 0;try{for(var oe=Q[Symbol.iterator](),me;!(ne=(me=oe.next()).done)&&(he.push(me.value),!(ue&&he.length===ue));ne=!0);}catch(we){te=!0,ie=we}finally{try{!ne&&oe.return&&oe.return()}finally{if(te)throw ie}}return he}return function(Q,ue){if(Array.isArray(Q))return Q;if(Symbol.iterator in Object(Q))return V(Q,ue);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function V(Q,ue){for(var he=0;he<ue.length;he++){var ne=ue[he];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(Q,ne.key,ne)}}return function(Q,ue,he){return ue&&V(Q.prototype,ue),he&&V(Q,he),Q}}(),l=r(3),u=S(l),c=r(2),h=S(c),d=r(0),f=S(d),y=r(5),m=S(y),v=r(10),g=S(v),p=r(9),_=S(p),x=r(36),T=r(37),A=r(13),E=S(A),k=r(26),U=r(38),N=r(39),I=r(40);function S(V){return V&&V.__esModule?V:{default:V}}function L(V,Q,ue){return Q in V?Object.defineProperty(V,Q,{value:ue,enumerable:!0,configurable:!0,writable:!0}):V[Q]=ue,V}function D(V,Q){if(!(V instanceof Q))throw new TypeError("Cannot call a class as a function")}function $(V,Q){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q&&(typeof Q=="object"||typeof Q=="function")?Q:V}function R(V,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Q);V.prototype=Object.create(Q&&Q.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),Q&&(Object.setPrototypeOf?Object.setPrototypeOf(V,Q):V.__proto__=Q)}var P=(0,g.default)("quill:clipboard"),z="__ql-matcher",M=[[Node.TEXT_NODE,ee],[Node.TEXT_NODE,B],["br",ve],[Node.ELEMENT_NODE,B],[Node.ELEMENT_NODE,ge],[Node.ELEMENT_NODE,le],[Node.ELEMENT_NODE,ae],[Node.ELEMENT_NODE,de],["li",pe],["b",re.bind(re,"bold")],["i",re.bind(re,"italic")],["style",se]],q=[x.AlignAttribute,U.DirectionAttribute].reduce(function(V,Q){return V[Q.keyName]=Q,V},{}),F=[x.AlignStyle,T.BackgroundStyle,k.ColorStyle,U.DirectionStyle,N.FontStyle,I.SizeStyle].reduce(function(V,Q){return V[Q.keyName]=Q,V},{}),O=function(V){R(Q,V);function Q(ue,he){D(this,Q);var ne=$(this,(Q.__proto__||Object.getPrototypeOf(Q)).call(this,ue,he));return ne.quill.root.addEventListener("paste",ne.onPaste.bind(ne)),ne.container=ne.quill.addContainer("ql-clipboard"),ne.container.setAttribute("contenteditable",!0),ne.container.setAttribute("tabindex",-1),ne.matchers=[],M.concat(ne.options.matchers).forEach(function(te){var ie=s(te,2),oe=ie[0],me=ie[1];!he.matchVisual&&me===le||ne.addMatcher(oe,me)}),ne}return a(Q,[{key:"addMatcher",value:function(he,ne){this.matchers.push([he,ne])}},{key:"convert",value:function(he){if(typeof he=="string")return this.container.innerHTML=he.replace(/\>\r?\n +\</g,"><"),this.convert();var ne=this.quill.getFormat(this.quill.selection.savedRange.index);if(ne[E.default.blotName]){var te=this.container.innerText;return this.container.innerHTML="",new h.default().insert(te,L({},E.default.blotName,ne[E.default.blotName]))}var ie=this.prepareMatching(),oe=s(ie,2),me=oe[0],we=oe[1],Ee=Z(this.container,me,we);return K(Ee,`
`)&&Ee.ops[Ee.ops.length-1].attributes==null&&(Ee=Ee.compose(new h.default().retain(Ee.length()-1).delete(1))),P.log("convert",this.container.innerHTML,Ee),this.container.innerHTML="",Ee}},{key:"dangerouslyPasteHTML",value:function(he,ne){var te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;if(typeof he=="string")this.quill.setContents(this.convert(he),ne),this.quill.setSelection(0,m.default.sources.SILENT);else{var ie=this.convert(ne);this.quill.updateContents(new h.default().retain(he).concat(ie),te),this.quill.setSelection(he+ie.length(),m.default.sources.SILENT)}}},{key:"onPaste",value:function(he){var ne=this;if(!(he.defaultPrevented||!this.quill.isEnabled())){var te=this.quill.getSelection(),ie=new h.default().retain(te.index),oe=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(m.default.sources.SILENT),setTimeout(function(){ie=ie.concat(ne.convert()).delete(te.length),ne.quill.updateContents(ie,m.default.sources.USER),ne.quill.setSelection(ie.length()-te.length,m.default.sources.SILENT),ne.quill.scrollingContainer.scrollTop=oe,ne.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var he=this,ne=[],te=[];return this.matchers.forEach(function(ie){var oe=s(ie,2),me=oe[0],we=oe[1];switch(me){case Node.TEXT_NODE:te.push(we);break;case Node.ELEMENT_NODE:ne.push(we);break;default:[].forEach.call(he.container.querySelectorAll(me),function(Ee){Ee[z]=Ee[z]||[],Ee[z].push(we)});break}}),[ne,te]}}]),Q}(_.default);O.DEFAULTS={matchers:[],matchVisual:!0};function W(V,Q,ue){return(typeof Q>"u"?"undefined":o(Q))==="object"?Object.keys(Q).reduce(function(he,ne){return W(he,ne,Q[ne])},V):V.reduce(function(he,ne){return ne.attributes&&ne.attributes[Q]?he.push(ne):he.insert(ne.insert,(0,u.default)({},L({},Q,ue),ne.attributes))},new h.default)}function J(V){if(V.nodeType!==Node.ELEMENT_NODE)return{};var Q="__ql-computed-style";return V[Q]||(V[Q]=window.getComputedStyle(V))}function K(V,Q){for(var ue="",he=V.ops.length-1;he>=0&&ue.length<Q.length;--he){var ne=V.ops[he];if(typeof ne.insert!="string")break;ue=ne.insert+ue}return ue.slice(-1*Q.length)===Q}function G(V){if(V.childNodes.length===0)return!1;var Q=J(V);return["block","list-item"].indexOf(Q.display)>-1}function Z(V,Q,ue){return V.nodeType===V.TEXT_NODE?ue.reduce(function(he,ne){return ne(V,he)},new h.default):V.nodeType===V.ELEMENT_NODE?[].reduce.call(V.childNodes||[],function(he,ne){var te=Z(ne,Q,ue);return ne.nodeType===V.ELEMENT_NODE&&(te=Q.reduce(function(ie,oe){return oe(ne,ie)},te),te=(ne[z]||[]).reduce(function(ie,oe){return oe(ne,ie)},te)),he.concat(te)},new h.default):new h.default}function re(V,Q,ue){return W(ue,V,!0)}function ae(V,Q){var ue=f.default.Attributor.Attribute.keys(V),he=f.default.Attributor.Class.keys(V),ne=f.default.Attributor.Style.keys(V),te={};return ue.concat(he).concat(ne).forEach(function(ie){var oe=f.default.query(ie,f.default.Scope.ATTRIBUTE);oe!=null&&(te[oe.attrName]=oe.value(V),te[oe.attrName])||(oe=q[ie],oe!=null&&(oe.attrName===ie||oe.keyName===ie)&&(te[oe.attrName]=oe.value(V)||void 0),oe=F[ie],oe!=null&&(oe.attrName===ie||oe.keyName===ie)&&(oe=F[ie],te[oe.attrName]=oe.value(V)||void 0))}),Object.keys(te).length>0&&(Q=W(Q,te)),Q}function ge(V,Q){var ue=f.default.query(V);if(ue==null)return Q;if(ue.prototype instanceof f.default.Embed){var he={},ne=ue.value(V);ne!=null&&(he[ue.blotName]=ne,Q=new h.default().insert(he,ue.formats(V)))}else typeof ue.formats=="function"&&(Q=W(Q,ue.blotName,ue.formats(V)));return Q}function ve(V,Q){return K(Q,`
`)||Q.insert(`
`),Q}function se(){return new h.default}function pe(V,Q){var ue=f.default.query(V);if(ue==null||ue.blotName!=="list-item"||!K(Q,`
`))return Q;for(var he=-1,ne=V.parentNode;!ne.classList.contains("ql-clipboard");)(f.default.query(ne)||{}).blotName==="list"&&(he+=1),ne=ne.parentNode;return he<=0?Q:Q.compose(new h.default().retain(Q.length()-1).retain(1,{indent:he}))}function B(V,Q){return K(Q,`
`)||(G(V)||Q.length()>0&&V.nextSibling&&G(V.nextSibling))&&Q.insert(`
`),Q}function le(V,Q){if(G(V)&&V.nextElementSibling!=null&&!K(Q,`

`)){var ue=V.offsetHeight+parseFloat(J(V).marginTop)+parseFloat(J(V).marginBottom);V.nextElementSibling.offsetTop>V.offsetTop+ue*1.5&&Q.insert(`
`)}return Q}function de(V,Q){var ue={},he=V.style||{};return he.fontStyle&&J(V).fontStyle==="italic"&&(ue.italic=!0),he.fontWeight&&(J(V).fontWeight.startsWith("bold")||parseInt(J(V).fontWeight)>=700)&&(ue.bold=!0),Object.keys(ue).length>0&&(Q=W(Q,ue)),parseFloat(he.textIndent||0)>0&&(Q=new h.default().insert("	").concat(Q)),Q}function ee(V,Q){var ue=V.data;if(V.parentNode.tagName==="O:P")return Q.insert(ue.trim());if(ue.trim().length===0&&V.parentNode.classList.contains("ql-clipboard"))return Q;if(!J(V.parentNode).whiteSpace.startsWith("pre")){var he=function(te,ie){return ie=ie.replace(/[^\u00a0]/g,""),ie.length<1&&te?" ":ie};ue=ue.replace(/\r\n/g," ").replace(/\n/g," "),ue=ue.replace(/\s\s+/g,he.bind(he,!0)),(V.previousSibling==null&&G(V.parentNode)||V.previousSibling!=null&&G(V.previousSibling))&&(ue=ue.replace(/^\s+/,he.bind(he,!1))),(V.nextSibling==null&&G(V.parentNode)||V.nextSibling!=null&&G(V.nextSibling))&&(ue=ue.replace(/\s+$/,he.bind(he,!1)))}return Q.insert(ue)}i.default=O,i.matchAttributor=ae,i.matchBlot=ge,i.matchNewline=B,i.matchSpacing=le,i.matchText=ee},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function y(m,v){for(var g=0;g<v.length;g++){var p=v[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,v,g){return v&&y(m.prototype,v),g&&y(m,g),m}}(),s=function y(m,v,g){m===null&&(m=Function.prototype);var p=Object.getOwnPropertyDescriptor(m,v);if(p===void 0){var _=Object.getPrototypeOf(m);return _===null?void 0:y(_,v,g)}else{if("value"in p)return p.value;var x=p.get;return x===void 0?void 0:x.call(g)}},a=r(6),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function h(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function d(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var f=function(y){d(m,y);function m(){return c(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"optimize",value:function(g){s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,g),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),m}(l.default);f.blotName="bold",f.tagName=["STRONG","B"],i.default=f},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.addControls=i.default=void 0;var o=function(){function I(S,L){var D=[],$=!0,R=!1,P=void 0;try{for(var z=S[Symbol.iterator](),M;!($=(M=z.next()).done)&&(D.push(M.value),!(L&&D.length===L));$=!0);}catch(q){R=!0,P=q}finally{try{!$&&z.return&&z.return()}finally{if(R)throw P}}return D}return function(S,L){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return I(S,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function I(S,L){for(var D=0;D<L.length;D++){var $=L[D];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(S,$.key,$)}}return function(S,L,D){return L&&I(S.prototype,L),D&&I(S,D),S}}(),a=r(2),l=g(a),u=r(0),c=g(u),h=r(5),d=g(h),f=r(10),y=g(f),m=r(9),v=g(m);function g(I){return I&&I.__esModule?I:{default:I}}function p(I,S,L){return S in I?Object.defineProperty(I,S,{value:L,enumerable:!0,configurable:!0,writable:!0}):I[S]=L,I}function _(I,S){if(!(I instanceof S))throw new TypeError("Cannot call a class as a function")}function x(I,S){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:I}function T(I,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);I.prototype=Object.create(S&&S.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(I,S):I.__proto__=S)}var A=(0,y.default)("quill:toolbar"),E=function(I){T(S,I);function S(L,D){_(this,S);var $=x(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,L,D));if(Array.isArray($.options.container)){var R=document.createElement("div");U(R,$.options.container),L.container.parentNode.insertBefore(R,L.container),$.container=R}else typeof $.options.container=="string"?$.container=document.querySelector($.options.container):$.container=$.options.container;if(!($.container instanceof HTMLElement)){var P;return P=A.error("Container required for toolbar",$.options),x($,P)}return $.container.classList.add("ql-toolbar"),$.controls=[],$.handlers={},Object.keys($.options.handlers).forEach(function(z){$.addHandler(z,$.options.handlers[z])}),[].forEach.call($.container.querySelectorAll("button, select"),function(z){$.attach(z)}),$.quill.on(d.default.events.EDITOR_CHANGE,function(z,M){z===d.default.events.SELECTION_CHANGE&&$.update(M)}),$.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var z=$.quill.selection.getRange(),M=o(z,1),q=M[0];$.update(q)}),$}return s(S,[{key:"addHandler",value:function(D,$){this.handlers[D]=$}},{key:"attach",value:function(D){var $=this,R=[].find.call(D.classList,function(z){return z.indexOf("ql-")===0});if(R){if(R=R.slice(3),D.tagName==="BUTTON"&&D.setAttribute("type","button"),this.handlers[R]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[R]==null){A.warn("ignoring attaching to disabled format",R,D);return}if(c.default.query(R)==null){A.warn("ignoring attaching to nonexistent format",R,D);return}}var P=D.tagName==="SELECT"?"change":"click";D.addEventListener(P,function(z){var M=void 0;if(D.tagName==="SELECT"){if(D.selectedIndex<0)return;var q=D.options[D.selectedIndex];q.hasAttribute("selected")?M=!1:M=q.value||!1}else D.classList.contains("ql-active")?M=!1:M=D.value||!D.hasAttribute("value"),z.preventDefault();$.quill.focus();var F=$.quill.selection.getRange(),O=o(F,1),W=O[0];if($.handlers[R]!=null)$.handlers[R].call($,M);else if(c.default.query(R).prototype instanceof c.default.Embed){if(M=prompt("Enter "+R),!M)return;$.quill.updateContents(new l.default().retain(W.index).delete(W.length).insert(p({},R,M)),d.default.sources.USER)}else $.quill.format(R,M,d.default.sources.USER);$.update(W)}),this.controls.push([R,D])}}},{key:"update",value:function(D){var $=D==null?{}:this.quill.getFormat(D);this.controls.forEach(function(R){var P=o(R,2),z=P[0],M=P[1];if(M.tagName==="SELECT"){var q=void 0;if(D==null)q=null;else if($[z]==null)q=M.querySelector("option[selected]");else if(!Array.isArray($[z])){var F=$[z];typeof F=="string"&&(F=F.replace(/\"/g,'\\"')),q=M.querySelector('option[value="'+F+'"]')}q==null?(M.value="",M.selectedIndex=-1):q.selected=!0}else if(D==null)M.classList.remove("ql-active");else if(M.hasAttribute("value")){var O=$[z]===M.getAttribute("value")||$[z]!=null&&$[z].toString()===M.getAttribute("value")||$[z]==null&&!M.getAttribute("value");M.classList.toggle("ql-active",O)}else M.classList.toggle("ql-active",$[z]!=null)})}}]),S}(v.default);E.DEFAULTS={};function k(I,S,L){var D=document.createElement("button");D.setAttribute("type","button"),D.classList.add("ql-"+S),L!=null&&(D.value=L),I.appendChild(D)}function U(I,S){Array.isArray(S[0])||(S=[S]),S.forEach(function(L){var D=document.createElement("span");D.classList.add("ql-formats"),L.forEach(function($){if(typeof $=="string")k(D,$);else{var R=Object.keys($)[0],P=$[R];Array.isArray(P)?N(D,R,P):k(D,R,P)}}),I.appendChild(D)})}function N(I,S,L){var D=document.createElement("select");D.classList.add("ql-"+S),L.forEach(function($){var R=document.createElement("option");$!==!1?R.setAttribute("value",$):R.setAttribute("selected","selected"),D.appendChild(R)}),I.appendChild(D)}E.DEFAULTS={container:null,handlers:{clean:function(){var S=this,L=this.quill.getSelection();if(L!=null)if(L.length==0){var D=this.quill.getFormat();Object.keys(D).forEach(function($){c.default.query($,c.default.Scope.INLINE)!=null&&S.quill.format($,!1)})}else this.quill.removeFormat(L,d.default.sources.USER)},direction:function(S){var L=this.quill.getFormat().align;S==="rtl"&&L==null?this.quill.format("align","right",d.default.sources.USER):!S&&L==="right"&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",S,d.default.sources.USER)},indent:function(S){var L=this.quill.getSelection(),D=this.quill.getFormat(L),$=parseInt(D.indent||0);if(S==="+1"||S==="-1"){var R=S==="+1"?1:-1;D.direction==="rtl"&&(R*=-1),this.quill.format("indent",$+R,d.default.sources.USER)}},link:function(S){S===!0&&(S=prompt("Enter link URL:")),this.quill.format("link",S,d.default.sources.USER)},list:function(S){var L=this.quill.getSelection(),D=this.quill.getFormat(L);S==="check"?D.list==="checked"||D.list==="unchecked"?this.quill.format("list",!1,d.default.sources.USER):this.quill.format("list","unchecked",d.default.sources.USER):this.quill.format("list",S,d.default.sources.USER)}}},i.default=E,i.addControls=U},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function y(m,v){for(var g=0;g<v.length;g++){var p=v[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,v,g){return v&&y(m.prototype,v),g&&y(m,g),m}}(),s=function y(m,v,g){m===null&&(m=Function.prototype);var p=Object.getOwnPropertyDescriptor(m,v);if(p===void 0){var _=Object.getPrototypeOf(m);return _===null?void 0:y(_,v,g)}else{if("value"in p)return p.value;var x=p.get;return x===void 0?void 0:x.call(g)}},a=r(28),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function h(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function d(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var f=function(y){d(m,y);function m(v,g){c(this,m);var p=h(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v));return p.label.innerHTML=g,p.container.classList.add("ql-color-picker"),[].slice.call(p.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(_){_.classList.add("ql-primary")}),p}return o(m,[{key:"buildItem",value:function(g){var p=s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"buildItem",this).call(this,g);return p.style.backgroundColor=g.getAttribute("value")||"",p}},{key:"selectItem",value:function(g,p){s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"selectItem",this).call(this,g,p);var _=this.label.querySelector(".ql-color-label"),x=g&&g.getAttribute("data-value")||"";_&&(_.tagName==="line"?_.style.stroke=x:_.style.fill=x)}}]),m}(l.default);i.default=f},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function y(m,v){for(var g=0;g<v.length;g++){var p=v[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,v,g){return v&&y(m.prototype,v),g&&y(m,g),m}}(),s=function y(m,v,g){m===null&&(m=Function.prototype);var p=Object.getOwnPropertyDescriptor(m,v);if(p===void 0){var _=Object.getPrototypeOf(m);return _===null?void 0:y(_,v,g)}else{if("value"in p)return p.value;var x=p.get;return x===void 0?void 0:x.call(g)}},a=r(28),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function h(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function d(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var f=function(y){d(m,y);function m(v,g){c(this,m);var p=h(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v));return p.container.classList.add("ql-icon-picker"),[].forEach.call(p.container.querySelectorAll(".ql-picker-item"),function(_){_.innerHTML=g[_.getAttribute("data-value")||""]}),p.defaultItem=p.container.querySelector(".ql-selected"),p.selectItem(p.defaultItem),p}return o(m,[{key:"selectItem",value:function(g,p){s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"selectItem",this).call(this,g,p),g=g||this.defaultItem,this.label.innerHTML=g.innerHTML}}]),m}(l.default);i.default=f},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function l(u,c){for(var h=0;h<c.length;h++){var d=c[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,c,h){return c&&l(u.prototype,c),h&&l(u,h),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,c){var h=this;s(this,l),this.quill=u,this.boundsContainer=c||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){h.root.style.marginTop=-1*h.quill.root.scrollTop+"px"}),this.hide()}return o(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(c){var h=c.left+c.width/2-this.root.offsetWidth/2,d=c.bottom+this.quill.root.scrollTop;this.root.style.left=h+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var f=this.boundsContainer.getBoundingClientRect(),y=this.root.getBoundingClientRect(),m=0;if(y.right>f.right&&(m=f.right-y.right,this.root.style.left=h+m+"px"),y.left<f.left&&(m=f.left-y.left,this.root.style.left=h+m+"px"),y.bottom>f.bottom){var v=y.bottom-y.top,g=c.bottom-c.top+v;this.root.style.top=d-g+"px",this.root.classList.add("ql-flip")}return m}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();i.default=a},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function N(I,S){var L=[],D=!0,$=!1,R=void 0;try{for(var P=I[Symbol.iterator](),z;!(D=(z=P.next()).done)&&(L.push(z.value),!(S&&L.length===S));D=!0);}catch(M){$=!0,R=M}finally{try{!D&&P.return&&P.return()}finally{if($)throw R}}return L}return function(I,S){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return N(I,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function N(I,S,L){I===null&&(I=Function.prototype);var D=Object.getOwnPropertyDescriptor(I,S);if(D===void 0){var $=Object.getPrototypeOf(I);return $===null?void 0:N($,S,L)}else{if("value"in D)return D.value;var R=D.get;return R===void 0?void 0:R.call(L)}},a=function(){function N(I,S){for(var L=0;L<S.length;L++){var D=S[L];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(I,D.key,D)}}return function(I,S,L){return S&&N(I.prototype,S),L&&N(I,L),I}}(),l=r(3),u=_(l),c=r(8),h=_(c),d=r(43),f=_(d),y=r(27),m=_(y),v=r(15),g=r(41),p=_(g);function _(N){return N&&N.__esModule?N:{default:N}}function x(N,I){if(!(N instanceof I))throw new TypeError("Cannot call a class as a function")}function T(N,I){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:N}function A(N,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);N.prototype=Object.create(I&&I.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(N,I):N.__proto__=I)}var E=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],k=function(N){A(I,N);function I(S,L){x(this,I),L.modules.toolbar!=null&&L.modules.toolbar.container==null&&(L.modules.toolbar.container=E);var D=T(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,S,L));return D.quill.container.classList.add("ql-snow"),D}return a(I,[{key:"extendToolbar",value:function(L){L.container.classList.add("ql-snow"),this.buildButtons([].slice.call(L.container.querySelectorAll("button")),p.default),this.buildPickers([].slice.call(L.container.querySelectorAll("select")),p.default),this.tooltip=new U(this.quill,this.options.bounds),L.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(D,$){L.handlers.link.call(L,!$.format.link)})}}]),I}(f.default);k.DEFAULTS=(0,u.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(I){if(I){var S=this.quill.getSelection();if(S==null||S.length==0)return;var L=this.quill.getText(S);/^\S+@\S+\.\S+$/.test(L)&&L.indexOf("mailto:")!==0&&(L="mailto:"+L);var D=this.quill.theme.tooltip;D.edit("link",L)}else this.quill.format("link",!1)}}}}});var U=function(N){A(I,N);function I(S,L){x(this,I);var D=T(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,S,L));return D.preview=D.root.querySelector("a.ql-preview"),D}return a(I,[{key:"listen",value:function(){var L=this;s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(D){L.root.classList.contains("ql-editing")?L.save():L.edit("link",L.preview.textContent),D.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(D){if(L.linkRange!=null){var $=L.linkRange;L.restoreFocus(),L.quill.formatText($,"link",!1,h.default.sources.USER),delete L.linkRange}D.preventDefault(),L.hide()}),this.quill.on(h.default.events.SELECTION_CHANGE,function(D,$,R){if(D!=null){if(D.length===0&&R===h.default.sources.USER){var P=L.quill.scroll.descendant(m.default,D.index),z=o(P,2),M=z[0],q=z[1];if(M!=null){L.linkRange=new v.Range(D.index-q,M.length());var F=m.default.formats(M.domNode);L.preview.textContent=F,L.preview.setAttribute("href",F),L.show(),L.position(L.quill.getBounds(L.linkRange));return}}else delete L.linkRange;L.hide()}})}},{key:"show",value:function(){s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),I}(d.BaseTooltip);U.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),i.default=k},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var o=r(29),s=ne(o),a=r(36),l=r(38),u=r(64),c=r(65),h=ne(c),d=r(66),f=ne(d),y=r(67),m=ne(y),v=r(37),g=r(26),p=r(39),_=r(40),x=r(56),T=ne(x),A=r(68),E=ne(A),k=r(27),U=ne(k),N=r(69),I=ne(N),S=r(70),L=ne(S),D=r(71),$=ne(D),R=r(72),P=ne(R),z=r(73),M=ne(z),q=r(13),F=ne(q),O=r(74),W=ne(O),J=r(75),K=ne(J),G=r(57),Z=ne(G),re=r(41),ae=ne(re),ge=r(28),ve=ne(ge),se=r(59),pe=ne(se),B=r(60),le=ne(B),de=r(61),ee=ne(de),V=r(108),Q=ne(V),ue=r(62),he=ne(ue);function ne(te){return te&&te.__esModule?te:{default:te}}s.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":v.BackgroundClass,"attributors/class/color":g.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":p.FontClass,"attributors/class/size":_.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":v.BackgroundStyle,"attributors/style/color":g.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":p.FontStyle,"attributors/style/size":_.SizeStyle},!0),s.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":u.IndentClass,"formats/background":v.BackgroundStyle,"formats/color":g.ColorStyle,"formats/font":p.FontClass,"formats/size":_.SizeClass,"formats/blockquote":h.default,"formats/code-block":F.default,"formats/header":f.default,"formats/list":m.default,"formats/bold":T.default,"formats/code":q.Code,"formats/italic":E.default,"formats/link":U.default,"formats/script":I.default,"formats/strike":L.default,"formats/underline":$.default,"formats/image":P.default,"formats/video":M.default,"formats/list/item":y.ListItem,"modules/formula":W.default,"modules/syntax":K.default,"modules/toolbar":Z.default,"themes/bubble":Q.default,"themes/snow":he.default,"ui/icons":ae.default,"ui/picker":ve.default,"ui/icon-picker":le.default,"ui/color-picker":pe.default,"ui/tooltip":ee.default},!0),i.default=s.default},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.IndentClass=void 0;var o=function(){function m(v,g){for(var p=0;p<g.length;p++){var _=g[p];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(v,_.key,_)}}return function(v,g,p){return g&&m(v.prototype,g),p&&m(v,p),v}}(),s=function m(v,g,p){v===null&&(v=Function.prototype);var _=Object.getOwnPropertyDescriptor(v,g);if(_===void 0){var x=Object.getPrototypeOf(v);return x===null?void 0:m(x,g,p)}else{if("value"in _)return _.value;var T=_.get;return T===void 0?void 0:T.call(p)}},a=r(0),l=u(a);function u(m){return m&&m.__esModule?m:{default:m}}function c(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}function h(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:m}function d(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}var f=function(m){d(v,m);function v(){return c(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"add",value:function(p,_){if(_==="+1"||_==="-1"){var x=this.value(p)||0;_=_==="+1"?x+1:x-1}return _===0?(this.remove(p),!0):s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"add",this).call(this,p,_)}},{key:"canAdd",value:function(p,_){return s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"canAdd",this).call(this,p,_)||s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"canAdd",this).call(this,p,parseInt(_))}},{key:"value",value:function(p){return parseInt(s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,p))||void 0}}]),v}(l.default.Attributor.Class),y=new f("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});i.IndentClass=y},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var o=r(4),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function u(d,f){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:d}function c(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(d,f):d.__proto__=f)}var h=function(d){c(f,d);function f(){return l(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(s.default);h.blotName="blockquote",h.tagName="blockquote",i.default=h},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function f(y,m){for(var v=0;v<m.length;v++){var g=m[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(y,g.key,g)}}return function(y,m,v){return m&&f(y.prototype,m),v&&f(y,v),y}}(),s=r(4),a=l(s);function l(f){return f&&f.__esModule?f:{default:f}}function u(f,y){if(!(f instanceof y))throw new TypeError("Cannot call a class as a function")}function c(f,y){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:f}function h(f,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);f.prototype=Object.create(y&&y.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(f,y):f.__proto__=y)}var d=function(f){h(y,f);function y(){return u(this,y),c(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,null,[{key:"formats",value:function(v){return this.tagName.indexOf(v.tagName)+1}}]),y}(a.default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],i.default=d},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.ListItem=void 0;var o=function(){function x(T,A){for(var E=0;E<A.length;E++){var k=A[E];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(T,k.key,k)}}return function(T,A,E){return A&&x(T.prototype,A),E&&x(T,E),T}}(),s=function x(T,A,E){T===null&&(T=Function.prototype);var k=Object.getOwnPropertyDescriptor(T,A);if(k===void 0){var U=Object.getPrototypeOf(T);return U===null?void 0:x(U,A,E)}else{if("value"in k)return k.value;var N=k.get;return N===void 0?void 0:N.call(E)}},a=r(0),l=f(a),u=r(4),c=f(u),h=r(25),d=f(h);function f(x){return x&&x.__esModule?x:{default:x}}function y(x,T,A){return T in x?Object.defineProperty(x,T,{value:A,enumerable:!0,configurable:!0,writable:!0}):x[T]=A,x}function m(x,T){if(!(x instanceof T))throw new TypeError("Cannot call a class as a function")}function v(x,T){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:x}function g(x,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);x.prototype=Object.create(T&&T.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(x,T):x.__proto__=T)}var p=function(x){g(T,x);function T(){return m(this,T),v(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return o(T,[{key:"format",value:function(E,k){E===_.blotName&&!k?this.replaceWith(l.default.create(this.statics.scope)):s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"format",this).call(this,E,k)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(E,k){return this.parent.isolate(this.offset(this.parent),this.length()),E===this.parent.statics.blotName?(this.parent.replaceWith(E,k),this):(this.parent.unwrap(),s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"replaceWith",this).call(this,E,k))}}],[{key:"formats",value:function(E){return E.tagName===this.tagName?void 0:s(T.__proto__||Object.getPrototypeOf(T),"formats",this).call(this,E)}}]),T}(c.default);p.blotName="list-item",p.tagName="LI";var _=function(x){g(T,x),o(T,null,[{key:"create",value:function(E){var k=E==="ordered"?"OL":"UL",U=s(T.__proto__||Object.getPrototypeOf(T),"create",this).call(this,k);return(E==="checked"||E==="unchecked")&&U.setAttribute("data-checked",E==="checked"),U}},{key:"formats",value:function(E){if(E.tagName==="OL")return"ordered";if(E.tagName==="UL")return E.hasAttribute("data-checked")?E.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function T(A){m(this,T);var E=v(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,A)),k=function(N){if(N.target.parentNode===A){var I=E.statics.formats(A),S=l.default.find(N.target);I==="checked"?S.format("list","unchecked"):I==="unchecked"&&S.format("list","checked")}};return A.addEventListener("touchstart",k),A.addEventListener("mousedown",k),E}return o(T,[{key:"format",value:function(E,k){this.children.length>0&&this.children.tail.format(E,k)}},{key:"formats",value:function(){return y({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(E,k){if(E instanceof p)s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertBefore",this).call(this,E,k);else{var U=k==null?this.length():k.offset(this),N=this.split(U);N.parent.insertBefore(E,N)}}},{key:"optimize",value:function(E){s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,E);var k=this.next;k!=null&&k.prev===this&&k.statics.blotName===this.statics.blotName&&k.domNode.tagName===this.domNode.tagName&&k.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(k.moveChildren(this),k.remove())}},{key:"replace",value:function(E){if(E.statics.blotName!==this.statics.blotName){var k=l.default.create(this.statics.defaultChild);E.moveChildren(k),this.appendChild(k)}s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"replace",this).call(this,E)}}]),T}(d.default);_.blotName="list",_.scope=l.default.Scope.BLOCK_BLOT,_.tagName=["OL","UL"],_.defaultChild="list-item",_.allowedChildren=[p],i.ListItem=p,i.default=_},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var o=r(56),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function u(d,f){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:d}function c(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(d,f):d.__proto__=f)}var h=function(d){c(f,d);function f(){return l(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(s.default);h.blotName="italic",h.tagName=["EM","I"],i.default=h},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function y(m,v){for(var g=0;g<v.length;g++){var p=v[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,v,g){return v&&y(m.prototype,v),g&&y(m,g),m}}(),s=function y(m,v,g){m===null&&(m=Function.prototype);var p=Object.getOwnPropertyDescriptor(m,v);if(p===void 0){var _=Object.getPrototypeOf(m);return _===null?void 0:y(_,v,g)}else{if("value"in p)return p.value;var x=p.get;return x===void 0?void 0:x.call(g)}},a=r(6),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function h(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function d(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var f=function(y){d(m,y);function m(){return c(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,null,[{key:"create",value:function(g){return g==="super"?document.createElement("sup"):g==="sub"?document.createElement("sub"):s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,g)}},{key:"formats",value:function(g){if(g.tagName==="SUB")return"sub";if(g.tagName==="SUP")return"super"}}]),m}(l.default);f.blotName="script",f.tagName=["SUB","SUP"],i.default=f},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var o=r(6),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function u(d,f){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:d}function c(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(d,f):d.__proto__=f)}var h=function(d){c(f,d);function f(){return l(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(s.default);h.blotName="strike",h.tagName="S",i.default=h},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var o=r(6),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function u(d,f){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:d}function c(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(d,f):d.__proto__=f)}var h=function(d){c(f,d);function f(){return l(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(s.default);h.blotName="underline",h.tagName="U",i.default=h},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function v(g,p){for(var _=0;_<p.length;_++){var x=p[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,p,_){return p&&v(g.prototype,p),_&&v(g,_),g}}(),s=function v(g,p,_){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,p);if(x===void 0){var T=Object.getPrototypeOf(g);return T===null?void 0:v(T,p,_)}else{if("value"in x)return x.value;var A=x.get;return A===void 0?void 0:A.call(_)}},a=r(0),l=c(a),u=r(27);function c(v){return v&&v.__esModule?v:{default:v}}function h(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function d(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function f(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var y=["alt","height","width"],m=function(v){f(g,v);function g(){return h(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"format",value:function(_,x){y.indexOf(_)>-1?x?this.domNode.setAttribute(_,x):this.domNode.removeAttribute(_):s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,_,x)}}],[{key:"create",value:function(_){var x=s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,_);return typeof _=="string"&&x.setAttribute("src",this.sanitize(_)),x}},{key:"formats",value:function(_){return y.reduce(function(x,T){return _.hasAttribute(T)&&(x[T]=_.getAttribute(T)),x},{})}},{key:"match",value:function(_){return/\.(jpe?g|gif|png)$/.test(_)||/^data:image\/.+;base64/.test(_)}},{key:"sanitize",value:function(_){return(0,u.sanitize)(_,["http","https","data"])?_:"//:0"}},{key:"value",value:function(_){return _.getAttribute("src")}}]),g}(l.default.Embed);m.blotName="image",m.tagName="IMG",i.default=m},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function v(g,p){for(var _=0;_<p.length;_++){var x=p[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,p,_){return p&&v(g.prototype,p),_&&v(g,_),g}}(),s=function v(g,p,_){g===null&&(g=Function.prototype);var x=Object.getOwnPropertyDescriptor(g,p);if(x===void 0){var T=Object.getPrototypeOf(g);return T===null?void 0:v(T,p,_)}else{if("value"in x)return x.value;var A=x.get;return A===void 0?void 0:A.call(_)}},a=r(4),l=r(27),u=c(l);function c(v){return v&&v.__esModule?v:{default:v}}function h(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function d(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function f(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var y=["height","width"],m=function(v){f(g,v);function g(){return h(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"format",value:function(_,x){y.indexOf(_)>-1?x?this.domNode.setAttribute(_,x):this.domNode.removeAttribute(_):s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,_,x)}}],[{key:"create",value:function(_){var x=s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,_);return x.setAttribute("frameborder","0"),x.setAttribute("allowfullscreen",!0),x.setAttribute("src",this.sanitize(_)),x}},{key:"formats",value:function(_){return y.reduce(function(x,T){return _.hasAttribute(T)&&(x[T]=_.getAttribute(T)),x},{})}},{key:"sanitize",value:function(_){return u.default.sanitize(_)}},{key:"value",value:function(_){return _.getAttribute("src")}}]),g}(a.BlockEmbed);m.blotName="video",m.className="ql-video",m.tagName="IFRAME",i.default=m},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.FormulaBlot=void 0;var o=function(){function _(x,T){for(var A=0;A<T.length;A++){var E=T[A];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(x,E.key,E)}}return function(x,T,A){return T&&_(x.prototype,T),A&&_(x,A),x}}(),s=function _(x,T,A){x===null&&(x=Function.prototype);var E=Object.getOwnPropertyDescriptor(x,T);if(E===void 0){var k=Object.getPrototypeOf(x);return k===null?void 0:_(k,T,A)}else{if("value"in E)return E.value;var U=E.get;return U===void 0?void 0:U.call(A)}},a=r(35),l=f(a),u=r(5),c=f(u),h=r(9),d=f(h);function f(_){return _&&_.__esModule?_:{default:_}}function y(_,x){if(!(_ instanceof x))throw new TypeError("Cannot call a class as a function")}function m(_,x){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:_}function v(_,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);_.prototype=Object.create(x&&x.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(_,x):_.__proto__=x)}var g=function(_){v(x,_);function x(){return y(this,x),m(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return o(x,null,[{key:"create",value:function(A){var E=s(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,A);return typeof A=="string"&&(window.katex.render(A,E,{throwOnError:!1,errorColor:"#f00"}),E.setAttribute("data-value",A)),E}},{key:"value",value:function(A){return A.getAttribute("data-value")}}]),x}(l.default);g.blotName="formula",g.className="ql-formula",g.tagName="SPAN";var p=function(_){v(x,_),o(x,null,[{key:"register",value:function(){c.default.register(g,!0)}}]);function x(){y(this,x);var T=m(this,(x.__proto__||Object.getPrototypeOf(x)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return T}return x}(d.default);i.FormulaBlot=g,i.default=p},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.CodeToken=i.CodeBlock=void 0;var o=function(){function A(E,k){for(var U=0;U<k.length;U++){var N=k[U];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(E,N.key,N)}}return function(E,k,U){return k&&A(E.prototype,k),U&&A(E,U),E}}(),s=function A(E,k,U){E===null&&(E=Function.prototype);var N=Object.getOwnPropertyDescriptor(E,k);if(N===void 0){var I=Object.getPrototypeOf(E);return I===null?void 0:A(I,k,U)}else{if("value"in N)return N.value;var S=N.get;return S===void 0?void 0:S.call(U)}},a=r(0),l=m(a),u=r(5),c=m(u),h=r(9),d=m(h),f=r(13),y=m(f);function m(A){return A&&A.__esModule?A:{default:A}}function v(A,E){if(!(A instanceof E))throw new TypeError("Cannot call a class as a function")}function g(A,E){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:A}function p(A,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);A.prototype=Object.create(E&&E.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(A,E):A.__proto__=E)}var _=function(A){p(E,A);function E(){return v(this,E),g(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return o(E,[{key:"replaceWith",value:function(U){this.domNode.textContent=this.domNode.textContent,this.attach(),s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"replaceWith",this).call(this,U)}},{key:"highlight",value:function(U){var N=this.domNode.textContent;this.cachedText!==N&&((N.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=U(N),this.domNode.normalize(),this.attach()),this.cachedText=N)}}]),E}(y.default);_.className="ql-syntax";var x=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),T=function(A){p(E,A),o(E,null,[{key:"register",value:function(){c.default.register(x,!0),c.default.register(_,!0)}}]);function E(k,U){v(this,E);var N=g(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,k,U));if(typeof N.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var I=null;return N.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(I),I=setTimeout(function(){N.highlight(),I=null},N.options.interval)}),N.highlight(),N}return o(E,[{key:"highlight",value:function(){var U=this;if(!this.quill.selection.composing){this.quill.update(c.default.sources.USER);var N=this.quill.getSelection();this.quill.scroll.descendants(_).forEach(function(I){I.highlight(U.options.highlight)}),this.quill.update(c.default.sources.SILENT),N!=null&&this.quill.setSelection(N,c.default.sources.SILENT)}}}]),E}(d.default);T.DEFAULTS={highlight:function(){return window.hljs==null?null:function(A){var E=window.hljs.highlightAuto(A);return E.value}}(),interval:1e3},i.CodeBlock=_,i.CodeToken=x,i.default=T},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,i){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,i){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,i){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,i){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BubbleTooltip=void 0;var o=function E(k,U,N){k===null&&(k=Function.prototype);var I=Object.getOwnPropertyDescriptor(k,U);if(I===void 0){var S=Object.getPrototypeOf(k);return S===null?void 0:E(S,U,N)}else{if("value"in I)return I.value;var L=I.get;return L===void 0?void 0:L.call(N)}},s=function(){function E(k,U){for(var N=0;N<U.length;N++){var I=U[N];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(k,I.key,I)}}return function(k,U,N){return U&&E(k.prototype,U),N&&E(k,N),k}}(),a=r(3),l=v(a),u=r(8),c=v(u),h=r(43),d=v(h),f=r(15),y=r(41),m=v(y);function v(E){return E&&E.__esModule?E:{default:E}}function g(E,k){if(!(E instanceof k))throw new TypeError("Cannot call a class as a function")}function p(E,k){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:E}function _(E,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);E.prototype=Object.create(k&&k.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(E,k):E.__proto__=k)}var x=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],T=function(E){_(k,E);function k(U,N){g(this,k),N.modules.toolbar!=null&&N.modules.toolbar.container==null&&(N.modules.toolbar.container=x);var I=p(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,U,N));return I.quill.container.classList.add("ql-bubble"),I}return s(k,[{key:"extendToolbar",value:function(N){this.tooltip=new A(this.quill,this.options.bounds),this.tooltip.root.appendChild(N.container),this.buildButtons([].slice.call(N.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(N.container.querySelectorAll("select")),m.default)}}]),k}(d.default);T.DEFAULTS=(0,l.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(k){k?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var A=function(E){_(k,E);function k(U,N){g(this,k);var I=p(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,U,N));return I.quill.on(c.default.events.EDITOR_CHANGE,function(S,L,D,$){if(S===c.default.events.SELECTION_CHANGE)if(L!=null&&L.length>0&&$===c.default.sources.USER){I.show(),I.root.style.left="0px",I.root.style.width="",I.root.style.width=I.root.offsetWidth+"px";var R=I.quill.getLines(L.index,L.length);if(R.length===1)I.position(I.quill.getBounds(L));else{var P=R[R.length-1],z=I.quill.getIndex(P),M=Math.min(P.length()-1,L.index+L.length-z),q=I.quill.getBounds(new f.Range(z,M));I.position(q)}}else document.activeElement!==I.textbox&&I.quill.hasFocus()&&I.hide()}),I}return s(k,[{key:"listen",value:function(){var N=this;o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){N.root.classList.remove("ql-editing")}),this.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!N.root.classList.contains("ql-hidden")){var I=N.quill.getSelection();I!=null&&N.position(N.quill.getBounds(I))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(N){var I=o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"position",this).call(this,N),S=this.root.querySelector(".ql-tooltip-arrow");if(S.style.marginLeft="",I===0)return I;S.style.marginLeft=-1*I-S.offsetWidth/2+"px"}}]),k}(h.BaseTooltip);A.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),i.BubbleTooltip=A,i.default=T},function(n,i,r){n.exports=r(63)}]).default})})(ZB);var Gue=ZB.exports,jue=Ve&&Ve.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o])},t(e,n)};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Q1=Ve&&Ve.__assign||function(){return Q1=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},Q1.apply(this,arguments)},Xue=Ve&&Ve.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),r=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i},fx=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Go=fx(be),Yue=fx(UP),Fp=fx(Vue),e5=fx(Gue),Kue=function(t){jue(e,t);function e(n){var i=t.call(this,n)||this;i.dirtyProps=["modules","formats","bounds","theme","children"],i.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],i.state={generation:0},i.selection=null,i.onEditorChange=function(o,s,a,l){var u,c,h,d;o==="text-change"?(c=(u=i).onEditorChangeText)===null||c===void 0||c.call(u,i.editor.root.innerHTML,s,l,i.unprivilegedEditor):o==="selection-change"&&((d=(h=i).onEditorChangeSelection)===null||d===void 0||d.call(h,s,l,i.unprivilegedEditor))};var r=i.isControlled()?n.value:n.defaultValue;return i.value=r??"",i}return e.prototype.validateProps=function(n){var i;if(Go.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Go.default.Children.count(n.children)){var r=Go.default.Children.only(n.children);if(((i=r)===null||i===void 0?void 0:i.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(n,i){var r=this,o;if(this.validateProps(n),!this.editor||this.state.generation!==i.generation)return!0;if("value"in n){var s=this.getEditorContents(),a=(o=n.value,o??"");this.isEqualValue(a,s)||this.setEditorContents(this.editor,a)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),Xue(this.cleanProps,this.dirtyProps).some(function(l){return!Fp.default(n[l],r.props[l])})},e.prototype.shouldComponentRegenerate=function(n){var i=this;return this.dirtyProps.some(function(r){return!Fp.default(n[r],i.props[r])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(n,i){var r=this;if(this.editor&&this.shouldComponentRegenerate(n)){var o=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:o,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==i.generation){var a=this.regenerationSnapshot,o=a.delta,l=a.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(o),t5(function(){return r.setEditorSelection(u,l)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(n,i){var r=new e5.default(n,i);return i.tabIndex!=null&&this.setEditorTabIndex(r,i.tabIndex),this.hookEditor(r),r},e.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(n){return n&&n.ops},e.prototype.isEqualValue=function(n,i){return this.isDelta(n)&&this.isDelta(i)?Fp.default(n.ops,i.ops):Fp.default(n,i)},e.prototype.setEditorContents=function(n,i){var r=this;this.value=i;var o=this.getEditorSelection();typeof i=="string"?n.setContents(n.clipboard.convert(i)):n.setContents(i),t5(function(){return r.setEditorSelection(n,o)})},e.prototype.setEditorSelection=function(n,i){if(this.selection=i,i){var r=n.getLength();i.index=Math.max(0,Math.min(i.index,r-1)),i.length=Math.max(0,Math.min(i.length,r-1-i.index)),n.setSelection(i)}},e.prototype.setEditorTabIndex=function(n,i){var r,o;!((o=(r=n)===null||r===void 0?void 0:r.scroll)===null||o===void 0)&&o.domNode&&(n.scroll.domNode.tabIndex=i)},e.prototype.setEditorReadOnly=function(n,i){i?n.disable():n.enable()},e.prototype.makeUnprivilegedEditor=function(n){var i=n;return{getHTML:function(){return i.root.innerHTML},getLength:i.getLength.bind(i),getText:i.getText.bind(i),getContents:i.getContents.bind(i),getSelection:i.getSelection.bind(i),getBounds:i.getBounds.bind(i)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=Yue.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},e.prototype.renderEditingArea=function(){var n=this,i=this.props,r=i.children,o=i.preserveWhitespace,s=this.state.generation,a={key:s,ref:function(l){n.editingArea=l}};return Go.default.Children.count(r)?Go.default.cloneElement(Go.default.Children.only(r),a):o?Go.default.createElement("pre",Q1({},a)):Go.default.createElement("div",Q1({},a))},e.prototype.render=function(){var n;return Go.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(n,i,r,o){var s,a;if(this.editor){var l=this.isDelta(this.value)?o.getContents():o.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=i,this.value=l,(a=(s=this.props).onChange)===null||a===void 0||a.call(s,n,i,r,o))}},e.prototype.onEditorChangeSelection=function(n,i,r){var o,s,a,l,u,c;if(this.editor){var h=this.getEditorSelection(),d=!h&&n,f=h&&!n;Fp.default(n,h)||(this.selection=n,(s=(o=this.props).onChangeSelection)===null||s===void 0||s.call(o,n,i,r),d?(l=(a=this.props).onFocus)===null||l===void 0||l.call(a,n,i,r):f&&((c=(u=this.props).onBlur)===null||c===void 0||c.call(u,h,i,r)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=e5.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(Go.default.Component);function t5(t){Promise.resolve().then(t)}var Jue=Kue;const Zue=QE(Jue);function Que(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])}return t}function IE(t,e){return Array(e+1).join(t)}function QB(t){return t.replace(/^\n*/,"")}function e9(t){for(var e=t.length;e>0&&t[e-1]===`
`;)e--;return t.substring(0,e)}function t9(t){return e9(QB(t))}var ece=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function MD(t){return OD(t,ece)}var n9=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function i9(t){return OD(t,n9)}function tce(t){return o9(t,n9)}var r9=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function nce(t){return OD(t,r9)}function ice(t){return o9(t,r9)}function OD(t,e){return e.indexOf(t.nodeName)>=0}function o9(t,e){return t.getElementsByTagName&&e.some(function(n){return t.getElementsByTagName(n).length})}var gi={};gi.paragraph={filter:"p",replacement:function(t){return`

`+t+`

`}};gi.lineBreak={filter:"br",replacement:function(t,e,n){return n.br+`
`}};gi.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(t,e,n){var i=Number(e.nodeName.charAt(1));if(n.headingStyle==="setext"&&i<3){var r=IE(i===1?"=":"-",t.length);return`

`+t+`
`+r+`

`}else return`

`+IE("#",i)+" "+t+`

`}};gi.blockquote={filter:"blockquote",replacement:function(t){return t=t9(t).replace(/^/gm,"> "),`

`+t+`

`}};gi.list={filter:["ul","ol"],replacement:function(t,e){var n=e.parentNode;return n.nodeName==="LI"&&n.lastElementChild===e?`
`+t:`

`+t+`

`}};gi.listItem={filter:"li",replacement:function(t,e,n){var i=n.bulletListMarker+"   ",r=e.parentNode;if(r.nodeName==="OL"){var o=r.getAttribute("start"),s=Array.prototype.indexOf.call(r.children,e);i=(o?Number(o)+s:s+1)+".  "}var a=/\n$/.test(t);return t=t9(t)+(a?`
`:""),t=t.replace(/\n/gm,`
`+" ".repeat(i.length)),i+t+(e.nextSibling?`
`:"")}};gi.indentedCodeBlock={filter:function(t,e){return e.codeBlockStyle==="indented"&&t.nodeName==="PRE"&&t.firstChild&&t.firstChild.nodeName==="CODE"},replacement:function(t,e,n){return`

    `+e.firstChild.textContent.replace(/\n/g,`
    `)+`

`}};gi.fencedCodeBlock={filter:function(t,e){return e.codeBlockStyle==="fenced"&&t.nodeName==="PRE"&&t.firstChild&&t.firstChild.nodeName==="CODE"},replacement:function(t,e,n){for(var i=e.firstChild.getAttribute("class")||"",r=(i.match(/language-(\S+)/)||[null,""])[1],o=e.firstChild.textContent,s=n.fence.charAt(0),a=3,l=new RegExp("^"+s+"{3,}","gm"),u;u=l.exec(o);)u[0].length>=a&&(a=u[0].length+1);var c=IE(s,a);return`

`+c+r+`
`+o.replace(/\n$/,"")+`
`+c+`

`}};gi.horizontalRule={filter:"hr",replacement:function(t,e,n){return`

`+n.hr+`

`}};gi.inlineLink={filter:function(t,e){return e.linkStyle==="inlined"&&t.nodeName==="A"&&t.getAttribute("href")},replacement:function(t,e){var n=e.getAttribute("href");n&&(n=n.replace(/([()])/g,"\\$1"));var i=eb(e.getAttribute("title"));return i&&(i=' "'+i.replace(/"/g,'\\"')+'"'),"["+t+"]("+n+i+")"}};gi.referenceLink={filter:function(t,e){return e.linkStyle==="referenced"&&t.nodeName==="A"&&t.getAttribute("href")},replacement:function(t,e,n){var i=e.getAttribute("href"),r=eb(e.getAttribute("title"));r&&(r=' "'+r+'"');var o,s;switch(n.linkReferenceStyle){case"collapsed":o="["+t+"][]",s="["+t+"]: "+i+r;break;case"shortcut":o="["+t+"]",s="["+t+"]: "+i+r;break;default:var a=this.references.length+1;o="["+t+"]["+a+"]",s="["+a+"]: "+i+r}return this.references.push(s),o},references:[],append:function(t){var e="";return this.references.length&&(e=`

`+this.references.join(`
`)+`

`,this.references=[]),e}};gi.emphasis={filter:["em","i"],replacement:function(t,e,n){return t.trim()?n.emDelimiter+t+n.emDelimiter:""}};gi.strong={filter:["strong","b"],replacement:function(t,e,n){return t.trim()?n.strongDelimiter+t+n.strongDelimiter:""}};gi.code={filter:function(t){var e=t.previousSibling||t.nextSibling,n=t.parentNode.nodeName==="PRE"&&!e;return t.nodeName==="CODE"&&!n},replacement:function(t){if(!t)return"";t=t.replace(/\r?\n|\r/g," ");for(var e=/^`|^ .*?[^ ].* $|`$/.test(t)?" ":"",n="`",i=t.match(/`+/gm)||[];i.indexOf(n)!==-1;)n=n+"`";return n+e+t+e+n}};gi.image={filter:"img",replacement:function(t,e){var n=eb(e.getAttribute("alt")),i=e.getAttribute("src")||"",r=eb(e.getAttribute("title")),o=r?' "'+r+'"':"";return i?"!["+n+"]("+i+o+")":""}};function eb(t){return t?t.replace(/(\n+\s*)+/g,`
`):""}function s9(t){this.options=t,this._keep=[],this._remove=[],this.blankRule={replacement:t.blankReplacement},this.keepReplacement=t.keepReplacement,this.defaultRule={replacement:t.defaultReplacement},this.array=[];for(var e in t.rules)this.array.push(t.rules[e])}s9.prototype={add:function(t,e){this.array.unshift(e)},keep:function(t){this._keep.unshift({filter:t,replacement:this.keepReplacement})},remove:function(t){this._remove.unshift({filter:t,replacement:function(){return""}})},forNode:function(t){if(t.isBlank)return this.blankRule;var e;return(e=Rw(this.array,t,this.options))||(e=Rw(this._keep,t,this.options))||(e=Rw(this._remove,t,this.options))?e:this.defaultRule},forEach:function(t){for(var e=0;e<this.array.length;e++)t(this.array[e],e)}};function Rw(t,e,n){for(var i=0;i<t.length;i++){var r=t[i];if(rce(r,e,n))return r}}function rce(t,e,n){var i=t.filter;if(typeof i=="string"){if(i===e.nodeName.toLowerCase())return!0}else if(Array.isArray(i)){if(i.indexOf(e.nodeName.toLowerCase())>-1)return!0}else if(typeof i=="function"){if(i.call(t,e,n))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function oce(t){var e=t.element,n=t.isBlock,i=t.isVoid,r=t.isPre||function(h){return h.nodeName==="PRE"};if(!(!e.firstChild||r(e))){for(var o=null,s=!1,a=null,l=n5(a,e,r);l!==e;){if(l.nodeType===3||l.nodeType===4){var u=l.data.replace(/[ \r\n\t]+/g," ");if((!o||/ $/.test(o.data))&&!s&&u[0]===" "&&(u=u.substr(1)),!u){l=Uw(l);continue}l.data=u,o=l}else if(l.nodeType===1)n(l)||l.nodeName==="BR"?(o&&(o.data=o.data.replace(/ $/,"")),o=null,s=!1):i(l)||r(l)?(o=null,s=!0):o&&(s=!1);else{l=Uw(l);continue}var c=n5(a,l,r);a=l,l=c}o&&(o.data=o.data.replace(/ $/,""),o.data||Uw(o))}}function Uw(t){var e=t.nextSibling||t.parentNode;return t.parentNode.removeChild(t),e}function n5(t,e,n){return t&&t.parentNode===e||n(e)?e.nextSibling||e.parentNode:e.firstChild||e.nextSibling||e.parentNode}var BD=typeof window<"u"?window:{};function sce(){var t=BD.DOMParser,e=!1;try{new t().parseFromString("","text/html")&&(e=!0)}catch{}return e}function ace(){var t=function(){};return lce()?t.prototype.parseFromString=function(e){var n=new window.ActiveXObject("htmlfile");return n.designMode="on",n.open(),n.write(e),n.close(),n}:t.prototype.parseFromString=function(e){var n=document.implementation.createHTMLDocument("");return n.open(),n.write(e),n.close(),n},t}function lce(){var t=!1;try{document.implementation.createHTMLDocument("").open()}catch{BD.ActiveXObject&&(t=!0)}return t}var uce=sce()?BD.DOMParser:ace();function cce(t,e){var n;if(typeof t=="string"){var i=dce().parseFromString('<x-turndown id="turndown-root">'+t+"</x-turndown>","text/html");n=i.getElementById("turndown-root")}else n=t.cloneNode(!0);return oce({element:n,isBlock:MD,isVoid:i9,isPre:e.preformattedCode?hce:null}),n}var Lw;function dce(){return Lw=Lw||new uce,Lw}function hce(t){return t.nodeName==="PRE"||t.nodeName==="CODE"}function fce(t,e){return t.isBlock=MD(t),t.isCode=t.nodeName==="CODE"||t.parentNode.isCode,t.isBlank=pce(t),t.flankingWhitespace=gce(t,e),t}function pce(t){return!i9(t)&&!nce(t)&&/^\s*$/i.test(t.textContent)&&!tce(t)&&!ice(t)}function gce(t,e){if(t.isBlock||e.preformattedCode&&t.isCode)return{leading:"",trailing:""};var n=mce(t.textContent);return n.leadingAscii&&i5("left",t,e)&&(n.leading=n.leadingNonAscii),n.trailingAscii&&i5("right",t,e)&&(n.trailing=n.trailingNonAscii),{leading:n.leading,trailing:n.trailing}}function mce(t){var e=t.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/);return{leading:e[1],leadingAscii:e[2],leadingNonAscii:e[3],trailing:e[4],trailingNonAscii:e[5],trailingAscii:e[6]}}function i5(t,e,n){var i,r,o;return t==="left"?(i=e.previousSibling,r=/ $/):(i=e.nextSibling,r=/^ /),i&&(i.nodeType===3?o=r.test(i.nodeValue):n.preformattedCode&&i.nodeName==="CODE"?o=!1:i.nodeType===1&&!MD(i)&&(o=r.test(i.textContent))),o}var yce=Array.prototype.reduce,vce=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function tb(t){if(!(this instanceof tb))return new tb(t);var e={rules:gi,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(n,i){return i.isBlock?`

`:""},keepReplacement:function(n,i){return i.isBlock?`

`+i.outerHTML+`

`:i.outerHTML},defaultReplacement:function(n,i){return i.isBlock?`

`+n+`

`:n}};this.options=Que({},e,t),this.rules=new s9(this.options)}tb.prototype={turndown:function(t){if(!xce(t))throw new TypeError(t+" is not a string, or an element/document/fragment node.");if(t==="")return"";var e=a9.call(this,new cce(t,this.options));return bce.call(this,e)},use:function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this.use(t[e]);else if(typeof t=="function")t(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(t,e){return this.rules.add(t,e),this},keep:function(t){return this.rules.keep(t),this},remove:function(t){return this.rules.remove(t),this},escape:function(t){return vce.reduce(function(e,n){return e.replace(n[0],n[1])},t)}};function a9(t){var e=this;return yce.call(t.childNodes,function(n,i){i=new fce(i,e.options);var r="";return i.nodeType===3?r=i.isCode?i.nodeValue:e.escape(i.nodeValue):i.nodeType===1&&(r=_ce.call(e,i)),l9(n,r)},"")}function bce(t){var e=this;return this.rules.forEach(function(n){typeof n.append=="function"&&(t=l9(t,n.append(e.options)))}),t.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function _ce(t){var e=this.rules.forNode(t),n=a9.call(this,t),i=t.flankingWhitespace;return(i.leading||i.trailing)&&(n=n.trim()),i.leading+e.replacement(n,t,this.options)+i.trailing}function l9(t,e){var n=e9(t),i=QB(e),r=Math.max(t.length-n.length,e.length-i.length),o=`

`.substring(0,r);return n+o+i}function xce(t){return t!=null&&(typeof t=="string"||t.nodeType&&(t.nodeType===1||t.nodeType===9||t.nodeType===11))}const wce=({cards:t})=>{const[e,n]=be.useState(0),[i,r]=be.useState(!1),[o,s]=be.useState(!1),a=t[e];be.useEffect(()=>{r(!1)},[e]);const l=()=>{o||(s(!0),r(!i),setTimeout(()=>s(!1),300))},u=()=>{e<t.length-1&&n(e+1)},c=()=>{e>0&&n(e-1)};return X.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-4 md:p-8",children:[X.jsx("div",{className:"w-full max-w-2xl aspect-[16/9] perspective-1000",children:X.jsxs("div",{className:`relative w-full h-full rounded-xl shadow-2xl flex items-center justify-center p-6 text-center bg-gray-200 dark:bg-gray-700 cursor-pointer transition-opacity duration-300 ${o?"opacity-0":"opacity-100"}`,onClick:l,children:[X.jsx("p",{className:"text-xl md:text-2xl font-semibold text-gray-900 dark:text-white",children:i?a.back:a.front}),X.jsx("div",{className:"absolute bottom-4 right-4 text-gray-500 dark:text-gray-400",children:X.jsx(gz,{className:"w-6 h-6"})})]})}),X.jsxs("div",{className:"flex items-center justify-center w-full max-w-2xl mt-6",children:[X.jsx("button",{onClick:c,disabled:e===0,className:"p-3 rounded-full bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white disabled:opacity-50 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:X.jsx(fz,{className:"w-6 h-6"})}),X.jsxs("span",{className:"mx-6 text-lg font-medium text-gray-700 dark:text-gray-300 tabular-nums",children:[e+1," / ",t.length]}),X.jsx("button",{onClick:u,disabled:e===t.length-1,className:"p-3 rounded-full bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white disabled:opacity-50 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:X.jsx(pz,{className:"w-6 h-6"})})]})]})},Tce=[{id:"transcript",label:"Transcript",icon:LP},{id:"handouts",label:"Handouts",icon:OP},{id:"notes",label:"Notes",icon:MP},{id:"chat",label:"Chat",icon:BP},{id:"guide",label:"Study Guide",icon:_z},{id:"questions",label:"Test Questions",icon:xz},{id:"flashcards",label:"Flashcards",icon:hz}],Cce=({onOpenSettings:t})=>X.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-900 border-b border-yellow-300 dark:border-yellow-700 p-3 text-center text-sm text-yellow-800 dark:text-yellow-200 flex-shrink-0",children:["AI features are disabled. Please"," ",X.jsx("button",{onClick:t,className:"font-bold underline hover:text-yellow-900 dark:hover:text-yellow-100",children:"configure your API key"})," ","to continue."]}),Ece=({lecture:t,updateLecture:e,isMobile:n,onToggleSidebar:i,isApiKeyReady:r,onOpenSettings:o,theme:s})=>{const[a,l]=be.useState("notes"),[u,c]=be.useState(!1),[h,d]=be.useState(t.organizedNotes||""),f=be.useRef(null),[y,m]=be.useState(t.transcript.map(ye=>ye.text).join(`
`)),[v,g]=be.useState("saved"),p=be.useRef(null),_=be.useRef(null),x=be.useRef(null),[T,A]=be.useState(null),[E,k]=be.useState(null),[U,N]=be.useState(!1),[I,S]=be.useState(""),[L,D]=be.useState(""),[$,R]=be.useState(!1),[P,z]=be.useState(""),[M,q]=be.useState([]),[F,O]=be.useState(-1),[W,J]=be.useState(""),[K,G]=be.useState(null),[Z,re]=be.useState(""),[ae,ge]=be.useState(!1),[ve,se]=be.useState(!1),pe=be.useRef(null),[B,le]=be.useState(!1),[de,ee]=be.useState(!1),V=be.useRef(null),[Q,ue]=be.useState(10),[he,ne]=be.useState(null),[te,ie]=be.useState(""),[oe,me]=be.useState(!1);be.useEffect(()=>{l("notes"),m(t.transcript.map(ye=>ye.text).join(`
`)),g("saved"),ne(null)},[t.id,t.transcript]),be.useEffect(()=>{d(t.organizedNotes||"")},[t.organizedNotes]),be.useEffect(()=>(h!==t.organizedNotes&&(f.current&&clearTimeout(f.current),f.current=window.setTimeout(()=>{e(t.id,{organizedNotes:h})},1500)),()=>{f.current&&clearTimeout(f.current)}),[h,t.id,t.organizedNotes,e]),be.useEffect(()=>(v==="unsaved"&&(p.current&&clearTimeout(p.current),p.current=window.setTimeout(()=>{g("saving");const ye=y.split(`
`).map((Ae,xe)=>{var Pe;return{text:Ae,startTime:((Pe=t.transcript[xe])==null?void 0:Pe.startTime)??0}});e(t.id,{transcript:ye}),setTimeout(()=>g("saved"),500)},3e3)),()=>{p.current&&clearTimeout(p.current)}),[y,v,t.id,t.transcript,e]);const we=ye=>{m(ye.target.value),g("unsaved")},Ee=ye=>{const Ae=Math.floor(ye),xe=Math.floor(Ae/60),Pe=Ae%60;return`${xe.toString().padStart(2,"0")}:${Pe.toString().padStart(2,"0")}`},je=be.useMemo(()=>{switch(a){case"guide":return t.studyGuide;case"questions":return t.testQuestions;default:return null}},[a,t]),De=async()=>{if(!r)return;let ye,Ae;switch(a){case"notes":ye=jl.Notes,Ae="organizedNotesStatus";break;case"guide":ye=jl.StudyGuide;break;case"questions":ye=jl.TestQuestions;break;default:return}c(!0),Ae&&e(t.id,{[Ae]:"generating"});try{const xe=await SM(t.transcript,ye,t.handouts,oe),Pe=Ae?{[Ae]:"success"}:{};switch(a){case"notes":Pe.organizedNotes=xe;break;case"guide":Pe.studyGuide=xe;break;case"questions":Pe.testQuestions=xe;break}e(t.id,Pe)}catch(xe){console.error("Error generating content:",xe),Ae&&e(t.id,{[Ae]:"error"})}finally{c(!1)}},Xe=async()=>{if(r){c(!0);try{const ye=await dK(t.transcript,t.handouts,Q,oe);e(t.id,{flashcards:ye})}catch(ye){console.error(ye),alert("Sorry, an error occurred while generating flashcards. Please try again.")}finally{c(!1)}}},pt=be.useMemo(()=>{if(u)return!1;switch(a){case"guide":case"questions":return!!je;case"transcript":return t.transcript.length>0;case"flashcards":return!!t.flashcards&&t.flashcards.length>0;case"notes":return!!t.organizedNotes;case"handouts":return!!t.handouts&&t.handouts.length>0;default:return!1}},[a,u,je,t]),tt=async()=>{let ye,Ae;if(a==="flashcards"){if(!t.flashcards||t.flashcards.length===0)return;ye=t.flashcards.map(zt=>`Front:
${zt.front}

Back:
${zt.back}`).join(`

---

`),Ae="Flashcards"}else if(a==="transcript")ye=t.transcript.map(zt=>`[${Ee(zt.startTime)}] ${zt.text}`).join(`
`),Ae="Transcript";else if(a==="notes"){if(!t.organizedNotes)return;ye=new tb().turndown(t.organizedNotes),Ae="Organized_Notes"}else if(a==="handouts"){if(!t.handouts||t.handouts.length===0)return;ye=t.handouts.map(zt=>`## Handout: ${zt.name}

${zt.content}`).join(`

---

`),Ae="Handouts"}else{const zt=je;if(!zt)return;switch(ye=zt,a){case"guide":Ae="Study_Guide";break;case"questions":Ae="Test_Questions";break;default:return}}const Pe=`${t.title.replace(/[^a-z0-9]/gi,"_").toLowerCase()}_${Ae}.md`;if(bg()&&await Rz(ye,Pe))return;const ut=new Blob([ye],{type:"text/markdown;charset=utf-8;"}),xt=document.createElement("a"),$t=URL.createObjectURL(ut);xt.setAttribute("href",$t),xt.setAttribute("download",Pe),xt.style.visibility="hidden",document.body.appendChild(xt),xt.click(),document.body.removeChild(xt),URL.revokeObjectURL($t)},Zt=ye=>{ye.preventDefault();const Ae=W.trim();if(Ae&&!t.tags.find(xe=>xe.toLowerCase()===Ae.toLowerCase())){const xe=[...t.tags,Ae];e(t.id,{tags:xe}),J("")}},wn=ye=>{const Ae=t.tags.filter((xe,Pe)=>Pe!==ye);e(t.id,{tags:Ae})},sn=(ye,Ae)=>{G({index:ye,value:Ae})},Ds=()=>{if(!K)return;const ye=K.value.trim(),Ae=K.index;if(G(null),!ye){wn(Ae);return}if(ye===t.tags[Ae])return;if(t.tags.some((Pe,ut)=>Pe.toLowerCase()===ye.toLowerCase()&&ut!==Ae)){console.warn("Attempted to add a duplicate tag.");return}const xe=[...t.tags];xe[Ae]=ye,e(t.id,{tags:xe})},yu=async ye=>{if(ye.preventDefault(),!Z.trim()||ae||!r)return;const Ae=[...t.chatHistory,{role:"user",content:Z}];e(t.id,{chatHistory:Ae});const xe=Z;re(""),ge(!0);try{const Pe=await fK(t.chatHistory,xe,t.transcript,t.handouts,ve,oe);let ut="",xt=[];e(t.id,{chatHistory:[...Ae,{role:"model",content:""}]});for await(const $t of Pe)ut+=$t.textDelta,$t.sources&&$t.sources.length>0&&$t.sources.forEach(zt=>{xt.some(gd=>gd.uri===zt.uri)||xt.push(zt)}),e(t.id,{chatHistory:[...Ae,{role:"model",content:ut,sources:xt.length>0?xt:void 0}]})}catch(Pe){console.error("Chat error:",Pe),e(t.id,{chatHistory:[...Ae,{role:"model",content:"Sorry, I encountered an error."}]})}finally{ge(!1)}},pd=be.useCallback(async ye=>{if(!ye||ye.length===0)return;le(!0);const Ae=[];for(const ut of Array.from(ye))try{const xt=await MB(ut);xt&&Ae.push(xt)}catch{alert(`Failed to parse ${ut.name}. Please ensure it's a valid and non-corrupted file.`)}const xe=new Set(t.handouts.map(ut=>ut.name)),Pe=Ae.filter(ut=>!xe.has(ut.name));Pe.length>0&&e(t.id,{handouts:[...t.handouts,...Pe]}),le(!1)},[t.id,t.handouts,e]),so=(ye,Ae)=>{ye.preventDefault(),ye.stopPropagation(),ee(Ae)},ks=ye=>{so(ye,!1),pd(ye.dataTransfer.files)},Is=ye=>{const Ae=t.handouts.filter((xe,Pe)=>Pe!==ye);e(t.id,{handouts:Ae})},sr=(ye,Ae)=>{ne(ye),ie(Ae)},cp=()=>{if(!he)return;const ye=te.trim();ye&&(he==="title"&&ye!==t.title?e(t.id,{title:ye}):he==="date"&&ye!==t.date&&e(t.id,{date:ye})),ne(null),ie("")},dv=ye=>{ye.key==="Enter"?cp():ye.key==="Escape"&&(ne(null),ie(""))},Pt=be.useCallback(async(ye,Ae)=>{if(!r)return;A(ye),k(null);let xe=y;if(ye===zi.Summarize){const Pe=_.current;if(Pe&&Pe.selectionStart!==Pe.selectionEnd)xe=Pe.value.substring(Pe.selectionStart,Pe.selectionEnd);else{alert("Please select a portion of the transcript to summarize."),A(null);return}}try{const Pe=await pK(xe,ye,oe,Ae);if(ye===zi.Topics)S(Pe),N(!0);else if(ye===zi.Summarize){const ut=_.current;if(ut){const xt=ut.selectionStart,$t=ut.selectionEnd,zt=`${ut.value.substring(0,xt)}

--- SUMMARY ---
${Pe}
--- END SUMMARY ---

${ut.value.substring($t)}`;m(zt)}}else m(Pe);g("unsaved")}catch(Pe){const ut=Pe instanceof Error?Pe.message:"An unknown error occurred.";k(ut)}finally{A(null),D("")}},[y,r,oe]);be.useEffect(()=>{if(!P){q([]),O(-1);return}const ye=new RegExp(P.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"gi"),Ae=[];let xe;for(;(xe=ye.exec(y))!==null;)Ae.push({start:xe.index,end:xe.index+xe[0].length});q(Ae),O(Ae.length>0?0:-1)},[P,y]),be.useEffect(()=>{if(F>-1&&M[F]){const{start:ye,end:Ae}=M[F],xe=_.current;if(xe){xe.focus(),xe.setSelectionRange(ye,Ae);const ut=xe.value.substring(0,ye).split(`
`).length,xt=xe.scrollHeight/(xe.value.split(`
`).length||1),$t=(ut-1)*xt,zt=xe.scrollTop,gd=xe.scrollTop+xe.clientHeight;($t<zt||$t>gd-xt)&&(xe.scrollTop=Math.max(0,$t-xe.clientHeight/3))}}},[F,M]);const Va=()=>{R(!1),z("")},Nx=()=>{M.length>0&&O(ye=>(ye+1)%M.length)},hv=()=>{M.length>0&&O(ye=>(ye-1+M.length)%M.length)},dp=be.useCallback(()=>{if(!P||M.length===0)return y;const ye=[];let Ae=0;return M.forEach((xe,Pe)=>{xe.start>Ae&&ye.push(y.substring(Ae,xe.start));const xt=Pe===F?"bg-orange-400/50 rounded":"bg-yellow-400/50 rounded";ye.push(X.jsx("span",{className:xt,children:y.substring(xe.start,xe.end)},Pe)),Ae=xe.end}),Ae<y.length&&ye.push(y.substring(Ae)),ye},[P,M,y,F]),fv=ye=>{x.current&&(x.current.scrollTop=ye.currentTarget.scrollTop,x.current.scrollLeft=ye.currentTarget.scrollLeft)};be.useEffect(()=>{var ye;a==="chat"&&((ye=pe.current)==null||ye.scrollIntoView({behavior:"smooth"}))},[t.chatHistory,a]);const pv={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["link"],["clean"]]},Rx=()=>{const ye=xe=>X.jsx("div",{className:"p-6 text-center text-gray-500 dark:text-gray-400 animate-pulse",children:xe}),Ae=(xe,Pe)=>X.jsxs("div",{className:"p-6 text-center text-gray-600 dark:text-gray-500",children:[X.jsx("p",{className:"mb-4 text-red-500 dark:text-red-400",children:xe}),X.jsx("button",{onClick:Pe,disabled:u||!r,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 disabled:bg-indigo-400",children:"Try Again"})]});if(a==="transcript"){const xe="w-full h-full p-4 rounded-md resize-none font-mono text-sm leading-relaxed absolute inset-0";return X.jsxs("div",{className:"p-6 overflow-hidden h-full flex flex-col",children:[U&&X.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4",children:X.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-xl w-full max-w-lg",children:[X.jsx("h3",{className:"text-xl font-bold mb-4",children:"Identified Key Topics"}),X.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none bg-gray-100 dark:bg-gray-900 p-4 rounded-md",children:I}),X.jsx("div",{className:"flex justify-end mt-6",children:X.jsx("button",{onClick:()=>N(!1),className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700",children:"Close"})})]})}),X.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-2 bg-gray-100 dark:bg-gray-900 p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[X.jsxs("div",{className:"flex items-center space-x-2 flex-wrap gap-2",children:[X.jsxs("span",{className:"text-sm font-medium text-indigo-500 dark:text-indigo-400 flex items-center",children:[X.jsx(bz,{className:"w-5 h-5 mr-2"}),"AI Assistant:"]}),X.jsx("button",{onClick:()=>Pt(zi.Improve),disabled:!!T||!r,className:"px-3 py-1 text-xs bg-gray-200 dark:bg-gray-700 rounded-md hover:bg-gray-300 dark:hover:bg-gray-600 disabled:opacity-50",children:T==="improve"?"Improving...":"Improve Readability"}),X.jsx("button",{onClick:()=>Pt(zi.Format),disabled:!!T||!r,className:"px-3 py-1 text-xs bg-gray-200 dark:bg-gray-700 rounded-md hover:bg-gray-300 dark:hover:bg-gray-600 disabled:opacity-50",children:T==="format"?"Formatting...":"Format as Notes"}),X.jsx("button",{onClick:()=>Pt(zi.Topics),disabled:!!T||!r,className:"px-3 py-1 text-xs bg-gray-200 dark:bg-gray-700 rounded-md hover:bg-gray-300 dark:hover:bg-gray-600 disabled:opacity-50",children:T==="topics"?"Identifying...":"Identify Key Topics"}),X.jsx("button",{onClick:()=>Pt(zi.Summarize),disabled:!!T||!r,className:"px-3 py-1 text-xs bg-gray-200 dark:bg-gray-700 rounded-md hover:bg-gray-300 dark:hover:bg-gray-600 disabled:opacity-50",title:"Select text to enable",children:T==="summarize"?"Summarizing...":"Summarize Selection"})]}),X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsx("button",{onClick:()=>R(Pe=>!Pe),className:"p-1 rounded-full text-gray-500 hover:bg-gray-300 dark:hover:bg-gray-600",title:"Search Transcript",children:X.jsx(PP,{className:"w-5 h-5"})}),X.jsxs("span",{className:"text-xs font-mono text-gray-500 dark:text-gray-400 self-center",children:[v==="saved"&&"All changes saved",v==="unsaved"&&"Unsaved changes...",v==="saving"&&"Saving..."]})]})]}),X.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[X.jsx("input",{type:"text",value:L,onChange:Pe=>D(Pe.target.value),placeholder:"Or, type a custom edit instruction here...",disabled:!!T||!r,className:"flex-1 p-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-md focus:ring-indigo-500 focus:border-indigo-500 disabled:opacity-50"}),X.jsx("button",{onClick:()=>Pt(zi.Custom,L),disabled:!!T||!L.trim()||!r,className:"px-4 py-2 text-sm bg-indigo-600 rounded-md hover:bg-indigo-700 disabled:opacity-50",children:T==="custom"?"Applying...":"Apply"})]}),$&&X.jsxs("div",{className:"flex items-center space-x-2 p-2 mb-2 bg-gray-100 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 flex-shrink-0",children:[X.jsx("input",{type:"text",placeholder:"Search...",value:P,onChange:Pe=>z(Pe.target.value),autoFocus:!0,className:"flex-1 text-sm bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 rounded-md px-2 py-1 focus:ring-indigo-500 focus:border-indigo-500"}),X.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 w-24 text-center",children:M.length>0?`${F+1} of ${M.length}`:"0 results"}),X.jsx("button",{onClick:hv,disabled:M.length===0,className:"p-1 rounded-md disabled:opacity-50 hover:bg-gray-200 dark:hover:bg-gray-700",children:X.jsx(Ez,{className:"w-5 h-5"})}),X.jsx("button",{onClick:Nx,disabled:M.length===0,className:"p-1 rounded-md disabled:opacity-50 hover:bg-gray-200 dark:hover:bg-gray-700",children:X.jsx(Az,{className:"w-5 h-5"})}),X.jsx("button",{onClick:Va,className:"p-1 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700",children:X.jsx(Gl,{className:"w-5 h-5"})})]}),E&&X.jsxs("p",{className:"text-red-500 dark:text-red-400 text-sm mb-2",children:["Error: ",E]}),X.jsxs("div",{className:"relative w-full flex-1 bg-white dark:bg-gray-900 rounded-md border border-gray-300 dark:border-gray-700 focus-within:ring-2 focus-within:ring-indigo-500 focus-within:border-indigo-500",children:[X.jsx("div",{ref:x,className:`${xe} text-transparent pointer-events-none whitespace-pre-wrap break-words overflow-hidden`,children:dp()}),X.jsx("textarea",{ref:_,value:y,onChange:we,onScroll:fv,readOnly:!!T,className:`${xe} bg-transparent text-gray-800 dark:text-gray-300 focus:ring-0 focus:border-transparent z-10 disabled:bg-gray-100 dark:disabled:bg-gray-800`,placeholder:"Transcript will appear here..."})]})]})}if(a==="notes")return t.organizedNotesStatus==="generating"?ye("Generating Organized Notes..."):t.organizedNotesStatus==="error"?Ae("An error occurred while generating notes.",De):t.organizedNotes!==null?X.jsx("div",{className:"h-full bg-white dark:bg-gray-900",children:X.jsx(Zue,{theme:"snow",value:h,onChange:d,modules:pv,className:"h-full flex flex-col [&_.ql-toolbar]:bg-gray-100 [&_.ql-toolbar]:dark:bg-gray-800 [&_.ql-toolbar]:border-b [&_.ql-toolbar]:border-gray-200 [&_.ql-toolbar]:dark:border-gray-700 [&_.ql-container]:border-none"})}):X.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-center text-gray-600 dark:text-gray-500 p-4",children:[X.jsx(MP,{className:"w-12 h-12 mb-4 text-gray-400 dark:text-gray-600"}),X.jsx("p",{className:"mb-4",children:"Generate organized notes from the transcript to start."}),X.jsx("button",{onClick:De,disabled:u||!r,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 disabled:opacity-50",children:u?"Generating...":"Generate Notes"})]});if(a==="flashcards")return u?ye("Generating Flashcards..."):t.flashcards&&t.flashcards.length>0?X.jsx(wce,{cards:t.flashcards}):X.jsxs("div",{className:"p-6 text-center text-gray-600 dark:text-gray-500",children:[X.jsx("p",{className:"mb-4",children:"Generate a deck of flashcards from the key terms in the transcript."}),X.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4 max-w-xs mx-auto",children:[X.jsx("label",{htmlFor:"flashcard-count",className:"text-sm text-gray-700 dark:text-gray-300",children:"Number of flashcards:"}),X.jsx("input",{id:"flashcard-count",type:"number",value:Q,onChange:xe=>ue(Math.max(1,parseInt(xe.target.value,10)||1)),className:"w-20 bg-gray-100 dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-md p-1 text-center",min:"1",max:"50"})]}),X.jsx("button",{onClick:Xe,disabled:u||!r,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 disabled:bg-indigo-400",children:"Generate Flashcards"})]});if(a==="handouts")return X.jsxs("div",{className:"p-6 overflow-y-auto h-full flex flex-col",children:[X.jsx("input",{type:"file",ref:V,onChange:xe=>pd(xe.target.files),multiple:!0,className:"hidden",accept:".pdf,.docx,.txt,.md,.text"}),X.jsxs("div",{onDragEnter:xe=>so(xe,!0),onDragLeave:xe=>so(xe,!1),onDragOver:xe=>so(xe,!0),onDrop:ks,className:`mb-6 border-2 border-dashed rounded-md p-6 text-center transition-colors ${de?"border-indigo-500 bg-gray-100 dark:bg-gray-700":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"}`,children:[X.jsx(XA,{className:"w-10 h-10 mx-auto text-gray-500 mb-2"}),X.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Drag & drop files here, or"}),X.jsx("button",{onClick:()=>{var xe;return(xe=V.current)==null?void 0:xe.click()},className:"cursor-pointer text-indigo-500 dark:text-indigo-400 hover:text-indigo-600 dark:hover:text-indigo-300 font-medium bg-transparent border-none p-0",children:"browse to upload"}),X.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Supported formats: PDF, DOCX, TXT, MD"})]}),B&&X.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 animate-pulse my-4",children:"Parsing files..."}),X.jsx("div",{className:"max-w-4xl mx-auto w-full",children:t.handouts.length===0&&!B?X.jsxs("div",{className:"text-center text-gray-500 py-10",children:[X.jsx(OP,{className:"w-12 h-12 mx-auto mb-4 text-gray-400 dark:text-gray-600"}),X.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-white",children:"No Handouts Attached"}),X.jsx("p",{children:"Upload documents using the area above to supplement your lecture notes."})]}):t.handouts.map((xe,Pe)=>X.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-md mb-6 overflow-hidden",children:[X.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700",children:[X.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white truncate pr-4",children:xe.name}),X.jsx("button",{onClick:()=>Is(Pe),className:"p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white flex-shrink-0",children:X.jsx(Gl,{className:"w-5 h-5"})})]}),X.jsx("pre",{className:"p-4 text-gray-700 dark:text-gray-300 whitespace-pre font-sans text-sm overflow-auto",children:xe.content})]},Pe))})]});if(a==="chat")return X.jsxs("div",{className:"flex flex-col h-full",children:[X.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:X.jsxs("div",{className:"max-w-4xl mx-auto space-y-4",children:[t.chatHistory.length===0?X.jsxs("div",{className:"text-center text-gray-500",children:[X.jsx(BP,{className:"w-12 h-12 mx-auto mb-4"}),X.jsx("p",{children:"Ask a question about the lecture to get started."})]}):t.chatHistory.map((xe,Pe)=>X.jsx("div",{className:`flex ${xe.role==="user"?"justify-end":"justify-start"}`,children:X.jsxs("div",{className:`max-w-xl p-3 rounded-lg ${xe.role==="user"?"bg-indigo-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-gray-200"}`,children:[X.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:xe.content.replace(/\n/g,"<br />")}}),ae&&xe.role==="model"&&Pe===t.chatHistory.length-1&&X.jsx("span",{className:"animate-pulse",children:"..."}),xe.sources&&xe.sources.length>0&&X.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-300 dark:border-gray-600",children:[X.jsx("h4",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 mb-1",children:"Sources:"}),X.jsx("ul",{className:"text-xs space-y-1",children:xe.sources.map((ut,xt)=>X.jsx("li",{className:"truncate",children:X.jsxs("a",{href:ut.uri,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-500 dark:text-indigo-400 hover:underline",title:ut.title||ut.uri,children:[xt+1,". ",ut.title||ut.uri]})},xt))})]})]})},Pe)),X.jsx("div",{ref:pe})]})}),X.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:X.jsxs("form",{onSubmit:yu,className:"max-w-4xl mx-auto",children:[X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsx("input",{type:"text",value:Z,onChange:xe=>re(xe.target.value),placeholder:"Ask a question about the lecture...",disabled:ae||!r,className:"flex-1 p-2 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md text-gray-900 dark:text-gray-200 focus:ring-indigo-500 focus:border-indigo-500 disabled:opacity-50"}),X.jsx("button",{type:"submit",disabled:ae||!Z.trim()||!r,className:"p-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:bg-indigo-400 disabled:cursor-not-allowed",children:X.jsx(vz,{className:"w-5 h-5"})})]}),X.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[X.jsxs("div",{className:"flex items-center space-x-2",children:[X.jsx("input",{id:"search-grounding-toggle",type:"checkbox",checked:ve,onChange:xe=>se(xe.target.checked),className:"h-4 w-4 rounded border-gray-400 dark:border-gray-600 bg-gray-100 dark:bg-gray-900 text-indigo-600 focus:ring-indigo-500",disabled:!r}),X.jsx("label",{htmlFor:"search-grounding-toggle",className:`text-sm text-gray-600 dark:text-gray-400 ${r?"":"opacity-50"}`,children:"Search web for up-to-date info"})]}),X.jsxs("div",{className:"flex items-center space-x-2",title:r?"Uses more powerful AI for higher quality results":"Connect your API key in settings to enable",children:[X.jsx("input",{id:"chat-intelligence-mode-toggle",type:"checkbox",checked:oe,onChange:xe=>me(xe.target.checked),className:"h-4 w-4 rounded border-gray-400 dark:border-gray-600 bg-gray-100 dark:bg-gray-900 text-indigo-600 focus:ring-indigo-500 disabled:cursor-not-allowed",disabled:!r}),X.jsxs("label",{htmlFor:"chat-intelligence-mode-toggle",className:`text-sm text-gray-600 dark:text-gray-400 flex items-center ${r?"cursor-pointer":"opacity-50 cursor-not-allowed"}`,children:[X.jsx(A1,{className:"w-4 h-4 mr-1 text-indigo-500 dark:text-indigo-400"}),"Intelligence Mode"]})]})]})]})})]});if(u)return ye("Generating...");if(!je){let xe="";switch(a){case"guide":xe="Generate a study guide from the transcript.";break;case"questions":xe="Generate potential test questions from the transcript.";break}return X.jsxs("div",{className:"p-6 text-center text-gray-600 dark:text-gray-500",children:[X.jsx("p",{className:"mb-4",children:xe}),X.jsx("button",{onClick:De,disabled:u||!r,className:"inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 disabled:bg-indigo-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 dark:focus:ring-offset-gray-900 focus:ring-indigo-500",children:"Generate"})]})}return X.jsx("div",{className:"h-full prose dark:prose-invert p-6 prose-sm md:prose-base max-w-none whitespace-pre-wrap overflow-auto",children:je})};return X.jsxs("div",{className:"flex-1 flex flex-col bg-gray-50 dark:bg-gray-800 overflow-hidden",children:[!r&&X.jsx(Cce,{onOpenSettings:o}),X.jsxs("header",{className:"flex-shrink-0 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 p-4 flex justify-between items-center",children:[X.jsxs("div",{className:"flex items-center min-w-0",children:[n&&X.jsx("button",{onClick:i,className:"p-1 mr-4 -ml-2 text-gray-600 dark:text-gray-300",children:X.jsx(qP,{className:"w-6 h-6"})}),X.jsxs("div",{className:"flex flex-col min-w-0",children:[he==="title"?X.jsx("input",{type:"text",value:te,onChange:ye=>ie(ye.target.value),onBlur:cp,onKeyDown:dv,autoFocus:!0,className:"text-xl md:text-2xl font-bold bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white rounded-md px-2 -mx-2"}):X.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md px-2 -mx-2 truncate",onClick:()=>sr("title",t.title),children:t.title}),he==="date"?X.jsx("input",{type:"text",value:te,onChange:ye=>ie(ye.target.value),onBlur:cp,onKeyDown:dv,autoFocus:!0,className:"text-sm bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded-md px-2 -mx-2 mt-1"}):X.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md px-2 -mx-2 mt-1",onClick:()=>sr("date",t.date),children:t.date})]})]}),X.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4 flex-shrink-0",children:[X.jsxs("div",{className:"hidden md:flex items-center space-x-2",title:r?"Uses more powerful AI for higher quality results":"Connect your API key in settings to enable",children:[X.jsx("input",{id:"intelligence-mode-toggle",type:"checkbox",checked:oe,onChange:ye=>me(ye.target.checked),className:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 bg-gray-100 dark:bg-gray-900 text-indigo-600 focus:ring-indigo-500 disabled:cursor-not-allowed",disabled:!r}),X.jsxs("label",{htmlFor:"intelligence-mode-toggle",className:`text-sm text-gray-700 dark:text-gray-300 flex items-center ${r?"cursor-pointer":"opacity-50 cursor-not-allowed"}`,children:[X.jsx(A1,{className:"w-5 h-5 mr-1 text-indigo-500 dark:text-indigo-400"}),"Intelligence Mode"]})]}),X.jsxs("button",{onClick:tt,disabled:!pt,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-800 dark:text-white bg-gray-200 dark:bg-gray-700 rounded-md hover:bg-gray-300 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:[X.jsx(dz,{className:"w-5 h-5 md:mr-2"}),X.jsx("span",{className:"hidden md:inline",children:"Export"})]})]})]}),X.jsx("div",{className:"bg-white dark:bg-gray-900 p-4 border-b border-gray-200 dark:border-gray-700",children:X.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.tagsStatus==="generating"&&X.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 animate-pulse mb-2",children:"Generating suggested tags..."}),t.tagsStatus==="success"&&t.suggestedTags&&t.suggestedTags.length>0&&X.jsxs("div",{className:"mb-3",children:[X.jsx("h4",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2",children:"Suggested Tags"}),X.jsx("div",{className:"flex flex-wrap gap-2",children:t.suggestedTags.filter(ye=>!t.tags.find(Ae=>Ae.toLowerCase()===ye.toLowerCase())).map((ye,Ae)=>X.jsxs("button",{onClick:()=>{const xe=[...t.tags,ye];e(t.id,{tags:xe})},className:"px-2 py-1 text-xs rounded-full bg-teal-600 text-white hover:bg-teal-500 transition-colors",children:["+ ",ye]},`${ye}-${Ae}`))})]}),X.jsx("h4",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2",children:"My Tags"}),X.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.tags.map((ye,Ae)=>X.jsx("div",{className:"flex items-center bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-sm rounded-full pl-3 pr-1 py-1",children:(K==null?void 0:K.index)===Ae?X.jsx("input",{type:"text",value:K.value,onChange:xe=>G({...K,value:xe.target.value}),onBlur:Ds,onKeyDown:xe=>xe.key==="Enter"&&Ds(),autoFocus:!0,className:"bg-transparent text-sm w-24 focus:outline-none"}):X.jsxs(X.Fragment,{children:[X.jsx("span",{children:ye}),X.jsx("button",{onClick:()=>sn(Ae,ye),className:"ml-2 p-0.5 rounded-full hover:bg-gray-300 dark:hover:bg-gray-600",children:X.jsx(yz,{className:"w-3 h-3"})}),X.jsx("button",{onClick:()=>wn(Ae),className:"ml-1 p-0.5 rounded-full hover:bg-red-500",children:X.jsx(Gl,{className:"w-3 h-3"})})]})},Ae)),X.jsx("form",{onSubmit:Zt,className:"flex-shrink-0",children:X.jsx("input",{type:"text",value:W,onChange:ye=>J(ye.target.value),placeholder:"+ Add tag",className:"bg-transparent text-sm w-24 focus:outline-none focus:ring-1 focus:ring-indigo-500 rounded-full px-3 py-1"})})]})]})}),X.jsx("div",{className:"flex-1 overflow-hidden",children:X.jsxs("div",{className:"h-full flex flex-col",children:[X.jsx("nav",{className:"flex-shrink-0 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900",children:X.jsx("div",{className:"flex space-x-2 p-2 overflow-x-auto",children:Tce.map(ye=>X.jsxs("button",{onClick:()=>l(ye.id),className:`flex items-center space-x-2 px-4 py-2 text-sm font-medium rounded-md transition-colors whitespace-nowrap ${a===ye.id?"bg-indigo-600 text-white shadow-md":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white"}`,"aria-current":a===ye.id?"page":void 0,children:[X.jsx(ye.icon,{className:"w-5 h-5 flex-shrink-0"}),X.jsx("span",{children:ye.label})]},ye.id))})}),X.jsx("div",{className:"flex-1 overflow-auto h-full",children:Rx()})]})})]})},Ace=()=>{const t=AM();if(t.provider!=="gemini")throw new Error("Live transcription is only supported with the Gemini provider.");return new yM({apiKey:t.apiKey})};function Sce(t){let e="";const n=t.byteLength;for(let i=0;i<n;i++)e+=String.fromCharCode(t[i]);return btoa(e)}function Dce(t){const e=t.length,n=new Int16Array(e);for(let i=0;i<e;i++)n[i]=t[i]<0?t[i]*32768:t[i]*32767;return{data:Sce(new Uint8Array(n.buffer)),mimeType:"audio/pcm;rate=16000"}}const kce=({onTranscriptionComplete:t,isApiKeyReady:e,onOpenSettings:n,providerId:i})=>{const[r,o]=be.useState(!1),[s,a]=be.useState(null),l=i==="gemini",[u,c]=be.useState([]),[h,d]=be.useState(""),[f,y]=be.useState("idle"),m=be.useRef(u);be.useEffect(()=>{m.current=u},[u]);const v=be.useRef(h);be.useEffect(()=>{v.current=h},[h]);const g=be.useRef(null),p=be.useRef(null),_=be.useRef(null),x=be.useRef(null),T=be.useRef(0),A=I=>{var S,L;if((S=I.serverContent)!=null&&S.inputTranscription){const{text:D}=I.serverContent.inputTranscription;d($=>$+D)}if((L=I.serverContent)!=null&&L.turnComplete){const $=(Date.now()-T.current)/1e3;d(R=>(R.trim()&&c(P=>[...P,{text:R,startTime:$}]),""))}},E=be.useCallback((I=!1)=>{var S,L,D;if(o(!1),(S=p.current)==null||S.getTracks().forEach($=>$.stop()),(L=x.current)==null||L.disconnect(),_.current&&_.current.state!=="closed"&&_.current.close(),(D=g.current)==null||D.then($=>{$.close(),g.current=null}),!I){let $=[...m.current];if(v.current.trim()){const R=(Date.now()-T.current)/1e3;$.push({text:v.current,startTime:R})}$.length>0&&t($)}I||(c([]),d("")),f!=="error"&&y("idle")},[t,f]),k=async()=>{c([]),d(""),a(null);try{if(!l){a("Live transcription currently requires the Gemini provider. Please switch providers in Settings."),n();return}if(!e){a("Please configure your API key in settings to use live transcription."),n();return}o(!0),y("connecting"),T.current=Date.now();const I=Ace();p.current=await navigator.mediaDevices.getUserMedia({audio:!0}),g.current=I.live.connect({model:"gemini-2.5-flash-native-audio-preview-09-2025",callbacks:{onopen:()=>{if(y("connected"),!p.current)return;_.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:16e3});const S=_.current.createMediaStreamSource(p.current);x.current=_.current.createScriptProcessor(4096,1,1),x.current.onaudioprocess=L=>{var R;const D=L.inputBuffer.getChannelData(0),$=Dce(D);(R=g.current)==null||R.then(P=>{P.sendRealtimeInput({media:$})})},S.connect(x.current),x.current.connect(_.current.destination)},onmessage:A,onerror:S=>{console.error("Live session error:",S),a("A connection error occurred."),y("error"),E(!0)},onclose:S=>{console.log("Live session closed."),f!=="error"&&y("closed")}},config:{systemInstruction:"You are a highly accurate transcription service for academic lectures. Prioritize correct spelling of technical terms, proper nouns, and complex vocabulary. Your sole function is to transcribe the audio you receive with the highest possible accuracy.",inputAudioTranscription:{},responseModalities:[Gg.AUDIO]}})}catch(I){console.error("Failed to start recording:",I);const S=I instanceof Error&&I.message.toLowerCase().includes("api key")?"Please configure your API key in settings to use live transcription.":"Could not access microphone. Please check permissions.";a(S),o(!1),y("error")}};be.useEffect(()=>()=>{r&&E()},[r,E]);const U=()=>{if(!r&&f!=="error")return null;let I="bg-gray-500",S="Idle",L=!1;switch(f){case"connecting":I="bg-yellow-500",S="Connecting...";break;case"connected":I="bg-green-500",S="Connected & Listening",L=!0;break;case"error":I="bg-red-500",S="Connection Error";break;case"closed":I="bg-gray-500",S="Connection Closed";break}return X.jsxs("div",{className:"absolute top-4 right-4 flex items-center space-x-2 bg-gray-900 bg-opacity-70 px-3 py-1 rounded-full z-10",children:[X.jsx("span",{className:`h-3 w-3 rounded-full ${I} ${L?"animate-pulse":""}`}),X.jsx("span",{className:"text-sm text-gray-300",children:S})]})},N=u.map(I=>I.text).join(" ");return X.jsxs("div",{className:"relative flex-1 flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-800 p-8 text-center",children:[U(),X.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Live Note Taker"}),X.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8 max-w-lg",children:"Click the microphone to start recording your lecture. Your words will be transcribed in real-time."}),X.jsxs("div",{className:"mb-8 flex flex-col items-center space-y-3",children:[r?X.jsx("button",{onClick:()=>E(),className:"bg-red-600 text-white rounded-full p-6 hover:bg-red-700 transition-all duration-200 shadow-lg animate-pulse focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 dark:focus:ring-offset-gray-800 focus:ring-red-500",children:X.jsx(uz,{className:"w-12 h-12"})}):X.jsx("button",{onClick:k,disabled:!l||!e,className:"bg-indigo-600 text-white rounded-full p-6 hover:bg-indigo-700 transition-all duration-200 shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 dark:focus:ring-offset-gray-800 focus:ring-indigo-500 disabled:opacity-40 disabled:cursor-not-allowed",children:X.jsx(lz,{className:"w-12 h-12"})}),!l&&X.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 max-w-md",children:"Live transcription currently requires the Gemini provider. Switch providers under Settings to enable this feature."})]}),X.jsx("div",{className:"w-full max-w-3xl h-64 bg-white dark:bg-gray-900 rounded-lg p-4 overflow-y-auto border border-gray-200 dark:border-gray-700",children:X.jsxs("p",{className:"text-left text-gray-800 dark:text-gray-300 whitespace-pre-wrap",children:[N,X.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:h}),!N&&!h&&X.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:"Waiting for audio..."})]})}),s&&X.jsx("p",{className:"text-red-500 dark:text-red-400 mt-4",children:s})]})},Ice=({onClose:t,onCreateLecture:e})=>{const[n,i]=be.useState(""),[r,o]=be.useState(""),[s,a]=be.useState([]),[l,u]=be.useState(!1),[c,h]=be.useState(!1),d=be.useCallback(async g=>{if(!g||g.length===0)return;u(!0);const p=[];for(const _ of Array.from(g))try{const x=await MB(_);x&&p.push(x)}catch{alert(`Failed to parse ${_.name}. Please ensure it's a valid and non-corrupted file.`)}a(_=>[..._,...p]),u(!1)},[]),f=(g,p)=>{g.preventDefault(),g.stopPropagation(),h(p)},y=g=>{f(g,!1),d(g.dataTransfer.files)},m=()=>{if(!r.trim()){alert("A transcript is required to use the AI features.");return}e({title:n,transcript:r,handouts:s})},v=g=>{a(p=>p.filter((_,x)=>x!==g))};return X.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:X.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl flex flex-col max-h-[90vh]",children:[X.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700",children:[X.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Upload Lecture Notes or PDF Handouts"}),X.jsx("button",{onClick:t,className:"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:X.jsx(Gl,{className:"w-6 h-6"})})]}),X.jsxs("div",{className:"p-6 space-y-4 overflow-y-auto",children:[X.jsxs("div",{children:[X.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Lecture Title"}),X.jsx("input",{id:"title",type:"text",value:n,onChange:g=>i(g.target.value),placeholder:"e.g., Introduction to Quantum Physics",className:"w-full bg-gray-100 dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-md p-2 text-gray-800 dark:text-gray-200 focus:ring-indigo-500 focus:border-indigo-500"})]}),X.jsxs("div",{children:[X.jsxs("label",{htmlFor:"transcript",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Lecture Transcript ",X.jsx("span",{className:"text-red-500 dark:text-red-400",children:"*"})]}),X.jsx("textarea",{id:"transcript",value:r,onChange:g=>o(g.target.value),rows:8,placeholder:"Paste the full transcript of your lecture here. This is required for all AI features.",className:"w-full bg-gray-100 dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-md p-2 text-gray-800 dark:text-gray-200 focus:ring-indigo-500 focus:border-indigo-500"})]}),X.jsxs("div",{children:[X.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Attach Handouts (PDF, DOCX, TXT, MD)"}),X.jsxs("div",{onDragEnter:g=>f(g,!0),onDragLeave:g=>f(g,!1),onDragOver:g=>f(g,!0),onDrop:y,className:`border-2 border-dashed rounded-md p-6 text-center transition-colors ${c?"border-indigo-500 bg-gray-100 dark:bg-gray-700":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"}`,children:[X.jsx(XA,{className:"w-10 h-10 mx-auto text-gray-500 mb-2"}),X.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Drag & drop files here, or"}),X.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer text-indigo-500 dark:text-indigo-400 hover:text-indigo-600 dark:hover:text-indigo-300 font-medium",children:["browse to upload",X.jsx("input",{id:"file-upload",type:"file",multiple:!0,className:"sr-only",onChange:g=>d(g.target.files),accept:".pdf,.docx,.txt,.md,.text"})]})]})]}),l&&X.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 animate-pulse",children:"Parsing files..."}),s.length>0&&X.jsxs("div",{children:[X.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Attached Files:"}),X.jsx("ul",{className:"space-y-2",children:s.map((g,p)=>X.jsxs("li",{className:"bg-gray-100 dark:bg-gray-700 rounded-md p-2 flex items-center justify-between text-sm",children:[X.jsxs("div",{className:"flex items-center overflow-hidden",children:[X.jsx(LP,{className:"w-5 h-5 mr-2 text-gray-500 dark:text-gray-400 flex-shrink-0"}),X.jsx("span",{className:"text-gray-800 dark:text-gray-200 truncate",children:g.name})]}),X.jsx("button",{onClick:()=>v(p),className:"p-1 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-white flex-shrink-0",children:X.jsx(Gl,{className:"w-4 h-4"})})]},p))})]})]}),X.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-3",children:[X.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-200 dark:bg-gray-700 rounded-md hover:bg-gray-300 dark:hover:bg-gray-600",children:"Cancel"}),X.jsx("button",{onClick:m,disabled:l||!r.trim(),className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 disabled:bg-indigo-400 disabled:cursor-not-allowed",children:"Create Lecture"})]})]})})},Fce=({isOpen:t,onClose:e,apiConfig:n,onSaveApiConfig:i,onClearApiConfig:r,availableProviders:o,isApiKeyReady:s,theme:a,onToggleTheme:l})=>{const u=be.useMemo(()=>{var T;return((T=o[0])==null?void 0:T.id)??"gemini"},[o]),[c,h]=be.useState((n==null?void 0:n.provider)??u),[d,f]=be.useState((n==null?void 0:n.apiKey)??""),[y,m]=be.useState((n==null?void 0:n.baseUrl)??""),[v,g]=be.useState(!1);if(be.useEffect(()=>{h((n==null?void 0:n.provider)??u),f((n==null?void 0:n.apiKey)??""),m((n==null?void 0:n.baseUrl)??"")},[n,u]),!t)return null;const p=o.find(T=>T.id===c)||o[0],_=!!(p!=null&&p.allowsCustomBaseUrl),x=async()=>{if(d.trim()){g(!0);try{await i({provider:c,apiKey:d.trim(),baseUrl:y.trim()||void 0})}finally{g(!1)}}};return X.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:e,children:X.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl flex flex-col",onClick:T=>T.stopPropagation(),children:[X.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700",children:[X.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center",children:[X.jsx(A1,{className:"w-6 h-6 mr-3 text-indigo-500"}),"Settings"]}),X.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:X.jsx(Gl,{className:"w-6 h-6"})})]}),X.jsxs("div",{className:"p-6 space-y-8 overflow-y-auto max-h-[75vh]",children:[X.jsxs("section",{children:[X.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"Appearance"}),X.jsxs("div",{className:"bg-gray-100 dark:bg-gray-900 p-4 rounded-lg flex items-center justify-between",children:[X.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Theme"}),X.jsxs("button",{onClick:l,className:"flex items-center space-x-2 px-3 py-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:[a==="dark"?X.jsx(wz,{className:"w-5 h-5"}):X.jsx(Tz,{className:"w-5 h-5"}),X.jsx("span",{children:a==="dark"?"Light Mode":"Dark Mode"})]})]})]}),X.jsxs("section",{children:[X.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"AI Provider"}),X.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"IntelliNote runs entirely on your credentials. Choose your preferred provider and paste your API key below. Keys are stored locally (or in secure storage on native builds) and never bundled into release binaries."}),X.jsxs("div",{className:"space-y-4",children:[X.jsxs("div",{children:[X.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Provider"}),X.jsx("select",{value:c,onChange:T=>h(T.target.value),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:o.map(T=>X.jsx("option",{value:T.id,children:T.label},T.id))}),p&&X.jsxs("div",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:[X.jsx("p",{children:p.description}),X.jsx("a",{href:p.docsUrl,target:"_blank",rel:"noreferrer",className:"text-indigo-500 hover:underline",children:"Provider documentation"})]})]}),X.jsxs("div",{children:[X.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:(p==null?void 0:p.keyLabel)??"API Key"}),X.jsx("input",{type:"password",value:d,onChange:T=>f(T.target.value),placeholder:(p==null?void 0:p.placeholder)??"Paste your API key",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100"})]}),_&&X.jsxs("div",{children:[X.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Custom Base URL (optional)"}),X.jsx("input",{type:"text",value:y,onChange:T=>m(T.target.value),placeholder:"https://api.openai.com/v1",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100"})]}),(p==null?void 0:p.notes)&&X.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:p.notes}),X.jsxs("div",{className:"bg-gray-100 dark:bg-gray-900 p-4 rounded-lg flex items-center justify-between",children:[X.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Connection Status:"}),s?X.jsx("span",{className:"text-green-600 dark:text-green-400 font-semibold px-2 py-1 bg-green-100 dark:bg-green-900 rounded-md",children:"Configured"}):X.jsx("span",{className:"text-yellow-600 dark:text-yellow-400 font-semibold px-2 py-1 bg-yellow-100 dark:bg-yellow-900 rounded-md",children:"Missing"})]})]})]})]}),X.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 flex justify-between flex-wrap gap-3",children:[X.jsx("div",{className:"flex gap-2",children:X.jsx("button",{onClick:async()=>{await r(),f("")},className:"px-4 py-2 text-sm font-medium text-gray-600 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600",children:"Clear Key"})}),X.jsxs("div",{className:"flex gap-2",children:[X.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-200 dark:bg-gray-700 rounded-md hover:bg-gray-300 dark:hover:bg-gray-600",children:"Close"}),X.jsx("button",{onClick:x,disabled:!d.trim()||v,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Saving...":"Save API Settings"})]})]})]})})};/*! Capacitor: https://capacitorjs.com/ - MIT License */const Nce=t=>{const e=new Map;e.set("web",{name:"web"});const n=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},i=(o,s)=>{n.platforms.set(o,s)},r=o=>{n.platforms.has(o)&&(n.currentPlatform=n.platforms.get(o))};return n.addPlatform=i,n.setPlatform=r,n},Rce=t=>t.CapacitorPlatforms=Nce(t),u9=Rce(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});u9.addPlatform;u9.setPlatform;var Rf;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Rf||(Rf={}));class Pw extends Error{constructor(e,n,i){super(e),this.message=e,this.code=n,this.data=i}}const Uce=t=>{var e,n;return t!=null&&t.androidBridge?"android":!((n=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},Lce=t=>{var e,n,i,r,o;const s=t.CapacitorCustomPlatform||null,a=t.Capacitor||{},l=a.Plugins=a.Plugins||{},u=t.CapacitorPlatforms,c=()=>s!==null?s.name:Uce(t),h=((e=u==null?void 0:u.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||c,d=()=>h()!=="web",f=((n=u==null?void 0:u.currentPlatform)===null||n===void 0?void 0:n.isNativePlatform)||d,y=E=>{const k=x.get(E);return!!(k!=null&&k.platforms.has(h())||g(E))},m=((i=u==null?void 0:u.currentPlatform)===null||i===void 0?void 0:i.isPluginAvailable)||y,v=E=>{var k;return(k=a.PluginHeaders)===null||k===void 0?void 0:k.find(U=>U.name===E)},g=((r=u==null?void 0:u.currentPlatform)===null||r===void 0?void 0:r.getPluginHeader)||v,p=E=>t.console.error(E),_=(E,k,U)=>Promise.reject(`${U} does not have an implementation of "${k}".`),x=new Map,T=(E,k={})=>{const U=x.get(E);if(U)return console.warn(`Capacitor plugin "${E}" already registered. Cannot register plugins twice.`),U.proxy;const N=h(),I=g(E);let S;const L=async()=>(!S&&N in k?S=typeof k[N]=="function"?S=await k[N]():S=k[N]:s!==null&&!S&&"web"in k&&(S=typeof k.web=="function"?S=await k.web():S=k.web),S),D=(q,F)=>{var O,W;if(I){const J=I==null?void 0:I.methods.find(K=>F===K.name);if(J)return J.rtype==="promise"?K=>a.nativePromise(E,F.toString(),K):(K,G)=>a.nativeCallback(E,F.toString(),K,G);if(q)return(O=q[F])===null||O===void 0?void 0:O.bind(q)}else{if(q)return(W=q[F])===null||W===void 0?void 0:W.bind(q);throw new Pw(`"${E}" plugin is not implemented on ${N}`,Rf.Unimplemented)}},$=q=>{let F;const O=(...W)=>{const J=L().then(K=>{const G=D(K,q);if(G){const Z=G(...W);return F=Z==null?void 0:Z.remove,Z}else throw new Pw(`"${E}.${q}()" is not implemented on ${N}`,Rf.Unimplemented)});return q==="addListener"&&(J.remove=async()=>F()),J};return O.toString=()=>`${q.toString()}() { [capacitor code] }`,Object.defineProperty(O,"name",{value:q,writable:!1,configurable:!1}),O},R=$("addListener"),P=$("removeListener"),z=(q,F)=>{const O=R({eventName:q},F),W=async()=>{const K=await O;P({eventName:q,callbackId:K},F)},J=new Promise(K=>O.then(()=>K({remove:W})));return J.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await W()},J},M=new Proxy({},{get(q,F){switch(F){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return I?z:R;case"removeListener":return P;default:return $(F)}}});return l[E]=M,x.set(E,{name:E,proxy:M,platforms:new Set([...Object.keys(k),...I?[N]:[]])}),M},A=((o=u==null?void 0:u.currentPlatform)===null||o===void 0?void 0:o.registerPlugin)||T;return a.convertFileSrc||(a.convertFileSrc=E=>E),a.getPlatform=h,a.handleError=p,a.isNativePlatform=f,a.isPluginAvailable=m,a.pluginMethodNoop=_,a.registerPlugin=A,a.Exception=Pw,a.DEBUG=!!a.DEBUG,a.isLoggingEnabled=!!a.isLoggingEnabled,a.platform=a.getPlatform(),a.isNative=a.isNativePlatform(),a},Pce=t=>t.Capacitor=Lce(t),nb=Pce(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),qD=nb.registerPlugin;nb.Plugins;class c9{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,n){let i=!1;this.listeners[e]||(this.listeners[e]=[],i=!0),this.listeners[e].push(n);const o=this.windowListeners[e];o&&!o.registered&&this.addWindowListener(o),i&&this.sendRetainedArgumentsForEvent(e);const s=async()=>this.removeListener(e,n);return Promise.resolve({remove:s})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,i){const r=this.listeners[e];if(!r){if(i){let o=this.retainedEventArguments[e];o||(o=[]),o.push(n),this.retainedEventArguments[e]=o}return}r.forEach(o=>o(n))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:i=>{this.notifyListeners(n,i)}}}unimplemented(e="not implemented"){return new nb.Exception(e,Rf.Unimplemented)}unavailable(e="not available"){return new nb.Exception(e,Rf.Unavailable)}async removeListener(e,n){const i=this.listeners[e];if(!i)return;const r=i.indexOf(n);this.listeners[e].splice(r,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(i=>{this.notifyListeners(e,i)}))}}const r5=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),o5=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Mce extends c9{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(i=>{if(i.length<=0)return;let[r,o]=i.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");r=o5(r).trim(),o=o5(o).trim(),n[r]=o}),n}async setCookie(e){try{const n=r5(e.key),i=r5(e.value),r=`; expires=${(e.expires||"").replace("expires=","")}`,o=(e.path||"/").replace("path=",""),s=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${i||""}${r}; path=${o}; ${s};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}qD("CapacitorCookies",{web:()=>new Mce});const Oce=async t=>new Promise((e,n)=>{const i=new FileReader;i.onload=()=>{const r=i.result;e(r.indexOf(",")>=0?r.split(",")[1]:r)},i.onerror=r=>n(r),i.readAsDataURL(t)}),Bce=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(r=>r.toLocaleLowerCase()).reduce((r,o,s)=>(r[o]=t[e[s]],r),{})},qce=(t,e=!0)=>t?Object.entries(t).reduce((i,r)=>{const[o,s]=r;let a,l;return Array.isArray(s)?(l="",s.forEach(u=>{a=e?encodeURIComponent(u):u,l+=`${o}=${a}&`}),l.slice(0,-1)):(a=e?encodeURIComponent(s):s,l=`${o}=${a}`),`${i}&${l}`},"").substr(1):null,Wce=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),r=Bce(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(r.includes("application/x-www-form-urlencoded")){const o=new URLSearchParams;for(const[s,a]of Object.entries(t.data||{}))o.set(s,a);n.body=o.toString()}else if(r.includes("multipart/form-data")||t.data instanceof FormData){const o=new FormData;if(t.data instanceof FormData)t.data.forEach((a,l)=>{o.append(l,a)});else for(const a of Object.keys(t.data))o.append(a,t.data[a]);n.body=o;const s=new Headers(n.headers);s.delete("content-type"),n.headers=s}else(r.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class $ce extends c9{async request(e){const n=Wce(e,e.webFetchExtra),i=qce(e.params,e.shouldEncodeUrlParams),r=i?`${e.url}?${i}`:e.url,o=await fetch(r,n),s=o.headers.get("content-type")||"";let{responseType:a="text"}=o.ok?e:{};s.includes("application/json")&&(a="json");let l,u;switch(a){case"arraybuffer":case"blob":u=await o.blob(),l=await Oce(u);break;case"json":l=await o.json();break;case"document":case"text":default:l=await o.text()}const c={};return o.headers.forEach((h,d)=>{c[d]=h}),{data:l,headers:c,status:o.status,url:o.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}qD("CapacitorHttp",{web:()=>new $ce});const Mw=qD("App",{web:()=>Tt(()=>import("./web-DYYyTzch.js"),[]).then(t=>new t.AppWeb)});function zce(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=Array.from(typeof t=="string"?[t]:t);i[i.length-1]=i[i.length-1].replace(/\r?\n([\t ]*)$/,"");var r=i.reduce(function(a,l){var u=l.match(/\n([\t ]+|(?!\s).)/g);return u?a.concat(u.map(function(c){var h,d;return(d=(h=c.match(/[\t ]/g))===null||h===void 0?void 0:h.length)!==null&&d!==void 0?d:0})):a},[]);if(r.length){var o=new RegExp(`
[	 ]{`+Math.min.apply(Math,r)+"}","g");i=i.map(function(a){return a.replace(o,`
`)})}i[0]=i[0].replace(/^\r?\n/,"");var s=i[0];return e.forEach(function(a,l){var u=s.match(/(?:^|\n)( *)$/),c=u?u[1]:"",h=a;typeof a=="string"&&a.includes(`
`)&&(h=String(a).split(`
`).map(function(d,f){return f===0?d:""+c+d}).join(`
`)),s+=h+i[l+1]}),s}var d9={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Ve,function(){var n=1e3,i=6e4,r=36e5,o="millisecond",s="second",a="minute",l="hour",u="day",c="week",h="month",d="quarter",f="year",y="date",m="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,p={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(D){var $=["th","st","nd","rd"],R=D%100;return"["+D+($[(R-20)%10]||$[R]||$[0])+"]"}},_=function(D,$,R){var P=String(D);return!P||P.length>=$?D:""+Array($+1-P.length).join(R)+D},x={s:_,z:function(D){var $=-D.utcOffset(),R=Math.abs($),P=Math.floor(R/60),z=R%60;return($<=0?"+":"-")+_(P,2,"0")+":"+_(z,2,"0")},m:function D($,R){if($.date()<R.date())return-D(R,$);var P=12*(R.year()-$.year())+(R.month()-$.month()),z=$.clone().add(P,h),M=R-z<0,q=$.clone().add(P+(M?-1:1),h);return+(-(P+(R-z)/(M?z-q:q-z))||0)},a:function(D){return D<0?Math.ceil(D)||0:Math.floor(D)},p:function(D){return{M:h,y:f,w:c,d:u,D:y,h:l,m:a,s,ms:o,Q:d}[D]||String(D||"").toLowerCase().replace(/s$/,"")},u:function(D){return D===void 0}},T="en",A={};A[T]=p;var E="$isDayjsObject",k=function(D){return D instanceof S||!(!D||!D[E])},U=function D($,R,P){var z;if(!$)return T;if(typeof $=="string"){var M=$.toLowerCase();A[M]&&(z=M),R&&(A[M]=R,z=M);var q=$.split("-");if(!z&&q.length>1)return D(q[0])}else{var F=$.name;A[F]=$,z=F}return!P&&z&&(T=z),z||!P&&T},N=function(D,$){if(k(D))return D.clone();var R=typeof $=="object"?$:{};return R.date=D,R.args=arguments,new S(R)},I=x;I.l=U,I.i=k,I.w=function(D,$){return N(D,{locale:$.$L,utc:$.$u,x:$.$x,$offset:$.$offset})};var S=function(){function D(R){this.$L=U(R.locale,null,!0),this.parse(R),this.$x=this.$x||R.x||{},this[E]=!0}var $=D.prototype;return $.parse=function(R){this.$d=function(P){var z=P.date,M=P.utc;if(z===null)return new Date(NaN);if(I.u(z))return new Date;if(z instanceof Date)return new Date(z);if(typeof z=="string"&&!/Z$/i.test(z)){var q=z.match(v);if(q){var F=q[2]-1||0,O=(q[7]||"0").substring(0,3);return M?new Date(Date.UTC(q[1],F,q[3]||1,q[4]||0,q[5]||0,q[6]||0,O)):new Date(q[1],F,q[3]||1,q[4]||0,q[5]||0,q[6]||0,O)}}return new Date(z)}(R),this.init()},$.init=function(){var R=this.$d;this.$y=R.getFullYear(),this.$M=R.getMonth(),this.$D=R.getDate(),this.$W=R.getDay(),this.$H=R.getHours(),this.$m=R.getMinutes(),this.$s=R.getSeconds(),this.$ms=R.getMilliseconds()},$.$utils=function(){return I},$.isValid=function(){return this.$d.toString()!==m},$.isSame=function(R,P){var z=N(R);return this.startOf(P)<=z&&z<=this.endOf(P)},$.isAfter=function(R,P){return N(R)<this.startOf(P)},$.isBefore=function(R,P){return this.endOf(P)<N(R)},$.$g=function(R,P,z){return I.u(R)?this[P]:this.set(z,R)},$.unix=function(){return Math.floor(this.valueOf()/1e3)},$.valueOf=function(){return this.$d.getTime()},$.startOf=function(R,P){var z=this,M=!!I.u(P)||P,q=I.p(R),F=function(ae,ge){var ve=I.w(z.$u?Date.UTC(z.$y,ge,ae):new Date(z.$y,ge,ae),z);return M?ve:ve.endOf(u)},O=function(ae,ge){return I.w(z.toDate()[ae].apply(z.toDate("s"),(M?[0,0,0,0]:[23,59,59,999]).slice(ge)),z)},W=this.$W,J=this.$M,K=this.$D,G="set"+(this.$u?"UTC":"");switch(q){case f:return M?F(1,0):F(31,11);case h:return M?F(1,J):F(0,J+1);case c:var Z=this.$locale().weekStart||0,re=(W<Z?W+7:W)-Z;return F(M?K-re:K+(6-re),J);case u:case y:return O(G+"Hours",0);case l:return O(G+"Minutes",1);case a:return O(G+"Seconds",2);case s:return O(G+"Milliseconds",3);default:return this.clone()}},$.endOf=function(R){return this.startOf(R,!1)},$.$set=function(R,P){var z,M=I.p(R),q="set"+(this.$u?"UTC":""),F=(z={},z[u]=q+"Date",z[y]=q+"Date",z[h]=q+"Month",z[f]=q+"FullYear",z[l]=q+"Hours",z[a]=q+"Minutes",z[s]=q+"Seconds",z[o]=q+"Milliseconds",z)[M],O=M===u?this.$D+(P-this.$W):P;if(M===h||M===f){var W=this.clone().set(y,1);W.$d[F](O),W.init(),this.$d=W.set(y,Math.min(this.$D,W.daysInMonth())).$d}else F&&this.$d[F](O);return this.init(),this},$.set=function(R,P){return this.clone().$set(R,P)},$.get=function(R){return this[I.p(R)]()},$.add=function(R,P){var z,M=this;R=Number(R);var q=I.p(P),F=function(J){var K=N(M);return I.w(K.date(K.date()+Math.round(J*R)),M)};if(q===h)return this.set(h,this.$M+R);if(q===f)return this.set(f,this.$y+R);if(q===u)return F(1);if(q===c)return F(7);var O=(z={},z[a]=i,z[l]=r,z[s]=n,z)[q]||1,W=this.$d.getTime()+R*O;return I.w(W,this)},$.subtract=function(R,P){return this.add(-1*R,P)},$.format=function(R){var P=this,z=this.$locale();if(!this.isValid())return z.invalidDate||m;var M=R||"YYYY-MM-DDTHH:mm:ssZ",q=I.z(this),F=this.$H,O=this.$m,W=this.$M,J=z.weekdays,K=z.months,G=z.meridiem,Z=function(ge,ve,se,pe){return ge&&(ge[ve]||ge(P,M))||se[ve].slice(0,pe)},re=function(ge){return I.s(F%12||12,ge,"0")},ae=G||function(ge,ve,se){var pe=ge<12?"AM":"PM";return se?pe.toLowerCase():pe};return M.replace(g,function(ge,ve){return ve||function(se){switch(se){case"YY":return String(P.$y).slice(-2);case"YYYY":return I.s(P.$y,4,"0");case"M":return W+1;case"MM":return I.s(W+1,2,"0");case"MMM":return Z(z.monthsShort,W,K,3);case"MMMM":return Z(K,W);case"D":return P.$D;case"DD":return I.s(P.$D,2,"0");case"d":return String(P.$W);case"dd":return Z(z.weekdaysMin,P.$W,J,2);case"ddd":return Z(z.weekdaysShort,P.$W,J,3);case"dddd":return J[P.$W];case"H":return String(F);case"HH":return I.s(F,2,"0");case"h":return re(1);case"hh":return re(2);case"a":return ae(F,O,!0);case"A":return ae(F,O,!1);case"m":return String(O);case"mm":return I.s(O,2,"0");case"s":return String(P.$s);case"ss":return I.s(P.$s,2,"0");case"SSS":return I.s(P.$ms,3,"0");case"Z":return q}return null}(ge)||q.replace(":","")})},$.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$.diff=function(R,P,z){var M,q=this,F=I.p(P),O=N(R),W=(O.utcOffset()-this.utcOffset())*i,J=this-O,K=function(){return I.m(q,O)};switch(F){case f:M=K()/12;break;case h:M=K();break;case d:M=K()/3;break;case c:M=(J-W)/6048e5;break;case u:M=(J-W)/864e5;break;case l:M=J/r;break;case a:M=J/i;break;case s:M=J/n;break;default:M=J}return z?M:I.a(M)},$.daysInMonth=function(){return this.endOf(h).$D},$.$locale=function(){return A[this.$L]},$.locale=function(R,P){if(!R)return this.$L;var z=this.clone(),M=U(R,P,!0);return M&&(z.$L=M),z},$.clone=function(){return I.w(this.$d,this)},$.toDate=function(){return new Date(this.valueOf())},$.toJSON=function(){return this.isValid()?this.toISOString():null},$.toISOString=function(){return this.$d.toISOString()},$.toString=function(){return this.$d.toUTCString()},D}(),L=S.prototype;return N.prototype=L,[["$ms",o],["$s",s],["$m",a],["$H",l],["$W",u],["$M",h],["$y",f],["$D",y]].forEach(function(D){L[D[1]]=function($){return this.$g($,D[0],D[1])}}),N.extend=function(D,$){return D.$i||(D($,S,N),D.$i=!0),N},N.locale=U,N.isDayjs=k,N.unix=function(D){return N(1e3*D)},N.en=A[T],N.Ls=A,N.p={},N})})(d9);var Hce=d9.exports;const Vce=QE(Hce);var h9={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.sanitizeUrl=t.BLANK_URL=void 0;var e=/^([^\w]*)(javascript|data|vbscript)/im,n=/&#(\w+)(^\w|;)?/g,i=/&(newline|tab);/gi,r=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,o=/^.+(:|&colon;)/gim,s=[".","/"];t.BLANK_URL="about:blank";function a(c){return s.indexOf(c[0])>-1}function l(c){var h=c.replace(r,"");return h.replace(n,function(d,f){return String.fromCharCode(f)})}function u(c){if(!c)return t.BLANK_URL;var h=l(c).replace(i,"").replace(r,"").trim();if(!h)return t.BLANK_URL;if(a(h))return h;var d=h.match(o);if(!d)return h;var f=d[0];return e.test(f)?t.BLANK_URL:h}t.sanitizeUrl=u})(h9);var Gce={value:()=>{}};function f9(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new j0(n)}function j0(t){this._=t}function jce(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}j0.prototype=f9.prototype={constructor:j0,on:function(t,e){var n=this._,i=jce(t+"",n),r,o=-1,s=i.length;if(arguments.length<2){for(;++o<s;)if((r=(t=i[o]).type)&&(r=Xce(n[r],t.name)))return r;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(r=(t=i[o]).type)n[r]=s5(n[r],t.name,e);else if(e==null)for(r in n)n[r]=s5(n[r],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new j0(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,o;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};function Xce(t,e){for(var n=0,i=t.length,r;n<i;++n)if((r=t[n]).name===e)return r.value}function s5(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=Gce,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var FE="http://www.w3.org/1999/xhtml";const a5={svg:"http://www.w3.org/2000/svg",xhtml:FE,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function px(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),a5.hasOwnProperty(e)?{space:a5[e],local:t}:t}function Yce(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===FE&&e.documentElement.namespaceURI===FE?e.createElement(t):e.createElementNS(n,t)}}function Kce(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function p9(t){var e=px(t);return(e.local?Kce:Yce)(e)}function Jce(){}function WD(t){return t==null?Jce:function(){return this.querySelector(t)}}function Zce(t){typeof t!="function"&&(t=WD(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o=e[r],s=o.length,a=i[r]=new Array(s),l,u,c=0;c<s;++c)(l=o[c])&&(u=t.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new Dr(i,this._parents)}function Qce(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function ede(){return[]}function g9(t){return t==null?ede:function(){return this.querySelectorAll(t)}}function tde(t){return function(){return Qce(t.apply(this,arguments))}}function nde(t){typeof t=="function"?t=tde(t):t=g9(t);for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var s=e[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&(i.push(t.call(l,l.__data__,u,s)),r.push(l));return new Dr(i,r)}function m9(t){return function(){return this.matches(t)}}function y9(t){return function(e){return e.matches(t)}}var ide=Array.prototype.find;function rde(t){return function(){return ide.call(this.children,t)}}function ode(){return this.firstElementChild}function sde(t){return this.select(t==null?ode:rde(typeof t=="function"?t:y9(t)))}var ade=Array.prototype.filter;function lde(){return Array.from(this.children)}function ude(t){return function(){return ade.call(this.children,t)}}function cde(t){return this.selectAll(t==null?lde:ude(typeof t=="function"?t:y9(t)))}function dde(t){typeof t!="function"&&(t=m9(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o=e[r],s=o.length,a=i[r]=[],l,u=0;u<s;++u)(l=o[u])&&t.call(l,l.__data__,u,o)&&a.push(l);return new Dr(i,this._parents)}function v9(t){return new Array(t.length)}function hde(){return new Dr(this._enter||this._groups.map(v9),this._parents)}function ib(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ib.prototype={constructor:ib,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function fde(t){return function(){return t}}function pde(t,e,n,i,r,o){for(var s=0,a,l=e.length,u=o.length;s<u;++s)(a=e[s])?(a.__data__=o[s],i[s]=a):n[s]=new ib(t,o[s]);for(;s<l;++s)(a=e[s])&&(r[s]=a)}function gde(t,e,n,i,r,o,s){var a,l,u=new Map,c=e.length,h=o.length,d=new Array(c),f;for(a=0;a<c;++a)(l=e[a])&&(d[a]=f=s.call(l,l.__data__,a,e)+"",u.has(f)?r[a]=l:u.set(f,l));for(a=0;a<h;++a)f=s.call(t,o[a],a,o)+"",(l=u.get(f))?(i[a]=l,l.__data__=o[a],u.delete(f)):n[a]=new ib(t,o[a]);for(a=0;a<c;++a)(l=e[a])&&u.get(d[a])===l&&(r[a]=l)}function mde(t){return t.__data__}function yde(t,e){if(!arguments.length)return Array.from(this,mde);var n=e?gde:pde,i=this._parents,r=this._groups;typeof t!="function"&&(t=fde(t));for(var o=r.length,s=new Array(o),a=new Array(o),l=new Array(o),u=0;u<o;++u){var c=i[u],h=r[u],d=h.length,f=vde(t.call(c,c&&c.__data__,u,i)),y=f.length,m=a[u]=new Array(y),v=s[u]=new Array(y),g=l[u]=new Array(d);n(c,h,m,v,g,f,e);for(var p=0,_=0,x,T;p<y;++p)if(x=m[p]){for(p>=_&&(_=p+1);!(T=v[_])&&++_<y;);x._next=T||null}}return s=new Dr(s,i),s._enter=a,s._exit=l,s}function vde(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function bde(){return new Dr(this._exit||this._groups.map(v9),this._parents)}function _de(t,e,n){var i=this.enter(),r=this,o=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(r=e(r),r&&(r=r.selection())),n==null?o.remove():n(o),i&&r?i.merge(r).order():r}function xde(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,r=n.length,o=i.length,s=Math.min(r,o),a=new Array(r),l=0;l<s;++l)for(var u=n[l],c=i[l],h=u.length,d=a[l]=new Array(h),f,y=0;y<h;++y)(f=u[y]||c[y])&&(d[y]=f);for(;l<r;++l)a[l]=n[l];return new Dr(a,this._parents)}function wde(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],r=i.length-1,o=i[r],s;--r>=0;)(s=i[r])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Tde(t){t||(t=Cde);function e(h,d){return h&&d?t(h.__data__,d.__data__):!h-!d}for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var s=n[o],a=s.length,l=r[o]=new Array(a),u,c=0;c<a;++c)(u=s[c])&&(l[c]=u);l.sort(e)}return new Dr(r,this._parents).order()}function Cde(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Ede(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Ade(){return Array.from(this)}function Sde(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null}function Dde(){let t=0;for(const e of this)++t;return t}function kde(){return!this.node()}function Ide(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r=e[n],o=0,s=r.length,a;o<s;++o)(a=r[o])&&t.call(a,a.__data__,o,r);return this}function Fde(t){return function(){this.removeAttribute(t)}}function Nde(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Rde(t,e){return function(){this.setAttribute(t,e)}}function Ude(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Lde(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Pde(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Mde(t,e){var n=px(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?Nde:Fde:typeof e=="function"?n.local?Pde:Lde:n.local?Ude:Rde)(n,e))}function b9(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ode(t){return function(){this.style.removeProperty(t)}}function Bde(t,e,n){return function(){this.style.setProperty(t,e,n)}}function qde(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function Wde(t,e,n){return arguments.length>1?this.each((e==null?Ode:typeof e=="function"?qde:Bde)(t,e,n??"")):Uf(this.node(),t)}function Uf(t,e){return t.style.getPropertyValue(e)||b9(t).getComputedStyle(t,null).getPropertyValue(e)}function $de(t){return function(){delete this[t]}}function zde(t,e){return function(){this[t]=e}}function Hde(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Vde(t,e){return arguments.length>1?this.each((e==null?$de:typeof e=="function"?Hde:zde)(t,e)):this.node()[t]}function _9(t){return t.trim().split(/^|\s+/)}function $D(t){return t.classList||new x9(t)}function x9(t){this._node=t,this._names=_9(t.getAttribute("class")||"")}x9.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function w9(t,e){for(var n=$D(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function T9(t,e){for(var n=$D(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function Gde(t){return function(){w9(this,t)}}function jde(t){return function(){T9(this,t)}}function Xde(t,e){return function(){(e.apply(this,arguments)?w9:T9)(this,t)}}function Yde(t,e){var n=_9(t+"");if(arguments.length<2){for(var i=$D(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof e=="function"?Xde:e?Gde:jde)(n,e))}function Kde(){this.textContent=""}function Jde(t){return function(){this.textContent=t}}function Zde(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Qde(t){return arguments.length?this.each(t==null?Kde:(typeof t=="function"?Zde:Jde)(t)):this.node().textContent}function ehe(){this.innerHTML=""}function the(t){return function(){this.innerHTML=t}}function nhe(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function ihe(t){return arguments.length?this.each(t==null?ehe:(typeof t=="function"?nhe:the)(t)):this.node().innerHTML}function rhe(){this.nextSibling&&this.parentNode.appendChild(this)}function ohe(){return this.each(rhe)}function she(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ahe(){return this.each(she)}function lhe(t){var e=typeof t=="function"?t:p9(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function uhe(){return null}function che(t,e){var n=typeof t=="function"?t:p9(t),i=e==null?uhe:typeof e=="function"?e:WD(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function dhe(){var t=this.parentNode;t&&t.removeChild(this)}function hhe(){return this.each(dhe)}function fhe(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function phe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ghe(t){return this.select(t?phe:fhe)}function mhe(t){return arguments.length?this.property("__data__",t):this.node().__data__}function yhe(t){return function(e){t.call(this,e,this.__data__)}}function vhe(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function bhe(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,r=e.length,o;n<r;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++i]=o;++i?e.length=i:delete this.__on}}}function _he(t,e,n){return function(){var i=this.__on,r,o=yhe(e);if(i){for(var s=0,a=i.length;s<a;++s)if((r=i[s]).type===t.type&&r.name===t.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),r.value=e;return}}this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function xhe(t,e,n){var i=vhe(t+""),r,o=i.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(r=0,c=a[l];r<o;++r)if((s=i[r]).type===c.type&&s.name===c.name)return c.value}return}for(a=e?_he:bhe,r=0;r<o;++r)this.each(a(i[r],e,n));return this}function C9(t,e,n){var i=b9(t),r=i.CustomEvent;typeof r=="function"?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function whe(t,e){return function(){return C9(this,t,e)}}function The(t,e){return function(){return C9(this,t,e.apply(this,arguments))}}function Che(t,e){return this.each((typeof e=="function"?The:whe)(t,e))}function*Ehe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length,s;r<o;++r)(s=i[r])&&(yield s)}var E9=[null];function Dr(t,e){this._groups=t,this._parents=e}function ov(){return new Dr([[document.documentElement]],E9)}function Ahe(){return this}Dr.prototype=ov.prototype={constructor:Dr,select:Zce,selectAll:nde,selectChild:sde,selectChildren:cde,filter:dde,data:yde,enter:hde,exit:bde,join:_de,merge:xde,selection:Ahe,order:wde,sort:Tde,call:Ede,nodes:Ade,node:Sde,size:Dde,empty:kde,each:Ide,attr:Mde,style:Wde,property:Vde,classed:Yde,text:Qde,html:ihe,raise:ohe,lower:ahe,append:lhe,insert:che,remove:hhe,clone:ghe,datum:mhe,on:xhe,dispatch:Che,[Symbol.iterator]:Ehe};function Hr(t){return typeof t=="string"?new Dr([[document.querySelector(t)]],[document.documentElement]):new Dr([[t]],E9)}function zD(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function A9(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function sv(){}var um=.7,rb=1/um,ch="\\s*([+-]?\\d+)\\s*",cm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",She=/^#([0-9a-f]{3,8})$/,Dhe=new RegExp(`^rgb\\(${ch},${ch},${ch}\\)$`),khe=new RegExp(`^rgb\\(${bs},${bs},${bs}\\)$`),Ihe=new RegExp(`^rgba\\(${ch},${ch},${ch},${cm}\\)$`),Fhe=new RegExp(`^rgba\\(${bs},${bs},${bs},${cm}\\)$`),Nhe=new RegExp(`^hsl\\(${cm},${bs},${bs}\\)$`),Rhe=new RegExp(`^hsla\\(${cm},${bs},${bs},${cm}\\)$`),l5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};zD(sv,dm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:u5,formatHex:u5,formatHex8:Uhe,formatHsl:Lhe,formatRgb:c5,toString:c5});function u5(){return this.rgb().formatHex()}function Uhe(){return this.rgb().formatHex8()}function Lhe(){return S9(this).formatHsl()}function c5(){return this.rgb().formatRgb()}function dm(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=She.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?d5(e):n===3?new Yi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?jv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?jv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Dhe.exec(t))?new Yi(e[1],e[2],e[3],1):(e=khe.exec(t))?new Yi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ihe.exec(t))?jv(e[1],e[2],e[3],e[4]):(e=Fhe.exec(t))?jv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Nhe.exec(t))?p5(e[1],e[2]/100,e[3]/100,1):(e=Rhe.exec(t))?p5(e[1],e[2]/100,e[3]/100,e[4]):l5.hasOwnProperty(t)?d5(l5[t]):t==="transparent"?new Yi(NaN,NaN,NaN,0):null}function d5(t){return new Yi(t>>16&255,t>>8&255,t&255,1)}function jv(t,e,n,i){return i<=0&&(t=e=n=NaN),new Yi(t,e,n,i)}function Phe(t){return t instanceof sv||(t=dm(t)),t?(t=t.rgb(),new Yi(t.r,t.g,t.b,t.opacity)):new Yi}function NE(t,e,n,i){return arguments.length===1?Phe(t):new Yi(t,e,n,i??1)}function Yi(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}zD(Yi,NE,A9(sv,{brighter(t){return t=t==null?rb:Math.pow(rb,t),new Yi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?um:Math.pow(um,t),new Yi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Yi(qc(this.r),qc(this.g),qc(this.b),ob(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:h5,formatHex:h5,formatHex8:Mhe,formatRgb:f5,toString:f5}));function h5(){return`#${Fu(this.r)}${Fu(this.g)}${Fu(this.b)}`}function Mhe(){return`#${Fu(this.r)}${Fu(this.g)}${Fu(this.b)}${Fu((isNaN(this.opacity)?1:this.opacity)*255)}`}function f5(){const t=ob(this.opacity);return`${t===1?"rgb(":"rgba("}${qc(this.r)}, ${qc(this.g)}, ${qc(this.b)}${t===1?")":`, ${t})`}`}function ob(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function qc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Fu(t){return t=qc(t),(t<16?"0":"")+t.toString(16)}function p5(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Do(t,e,n,i)}function S9(t){if(t instanceof Do)return new Do(t.h,t.s,t.l,t.opacity);if(t instanceof sv||(t=dm(t)),!t)return new Do;if(t instanceof Do)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),s=NaN,a=o-r,l=(o+r)/2;return a?(e===o?s=(n-i)/a+(n<i)*6:n===o?s=(i-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+r:2-o-r,s*=60):a=l>0&&l<1?0:s,new Do(s,a,l,t.opacity)}function Ohe(t,e,n,i){return arguments.length===1?S9(t):new Do(t,e,n,i??1)}function Do(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}zD(Do,Ohe,A9(sv,{brighter(t){return t=t==null?rb:Math.pow(rb,t),new Do(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?um:Math.pow(um,t),new Do(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new Yi(Ow(t>=240?t-240:t+120,r,i),Ow(t,r,i),Ow(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new Do(g5(this.h),Xv(this.s),Xv(this.l),ob(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ob(this.opacity);return`${t===1?"hsl(":"hsla("}${g5(this.h)}, ${Xv(this.s)*100}%, ${Xv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function g5(t){return t=(t||0)%360,t<0?t+360:t}function Xv(t){return Math.max(0,Math.min(1,t||0))}function Ow(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const HD=t=>()=>t;function D9(t,e){return function(n){return t+n*e}}function Bhe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function Jxe(t,e){var n=e-t;return n?D9(t,n>180||n<-180?n-360*Math.round(n/360):n):HD(isNaN(t)?e:t)}function qhe(t){return(t=+t)==1?k9:function(e,n){return n-e?Bhe(e,n,t):HD(isNaN(e)?n:e)}}function k9(t,e){var n=e-t;return n?D9(t,n):HD(isNaN(t)?e:t)}const m5=function t(e){var n=qhe(e);function i(r,o){var s=n((r=NE(r)).r,(o=NE(o)).r),a=n(r.g,o.g),l=n(r.b,o.b),u=k9(r.opacity,o.opacity);return function(c){return r.r=s(c),r.g=a(c),r.b=l(c),r.opacity=u(c),r+""}}return i.gamma=t,i}(1);function el(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var RE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bw=new RegExp(RE.source,"g");function Whe(t){return function(){return t}}function $he(t){return function(e){return t(e)+""}}function zhe(t,e){var n=RE.lastIndex=Bw.lastIndex=0,i,r,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(i=RE.exec(t))&&(r=Bw.exec(e));)(o=r.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(i=i[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,l.push({i:s,x:el(i,r)})),n=Bw.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?$he(l[0].x):Whe(e):(e=l.length,function(u){for(var c=0,h;c<e;++c)a[(h=l[c]).i]=h.x(u);return a.join("")})}var y5=180/Math.PI,UE={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function I9(t,e,n,i,r,o){var s,a,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,l/=a),t*i<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*y5,skewX:Math.atan(l)*y5,scaleX:s,scaleY:a}}var Yv;function Hhe(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?UE:I9(e.a,e.b,e.c,e.d,e.e,e.f)}function Vhe(t){return t==null||(Yv||(Yv=document.createElementNS("http://www.w3.org/2000/svg","g")),Yv.setAttribute("transform",t),!(t=Yv.transform.baseVal.consolidate()))?UE:(t=t.matrix,I9(t.a,t.b,t.c,t.d,t.e,t.f))}function F9(t,e,n,i){function r(u){return u.length?u.pop()+" ":""}function o(u,c,h,d,f,y){if(u!==h||c!==d){var m=f.push("translate(",null,e,null,n);y.push({i:m-4,x:el(u,h)},{i:m-2,x:el(c,d)})}else(h||d)&&f.push("translate("+h+e+d+n)}function s(u,c,h,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:h.push(r(h)+"rotate(",null,i)-2,x:el(u,c)})):c&&h.push(r(h)+"rotate("+c+i)}function a(u,c,h,d){u!==c?d.push({i:h.push(r(h)+"skewX(",null,i)-2,x:el(u,c)}):c&&h.push(r(h)+"skewX("+c+i)}function l(u,c,h,d,f,y){if(u!==h||c!==d){var m=f.push(r(f)+"scale(",null,",",null,")");y.push({i:m-4,x:el(u,h)},{i:m-2,x:el(c,d)})}else(h!==1||d!==1)&&f.push(r(f)+"scale("+h+","+d+")")}return function(u,c){var h=[],d=[];return u=t(u),c=t(c),o(u.translateX,u.translateY,c.translateX,c.translateY,h,d),s(u.rotate,c.rotate,h,d),a(u.skewX,c.skewX,h,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,h,d),u=c=null,function(f){for(var y=-1,m=d.length,v;++y<m;)h[(v=d[y]).i]=v.x(f);return h.join("")}}}var Ghe=F9(Hhe,"px, ","px)","deg)"),jhe=F9(Vhe,", ",")",")"),Lf=0,sg=0,Np=0,N9=1e3,sb,ag,ab=0,ed=0,gx=0,hm=typeof performance=="object"&&performance.now?performance:Date,R9=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function VD(){return ed||(R9(Xhe),ed=hm.now()+gx)}function Xhe(){ed=0}function lb(){this._call=this._time=this._next=null}lb.prototype=U9.prototype={constructor:lb,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?VD():+n)+(e==null?0:+e),!this._next&&ag!==this&&(ag?ag._next=this:sb=this,ag=this),this._call=t,this._time=n,LE()},stop:function(){this._call&&(this._call=null,this._time=1/0,LE())}};function U9(t,e,n){var i=new lb;return i.restart(t,e,n),i}function Yhe(){VD(),++Lf;for(var t=sb,e;t;)(e=ed-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Lf}function v5(){ed=(ab=hm.now())+gx,Lf=sg=0;try{Yhe()}finally{Lf=0,Jhe(),ed=0}}function Khe(){var t=hm.now(),e=t-ab;e>N9&&(gx-=e,ab=t)}function Jhe(){for(var t,e=sb,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:sb=n);ag=t,LE(i)}function LE(t){if(!Lf){sg&&(sg=clearTimeout(sg));var e=t-ed;e>24?(t<1/0&&(sg=setTimeout(v5,t-hm.now()-gx)),Np&&(Np=clearInterval(Np))):(Np||(ab=hm.now(),Np=setInterval(Khe,N9)),Lf=1,R9(v5))}}function b5(t,e,n){var i=new lb;return e=e==null?0:+e,i.restart(r=>{i.stop(),t(r+e)},e,n),i}var Zhe=f9("start","end","cancel","interrupt"),Qhe=[],L9=0,_5=1,PE=2,X0=3,x5=4,ME=5,Y0=6;function mx(t,e,n,i,r,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;efe(t,n,{name:e,index:i,group:r,on:Zhe,tween:Qhe,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:L9})}function GD(t,e){var n=$o(t,e);if(n.state>L9)throw new Error("too late; already scheduled");return n}function As(t,e){var n=$o(t,e);if(n.state>X0)throw new Error("too late; already running");return n}function $o(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function efe(t,e,n){var i=t.__transition,r;i[e]=n,n.timer=U9(o,0,n.time);function o(u){n.state=_5,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,h,d,f;if(n.state!==_5)return l();for(c in i)if(f=i[c],f.name===n.name){if(f.state===X0)return b5(s);f.state===x5?(f.state=Y0,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[c]):+c<e&&(f.state=Y0,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[c])}if(b5(function(){n.state===X0&&(n.state=x5,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=PE,n.on.call("start",t,t.__data__,n.index,n.group),n.state===PE){for(n.state=X0,r=new Array(d=n.tween.length),c=0,h=-1;c<d;++c)(f=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++h]=f);r.length=h+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=ME,1),h=-1,d=r.length;++h<d;)r[h].call(t,c);n.state===ME&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=Y0,n.timer.stop(),delete i[e];for(var u in i)return;delete t.__transition}}function tfe(t,e){var n=t.__transition,i,r,o=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((i=n[s]).name!==e){o=!1;continue}r=i.state>PE&&i.state<ME,i.state=Y0,i.timer.stop(),i.on.call(r?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[s]}o&&delete t.__transition}}function nfe(t){return this.each(function(){tfe(this,t)})}function ife(t,e){var n,i;return function(){var r=As(this,t),o=r.tween;if(o!==n){i=n=o;for(var s=0,a=i.length;s<a;++s)if(i[s].name===e){i=i.slice(),i.splice(s,1);break}}r.tween=i}}function rfe(t,e,n){var i,r;if(typeof n!="function")throw new Error;return function(){var o=As(this,t),s=o.tween;if(s!==i){r=(i=s).slice();for(var a={name:e,value:n},l=0,u=r.length;l<u;++l)if(r[l].name===e){r[l]=a;break}l===u&&r.push(a)}o.tween=r}}function ofe(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=$o(this.node(),n).tween,r=0,o=i.length,s;r<o;++r)if((s=i[r]).name===t)return s.value;return null}return this.each((e==null?ife:rfe)(n,t,e))}function jD(t,e,n){var i=t._id;return t.each(function(){var r=As(this,i);(r.value||(r.value={}))[e]=n.apply(this,arguments)}),function(r){return $o(r,i).value[e]}}function P9(t,e){var n;return(typeof e=="number"?el:e instanceof dm?m5:(n=dm(e))?(e=n,m5):zhe)(t,e)}function sfe(t){return function(){this.removeAttribute(t)}}function afe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function lfe(t,e,n){var i,r=n+"",o;return function(){var s=this.getAttribute(t);return s===r?null:s===i?o:o=e(i=s,n)}}function ufe(t,e,n){var i,r=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===r?null:s===i?o:o=e(i=s,n)}}function cfe(t,e,n){var i,r,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(t):(s=this.getAttribute(t),l=a+"",s===l?null:s===i&&l===r?o:(r=l,o=e(i=s,a)))}}function dfe(t,e,n){var i,r,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),l=a+"",s===l?null:s===i&&l===r?o:(r=l,o=e(i=s,a)))}}function hfe(t,e){var n=px(t),i=n==="transform"?jhe:P9;return this.attrTween(t,typeof e=="function"?(n.local?dfe:cfe)(n,i,jD(this,"attr."+t,e)):e==null?(n.local?afe:sfe)(n):(n.local?ufe:lfe)(n,i,e))}function ffe(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function pfe(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function gfe(t,e){var n,i;function r(){var o=e.apply(this,arguments);return o!==i&&(n=(i=o)&&pfe(t,o)),n}return r._value=e,r}function mfe(t,e){var n,i;function r(){var o=e.apply(this,arguments);return o!==i&&(n=(i=o)&&ffe(t,o)),n}return r._value=e,r}function yfe(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=px(t);return this.tween(n,(i.local?gfe:mfe)(i,e))}function vfe(t,e){return function(){GD(this,t).delay=+e.apply(this,arguments)}}function bfe(t,e){return e=+e,function(){GD(this,t).delay=e}}function _fe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?vfe:bfe)(e,t)):$o(this.node(),e).delay}function xfe(t,e){return function(){As(this,t).duration=+e.apply(this,arguments)}}function wfe(t,e){return e=+e,function(){As(this,t).duration=e}}function Tfe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?xfe:wfe)(e,t)):$o(this.node(),e).duration}function Cfe(t,e){if(typeof e!="function")throw new Error;return function(){As(this,t).ease=e}}function Efe(t){var e=this._id;return arguments.length?this.each(Cfe(e,t)):$o(this.node(),e).ease}function Afe(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;As(this,t).ease=n}}function Sfe(t){if(typeof t!="function")throw new Error;return this.each(Afe(this._id,t))}function Dfe(t){typeof t!="function"&&(t=m9(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o=e[r],s=o.length,a=i[r]=[],l,u=0;u<s;++u)(l=o[u])&&t.call(l,l.__data__,u,o)&&a.push(l);return new La(i,this._parents,this._name,this._id)}function kfe(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var l=e[a],u=n[a],c=l.length,h=s[a]=new Array(c),d,f=0;f<c;++f)(d=l[f]||u[f])&&(h[f]=d);for(;a<i;++a)s[a]=e[a];return new La(s,this._parents,this._name,this._id)}function Ife(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Ffe(t,e,n){var i,r,o=Ife(e)?GD:As;return function(){var s=o(this,t),a=s.on;a!==i&&(r=(i=a).copy()).on(e,n),s.on=r}}function Nfe(t,e){var n=this._id;return arguments.length<2?$o(this.node(),n).on.on(t):this.each(Ffe(n,t,e))}function Rfe(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Ufe(){return this.on("end.remove",Rfe(this._id))}function Lfe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=WD(t));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var a=i[s],l=a.length,u=o[s]=new Array(l),c,h,d=0;d<l;++d)(c=a[d])&&(h=t.call(c,c.__data__,d,a))&&("__data__"in c&&(h.__data__=c.__data__),u[d]=h,mx(u[d],e,n,d,u,$o(c,n)));return new La(o,this._parents,e,n)}function Pfe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=g9(t));for(var i=this._groups,r=i.length,o=[],s=[],a=0;a<r;++a)for(var l=i[a],u=l.length,c,h=0;h<u;++h)if(c=l[h]){for(var d=t.call(c,c.__data__,h,l),f,y=$o(c,n),m=0,v=d.length;m<v;++m)(f=d[m])&&mx(f,e,n,m,d,y);o.push(d),s.push(c)}return new La(o,s,e,n)}var Mfe=ov.prototype.constructor;function Ofe(){return new Mfe(this._groups,this._parents)}function Bfe(t,e){var n,i,r;return function(){var o=Uf(this,t),s=(this.style.removeProperty(t),Uf(this,t));return o===s?null:o===n&&s===i?r:r=e(n=o,i=s)}}function M9(t){return function(){this.style.removeProperty(t)}}function qfe(t,e,n){var i,r=n+"",o;return function(){var s=Uf(this,t);return s===r?null:s===i?o:o=e(i=s,n)}}function Wfe(t,e,n){var i,r,o;return function(){var s=Uf(this,t),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),Uf(this,t))),s===l?null:s===i&&l===r?o:(r=l,o=e(i=s,a))}}function $fe(t,e){var n,i,r,o="style."+e,s="end."+o,a;return function(){var l=As(this,t),u=l.on,c=l.value[o]==null?a||(a=M9(e)):void 0;(u!==n||r!==c)&&(i=(n=u).copy()).on(s,r=c),l.on=i}}function zfe(t,e,n){var i=(t+="")=="transform"?Ghe:P9;return e==null?this.styleTween(t,Bfe(t,i)).on("end.style."+t,M9(t)):typeof e=="function"?this.styleTween(t,Wfe(t,i,jD(this,"style."+t,e))).each($fe(this._id,t)):this.styleTween(t,qfe(t,i,e),n).on("end.style."+t,null)}function Hfe(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function Vfe(t,e,n){var i,r;function o(){var s=e.apply(this,arguments);return s!==r&&(i=(r=s)&&Hfe(t,s,n)),i}return o._value=e,o}function Gfe(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,Vfe(t,e,n??""))}function jfe(t){return function(){this.textContent=t}}function Xfe(t){return function(){var e=t(this);this.textContent=e??""}}function Yfe(t){return this.tween("text",typeof t=="function"?Xfe(jD(this,"text",t)):jfe(t==null?"":t+""))}function Kfe(t){return function(e){this.textContent=t.call(this,e)}}function Jfe(t){var e,n;function i(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Kfe(r)),e}return i._value=t,i}function Zfe(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Jfe(t))}function Qfe(){for(var t=this._name,e=this._id,n=O9(),i=this._groups,r=i.length,o=0;o<r;++o)for(var s=i[o],a=s.length,l,u=0;u<a;++u)if(l=s[u]){var c=$o(l,e);mx(l,t,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new La(i,this._parents,t,n)}function epe(){var t,e,n=this,i=n._id,r=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--r===0&&o()}};n.each(function(){var u=As(this,i),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),u.on=e}),r===0&&o()})}var tpe=0;function La(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function O9(){return++tpe}var Ps=ov.prototype;La.prototype={constructor:La,select:Lfe,selectAll:Pfe,selectChild:Ps.selectChild,selectChildren:Ps.selectChildren,filter:Dfe,merge:kfe,selection:Ofe,transition:Qfe,call:Ps.call,nodes:Ps.nodes,node:Ps.node,size:Ps.size,empty:Ps.empty,each:Ps.each,on:Nfe,attr:hfe,attrTween:yfe,style:zfe,styleTween:Gfe,text:Yfe,textTween:Zfe,remove:Ufe,tween:ofe,delay:_fe,duration:Tfe,ease:Efe,easeVarying:Sfe,end:epe,[Symbol.iterator]:Ps[Symbol.iterator]};function npe(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var ipe={time:null,delay:0,duration:250,ease:npe};function rpe(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function ope(t){var e,n;t instanceof La?(e=t._id,t=t._name):(e=O9(),(n=ipe).time=VD(),t=t==null?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var s=i[o],a=s.length,l,u=0;u<a;++u)(l=s[u])&&mx(l,t,e,u,s,n||rpe(l,e));return new La(i,this._parents,t,e)}ov.prototype.interrupt=nfe;ov.prototype.transition=ope;const Zxe=Math.abs,Qxe=Math.atan2,e2e=Math.cos,t2e=Math.max,n2e=Math.min,i2e=Math.sin,r2e=Math.sqrt,w5=1e-12,XD=Math.PI,T5=XD/2,o2e=2*XD;function s2e(t){return t>1?0:t<-1?XD:Math.acos(t)}function a2e(t){return t>=1?T5:t<=-1?-T5:Math.asin(t)}function B9(t){this._context=t}B9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function spe(t){return new B9(t)}class q9{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function ape(t){return new q9(t,!0)}function lpe(t){return new q9(t,!1)}function iu(){}function ub(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function yx(t){this._context=t}yx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ub(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ub(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function upe(t){return new yx(t)}function W9(t){this._context=t}W9.prototype={areaStart:iu,areaEnd:iu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ub(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cpe(t){return new W9(t)}function $9(t){this._context=t}$9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:ub(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dpe(t){return new $9(t)}function z9(t,e){this._basis=new yx(t),this._beta=e}z9.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var i=t[0],r=e[0],o=t[n]-i,s=e[n]-r,a=-1,l;++a<=n;)l=a/n,this._basis.point(this._beta*t[a]+(1-this._beta)*(i+l*o),this._beta*e[a]+(1-this._beta)*(r+l*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const hpe=function t(e){function n(i){return e===1?new yx(i):new z9(i,e)}return n.beta=function(i){return t(+i)},n}(.85);function cb(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function YD(t,e){this._context=t,this._k=(1-e)/6}YD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:cb(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:cb(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const fpe=function t(e){function n(i){return new YD(i,e)}return n.tension=function(i){return t(+i)},n}(0);function KD(t,e){this._context=t,this._k=(1-e)/6}KD.prototype={areaStart:iu,areaEnd:iu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:cb(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const ppe=function t(e){function n(i){return new KD(i,e)}return n.tension=function(i){return t(+i)},n}(0);function JD(t,e){this._context=t,this._k=(1-e)/6}JD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:cb(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const gpe=function t(e){function n(i){return new JD(i,e)}return n.tension=function(i){return t(+i)},n}(0);function ZD(t,e,n){var i=t._x1,r=t._y1,o=t._x2,s=t._y2;if(t._l01_a>w5){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,r=(r*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>w5){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*u+t._x1*t._l23_2a-e*t._l12_2a)/c,s=(s*u+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(i,r,o,s,t._x2,t._y2)}function H9(t,e){this._context=t,this._alpha=e}H9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:ZD(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const mpe=function t(e){function n(i){return e?new H9(i,e):new YD(i,0)}return n.alpha=function(i){return t(+i)},n}(.5);function V9(t,e){this._context=t,this._alpha=e}V9.prototype={areaStart:iu,areaEnd:iu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:ZD(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const ype=function t(e){function n(i){return e?new V9(i,e):new KD(i,0)}return n.alpha=function(i){return t(+i)},n}(.5);function G9(t,e){this._context=t,this._alpha=e}G9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ZD(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const vpe=function t(e){function n(i){return e?new G9(i,e):new JD(i,0)}return n.alpha=function(i){return t(+i)},n}(.5);function j9(t){this._context=t}j9.prototype={areaStart:iu,areaEnd:iu,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function bpe(t){return new j9(t)}function C5(t){return t<0?-1:1}function E5(t,e,n){var i=t._x1-t._x0,r=e-t._x1,o=(t._y1-t._y0)/(i||r<0&&-0),s=(n-t._y1)/(r||i<0&&-0),a=(o*r+s*i)/(i+r);return(C5(o)+C5(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function A5(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function qw(t,e,n){var i=t._x0,r=t._y0,o=t._x1,s=t._y1,a=(o-i)/3;t._context.bezierCurveTo(i+a,r+a*e,o-a,s-a*n,o,s)}function db(t){this._context=t}db.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qw(this,this._t0,A5(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,qw(this,A5(this,n=E5(this,t,e)),n);break;default:qw(this,this._t0,n=E5(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function X9(t){this._context=new Y9(t)}(X9.prototype=Object.create(db.prototype)).point=function(t,e){db.prototype.point.call(this,e,t)};function Y9(t){this._context=t}Y9.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,o){this._context.bezierCurveTo(e,t,i,n,o,r)}};function _pe(t){return new db(t)}function xpe(t){return new X9(t)}function K9(t){this._context=t}K9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var i=S5(t),r=S5(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function S5(t){var e,n=t.length-1,i,r=new Array(n),o=new Array(n),s=new Array(n);for(r[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)r[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(r[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)i=r[e]/o[e-1],o[e]-=i,s[e]-=i*s[e-1];for(r[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)r[e]=(s[e]-r[e+1])/o[e];for(o[n-1]=(t[n]+r[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-r[e+1];return[r,o]}function wpe(t){return new K9(t)}function vx(t,e){this._context=t,this._t=e}vx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Tpe(t){return new vx(t,.5)}function Cpe(t){return new vx(t,0)}function Epe(t){return new vx(t,1)}function lg(t,e,n){this.k=t,this.x=e,this.y=n}lg.prototype={constructor:lg,scale:function(t){return t===1?this:new lg(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new lg(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};lg.prototype;/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */const{entries:J9,setPrototypeOf:D5,isFrozen:Ape,getPrototypeOf:Spe,getOwnPropertyDescriptor:Dpe}=Object;let{freeze:Fi,seal:ro,create:OE}=Object,{apply:BE,construct:qE}=typeof Reflect<"u"&&Reflect;Fi||(Fi=function(e){return e});ro||(ro=function(e){return e});BE||(BE=function(e,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];return e.apply(n,r)});qE||(qE=function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return new e(...i)});const Kv=Ni(Array.prototype.forEach),kpe=Ni(Array.prototype.lastIndexOf),k5=Ni(Array.prototype.pop),Rp=Ni(Array.prototype.push),Ipe=Ni(Array.prototype.splice),K0=Ni(String.prototype.toLowerCase),Ww=Ni(String.prototype.toString),$w=Ni(String.prototype.match),Up=Ni(String.prototype.replace),Fpe=Ni(String.prototype.indexOf),Npe=Ni(String.prototype.trim),uo=Ni(Object.prototype.hasOwnProperty),yi=Ni(RegExp.prototype.test),Lp=Rpe(TypeError);function Ni(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return BE(t,e,i)}}function Rpe(t){return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return qE(t,n)}}function rt(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:K0;D5&&D5(t,null);let i=e.length;for(;i--;){let r=e[i];if(typeof r=="string"){const o=n(r);o!==r&&(Ape(e)||(e[i]=o),r=o)}t[r]=!0}return t}function Upe(t){for(let e=0;e<t.length;e++)uo(t,e)||(t[e]=null);return t}function $s(t){const e=OE(null);for(const[n,i]of J9(t))uo(t,n)&&(Array.isArray(i)?e[n]=Upe(i):i&&typeof i=="object"&&i.constructor===Object?e[n]=$s(i):e[n]=i);return e}function Pp(t,e){for(;t!==null;){const i=Dpe(t,e);if(i){if(i.get)return Ni(i.get);if(typeof i.value=="function")return Ni(i.value)}t=Spe(t)}function n(){return null}return n}const I5=Fi(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),zw=Fi(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Hw=Fi(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Lpe=Fi(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Vw=Fi(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Ppe=Fi(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),F5=Fi(["#text"]),N5=Fi(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Gw=Fi(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),R5=Fi(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Jv=Fi(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Mpe=ro(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ope=ro(/<%[\w\W]*|[\w\W]*%>/gm),Bpe=ro(/\$\{[\w\W]*/gm),qpe=ro(/^data-[\-\w.\u00B7-\uFFFF]+$/),Wpe=ro(/^aria-[\-\w]+$/),Z9=ro(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),$pe=ro(/^(?:\w+script|data):/i),zpe=ro(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Q9=ro(/^html$/i),Hpe=ro(/^[a-z][.\w]*(-[.\w]+)+$/i);var U5=Object.freeze({__proto__:null,ARIA_ATTR:Wpe,ATTR_WHITESPACE:zpe,CUSTOM_ELEMENT:Hpe,DATA_ATTR:qpe,DOCTYPE_NAME:Q9,ERB_EXPR:Ope,IS_ALLOWED_URI:Z9,IS_SCRIPT_OR_DATA:$pe,MUSTACHE_EXPR:Mpe,TMPLIT_EXPR:Bpe});const Mp={element:1,text:3,progressingInstruction:7,comment:8,document:9},Vpe=function(){return typeof window>"u"?null:window},Gpe=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let i=null;const r="data-tt-policy-suffix";n&&n.hasAttribute(r)&&(i=n.getAttribute(r));const o="dompurify"+(i?"#"+i:"");try{return e.createPolicy(o,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},L5=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function e7(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Vpe();const e=We=>e7(We);if(e.version="3.3.0",e.removed=[],!t||!t.document||t.document.nodeType!==Mp.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const i=n,r=i.currentScript,{DocumentFragment:o,HTMLTemplateElement:s,Node:a,Element:l,NodeFilter:u,NamedNodeMap:c=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:h,DOMParser:d,trustedTypes:f}=t,y=l.prototype,m=Pp(y,"cloneNode"),v=Pp(y,"remove"),g=Pp(y,"nextSibling"),p=Pp(y,"childNodes"),_=Pp(y,"parentNode");if(typeof s=="function"){const We=n.createElement("template");We.content&&We.content.ownerDocument&&(n=We.content.ownerDocument)}let x,T="";const{implementation:A,createNodeIterator:E,createDocumentFragment:k,getElementsByTagName:U}=n,{importNode:N}=i;let I=L5();e.isSupported=typeof J9=="function"&&typeof _=="function"&&A&&A.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:S,ERB_EXPR:L,TMPLIT_EXPR:D,DATA_ATTR:$,ARIA_ATTR:R,IS_SCRIPT_OR_DATA:P,ATTR_WHITESPACE:z,CUSTOM_ELEMENT:M}=U5;let{IS_ALLOWED_URI:q}=U5,F=null;const O=rt({},[...I5,...zw,...Hw,...Vw,...F5]);let W=null;const J=rt({},[...N5,...Gw,...R5,...Jv]);let K=Object.seal(OE(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),G=null,Z=null;const re=Object.seal(OE(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let ae=!0,ge=!0,ve=!1,se=!0,pe=!1,B=!0,le=!1,de=!1,ee=!1,V=!1,Q=!1,ue=!1,he=!0,ne=!1;const te="user-content-";let ie=!0,oe=!1,me={},we=null;const Ee=rt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let je=null;const De=rt({},["audio","video","img","source","image","track"]);let Xe=null;const pt=rt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),tt="http://www.w3.org/1998/Math/MathML",Zt="http://www.w3.org/2000/svg",wn="http://www.w3.org/1999/xhtml";let sn=wn,Ds=!1,yu=null;const pd=rt({},[tt,Zt,wn],Ww);let so=rt({},["mi","mo","mn","ms","mtext"]),ks=rt({},["annotation-xml"]);const Is=rt({},["title","style","font","a","script"]);let sr=null;const cp=["application/xhtml+xml","text/html"],dv="text/html";let Pt=null,Va=null;const Nx=n.createElement("form"),hv=function(ce){return ce instanceof RegExp||ce instanceof Function},dp=function(){let ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Va&&Va===ce)){if((!ce||typeof ce!="object")&&(ce={}),ce=$s(ce),sr=cp.indexOf(ce.PARSER_MEDIA_TYPE)===-1?dv:ce.PARSER_MEDIA_TYPE,Pt=sr==="application/xhtml+xml"?Ww:K0,F=uo(ce,"ALLOWED_TAGS")?rt({},ce.ALLOWED_TAGS,Pt):O,W=uo(ce,"ALLOWED_ATTR")?rt({},ce.ALLOWED_ATTR,Pt):J,yu=uo(ce,"ALLOWED_NAMESPACES")?rt({},ce.ALLOWED_NAMESPACES,Ww):pd,Xe=uo(ce,"ADD_URI_SAFE_ATTR")?rt($s(pt),ce.ADD_URI_SAFE_ATTR,Pt):pt,je=uo(ce,"ADD_DATA_URI_TAGS")?rt($s(De),ce.ADD_DATA_URI_TAGS,Pt):De,we=uo(ce,"FORBID_CONTENTS")?rt({},ce.FORBID_CONTENTS,Pt):Ee,G=uo(ce,"FORBID_TAGS")?rt({},ce.FORBID_TAGS,Pt):$s({}),Z=uo(ce,"FORBID_ATTR")?rt({},ce.FORBID_ATTR,Pt):$s({}),me=uo(ce,"USE_PROFILES")?ce.USE_PROFILES:!1,ae=ce.ALLOW_ARIA_ATTR!==!1,ge=ce.ALLOW_DATA_ATTR!==!1,ve=ce.ALLOW_UNKNOWN_PROTOCOLS||!1,se=ce.ALLOW_SELF_CLOSE_IN_ATTR!==!1,pe=ce.SAFE_FOR_TEMPLATES||!1,B=ce.SAFE_FOR_XML!==!1,le=ce.WHOLE_DOCUMENT||!1,V=ce.RETURN_DOM||!1,Q=ce.RETURN_DOM_FRAGMENT||!1,ue=ce.RETURN_TRUSTED_TYPE||!1,ee=ce.FORCE_BODY||!1,he=ce.SANITIZE_DOM!==!1,ne=ce.SANITIZE_NAMED_PROPS||!1,ie=ce.KEEP_CONTENT!==!1,oe=ce.IN_PLACE||!1,q=ce.ALLOWED_URI_REGEXP||Z9,sn=ce.NAMESPACE||wn,so=ce.MATHML_TEXT_INTEGRATION_POINTS||so,ks=ce.HTML_INTEGRATION_POINTS||ks,K=ce.CUSTOM_ELEMENT_HANDLING||{},ce.CUSTOM_ELEMENT_HANDLING&&hv(ce.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(K.tagNameCheck=ce.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ce.CUSTOM_ELEMENT_HANDLING&&hv(ce.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(K.attributeNameCheck=ce.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ce.CUSTOM_ELEMENT_HANDLING&&typeof ce.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(K.allowCustomizedBuiltInElements=ce.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),pe&&(ge=!1),Q&&(V=!0),me&&(F=rt({},F5),W=[],me.html===!0&&(rt(F,I5),rt(W,N5)),me.svg===!0&&(rt(F,zw),rt(W,Gw),rt(W,Jv)),me.svgFilters===!0&&(rt(F,Hw),rt(W,Gw),rt(W,Jv)),me.mathMl===!0&&(rt(F,Vw),rt(W,R5),rt(W,Jv))),ce.ADD_TAGS&&(typeof ce.ADD_TAGS=="function"?re.tagCheck=ce.ADD_TAGS:(F===O&&(F=$s(F)),rt(F,ce.ADD_TAGS,Pt))),ce.ADD_ATTR&&(typeof ce.ADD_ATTR=="function"?re.attributeCheck=ce.ADD_ATTR:(W===J&&(W=$s(W)),rt(W,ce.ADD_ATTR,Pt))),ce.ADD_URI_SAFE_ATTR&&rt(Xe,ce.ADD_URI_SAFE_ATTR,Pt),ce.FORBID_CONTENTS&&(we===Ee&&(we=$s(we)),rt(we,ce.FORBID_CONTENTS,Pt)),ie&&(F["#text"]=!0),le&&rt(F,["html","head","body"]),F.table&&(rt(F,["tbody"]),delete G.tbody),ce.TRUSTED_TYPES_POLICY){if(typeof ce.TRUSTED_TYPES_POLICY.createHTML!="function")throw Lp('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ce.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Lp('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');x=ce.TRUSTED_TYPES_POLICY,T=x.createHTML("")}else x===void 0&&(x=Gpe(f,r)),x!==null&&typeof T=="string"&&(T=x.createHTML(""));Fi&&Fi(ce),Va=ce}},fv=rt({},[...zw,...Hw,...Lpe]),pv=rt({},[...Vw,...Ppe]),Rx=function(ce){let Ce=_(ce);(!Ce||!Ce.tagName)&&(Ce={namespaceURI:sn,tagName:"template"});const Le=K0(ce.tagName),Mt=K0(Ce.tagName);return yu[ce.namespaceURI]?ce.namespaceURI===Zt?Ce.namespaceURI===wn?Le==="svg":Ce.namespaceURI===tt?Le==="svg"&&(Mt==="annotation-xml"||so[Mt]):!!fv[Le]:ce.namespaceURI===tt?Ce.namespaceURI===wn?Le==="math":Ce.namespaceURI===Zt?Le==="math"&&ks[Mt]:!!pv[Le]:ce.namespaceURI===wn?Ce.namespaceURI===Zt&&!ks[Mt]||Ce.namespaceURI===tt&&!so[Mt]?!1:!pv[Le]&&(Is[Le]||!fv[Le]):!!(sr==="application/xhtml+xml"&&yu[ce.namespaceURI]):!1},ye=function(ce){Rp(e.removed,{element:ce});try{_(ce).removeChild(ce)}catch{v(ce)}},Ae=function(ce,Ce){try{Rp(e.removed,{attribute:Ce.getAttributeNode(ce),from:Ce})}catch{Rp(e.removed,{attribute:null,from:Ce})}if(Ce.removeAttribute(ce),ce==="is")if(V||Q)try{ye(Ce)}catch{}else try{Ce.setAttribute(ce,"")}catch{}},xe=function(ce){let Ce=null,Le=null;if(ee)ce="<remove></remove>"+ce;else{const an=$w(ce,/^[\r\n\t ]+/);Le=an&&an[0]}sr==="application/xhtml+xml"&&sn===wn&&(ce='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ce+"</body></html>");const Mt=x?x.createHTML(ce):ce;if(sn===wn)try{Ce=new d().parseFromString(Mt,sr)}catch{}if(!Ce||!Ce.documentElement){Ce=A.createDocument(sn,"template",null);try{Ce.documentElement.innerHTML=Ds?T:Mt}catch{}}const Gn=Ce.body||Ce.documentElement;return ce&&Le&&Gn.insertBefore(n.createTextNode(Le),Gn.childNodes[0]||null),sn===wn?U.call(Ce,le?"html":"body")[0]:le?Ce.documentElement:Gn},Pe=function(ce){return E.call(ce.ownerDocument||ce,ce,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},ut=function(ce){return ce instanceof h&&(typeof ce.nodeName!="string"||typeof ce.textContent!="string"||typeof ce.removeChild!="function"||!(ce.attributes instanceof c)||typeof ce.removeAttribute!="function"||typeof ce.setAttribute!="function"||typeof ce.namespaceURI!="string"||typeof ce.insertBefore!="function"||typeof ce.hasChildNodes!="function")},xt=function(ce){return typeof a=="function"&&ce instanceof a};function $t(We,ce,Ce){Kv(We,Le=>{Le.call(e,ce,Ce,Va)})}const zt=function(ce){let Ce=null;if($t(I.beforeSanitizeElements,ce,null),ut(ce))return ye(ce),!0;const Le=Pt(ce.nodeName);if($t(I.uponSanitizeElement,ce,{tagName:Le,allowedTags:F}),B&&ce.hasChildNodes()&&!xt(ce.firstElementChild)&&yi(/<[/\w!]/g,ce.innerHTML)&&yi(/<[/\w!]/g,ce.textContent)||ce.nodeType===Mp.progressingInstruction||B&&ce.nodeType===Mp.comment&&yi(/<[/\w]/g,ce.data))return ye(ce),!0;if(!(re.tagCheck instanceof Function&&re.tagCheck(Le))&&(!F[Le]||G[Le])){if(!G[Le]&&Sk(Le)&&(K.tagNameCheck instanceof RegExp&&yi(K.tagNameCheck,Le)||K.tagNameCheck instanceof Function&&K.tagNameCheck(Le)))return!1;if(ie&&!we[Le]){const Mt=_(ce)||ce.parentNode,Gn=p(ce)||ce.childNodes;if(Gn&&Mt){const an=Gn.length;for(let Li=an-1;Li>=0;--Li){const Fs=m(Gn[Li],!0);Fs.__removalCount=(ce.__removalCount||0)+1,Mt.insertBefore(Fs,g(ce))}}}return ye(ce),!0}return ce instanceof l&&!Rx(ce)||(Le==="noscript"||Le==="noembed"||Le==="noframes")&&yi(/<\/no(script|embed|frames)/i,ce.innerHTML)?(ye(ce),!0):(pe&&ce.nodeType===Mp.text&&(Ce=ce.textContent,Kv([S,L,D],Mt=>{Ce=Up(Ce,Mt," ")}),ce.textContent!==Ce&&(Rp(e.removed,{element:ce.cloneNode()}),ce.textContent=Ce)),$t(I.afterSanitizeElements,ce,null),!1)},gd=function(ce,Ce,Le){if(he&&(Ce==="id"||Ce==="name")&&(Le in n||Le in Nx))return!1;if(!(ge&&!Z[Ce]&&yi($,Ce))){if(!(ae&&yi(R,Ce))){if(!(re.attributeCheck instanceof Function&&re.attributeCheck(Ce,ce))){if(!W[Ce]||Z[Ce]){if(!(Sk(ce)&&(K.tagNameCheck instanceof RegExp&&yi(K.tagNameCheck,ce)||K.tagNameCheck instanceof Function&&K.tagNameCheck(ce))&&(K.attributeNameCheck instanceof RegExp&&yi(K.attributeNameCheck,Ce)||K.attributeNameCheck instanceof Function&&K.attributeNameCheck(Ce,ce))||Ce==="is"&&K.allowCustomizedBuiltInElements&&(K.tagNameCheck instanceof RegExp&&yi(K.tagNameCheck,Le)||K.tagNameCheck instanceof Function&&K.tagNameCheck(Le))))return!1}else if(!Xe[Ce]){if(!yi(q,Up(Le,z,""))){if(!((Ce==="src"||Ce==="xlink:href"||Ce==="href")&&ce!=="script"&&Fpe(Le,"data:")===0&&je[ce])){if(!(ve&&!yi(P,Up(Le,z,"")))){if(Le)return!1}}}}}}}return!0},Sk=function(ce){return ce!=="annotation-xml"&&$w(ce,M)},Dk=function(ce){$t(I.beforeSanitizeAttributes,ce,null);const{attributes:Ce}=ce;if(!Ce||ut(ce))return;const Le={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:W,forceKeepAttr:void 0};let Mt=Ce.length;for(;Mt--;){const Gn=Ce[Mt],{name:an,namespaceURI:Li,value:Fs}=Gn,md=Pt(an),Ux=Fs;let Rn=an==="value"?Ux:Npe(Ux);if(Le.attrName=md,Le.attrValue=Rn,Le.keepAttr=!0,Le.forceKeepAttr=void 0,$t(I.uponSanitizeAttribute,ce,Le),Rn=Le.attrValue,ne&&(md==="id"||md==="name")&&(Ae(an,ce),Rn=te+Rn),B&&yi(/((--!?|])>)|<\/(style|title|textarea)/i,Rn)){Ae(an,ce);continue}if(md==="attributename"&&$w(Rn,"href")){Ae(an,ce);continue}if(Le.forceKeepAttr)continue;if(!Le.keepAttr){Ae(an,ce);continue}if(!se&&yi(/\/>/i,Rn)){Ae(an,ce);continue}pe&&Kv([S,L,D],Ik=>{Rn=Up(Rn,Ik," ")});const kk=Pt(ce.nodeName);if(!gd(kk,md,Rn)){Ae(an,ce);continue}if(x&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!Li)switch(f.getAttributeType(kk,md)){case"TrustedHTML":{Rn=x.createHTML(Rn);break}case"TrustedScriptURL":{Rn=x.createScriptURL(Rn);break}}if(Rn!==Ux)try{Li?ce.setAttributeNS(Li,an,Rn):ce.setAttribute(an,Rn),ut(ce)?ye(ce):k5(e.removed)}catch{Ae(an,ce)}}$t(I.afterSanitizeAttributes,ce,null)},Nq=function We(ce){let Ce=null;const Le=Pe(ce);for($t(I.beforeSanitizeShadowDOM,ce,null);Ce=Le.nextNode();)$t(I.uponSanitizeShadowNode,Ce,null),zt(Ce),Dk(Ce),Ce.content instanceof o&&We(Ce.content);$t(I.afterSanitizeShadowDOM,ce,null)};return e.sanitize=function(We){let ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ce=null,Le=null,Mt=null,Gn=null;if(Ds=!We,Ds&&(We="<!-->"),typeof We!="string"&&!xt(We))if(typeof We.toString=="function"){if(We=We.toString(),typeof We!="string")throw Lp("dirty is not a string, aborting")}else throw Lp("toString is not a function");if(!e.isSupported)return We;if(de||dp(ce),e.removed=[],typeof We=="string"&&(oe=!1),oe){if(We.nodeName){const Fs=Pt(We.nodeName);if(!F[Fs]||G[Fs])throw Lp("root node is forbidden and cannot be sanitized in-place")}}else if(We instanceof a)Ce=xe("<!---->"),Le=Ce.ownerDocument.importNode(We,!0),Le.nodeType===Mp.element&&Le.nodeName==="BODY"||Le.nodeName==="HTML"?Ce=Le:Ce.appendChild(Le);else{if(!V&&!pe&&!le&&We.indexOf("<")===-1)return x&&ue?x.createHTML(We):We;if(Ce=xe(We),!Ce)return V?null:ue?T:""}Ce&&ee&&ye(Ce.firstChild);const an=Pe(oe?We:Ce);for(;Mt=an.nextNode();)zt(Mt),Dk(Mt),Mt.content instanceof o&&Nq(Mt.content);if(oe)return We;if(V){if(Q)for(Gn=k.call(Ce.ownerDocument);Ce.firstChild;)Gn.appendChild(Ce.firstChild);else Gn=Ce;return(W.shadowroot||W.shadowrootmode)&&(Gn=N.call(i,Gn,!0)),Gn}let Li=le?Ce.outerHTML:Ce.innerHTML;return le&&F["!doctype"]&&Ce.ownerDocument&&Ce.ownerDocument.doctype&&Ce.ownerDocument.doctype.name&&yi(Q9,Ce.ownerDocument.doctype.name)&&(Li="<!DOCTYPE "+Ce.ownerDocument.doctype.name+`>
`+Li),pe&&Kv([S,L,D],Fs=>{Li=Up(Li,Fs," ")}),x&&ue?x.createHTML(Li):Li},e.setConfig=function(){let We=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};dp(We),de=!0},e.clearConfig=function(){Va=null,de=!1},e.isValidAttribute=function(We,ce,Ce){Va||dp({});const Le=Pt(We),Mt=Pt(ce);return gd(Le,Mt,Ce)},e.addHook=function(We,ce){typeof ce=="function"&&Rp(I[We],ce)},e.removeHook=function(We,ce){if(ce!==void 0){const Ce=kpe(I[We],ce);return Ce===-1?void 0:Ipe(I[We],Ce,1)[0]}return k5(I[We])},e.removeHooks=function(We){I[We]=[]},e.removeAllHooks=function(){I=L5()},e}var Pf=e7();const J0={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:t=>t>=255?255:t<0?0:t,g:t=>t>=255?255:t<0?0:t,b:t=>t>=255?255:t<0?0:t,h:t=>t%360,s:t=>t>=100?100:t<0?0:t,l:t=>t>=100?100:t<0?0:t,a:t=>t>=1?1:t<0?0:t},toLinear:t=>{const e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(t,e,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t),hsl2rgb:({h:t,s:e,l:n},i)=>{if(!e)return n*2.55;t/=360,e/=100,n/=100;const r=n<.5?n*(1+e):n+e-n*e,o=2*n-r;switch(i){case"r":return J0.hue2rgb(o,r,t+1/3)*255;case"g":return J0.hue2rgb(o,r,t)*255;case"b":return J0.hue2rgb(o,r,t-1/3)*255}},rgb2hsl:({r:t,g:e,b:n},i)=>{t/=255,e/=255,n/=255;const r=Math.max(t,e,n),o=Math.min(t,e,n),s=(r+o)/2;if(i==="l")return s*100;if(r===o)return 0;const a=r-o,l=s>.5?a/(2-r-o):a/(r+o);if(i==="s")return l*100;switch(r){case t:return((e-n)/a+(e<n?6:0))*60;case e:return((n-t)/a+2)*60;case n:return((t-e)/a+4)*60;default:return-1}}},jpe={clamp:(t,e,n)=>e>n?Math.min(e,Math.max(n,t)):Math.min(n,Math.max(e,t)),round:t=>Math.round(t*1e10)/1e10},Xpe={dec2hex:t=>{const e=Math.round(t).toString(16);return e.length>1?e:`0${e}`}},Ye={channel:J0,lang:jpe,unit:Xpe},Ka={};for(let t=0;t<=255;t++)Ka[t]=Ye.unit.dec2hex(t);const Qn={ALL:0,RGB:1,HSL:2};class Ype{constructor(){this.type=Qn.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=Qn.ALL}is(e){return this.type===e}}class Kpe{constructor(e,n){this.color=n,this.changed=!1,this.data=e,this.type=new Ype}set(e,n){return this.color=n,this.changed=!1,this.data=e,this.type.type=Qn.ALL,this}_ensureHSL(){const e=this.data,{h:n,s:i,l:r}=e;n===void 0&&(e.h=Ye.channel.rgb2hsl(e,"h")),i===void 0&&(e.s=Ye.channel.rgb2hsl(e,"s")),r===void 0&&(e.l=Ye.channel.rgb2hsl(e,"l"))}_ensureRGB(){const e=this.data,{r:n,g:i,b:r}=e;n===void 0&&(e.r=Ye.channel.hsl2rgb(e,"r")),i===void 0&&(e.g=Ye.channel.hsl2rgb(e,"g")),r===void 0&&(e.b=Ye.channel.hsl2rgb(e,"b"))}get r(){const e=this.data,n=e.r;return!this.type.is(Qn.HSL)&&n!==void 0?n:(this._ensureHSL(),Ye.channel.hsl2rgb(e,"r"))}get g(){const e=this.data,n=e.g;return!this.type.is(Qn.HSL)&&n!==void 0?n:(this._ensureHSL(),Ye.channel.hsl2rgb(e,"g"))}get b(){const e=this.data,n=e.b;return!this.type.is(Qn.HSL)&&n!==void 0?n:(this._ensureHSL(),Ye.channel.hsl2rgb(e,"b"))}get h(){const e=this.data,n=e.h;return!this.type.is(Qn.RGB)&&n!==void 0?n:(this._ensureRGB(),Ye.channel.rgb2hsl(e,"h"))}get s(){const e=this.data,n=e.s;return!this.type.is(Qn.RGB)&&n!==void 0?n:(this._ensureRGB(),Ye.channel.rgb2hsl(e,"s"))}get l(){const e=this.data,n=e.l;return!this.type.is(Qn.RGB)&&n!==void 0?n:(this._ensureRGB(),Ye.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(Qn.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(Qn.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(Qn.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(Qn.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(Qn.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(Qn.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}}const bx=new Kpe({r:0,g:0,b:0,a:0},"transparent"),dh={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:t=>{if(t.charCodeAt(0)!==35)return;const e=t.match(dh.re);if(!e)return;const n=e[1],i=parseInt(n,16),r=n.length,o=r%4===0,s=r>4,a=s?1:17,l=s?8:4,u=o?0:-1,c=s?255:15;return bx.set({r:(i>>l*(u+3)&c)*a,g:(i>>l*(u+2)&c)*a,b:(i>>l*(u+1)&c)*a,a:o?(i&c)*a/255:1},t)},stringify:t=>{const{r:e,g:n,b:i,a:r}=t;return r<1?`#${Ka[Math.round(e)]}${Ka[Math.round(n)]}${Ka[Math.round(i)]}${Ka[Math.round(r*255)]}`:`#${Ka[Math.round(e)]}${Ka[Math.round(n)]}${Ka[Math.round(i)]}`}},Nu={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:t=>{const e=t.match(Nu.hueRe);if(e){const[,n,i]=e;switch(i){case"grad":return Ye.channel.clamp.h(parseFloat(n)*.9);case"rad":return Ye.channel.clamp.h(parseFloat(n)*180/Math.PI);case"turn":return Ye.channel.clamp.h(parseFloat(n)*360)}}return Ye.channel.clamp.h(parseFloat(t))},parse:t=>{const e=t.charCodeAt(0);if(e!==104&&e!==72)return;const n=t.match(Nu.re);if(!n)return;const[,i,r,o,s,a]=n;return bx.set({h:Nu._hue2deg(i),s:Ye.channel.clamp.s(parseFloat(r)),l:Ye.channel.clamp.l(parseFloat(o)),a:s?Ye.channel.clamp.a(a?parseFloat(s)/100:parseFloat(s)):1},t)},stringify:t=>{const{h:e,s:n,l:i,a:r}=t;return r<1?`hsla(${Ye.lang.round(e)}, ${Ye.lang.round(n)}%, ${Ye.lang.round(i)}%, ${r})`:`hsl(${Ye.lang.round(e)}, ${Ye.lang.round(n)}%, ${Ye.lang.round(i)}%)`}},wg={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:t=>{t=t.toLowerCase();const e=wg.colors[t];if(e)return dh.parse(e)},stringify:t=>{const e=dh.stringify(t);for(const n in wg.colors)if(wg.colors[n]===e)return n}},ug={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:t=>{const e=t.charCodeAt(0);if(e!==114&&e!==82)return;const n=t.match(ug.re);if(!n)return;const[,i,r,o,s,a,l,u,c]=n;return bx.set({r:Ye.channel.clamp.r(r?parseFloat(i)*2.55:parseFloat(i)),g:Ye.channel.clamp.g(s?parseFloat(o)*2.55:parseFloat(o)),b:Ye.channel.clamp.b(l?parseFloat(a)*2.55:parseFloat(a)),a:u?Ye.channel.clamp.a(c?parseFloat(u)/100:parseFloat(u)):1},t)},stringify:t=>{const{r:e,g:n,b:i,a:r}=t;return r<1?`rgba(${Ye.lang.round(e)}, ${Ye.lang.round(n)}, ${Ye.lang.round(i)}, ${Ye.lang.round(r)})`:`rgb(${Ye.lang.round(e)}, ${Ye.lang.round(n)}, ${Ye.lang.round(i)})`}},ws={format:{keyword:wg,hex:dh,rgb:ug,rgba:ug,hsl:Nu,hsla:Nu},parse:t=>{if(typeof t!="string")return t;const e=dh.parse(t)||ug.parse(t)||Nu.parse(t)||wg.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},stringify:t=>!t.changed&&t.color?t.color:t.type.is(Qn.HSL)||t.data.r===void 0?Nu.stringify(t):t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)?ug.stringify(t):dh.stringify(t)},t7=(t,e)=>{const n=ws.parse(t);for(const i in e)n[i]=Ye.channel.clamp[i](e[i]);return ws.stringify(n)},Tg=(t,e,n=0,i=1)=>{if(typeof t!="number")return t7(t,{a:e});const r=bx.set({r:Ye.channel.clamp.r(t),g:Ye.channel.clamp.g(e),b:Ye.channel.clamp.b(n),a:Ye.channel.clamp.a(i)});return ws.stringify(r)},Jpe=t=>{const{r:e,g:n,b:i}=ws.parse(t),r=.2126*Ye.channel.toLinear(e)+.7152*Ye.channel.toLinear(n)+.0722*Ye.channel.toLinear(i);return Ye.lang.round(r)},Zpe=t=>Jpe(t)>=.5,av=t=>!Zpe(t),n7=(t,e,n)=>{const i=ws.parse(t),r=i[e],o=Ye.channel.clamp[e](r+n);return r!==o&&(i[e]=o),ws.stringify(i)},Be=(t,e)=>n7(t,"l",e),ze=(t,e)=>n7(t,"l",-e),fe=(t,e)=>{const n=ws.parse(t),i={};for(const r in e)e[r]&&(i[r]=n[r]+e[r]);return t7(t,i)},Qpe=(t,e,n=50)=>{const{r:i,g:r,b:o,a:s}=ws.parse(t),{r:a,g:l,b:u,a:c}=ws.parse(e),h=n/100,d=h*2-1,f=s-c,m=((d*f===-1?d:(d+f)/(1+d*f))+1)/2,v=1-m,g=i*m+a*v,p=r*m+l*v,_=o*m+u*v,x=s*h+c*(1-h);return Tg(g,p,_,x)},Se=(t,e=100)=>{const n=ws.parse(t);return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,Qpe(n,t,e)};var i7=typeof global=="object"&&global&&global.Object===Object&&global,ege=typeof self=="object"&&self&&self.Object===Object&&self,Ss=i7||ege||Function("return this")(),hb=Ss.Symbol,r7=Object.prototype,tge=r7.hasOwnProperty,nge=r7.toString,Op=hb?hb.toStringTag:void 0;function ige(t){var e=tge.call(t,Op),n=t[Op];try{t[Op]=void 0;var i=!0}catch{}var r=nge.call(t);return i&&(e?t[Op]=n:delete t[Op]),r}var rge=Object.prototype,oge=rge.toString;function sge(t){return oge.call(t)}var age="[object Null]",lge="[object Undefined]",P5=hb?hb.toStringTag:void 0;function ap(t){return t==null?t===void 0?lge:age:P5&&P5 in Object(t)?ige(t):sge(t)}function dd(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var uge="[object AsyncFunction]",cge="[object Function]",dge="[object GeneratorFunction]",hge="[object Proxy]";function QD(t){if(!dd(t))return!1;var e=ap(t);return e==cge||e==dge||e==uge||e==hge}var jw=Ss["__core-js_shared__"],M5=function(){var t=/[^.]+$/.exec(jw&&jw.keys&&jw.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function fge(t){return!!M5&&M5 in t}var pge=Function.prototype,gge=pge.toString;function hd(t){if(t!=null){try{return gge.call(t)}catch{}try{return t+""}catch{}}return""}var mge=/[\\^$.*+?()[\]{}|]/g,yge=/^\[object .+?Constructor\]$/,vge=Function.prototype,bge=Object.prototype,_ge=vge.toString,xge=bge.hasOwnProperty,wge=RegExp("^"+_ge.call(xge).replace(mge,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Tge(t){if(!dd(t)||fge(t))return!1;var e=QD(t)?wge:yge;return e.test(hd(t))}function Cge(t,e){return t==null?void 0:t[e]}function fd(t,e){var n=Cge(t,e);return Tge(n)?n:void 0}var fm=fd(Object,"create");function Ege(){this.__data__=fm?fm(null):{},this.size=0}function Age(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Sge="__lodash_hash_undefined__",Dge=Object.prototype,kge=Dge.hasOwnProperty;function Ige(t){var e=this.__data__;if(fm){var n=e[t];return n===Sge?void 0:n}return kge.call(e,t)?e[t]:void 0}var Fge=Object.prototype,Nge=Fge.hasOwnProperty;function Rge(t){var e=this.__data__;return fm?e[t]!==void 0:Nge.call(e,t)}var Uge="__lodash_hash_undefined__";function Lge(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=fm&&e===void 0?Uge:e,this}function td(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}td.prototype.clear=Ege;td.prototype.delete=Age;td.prototype.get=Ige;td.prototype.has=Rge;td.prototype.set=Lge;function Pge(){this.__data__=[],this.size=0}function _x(t,e){return t===e||t!==t&&e!==e}function xx(t,e){for(var n=t.length;n--;)if(_x(t[n][0],e))return n;return-1}var Mge=Array.prototype,Oge=Mge.splice;function Bge(t){var e=this.__data__,n=xx(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():Oge.call(e,n,1),--this.size,!0}function qge(t){var e=this.__data__,n=xx(e,t);return n<0?void 0:e[n][1]}function Wge(t){return xx(this.__data__,t)>-1}function $ge(t,e){var n=this.__data__,i=xx(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function Ha(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Ha.prototype.clear=Pge;Ha.prototype.delete=Bge;Ha.prototype.get=qge;Ha.prototype.has=Wge;Ha.prototype.set=$ge;var pm=fd(Ss,"Map");function zge(){this.size=0,this.__data__={hash:new td,map:new(pm||Ha),string:new td}}function Hge(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function wx(t,e){var n=t.__data__;return Hge(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Vge(t){var e=wx(this,t).delete(t);return this.size-=e?1:0,e}function Gge(t){return wx(this,t).get(t)}function jge(t){return wx(this,t).has(t)}function Xge(t,e){var n=wx(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function mu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}mu.prototype.clear=zge;mu.prototype.delete=Vge;mu.prototype.get=Gge;mu.prototype.has=jge;mu.prototype.set=Xge;var Yge="Expected a function";function lv(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Yge);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(lv.Cache||mu),n}lv.Cache=mu;function Kge(){this.__data__=new Ha,this.size=0}function Jge(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Zge(t){return this.__data__.get(t)}function Qge(t){return this.__data__.has(t)}var eme=200;function tme(t,e){var n=this.__data__;if(n instanceof Ha){var i=n.__data__;if(!pm||i.length<eme-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new mu(i)}return n.set(t,e),this.size=n.size,this}function lp(t){var e=this.__data__=new Ha(t);this.size=e.size}lp.prototype.clear=Kge;lp.prototype.delete=Jge;lp.prototype.get=Zge;lp.prototype.has=Qge;lp.prototype.set=tme;var fb=function(){try{var t=fd(Object,"defineProperty");return t({},"",{}),t}catch{}}();function ek(t,e,n){e=="__proto__"&&fb?fb(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function WE(t,e,n){(n!==void 0&&!_x(t[e],n)||n===void 0&&!(e in t))&&ek(t,e,n)}function nme(t){return function(e,n,i){for(var r=-1,o=Object(e),s=i(e),a=s.length;a--;){var l=s[++r];if(n(o[l],l,o)===!1)break}return e}}var ime=nme(),o7=typeof exports=="object"&&exports&&!exports.nodeType&&exports,O5=o7&&typeof module=="object"&&module&&!module.nodeType&&module,rme=O5&&O5.exports===o7,B5=rme?Ss.Buffer:void 0,q5=B5?B5.allocUnsafe:void 0;function ome(t,e){if(e)return t.slice();var n=t.length,i=q5?q5(n):new t.constructor(n);return t.copy(i),i}var W5=Ss.Uint8Array;function sme(t){var e=new t.constructor(t.byteLength);return new W5(e).set(new W5(t)),e}function ame(t,e){var n=e?sme(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function lme(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}var $5=Object.create,ume=function(){function t(){}return function(e){if(!dd(e))return{};if($5)return $5(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function s7(t,e){return function(n){return t(e(n))}}var a7=s7(Object.getPrototypeOf,Object),cme=Object.prototype;function Tx(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||cme;return t===n}function dme(t){return typeof t.constructor=="function"&&!Tx(t)?ume(a7(t)):{}}function uv(t){return t!=null&&typeof t=="object"}var hme="[object Arguments]";function z5(t){return uv(t)&&ap(t)==hme}var l7=Object.prototype,fme=l7.hasOwnProperty,pme=l7.propertyIsEnumerable,pb=z5(function(){return arguments}())?z5:function(t){return uv(t)&&fme.call(t,"callee")&&!pme.call(t,"callee")},gb=Array.isArray,gme=9007199254740991;function u7(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=gme}function Cx(t){return t!=null&&u7(t.length)&&!QD(t)}function mme(t){return uv(t)&&Cx(t)}function yme(){return!1}var c7=typeof exports=="object"&&exports&&!exports.nodeType&&exports,H5=c7&&typeof module=="object"&&module&&!module.nodeType&&module,vme=H5&&H5.exports===c7,V5=vme?Ss.Buffer:void 0,bme=V5?V5.isBuffer:void 0,tk=bme||yme,_me="[object Object]",xme=Function.prototype,wme=Object.prototype,d7=xme.toString,Tme=wme.hasOwnProperty,Cme=d7.call(Object);function Eme(t){if(!uv(t)||ap(t)!=_me)return!1;var e=a7(t);if(e===null)return!0;var n=Tme.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&d7.call(n)==Cme}var Ame="[object Arguments]",Sme="[object Array]",Dme="[object Boolean]",kme="[object Date]",Ime="[object Error]",Fme="[object Function]",Nme="[object Map]",Rme="[object Number]",Ume="[object Object]",Lme="[object RegExp]",Pme="[object Set]",Mme="[object String]",Ome="[object WeakMap]",Bme="[object ArrayBuffer]",qme="[object DataView]",Wme="[object Float32Array]",$me="[object Float64Array]",zme="[object Int8Array]",Hme="[object Int16Array]",Vme="[object Int32Array]",Gme="[object Uint8Array]",jme="[object Uint8ClampedArray]",Xme="[object Uint16Array]",Yme="[object Uint32Array]",Ut={};Ut[Wme]=Ut[$me]=Ut[zme]=Ut[Hme]=Ut[Vme]=Ut[Gme]=Ut[jme]=Ut[Xme]=Ut[Yme]=!0;Ut[Ame]=Ut[Sme]=Ut[Bme]=Ut[Dme]=Ut[qme]=Ut[kme]=Ut[Ime]=Ut[Fme]=Ut[Nme]=Ut[Rme]=Ut[Ume]=Ut[Lme]=Ut[Pme]=Ut[Mme]=Ut[Ome]=!1;function Kme(t){return uv(t)&&u7(t.length)&&!!Ut[ap(t)]}function Jme(t){return function(e){return t(e)}}var h7=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Cg=h7&&typeof module=="object"&&module&&!module.nodeType&&module,Zme=Cg&&Cg.exports===h7,Xw=Zme&&i7.process,G5=function(){try{var t=Cg&&Cg.require&&Cg.require("util").types;return t||Xw&&Xw.binding&&Xw.binding("util")}catch{}}(),j5=G5&&G5.isTypedArray,nk=j5?Jme(j5):Kme;function $E(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var Qme=Object.prototype,eye=Qme.hasOwnProperty;function tye(t,e,n){var i=t[e];(!(eye.call(t,e)&&_x(i,n))||n===void 0&&!(e in t))&&ek(t,e,n)}function nye(t,e,n,i){var r=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=void 0;l===void 0&&(l=t[a]),r?ek(n,a,l):tye(n,a,l)}return n}function iye(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}var rye=9007199254740991,oye=/^(?:0|[1-9]\d*)$/;function f7(t,e){var n=typeof t;return e=e??rye,!!e&&(n=="number"||n!="symbol"&&oye.test(t))&&t>-1&&t%1==0&&t<e}var sye=Object.prototype,aye=sye.hasOwnProperty;function lye(t,e){var n=gb(t),i=!n&&pb(t),r=!n&&!i&&tk(t),o=!n&&!i&&!r&&nk(t),s=n||i||r||o,a=s?iye(t.length,String):[],l=a.length;for(var u in t)(e||aye.call(t,u))&&!(s&&(u=="length"||r&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||f7(u,l)))&&a.push(u);return a}function uye(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var cye=Object.prototype,dye=cye.hasOwnProperty;function hye(t){if(!dd(t))return uye(t);var e=Tx(t),n=[];for(var i in t)i=="constructor"&&(e||!dye.call(t,i))||n.push(i);return n}function p7(t){return Cx(t)?lye(t,!0):hye(t)}function fye(t){return nye(t,p7(t))}function pye(t,e,n,i,r,o,s){var a=$E(t,n),l=$E(e,n),u=s.get(l);if(u){WE(t,n,u);return}var c=o?o(a,l,n+"",t,e,s):void 0,h=c===void 0;if(h){var d=gb(l),f=!d&&tk(l),y=!d&&!f&&nk(l);c=l,d||f||y?gb(a)?c=a:mme(a)?c=lme(a):f?(h=!1,c=ome(l,!0)):y?(h=!1,c=ame(l,!0)):c=[]:Eme(l)||pb(l)?(c=a,pb(a)?c=fye(a):(!dd(a)||QD(a))&&(c=dme(l))):h=!1}h&&(s.set(l,c),r(c,l,i,o,s),s.delete(l)),WE(t,n,c)}function g7(t,e,n,i,r){t!==e&&ime(e,function(o,s){if(r||(r=new lp),dd(o))pye(t,e,s,n,g7,i,r);else{var a=i?i($E(t,s),o,s+"",t,e,r):void 0;a===void 0&&(a=o),WE(t,s,a)}},p7)}function m7(t){return t}function gye(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var X5=Math.max;function mye(t,e,n){return e=X5(e===void 0?t.length-1:e,0),function(){for(var i=arguments,r=-1,o=X5(i.length-e,0),s=Array(o);++r<o;)s[r]=i[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=i[r];return a[e]=n(s),gye(t,this,a)}}function yye(t){return function(){return t}}var vye=fb?function(t,e){return fb(t,"toString",{configurable:!0,enumerable:!1,value:yye(e),writable:!0})}:m7,bye=800,_ye=16,xye=Date.now;function wye(t){var e=0,n=0;return function(){var i=xye(),r=_ye-(i-n);if(n=i,r>0){if(++e>=bye)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Tye=wye(vye);function Cye(t,e){return Tye(mye(t,e,m7),t+"")}function Eye(t,e,n){if(!dd(n))return!1;var i=typeof e;return(i=="number"?Cx(n)&&f7(e,n.length):i=="string"&&e in n)?_x(n[e],t):!1}function Aye(t){return Cye(function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,s=r>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(r--,o):void 0,s&&Eye(n[0],n[1],s)&&(o=r<3?void 0:o,r=1),e=Object(e);++i<r;){var a=n[i];a&&t(e,a,i,o)}return e})}var Sye=Aye(function(t,e,n){g7(t,e,n)}),y7="comm",v7="rule",b7="decl",Dye="@import",kye="@namespace",Iye="@keyframes",Fye="@layer",_7=Math.abs,ik=String.fromCharCode;function x7(t){return t.trim()}function Z0(t,e,n){return t.replace(e,n)}function Nye(t,e,n){return t.indexOf(e,n)}function hh(t,e){return t.charCodeAt(e)|0}function Mf(t,e,n){return t.slice(e,n)}function Yo(t){return t.length}function Rye(t){return t.length}function Zv(t,e){return e.push(t),t}var Ex=1,Of=1,w7=0,oo=0,un=0,up="";function rk(t,e,n,i,r,o,s,a){return{value:t,root:e,parent:n,type:i,props:r,children:o,line:Ex,column:Of,length:s,return:"",siblings:a}}function Uye(){return un}function Lye(){return un=oo>0?hh(up,--oo):0,Of--,un===10&&(Of=1,Ex--),un}function No(){return un=oo<w7?hh(up,oo++):0,Of++,un===10&&(Of=1,Ex++),un}function Ml(){return hh(up,oo)}function Q0(){return oo}function Ax(t,e){return Mf(up,t,e)}function gm(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Pye(t){return Ex=Of=1,w7=Yo(up=t),oo=0,[]}function Mye(t){return up="",t}function Yw(t){return x7(Ax(oo-1,zE(t===91?t+2:t===40?t+1:t)))}function Oye(t){for(;(un=Ml())&&un<33;)No();return gm(t)>2||gm(un)>3?"":" "}function Bye(t,e){for(;--e&&No()&&!(un<48||un>102||un>57&&un<65||un>70&&un<97););return Ax(t,Q0()+(e<6&&Ml()==32&&No()==32))}function zE(t){for(;No();)switch(un){case t:return oo;case 34:case 39:t!==34&&t!==39&&zE(un);break;case 40:t===41&&zE(t);break;case 92:No();break}return oo}function qye(t,e){for(;No()&&t+un!==57;)if(t+un===84&&Ml()===47)break;return"/*"+Ax(e,oo-1)+"*"+ik(t===47?t:No())}function Wye(t){for(;!gm(Ml());)No();return Ax(t,oo)}function $ye(t){return Mye(e1("",null,null,null,[""],t=Pye(t),0,[0],t))}function e1(t,e,n,i,r,o,s,a,l){for(var u=0,c=0,h=s,d=0,f=0,y=0,m=1,v=1,g=1,p=0,_="",x=r,T=o,A=i,E=_;v;)switch(y=p,p=No()){case 40:if(y!=108&&hh(E,h-1)==58){Nye(E+=Z0(Yw(p),"&","&\f"),"&\f",_7(u?a[u-1]:0))!=-1&&(g=-1);break}case 34:case 39:case 91:E+=Yw(p);break;case 9:case 10:case 13:case 32:E+=Oye(y);break;case 92:E+=Bye(Q0()-1,7);continue;case 47:switch(Ml()){case 42:case 47:Zv(zye(qye(No(),Q0()),e,n,l),l),(gm(y||1)==5||gm(Ml()||1)==5)&&Yo(E)&&Mf(E,-1,void 0)!==" "&&(E+=" ");break;default:E+="/"}break;case 123*m:a[u++]=Yo(E)*g;case 125*m:case 59:case 0:switch(p){case 0:case 125:v=0;case 59+c:g==-1&&(E=Z0(E,/\f/g,"")),f>0&&(Yo(E)-h||m===0&&y===47)&&Zv(f>32?K5(E+";",i,n,h-1,l):K5(Z0(E," ","")+";",i,n,h-2,l),l);break;case 59:E+=";";default:if(Zv(A=Y5(E,e,n,u,c,r,a,_,x=[],T=[],h,o),o),p===123)if(c===0)e1(E,e,A,A,x,o,h,a,T);else{switch(d){case 99:if(hh(E,3)===110)break;case 108:if(hh(E,2)===97)break;default:c=0;case 100:case 109:case 115:}c?e1(t,A,A,i&&Zv(Y5(t,A,A,0,0,r,a,_,r,x=[],h,T),T),r,T,h,a,i?x:T):e1(E,A,A,A,[""],T,0,a,T)}}u=c=f=0,m=g=1,_=E="",h=s;break;case 58:h=1+Yo(E),f=y;default:if(m<1){if(p==123)--m;else if(p==125&&m++==0&&Lye()==125)continue}switch(E+=ik(p),p*m){case 38:g=c>0?1:(E+="\f",-1);break;case 44:a[u++]=(Yo(E)-1)*g,g=1;break;case 64:Ml()===45&&(E+=Yw(No())),d=Ml(),c=h=Yo(_=E+=Wye(Q0())),p++;break;case 45:y===45&&Yo(E)==2&&(m=0)}}return o}function Y5(t,e,n,i,r,o,s,a,l,u,c,h){for(var d=r-1,f=r===0?o:[""],y=Rye(f),m=0,v=0,g=0;m<i;++m)for(var p=0,_=Mf(t,d+1,d=_7(v=s[m])),x=t;p<y;++p)(x=x7(v>0?f[p]+" "+_:Z0(_,/&\f/g,f[p])))&&(l[g++]=x);return rk(t,e,n,r===0?v7:a,l,u,c,h)}function zye(t,e,n,i){return rk(t,e,n,y7,ik(Uye()),Mf(t,2,-2),0,i)}function K5(t,e,n,i,r){return rk(t,e,n,b7,Mf(t,0,i),Mf(t,i+1,-1),i,r)}function HE(t,e){for(var n="",i=0;i<t.length;i++)n+=e(t[i],i,t,e)||"";return n}function Hye(t,e,n,i){switch(t.type){case Fye:if(t.children.length)break;case Dye:case kye:case b7:return t.return=t.return||t.value;case y7:return"";case Iye:return t.return=t.value+"{"+HE(t.children,i)+"}";case v7:if(!Yo(t.value=t.props.join(",")))return""}return Yo(n=HE(t.children,i))?t.return=t.value+"{"+n+"}":""}var Vye=s7(Object.keys,Object),Gye=Object.prototype,jye=Gye.hasOwnProperty;function Xye(t){if(!Tx(t))return Vye(t);var e=[];for(var n in Object(t))jye.call(t,n)&&n!="constructor"&&e.push(n);return e}var VE=fd(Ss,"DataView"),GE=fd(Ss,"Promise"),jE=fd(Ss,"Set"),XE=fd(Ss,"WeakMap"),J5="[object Map]",Yye="[object Object]",Z5="[object Promise]",Q5="[object Set]",eU="[object WeakMap]",tU="[object DataView]",Kye=hd(VE),Jye=hd(pm),Zye=hd(GE),Qye=hd(jE),eve=hd(XE),Eu=ap;(VE&&Eu(new VE(new ArrayBuffer(1)))!=tU||pm&&Eu(new pm)!=J5||GE&&Eu(GE.resolve())!=Z5||jE&&Eu(new jE)!=Q5||XE&&Eu(new XE)!=eU)&&(Eu=function(t){var e=ap(t),n=e==Yye?t.constructor:void 0,i=n?hd(n):"";if(i)switch(i){case Kye:return tU;case Jye:return J5;case Zye:return Z5;case Qye:return Q5;case eve:return eU}return e});var tve="[object Map]",nve="[object Set]",ive=Object.prototype,rve=ive.hasOwnProperty;function Kw(t){if(t==null)return!0;if(Cx(t)&&(gb(t)||typeof t=="string"||typeof t.splice=="function"||tk(t)||nk(t)||pb(t)))return!t.length;var e=Eu(t);if(e==tve||e==nve)return!t.size;if(Tx(t))return!Xye(t).length;for(var n in t)if(rve.call(t,n))return!1;return!0}const Ms={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},$e={trace:(...t)=>{},debug:(...t)=>{},info:(...t)=>{},warn:(...t)=>{},error:(...t)=>{},fatal:(...t)=>{}},ok=function(t="fatal"){let e=Ms.fatal;typeof t=="string"?(t=t.toLowerCase(),t in Ms&&(e=Ms[t])):typeof t=="number"&&(e=t),$e.trace=()=>{},$e.debug=()=>{},$e.info=()=>{},$e.warn=()=>{},$e.error=()=>{},$e.fatal=()=>{},e<=Ms.fatal&&($e.fatal=console.error?console.error.bind(console,Lr("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",Lr("FATAL"))),e<=Ms.error&&($e.error=console.error?console.error.bind(console,Lr("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",Lr("ERROR"))),e<=Ms.warn&&($e.warn=console.warn?console.warn.bind(console,Lr("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",Lr("WARN"))),e<=Ms.info&&($e.info=console.info?console.info.bind(console,Lr("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",Lr("INFO"))),e<=Ms.debug&&($e.debug=console.debug?console.debug.bind(console,Lr("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Lr("DEBUG"))),e<=Ms.trace&&($e.trace=console.debug?console.debug.bind(console,Lr("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Lr("TRACE")))},Lr=t=>`%c${Vce().format("ss.SSS")} : ${t} : `,cv=/<br\s*\/?>/gi,ove=t=>t?C7(t).replace(/\\n/g,"#br#").split("#br#"):[""],sve=(()=>{let t=!1;return()=>{t||(ave(),t=!0)}})();function ave(){const t="data-temp-href-target";Pf.addHook("beforeSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute("target")&&e.setAttribute(t,e.getAttribute("target")??"")}),Pf.addHook("afterSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute(t)&&(e.setAttribute("target",e.getAttribute(t)??""),e.removeAttribute(t),e.getAttribute("target")==="_blank"&&e.setAttribute("rel","noopener"))})}const T7=t=>(sve(),Pf.sanitize(t)),nU=(t,e)=>{var n;if(((n=e.flowchart)==null?void 0:n.htmlLabels)!==!1){const i=e.securityLevel;i==="antiscript"||i==="strict"?t=T7(t):i!=="loose"&&(t=C7(t),t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),t=t.replace(/=/g,"&equals;"),t=dve(t))}return t},Bf=(t,e)=>t&&(e.dompurifyConfig?t=Pf.sanitize(nU(t,e),e.dompurifyConfig).toString():t=Pf.sanitize(nU(t,e),{FORBID_TAGS:["style"]}).toString(),t),lve=(t,e)=>typeof t=="string"?Bf(t,e):t.flat().map(n=>Bf(n,e)),uve=t=>cv.test(t),cve=t=>t.split(cv),dve=t=>t.replace(/#br#/g,"<br/>"),C7=t=>t.replace(cv,"#br#"),hve=t=>{let e="";return t&&(e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,e=e.replaceAll(/\(/g,"\\("),e=e.replaceAll(/\)/g,"\\)")),e},E7=t=>!(t===!1||["false","null","0"].includes(String(t).trim().toLowerCase())),fve=function(...t){const e=t.filter(n=>!isNaN(n));return Math.max(...e)},pve=function(...t){const e=t.filter(n=>!isNaN(n));return Math.min(...e)},l2e=function(t){const e=t.split(/(,)/),n=[];for(let i=0;i<e.length;i++){let r=e[i];if(r===","&&i>0&&i+1<e.length){const o=e[i-1],s=e[i+1];gve(o,s)&&(r=o+","+s,i++,n.pop())}n.push(mve(r))}return n.join("")},YE=(t,e)=>Math.max(0,t.split(e).length-1),gve=(t,e)=>{const n=YE(t,"~"),i=YE(e,"~");return n===1&&i===1},mve=t=>{const e=YE(t,"~");let n=!1;if(e<=1)return t;e%2!==0&&t.startsWith("~")&&(t=t.substring(1),n=!0);const i=[...t];let r=i.indexOf("~"),o=i.lastIndexOf("~");for(;r!==-1&&o!==-1&&r!==o;)i[r]="<",i[o]=">",r=i.indexOf("~"),o=i.lastIndexOf("~");return n&&i.unshift("~"),i.join("")},iU=()=>window.MathMLElement!==void 0,KE=/\$\$(.*)\$\$/g,rU=t=>{var e;return(((e=t.match(KE))==null?void 0:e.length)??0)>0},u2e=async(t,e)=>{const n=document.createElement("div");n.innerHTML=await vve(t,e),n.id="katex-temp",n.style.visibility="hidden",n.style.position="absolute",n.style.top="0";const i=document.querySelector("body");i==null||i.insertAdjacentElement("beforeend",n);const r={width:n.clientWidth,height:n.clientHeight};return n.remove(),r},yve=async(t,e)=>{if(!rU(t))return t;if(!iU()&&!e.legacyMathML)return t.replace(KE,"MathML is unsupported in this environment.");const{default:n}=await Tt(async()=>{const{default:i}=await import("./katex-BbEIqZs1.js");return{default:i}},[]);return t.split(cv).map(i=>rU(i)?`
            <div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">
              ${i}
            </div>
          `:`<div>${i}</div>`).join("").replace(KE,(i,r)=>n.renderToString(r,{throwOnError:!0,displayMode:!0,output:iU()?"mathml":"htmlAndMathml"}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))},vve=async(t,e)=>Bf(await yve(t,e),e),sk={getRows:ove,sanitizeText:Bf,sanitizeTextOrArray:lve,hasBreaks:uve,splitBreaks:cve,lineBreakRegex:cv,removeScript:T7,getUrl:hve,evaluate:E7,getMax:fve,getMin:pve},Ei=(t,e)=>e?fe(t,{s:-40,l:10}):fe(t,{s:-40,l:-10}),Sx="#ffffff",Dx="#f2f2f2";let bve=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var e,n,i,r,o,s,a,l,u,c,h;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||fe(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||fe(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||Ei(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||Ei(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||Ei(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||Ei(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||Se(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||Se(this.tertiaryColor),this.lineColor=this.lineColor||Se(this.background),this.arrowheadColor=this.arrowheadColor||Se(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?ze(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||ze(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||Se(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||Be(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||fe(this.primaryColor,{h:30}),this.cScale4=this.cScale4||fe(this.primaryColor,{h:60}),this.cScale5=this.cScale5||fe(this.primaryColor,{h:90}),this.cScale6=this.cScale6||fe(this.primaryColor,{h:120}),this.cScale7=this.cScale7||fe(this.primaryColor,{h:150}),this.cScale8=this.cScale8||fe(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||fe(this.primaryColor,{h:270}),this.cScale10=this.cScale10||fe(this.primaryColor,{h:300}),this.cScale11=this.cScale11||fe(this.primaryColor,{h:330}),this.darkMode)for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScale"+f]=ze(this["cScale"+f],75);else for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScale"+f]=ze(this["cScale"+f],25);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleInv"+f]=this["cScaleInv"+f]||Se(this["cScale"+f]);for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this.darkMode?this["cScalePeer"+f]=this["cScalePeer"+f]||Be(this["cScale"+f],10):this["cScalePeer"+f]=this["cScalePeer"+f]||ze(this["cScale"+f],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let f=0;f<this.THEME_COLOR_LIMIT;f++)this["cScaleLabel"+f]=this["cScaleLabel"+f]||this.scaleLabelColor;const d=this.darkMode?-4:-1;for(let f=0;f<5;f++)this["surface"+f]=this["surface"+f]||fe(this.mainBkg,{h:180,s:-15,l:d*(5+f*3)}),this["surfacePeer"+f]=this["surfacePeer"+f]||fe(this.mainBkg,{h:180,s:-15,l:d*(8+f*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||fe(this.primaryColor,{h:64}),this.fillType3=this.fillType3||fe(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||fe(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||fe(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||fe(this.primaryColor,{h:128}),this.fillType7=this.fillType7||fe(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||fe(this.primaryColor,{l:-10}),this.pie5=this.pie5||fe(this.secondaryColor,{l:-10}),this.pie6=this.pie6||fe(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||fe(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||fe(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||fe(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||fe(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||fe(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||fe(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||fe(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||fe(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||fe(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||fe(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||fe(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||fe(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||av(this.quadrant1Fill)?Be(this.quadrant1Fill):ze(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((i=this.xyChart)==null?void 0:i.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((r=this.xyChart)==null?void 0:r.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((o=this.xyChart)==null?void 0:o.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((s=this.xyChart)==null?void 0:s.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((a=this.xyChart)==null?void 0:a.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((c=this.xyChart)==null?void 0:c.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((h=this.xyChart)==null?void 0:h.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?ze(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||fe(this.primaryColor,{h:-30}),this.git4=this.git4||fe(this.primaryColor,{h:-60}),this.git5=this.git5||fe(this.primaryColor,{h:-90}),this.git6=this.git6||fe(this.primaryColor,{h:60}),this.git7=this.git7||fe(this.primaryColor,{h:120}),this.darkMode?(this.git0=Be(this.git0,25),this.git1=Be(this.git1,25),this.git2=Be(this.git2,25),this.git3=Be(this.git3,25),this.git4=Be(this.git4,25),this.git5=Be(this.git5,25),this.git6=Be(this.git6,25),this.git7=Be(this.git7,25)):(this.git0=ze(this.git0,25),this.git1=ze(this.git1,25),this.git2=ze(this.git2,25),this.git3=ze(this.git3,25),this.git4=ze(this.git4,25),this.git5=ze(this.git5,25),this.git6=ze(this.git6,25),this.git7=ze(this.git7,25)),this.gitInv0=this.gitInv0||Se(this.git0),this.gitInv1=this.gitInv1||Se(this.git1),this.gitInv2=this.gitInv2||Se(this.git2),this.gitInv3=this.gitInv3||Se(this.git3),this.gitInv4=this.gitInv4||Se(this.git4),this.gitInv5=this.gitInv5||Se(this.git5),this.gitInv6=this.gitInv6||Se(this.git6),this.gitInv7=this.gitInv7||Se(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Sx,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Dx}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(i=>{this[i]=e[i]}),this.updateColors(),n.forEach(i=>{this[i]=e[i]})}};const _ve=t=>{const e=new bve;return e.calculate(t),e};let xve=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=Be(this.primaryColor,16),this.tertiaryColor=fe(this.primaryColor,{h:-160}),this.primaryBorderColor=Se(this.background),this.secondaryBorderColor=Ei(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ei(this.tertiaryColor,this.darkMode),this.primaryTextColor=Se(this.primaryColor),this.secondaryTextColor=Se(this.secondaryColor),this.tertiaryTextColor=Se(this.tertiaryColor),this.lineColor=Se(this.background),this.textColor=Se(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=Be(Se("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=Tg(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=ze("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=ze(this.sectionBkgColor,10),this.taskBorderColor=Tg(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=Tg(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var e,n,i,r,o,s,a,l,u,c,h;this.secondBkg=Be(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=Be(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=Be(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=fe(this.primaryColor,{h:64}),this.fillType3=fe(this.secondaryColor,{h:64}),this.fillType4=fe(this.primaryColor,{h:-64}),this.fillType5=fe(this.secondaryColor,{h:-64}),this.fillType6=fe(this.primaryColor,{h:128}),this.fillType7=fe(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||fe(this.primaryColor,{h:30}),this.cScale4=this.cScale4||fe(this.primaryColor,{h:60}),this.cScale5=this.cScale5||fe(this.primaryColor,{h:90}),this.cScale6=this.cScale6||fe(this.primaryColor,{h:120}),this.cScale7=this.cScale7||fe(this.primaryColor,{h:150}),this.cScale8=this.cScale8||fe(this.primaryColor,{h:210}),this.cScale9=this.cScale9||fe(this.primaryColor,{h:270}),this.cScale10=this.cScale10||fe(this.primaryColor,{h:300}),this.cScale11=this.cScale11||fe(this.primaryColor,{h:330});for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScaleInv"+d]=this["cScaleInv"+d]||Se(this["cScale"+d]);for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScalePeer"+d]=this["cScalePeer"+d]||Be(this["cScale"+d],10);for(let d=0;d<5;d++)this["surface"+d]=this["surface"+d]||fe(this.mainBkg,{h:30,s:-30,l:-(-10+d*4)}),this["surfacePeer"+d]=this["surfacePeer"+d]||fe(this.mainBkg,{h:30,s:-30,l:-(-7+d*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScaleLabel"+d]=this["cScaleLabel"+d]||this.scaleLabelColor;for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["pie"+d]=this["cScale"+d];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||fe(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||fe(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||fe(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||fe(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||fe(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||fe(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||av(this.quadrant1Fill)?Be(this.quadrant1Fill):ze(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((i=this.xyChart)==null?void 0:i.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((r=this.xyChart)==null?void 0:r.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((o=this.xyChart)==null?void 0:o.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((s=this.xyChart)==null?void 0:s.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((a=this.xyChart)==null?void 0:a.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((c=this.xyChart)==null?void 0:c.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((h=this.xyChart)==null?void 0:h.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?ze(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Be(this.secondaryColor,20),this.git1=Be(this.pie2||this.secondaryColor,20),this.git2=Be(this.pie3||this.tertiaryColor,20),this.git3=Be(this.pie4||fe(this.primaryColor,{h:-30}),20),this.git4=Be(this.pie5||fe(this.primaryColor,{h:-60}),20),this.git5=Be(this.pie6||fe(this.primaryColor,{h:-90}),10),this.git6=Be(this.pie7||fe(this.primaryColor,{h:60}),10),this.git7=Be(this.pie8||fe(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||Se(this.git0),this.gitInv1=this.gitInv1||Se(this.git1),this.gitInv2=this.gitInv2||Se(this.git2),this.gitInv3=this.gitInv3||Se(this.git3),this.gitInv4=this.gitInv4||Se(this.git4),this.gitInv5=this.gitInv5||Se(this.git5),this.gitInv6=this.gitInv6||Se(this.git6),this.gitInv7=this.gitInv7||Se(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Se(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Se(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Be(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Be(this.background,2)}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(i=>{this[i]=e[i]}),this.updateColors(),n.forEach(i=>{this[i]=e[i]})}};const wve=t=>{const e=new xve;return e.calculate(t),e};let Tve=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=fe(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=fe(this.primaryColor,{h:-160}),this.primaryBorderColor=Ei(this.primaryColor,this.darkMode),this.secondaryBorderColor=Ei(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ei(this.tertiaryColor,this.darkMode),this.primaryTextColor=Se(this.primaryColor),this.secondaryTextColor=Se(this.secondaryColor),this.tertiaryTextColor=Se(this.tertiaryColor),this.lineColor=Se(this.background),this.textColor=Se(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=Tg(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var e,n,i,r,o,s,a,l,u,c,h;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||fe(this.primaryColor,{h:30}),this.cScale4=this.cScale4||fe(this.primaryColor,{h:60}),this.cScale5=this.cScale5||fe(this.primaryColor,{h:90}),this.cScale6=this.cScale6||fe(this.primaryColor,{h:120}),this.cScale7=this.cScale7||fe(this.primaryColor,{h:150}),this.cScale8=this.cScale8||fe(this.primaryColor,{h:210}),this.cScale9=this.cScale9||fe(this.primaryColor,{h:270}),this.cScale10=this.cScale10||fe(this.primaryColor,{h:300}),this.cScale11=this.cScale11||fe(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||ze(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||ze(this.tertiaryColor,40);for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScale"+d]=ze(this["cScale"+d],10),this["cScalePeer"+d]=this["cScalePeer"+d]||ze(this["cScale"+d],25);for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScaleInv"+d]=this["cScaleInv"+d]||fe(this["cScale"+d],{h:180});for(let d=0;d<5;d++)this["surface"+d]=this["surface"+d]||fe(this.mainBkg,{h:30,l:-(5+d*5)}),this["surfacePeer"+d]=this["surfacePeer"+d]||fe(this.mainBkg,{h:30,l:-(7+d*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||Se(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||Se(this.labelTextColor);for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScaleLabel"+d]=this["cScaleLabel"+d]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=Be(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=fe(this.primaryColor,{h:64}),this.fillType3=fe(this.secondaryColor,{h:64}),this.fillType4=fe(this.primaryColor,{h:-64}),this.fillType5=fe(this.secondaryColor,{h:-64}),this.fillType6=fe(this.primaryColor,{h:128}),this.fillType7=fe(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||fe(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||fe(this.primaryColor,{l:-10}),this.pie5=this.pie5||fe(this.secondaryColor,{l:-30}),this.pie6=this.pie6||fe(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||fe(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||fe(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||fe(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||fe(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||fe(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||fe(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||fe(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||fe(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||fe(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||fe(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||fe(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||fe(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||av(this.quadrant1Fill)?Be(this.quadrant1Fill):ze(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((i=this.xyChart)==null?void 0:i.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((r=this.xyChart)==null?void 0:r.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((o=this.xyChart)==null?void 0:o.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((s=this.xyChart)==null?void 0:s.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((a=this.xyChart)==null?void 0:a.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((c=this.xyChart)==null?void 0:c.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((h=this.xyChart)==null?void 0:h.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||fe(this.primaryColor,{h:-30}),this.git4=this.git4||fe(this.primaryColor,{h:-60}),this.git5=this.git5||fe(this.primaryColor,{h:-90}),this.git6=this.git6||fe(this.primaryColor,{h:60}),this.git7=this.git7||fe(this.primaryColor,{h:120}),this.darkMode?(this.git0=Be(this.git0,25),this.git1=Be(this.git1,25),this.git2=Be(this.git2,25),this.git3=Be(this.git3,25),this.git4=Be(this.git4,25),this.git5=Be(this.git5,25),this.git6=Be(this.git6,25),this.git7=Be(this.git7,25)):(this.git0=ze(this.git0,25),this.git1=ze(this.git1,25),this.git2=ze(this.git2,25),this.git3=ze(this.git3,25),this.git4=ze(this.git4,25),this.git5=ze(this.git5,25),this.git6=ze(this.git6,25),this.git7=ze(this.git7,25)),this.gitInv0=this.gitInv0||ze(Se(this.git0),25),this.gitInv1=this.gitInv1||Se(this.git1),this.gitInv2=this.gitInv2||Se(this.git2),this.gitInv3=this.gitInv3||Se(this.git3),this.gitInv4=this.gitInv4||Se(this.git4),this.gitInv5=this.gitInv5||Se(this.git5),this.gitInv6=this.gitInv6||Se(this.git6),this.gitInv7=this.gitInv7||Se(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Se(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Se(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Sx,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Dx}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(i=>{this[i]=e[i]}),this.updateColors(),n.forEach(i=>{this[i]=e[i]})}};const Cve=t=>{const e=new Tve;return e.calculate(t),e};let Eve=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=Be("#cde498",10),this.primaryBorderColor=Ei(this.primaryColor,this.darkMode),this.secondaryBorderColor=Ei(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ei(this.tertiaryColor,this.darkMode),this.primaryTextColor=Se(this.primaryColor),this.secondaryTextColor=Se(this.secondaryColor),this.tertiaryTextColor=Se(this.primaryColor),this.lineColor=Se(this.background),this.textColor=Se(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var e,n,i,r,o,s,a,l,u,c,h;this.actorBorder=ze(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||fe(this.primaryColor,{h:30}),this.cScale4=this.cScale4||fe(this.primaryColor,{h:60}),this.cScale5=this.cScale5||fe(this.primaryColor,{h:90}),this.cScale6=this.cScale6||fe(this.primaryColor,{h:120}),this.cScale7=this.cScale7||fe(this.primaryColor,{h:150}),this.cScale8=this.cScale8||fe(this.primaryColor,{h:210}),this.cScale9=this.cScale9||fe(this.primaryColor,{h:270}),this.cScale10=this.cScale10||fe(this.primaryColor,{h:300}),this.cScale11=this.cScale11||fe(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||ze(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||ze(this.tertiaryColor,40);for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScale"+d]=ze(this["cScale"+d],10),this["cScalePeer"+d]=this["cScalePeer"+d]||ze(this["cScale"+d],25);for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScaleInv"+d]=this["cScaleInv"+d]||fe(this["cScale"+d],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScaleLabel"+d]=this["cScaleLabel"+d]||this.scaleLabelColor;for(let d=0;d<5;d++)this["surface"+d]=this["surface"+d]||fe(this.mainBkg,{h:30,s:-30,l:-(5+d*5)}),this["surfacePeer"+d]=this["surfacePeer"+d]||fe(this.mainBkg,{h:30,s:-30,l:-(8+d*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=fe(this.primaryColor,{h:64}),this.fillType3=fe(this.secondaryColor,{h:64}),this.fillType4=fe(this.primaryColor,{h:-64}),this.fillType5=fe(this.secondaryColor,{h:-64}),this.fillType6=fe(this.primaryColor,{h:128}),this.fillType7=fe(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||fe(this.primaryColor,{l:-30}),this.pie5=this.pie5||fe(this.secondaryColor,{l:-30}),this.pie6=this.pie6||fe(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||fe(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||fe(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||fe(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||fe(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||fe(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||fe(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||fe(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||fe(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||fe(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||fe(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||fe(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||fe(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||av(this.quadrant1Fill)?Be(this.quadrant1Fill):ze(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((i=this.xyChart)==null?void 0:i.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((r=this.xyChart)==null?void 0:r.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((o=this.xyChart)==null?void 0:o.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((s=this.xyChart)==null?void 0:s.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((a=this.xyChart)==null?void 0:a.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((c=this.xyChart)==null?void 0:c.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((h=this.xyChart)==null?void 0:h.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||fe(this.primaryColor,{h:-30}),this.git4=this.git4||fe(this.primaryColor,{h:-60}),this.git5=this.git5||fe(this.primaryColor,{h:-90}),this.git6=this.git6||fe(this.primaryColor,{h:60}),this.git7=this.git7||fe(this.primaryColor,{h:120}),this.darkMode?(this.git0=Be(this.git0,25),this.git1=Be(this.git1,25),this.git2=Be(this.git2,25),this.git3=Be(this.git3,25),this.git4=Be(this.git4,25),this.git5=Be(this.git5,25),this.git6=Be(this.git6,25),this.git7=Be(this.git7,25)):(this.git0=ze(this.git0,25),this.git1=ze(this.git1,25),this.git2=ze(this.git2,25),this.git3=ze(this.git3,25),this.git4=ze(this.git4,25),this.git5=ze(this.git5,25),this.git6=ze(this.git6,25),this.git7=ze(this.git7,25)),this.gitInv0=this.gitInv0||Se(this.git0),this.gitInv1=this.gitInv1||Se(this.git1),this.gitInv2=this.gitInv2||Se(this.git2),this.gitInv3=this.gitInv3||Se(this.git3),this.gitInv4=this.gitInv4||Se(this.git4),this.gitInv5=this.gitInv5||Se(this.git5),this.gitInv6=this.gitInv6||Se(this.git6),this.gitInv7=this.gitInv7||Se(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Se(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Se(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Sx,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Dx}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(i=>{this[i]=e[i]}),this.updateColors(),n.forEach(i=>{this[i]=e[i]})}};const Ave=t=>{const e=new Eve;return e.calculate(t),e};class Sve{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=Be(this.contrast,55),this.background="#ffffff",this.tertiaryColor=fe(this.primaryColor,{h:-160}),this.primaryBorderColor=Ei(this.primaryColor,this.darkMode),this.secondaryBorderColor=Ei(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ei(this.tertiaryColor,this.darkMode),this.primaryTextColor=Se(this.primaryColor),this.secondaryTextColor=Se(this.secondaryColor),this.tertiaryTextColor=Se(this.tertiaryColor),this.lineColor=Se(this.background),this.textColor=Se(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var e,n,i,r,o,s,a,l,u,c,h;this.secondBkg=Be(this.contrast,55),this.border2=this.contrast,this.actorBorder=Be(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScaleInv"+d]=this["cScaleInv"+d]||Se(this["cScale"+d]);for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this.darkMode?this["cScalePeer"+d]=this["cScalePeer"+d]||Be(this["cScale"+d],10):this["cScalePeer"+d]=this["cScalePeer"+d]||ze(this["cScale"+d],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScaleLabel"+d]=this["cScaleLabel"+d]||this.scaleLabelColor;for(let d=0;d<5;d++)this["surface"+d]=this["surface"+d]||fe(this.mainBkg,{l:-(5+d*5)}),this["surfacePeer"+d]=this["surfacePeer"+d]||fe(this.mainBkg,{l:-(8+d*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=Be(this.contrast,30),this.sectionBkgColor2=Be(this.contrast,30),this.taskBorderColor=ze(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=Be(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=ze(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=fe(this.primaryColor,{h:64}),this.fillType3=fe(this.secondaryColor,{h:64}),this.fillType4=fe(this.primaryColor,{h:-64}),this.fillType5=fe(this.secondaryColor,{h:-64}),this.fillType6=fe(this.primaryColor,{h:128}),this.fillType7=fe(this.secondaryColor,{h:128});for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["pie"+d]=this["cScale"+d];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||fe(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||fe(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||fe(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||fe(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||fe(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||fe(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||av(this.quadrant1Fill)?Be(this.quadrant1Fill):ze(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((i=this.xyChart)==null?void 0:i.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((r=this.xyChart)==null?void 0:r.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((o=this.xyChart)==null?void 0:o.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((s=this.xyChart)==null?void 0:s.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((a=this.xyChart)==null?void 0:a.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((c=this.xyChart)==null?void 0:c.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((h=this.xyChart)==null?void 0:h.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=ze(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||fe(this.primaryColor,{h:-30}),this.git4=this.pie5||fe(this.primaryColor,{h:-60}),this.git5=this.pie6||fe(this.primaryColor,{h:-90}),this.git6=this.pie7||fe(this.primaryColor,{h:60}),this.git7=this.pie8||fe(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||Se(this.git0),this.gitInv1=this.gitInv1||Se(this.git1),this.gitInv2=this.gitInv2||Se(this.git2),this.gitInv3=this.gitInv3||Se(this.git3),this.gitInv4=this.gitInv4||Se(this.git4),this.gitInv5=this.gitInv5||Se(this.git5),this.gitInv6=this.gitInv6||Se(this.git6),this.gitInv7=this.gitInv7||Se(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Sx,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Dx}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(i=>{this[i]=e[i]}),this.updateColors(),n.forEach(i=>{this[i]=e[i]})}}const Dve=t=>{const e=new Sve;return e.calculate(t),e},Ca={base:{getThemeVariables:_ve},dark:{getThemeVariables:wve},default:{getThemeVariables:Cve},forest:{getThemeVariables:Ave},neutral:{getThemeVariables:Dve}},Os={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},theme:"default",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","maxEdges"],legacyMathML:!1,deterministicIds:!1,fontSize:16},A7={...Os,deterministicIDSeed:void 0,themeCSS:void 0,themeVariables:Ca.default.getThemeVariables(),sequence:{...Os.sequence,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{...Os.gantt,tickInterval:void 0,useWidth:void 0},c4:{...Os.c4,useWidth:void 0,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}}},pie:{...Os.pie,useWidth:984},xyChart:{...Os.xyChart,useWidth:void 0},requirement:{...Os.requirement,useWidth:void 0},gitGraph:{...Os.gitGraph,useMaxWidth:!1},sankey:{...Os.sankey,useMaxWidth:!1}},S7=(t,e="")=>Object.keys(t).reduce((n,i)=>Array.isArray(t[i])?n:typeof t[i]=="object"&&t[i]!==null?[...n,e+i,...S7(t[i],"")]:[...n,e+i],[]),kve=new Set(S7(A7,"")),Ive=A7,mb=t=>{if($e.debug("sanitizeDirective called with",t),!(typeof t!="object"||t==null)){if(Array.isArray(t)){t.forEach(e=>mb(e));return}for(const e of Object.keys(t)){if($e.debug("Checking key",e),e.startsWith("__")||e.includes("proto")||e.includes("constr")||!kve.has(e)||t[e]==null){$e.debug("sanitize deleting key: ",e),delete t[e];continue}if(typeof t[e]=="object"){$e.debug("sanitizing object",e),mb(t[e]);continue}const n=["themeCSS","fontFamily","altFontFamily"];for(const i of n)e.includes(i)&&($e.debug("sanitizing css option",e),t[e]=Fve(t[e]))}if(t.themeVariables)for(const e of Object.keys(t.themeVariables)){const n=t.themeVariables[e];n!=null&&n.match&&!n.match(/^[\d "#%(),.;A-Za-z]+$/)&&(t.themeVariables[e]="")}$e.debug("After sanitization",t)}},Fve=t=>{let e=0,n=0;for(const i of t){if(e<n)return"{ /* ERROR: Unbalanced CSS */ }";i==="{"?e++:i==="}"&&n++}return e!==n?"{ /* ERROR: Unbalanced CSS */ }":t},D7=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,Eg=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,Nve=/\s*%%.*\n/gm;class k7 extends Error{constructor(e){super(e),this.name="UnknownDiagramError"}}const qf={},kx=function(t,e){t=t.replace(D7,"").replace(Eg,"").replace(Nve,`
`);for(const[n,{detector:i}]of Object.entries(qf))if(i(t,e))return n;throw new k7(`No diagram type detected matching given configuration for text: ${t}`)},I7=(...t)=>{for(const{id:e,detector:n,loader:i}of t)F7(e,n,i)},F7=(t,e,n)=>{qf[t]?$e.error(`Detector with key ${t} already exists`):qf[t]={detector:e,loader:n},$e.debug(`Detector with key ${t} added${n?" with loader":""}`)},Rve=t=>qf[t].loader,JE=(t,e,{depth:n=2,clobber:i=!1}={})=>{const r={depth:n,clobber:i};return Array.isArray(e)&&!Array.isArray(t)?(e.forEach(o=>JE(t,o,r)),t):Array.isArray(e)&&Array.isArray(t)?(e.forEach(o=>{t.includes(o)||t.push(o)}),t):t===void 0||n<=0?t!=null&&typeof t=="object"&&typeof e=="object"?Object.assign(t,e):e:(e!==void 0&&typeof t=="object"&&typeof e=="object"&&Object.keys(e).forEach(o=>{typeof e[o]=="object"&&(t[o]===void 0||typeof t[o]=="object")?(t[o]===void 0&&(t[o]=Array.isArray(e[o])?[]:{}),t[o]=JE(t[o],e[o],{depth:n-1,clobber:i})):(i||typeof t[o]!="object"&&typeof e[o]!="object")&&(t[o]=e[o])}),t)},ai=JE,Uve="",Lve={curveBasis:upe,curveBasisClosed:cpe,curveBasisOpen:dpe,curveBumpX:ape,curveBumpY:lpe,curveBundle:hpe,curveCardinalClosed:ppe,curveCardinalOpen:gpe,curveCardinal:fpe,curveCatmullRomClosed:ype,curveCatmullRomOpen:vpe,curveCatmullRom:mpe,curveLinear:spe,curveLinearClosed:bpe,curveMonotoneX:_pe,curveMonotoneY:xpe,curveNatural:wpe,curveStep:Tpe,curveStepAfter:Epe,curveStepBefore:Cpe},Pve=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,Mve=function(t,e){const n=N7(t,/(?:init\b)|(?:initialize\b)/);let i={};if(Array.isArray(n)){const s=n.map(a=>a.args);mb(s),i=ai(i,[...s])}else i=n.args;if(!i)return;let r=kx(t,e);const o="config";return i[o]!==void 0&&(r==="flowchart-v2"&&(r="flowchart"),i[r]=i[o],delete i[o]),i},N7=function(t,e=null){try{const n=new RegExp(`[%]{2}(?![{]${Pve.source})(?=[}][%]{2}).*
`,"ig");t=t.trim().replace(n,"").replace(/'/gm,'"'),$e.debug(`Detecting diagram directive${e!==null?" type:"+e:""} based on the text:${t}`);let i;const r=[];for(;(i=Eg.exec(t))!==null;)if(i.index===Eg.lastIndex&&Eg.lastIndex++,i&&!e||e&&i[1]&&i[1].match(e)||e&&i[2]&&i[2].match(e)){const o=i[1]?i[1]:i[2],s=i[3]?i[3].trim():i[4]?JSON.parse(i[4].trim()):null;r.push({type:o,args:s})}return r.length===0?{type:t,args:null}:r.length===1?r[0]:r}catch(n){return $e.error(`ERROR: ${n.message} - Unable to parse directive type: '${e}' based on the text: '${t}'`),{type:void 0,args:null}}},Ove=function(t){return t.replace(Eg,"")},Bve=function(t,e){for(const[n,i]of e.entries())if(i.match(t))return n;return-1};function qve(t,e){if(!t)return e;const n=`curve${t.charAt(0).toUpperCase()+t.slice(1)}`;return Lve[n]??e}function Wve(t,e){const n=t.trim();if(n)return e.securityLevel!=="loose"?h9.sanitizeUrl(n):n}const $ve=(t,...e)=>{const n=t.split("."),i=n.length-1,r=n[i];let o=window;for(let s=0;s<i;s++)if(o=o[n[s]],!o){$e.error(`Function name: ${t} not found in window`);return}o[r](...e)};function R7(t,e){return!t||!e?0:Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function zve(t){let e,n=0;t.forEach(r=>{n+=R7(r,e),e=r});const i=n/2;return ak(t,i)}function Hve(t){return t.length===1?t[0]:zve(t)}const oU=(t,e=2)=>{const n=Math.pow(10,e);return Math.round(t*n)/n},ak=(t,e)=>{let n,i=e;for(const r of t){if(n){const o=R7(r,n);if(o<i)i-=o;else{const s=i/o;if(s<=0)return n;if(s>=1)return{x:r.x,y:r.y};if(s>0&&s<1)return{x:oU((1-s)*n.x+s*r.x,5),y:oU((1-s)*n.y+s*r.y,5)}}}n=r}throw new Error("Could not find a suitable point for the given distance")},Vve=(t,e,n)=>{$e.info(`our points ${JSON.stringify(e)}`),e[0]!==n&&(e=e.reverse());const r=ak(e,25),o=t?10:5,s=Math.atan2(e[0].y-r.y,e[0].x-r.x),a={x:0,y:0};return a.x=Math.sin(s)*o+(e[0].x+r.x)/2,a.y=-Math.cos(s)*o+(e[0].y+r.y)/2,a};function Gve(t,e,n){const i=structuredClone(n);$e.info("our points",i),e!=="start_left"&&e!=="start_right"&&i.reverse();const r=25+t,o=ak(i,r),s=10+t*.5,a=Math.atan2(i[0].y-o.y,i[0].x-o.x),l={x:0,y:0};return e==="start_left"?(l.x=Math.sin(a+Math.PI)*s+(i[0].x+o.x)/2,l.y=-Math.cos(a+Math.PI)*s+(i[0].y+o.y)/2):e==="end_right"?(l.x=Math.sin(a-Math.PI)*s+(i[0].x+o.x)/2-5,l.y=-Math.cos(a-Math.PI)*s+(i[0].y+o.y)/2-5):e==="end_left"?(l.x=Math.sin(a)*s+(i[0].x+o.x)/2-5,l.y=-Math.cos(a)*s+(i[0].y+o.y)/2-5):(l.x=Math.sin(a)*s+(i[0].x+o.x)/2,l.y=-Math.cos(a)*s+(i[0].y+o.y)/2),l}function jve(t){let e="",n="";for(const i of t)i!==void 0&&(i.startsWith("color:")||i.startsWith("text-align:")?n=n+i+";":e=e+i+";");return{style:e,labelStyle:n}}let sU=0;const Xve=()=>(sU++,"id-"+Math.random().toString(36).substr(2,12)+"-"+sU);function Yve(t){let e="";const n="0123456789abcdef",i=n.length;for(let r=0;r<t;r++)e+=n.charAt(Math.floor(Math.random()*i));return e}const Kve=t=>Yve(t.length),Jve=function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},Zve=function(t,e){const n=e.text.replace(sk.lineBreakRegex," "),[,i]=uk(e.fontSize),r=t.append("text");r.attr("x",e.x),r.attr("y",e.y),r.style("text-anchor",e.anchor),r.style("font-family",e.fontFamily),r.style("font-size",i),r.style("font-weight",e.fontWeight),r.attr("fill",e.fill),e.class!==void 0&&r.attr("class",e.class);const o=r.append("tspan");return o.attr("x",e.x+e.textMargin*2),o.attr("fill",e.fill),o.text(n),r},Qve=lv((t,e,n)=>{if(!t||(n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},n),sk.lineBreakRegex.test(t)))return t;const i=t.split(" "),r=[];let o="";return i.forEach((s,a)=>{const l=yb(`${s} `,n),u=yb(o,n);if(l>e){const{hyphenatedStrings:d,remainingWord:f}=e0e(s,e,"-",n);r.push(o,...d),o=f}else u+l>=e?(r.push(o),o=s):o=[o,s].filter(Boolean).join(" ");a+1===i.length&&r.push(o)}),r.filter(s=>s!=="").join(n.joinWith)},(t,e,n)=>`${t}${e}${n.fontSize}${n.fontWeight}${n.fontFamily}${n.joinWith}`),e0e=lv((t,e,n="-",i)=>{i=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},i);const r=[...t],o=[];let s="";return r.forEach((a,l)=>{const u=`${s}${a}`;if(yb(u,i)>=e){const h=l+1,d=r.length===h,f=`${u}${n}`;o.push(d?u:f),s=""}else s=u}),{hyphenatedStrings:o,remainingWord:s}},(t,e,n="-",i)=>`${t}${e}${n}${i.fontSize}${i.fontWeight}${i.fontFamily}`);function t0e(t,e){return lk(t,e).height}function yb(t,e){return lk(t,e).width}const lk=lv((t,e)=>{const{fontSize:n=12,fontFamily:i="Arial",fontWeight:r=400}=e;if(!t)return{width:0,height:0};const[,o]=uk(n),s=["sans-serif",i],a=t.split(sk.lineBreakRegex),l=[],u=Hr("body");if(!u.remove)return{width:0,height:0,lineHeight:0};const c=u.append("svg");for(const d of s){let f=0;const y={width:0,height:0,lineHeight:0};for(const m of a){const v=Jve();v.text=m||Uve;const g=Zve(c,v).style("font-size",o).style("font-weight",r).style("font-family",d),p=(g._groups||g)[0][0].getBBox();if(p.width===0&&p.height===0)throw new Error("svg element not in render tree");y.width=Math.round(Math.max(y.width,p.width)),f=Math.round(p.height),y.height+=f,y.lineHeight=Math.round(Math.max(y.lineHeight,f))}l.push(y)}c.remove();const h=isNaN(l[1].height)||isNaN(l[1].width)||isNaN(l[1].lineHeight)||l[0].height>l[1].height&&l[0].width>l[1].width&&l[0].lineHeight>l[1].lineHeight?0:1;return l[h]},(t,e)=>`${t}${e.fontSize}${e.fontWeight}${e.fontFamily}`);class n0e{constructor(e=!1,n){this.count=0,this.count=n?n.length:0,this.next=e?()=>this.count++:()=>Date.now()}}let Qv;const i0e=function(t){return Qv=Qv||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),Qv.innerHTML=t,unescape(Qv.textContent)};function U7(t){return"str"in t}const r0e=(t,e,n,i)=>{var r;if(!i)return;const o=(r=t.node())==null?void 0:r.getBBox();o&&t.append("text").text(i).attr("x",o.x+o.width/2).attr("y",-n).attr("class",e)},uk=t=>{if(typeof t=="number")return[t,t+"px"];const e=parseInt(t??"",10);return Number.isNaN(e)?[void 0,void 0]:t===String(e)?[e,t+"px"]:[e,t]};function L7(t,e){return Sye({},t,e)}const Ag={assignWithDepth:ai,wrapLabel:Qve,calculateTextHeight:t0e,calculateTextWidth:yb,calculateTextDimensions:lk,cleanAndMerge:L7,detectInit:Mve,detectDirective:N7,isSubstringInArray:Bve,interpolateToCurve:qve,calcLabelPosition:Hve,calcCardinalityPosition:Vve,calcTerminalLabelPosition:Gve,formatUrl:Wve,getStylesFromArray:jve,generateId:Xve,random:Kve,runFunc:$ve,entityDecode:i0e,insertTitle:r0e,parseFontSize:uk,InitIDGenerator:n0e},o0e=function(t){let e=t;return e=e.replace(/style.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),e=e.replace(/classDef.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),e=e.replace(/#\w+;/g,function(n){const i=n.substring(1,n.length-1);return/^\+?\d+$/.test(i)?""+i+"":""+i+""}),e},s0e=function(t){return t.replace(//g,"&#").replace(//g,"&").replace(//g,";")},aU="10.9.5",Wf=Object.freeze(Ive);let ji=ai({},Wf),P7,$f=[],Sg=ai({},Wf);const Ix=(t,e)=>{let n=ai({},t),i={};for(const r of e)B7(r),i=ai(i,r);if(n=ai(n,i),i.theme&&i.theme in Ca){const r=ai({},P7),o=ai(r.themeVariables||{},i.themeVariables);n.theme&&n.theme in Ca&&(n.themeVariables=Ca[n.theme].getThemeVariables(o))}return Sg=n,q7(Sg),Sg},a0e=t=>(ji=ai({},Wf),ji=ai(ji,t),t.theme&&Ca[t.theme]&&(ji.themeVariables=Ca[t.theme].getThemeVariables(t.themeVariables)),Ix(ji,$f),ji),l0e=t=>{P7=ai({},t)},u0e=t=>(ji=ai(ji,t),Ix(ji,$f),ji),M7=()=>ai({},ji),O7=t=>(q7(t),ai(Sg,t),Ts()),Ts=()=>ai({},Sg),B7=t=>{t&&(["secure",...ji.secure??[]].forEach(e=>{Object.hasOwn(t,e)&&($e.debug(`Denied attempt to modify a secure key ${e}`,t[e]),delete t[e])}),Object.keys(t).forEach(e=>{e.startsWith("__")&&delete t[e]}),Object.keys(t).forEach(e=>{typeof t[e]=="string"&&(t[e].includes("<")||t[e].includes(">")||t[e].includes("url(data:"))&&delete t[e],typeof t[e]=="object"&&B7(t[e])}))},c0e=t=>{mb(t),t.fontFamily&&(!t.themeVariables||!t.themeVariables.fontFamily)&&(t.themeVariables={fontFamily:t.fontFamily}),$f.push(t),Ix(ji,$f)},vb=(t=ji)=>{$f=[],Ix(t,$f)},d0e={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},lU={},h0e=t=>{lU[t]||($e.warn(d0e[t]),lU[t]=!0)},q7=t=>{t&&(t.lazyLoadedDiagrams||t.loadExternalDiagramsAtStartup)&&h0e("LAZY_LOAD_DEPRECATED")},W7="c4",f0e=t=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(t),p0e=async()=>{const{diagram:t}=await Tt(async()=>{const{diagram:e}=await import("./c4Diagram-c83219d4-BbyH-8I9.js");return{diagram:e}},__vite__mapDeps([0,1]));return{id:W7,diagram:t}},g0e={id:W7,detector:f0e,loader:p0e},m0e=g0e,$7="flowchart",y0e=(t,e)=>{var n,i;return((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="dagre-wrapper"||((i=e==null?void 0:e.flowchart)==null?void 0:i.defaultRenderer)==="elk"?!1:/^\s*graph/.test(t)},v0e=async()=>{const{diagram:t}=await Tt(async()=>{const{diagram:e}=await import("./flowDiagram-50d868cf-B4SpoNYE.js");return{diagram:e}},__vite__mapDeps([2,3,4,5,6,7,8,9,10,11,12,13,14]));return{id:$7,diagram:t}},b0e={id:$7,detector:y0e,loader:v0e},_0e=b0e,z7="flowchart-v2",x0e=(t,e)=>{var n,i,r;return((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="dagre-d3"||((i=e==null?void 0:e.flowchart)==null?void 0:i.defaultRenderer)==="elk"?!1:/^\s*graph/.test(t)&&((r=e==null?void 0:e.flowchart)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(t)},w0e=async()=>{const{diagram:t}=await Tt(async()=>{const{diagram:e}=await import("./flowDiagram-v2-4f6560a1-0CghL5HI.js");return{diagram:e}},__vite__mapDeps([15,3,6,4,7,5,8,9,10,11,12,13,14]));return{id:z7,diagram:t}},T0e={id:z7,detector:x0e,loader:w0e},C0e=T0e,H7="er",E0e=t=>/^\s*erDiagram/.test(t),A0e=async()=>{const{diagram:t}=await Tt(async()=>{const{diagram:e}=await import("./erDiagram-0228fc6a-CUZ9BzH8.js");return{diagram:e}},__vite__mapDeps([16,4,5,11,12,13]));return{id:H7,diagram:t}},S0e={id:H7,detector:E0e,loader:A0e},D0e=S0e,V7="gitGraph",k0e=t=>/^\s*gitGraph/.test(t),I0e=async()=>{const{diagram:t}=await Tt(async()=>{const{diagram:e}=await import("./gitGraphDiagram-82fe8481-CxII1QI0.js");return{diagram:e}},[]);return{id:V7,diagram:t}},F0e={id:V7,detector:k0e,loader:I0e},N0e=F0e,G7="gantt",R0e=t=>/^\s*gantt/.test(t),U0e=async()=>{const{diagram:t}=await Tt(async()=>{const{diagram:e}=await import("./ganttDiagram-a2739b55-D6Q30GZh.js");return{diagram:e}},__vite__mapDeps([17,18,19]));return{id:G7,diagram:t}},L0e={id:G7,detector:R0e,loader:U0e},P0e=L0e,j7="info",M0e=t=>/^\s*info/.test(t),O0e=async()=>{const{diagram:t}=await Tt(async()=>{const{diagram:e}=await import("./infoDiagram-8eee0895-C1MUFcDp.js");return{diagram:e}},[]);return{id:j7,diagram:t}},B0e={id:j7,detector:M0e,loader:O0e},X7="pie",q0e=t=>/^\s*pie/.test(t),W0e=async()=>{const{diagram:t}=await Tt(async()=>{const{diagram:e}=await import("./pieDiagram-a8764435-DjOVo6Sf.js");return{diagram:e}},__vite__mapDeps([20,21,13,22,19,12]));return{id:X7,diagram:t}},$0e={id:X7,detector:q0e,loader:W0e},Y7="quadrantChart",z0e=t=>/^\s*quadrantChart/.test(t),H0e=async()=>{const{diagram:t}=await Tt(async()=>{const{diagram:e}=await import("./quadrantDiagram-1e28029f-CSoh_d-V.js");return{diagram:e}},__vite__mapDeps([23,18,19]));return{id:Y7,diagram:t}},V0e={id:Y7,detector:z0e,loader:H0e},G0e=V0e,K7="xychart",j0e=t=>/^\s*xychart-beta/.test(t),X0e=async()=>{const{diagram:t}=await Tt(async()=>{const{diagram:e}=await import("./xychartDiagram-f5964ef8-CbplWb7Q.js");return{diagram:e}},__vite__mapDeps([24,10,19,22,18,11,12,13]));return{id:K7,diagram:t}},Y0e={id:K7,detector:j0e,loader:X0e},K0e=Y0e,J7="requirement",J0e=t=>/^\s*requirement(Diagram)?/.test(t),Z0e=async()=>{const{diagram:t}=await Tt(async()=>{const{diagram:e}=await import("./requirementDiagram-08caed73-C4XuxK0F.js");return{diagram:e}},__vite__mapDeps([25,4,5,11,12,13]));return{id:J7,diagram:t}},Q0e={id:J7,detector:J0e,loader:Z0e},e1e=Q0e,Z7="sequence",t1e=t=>/^\s*sequenceDiagram/.test(t),n1e=async()=>{const{diagram:t}=await Tt(async()=>{const{diagram:e}=await import("./sequenceDiagram-c5b8d532-CQr76Y5m.js");return{diagram:e}},__vite__mapDeps([26,1]));return{id:Z7,diagram:t}},i1e={id:Z7,detector:t1e,loader:n1e},r1e=i1e,Q7="class",o1e=(t,e)=>{var n;return((n=e==null?void 0:e.class)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(t)},s1e=async()=>{const{diagram:t}=await Tt(async()=>{const{diagram:e}=await import("./classDiagram-beda092f-vT5teLay.js");return{diagram:e}},__vite__mapDeps([27,28,4,5,11,12,13]));return{id:Q7,diagram:t}},a1e={id:Q7,detector:o1e,loader:s1e},l1e=a1e,eq="classDiagram",u1e=(t,e)=>{var n;return/^\s*classDiagram/.test(t)&&((n=e==null?void 0:e.class)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(t)},c1e=async()=>{const{diagram:t}=await Tt(async()=>{const{diagram:e}=await import("./classDiagram-v2-2358418a-Dmqo2a3p.js");return{diagram:e}},__vite__mapDeps([29,28,4,7,5,8,9,10,11,12,13]));return{id:eq,diagram:t}},d1e={id:eq,detector:u1e,loader:c1e},h1e=d1e,tq="state",f1e=(t,e)=>{var n;return((n=e==null?void 0:e.state)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(t)},p1e=async()=>{const{diagram:t}=await Tt(async()=>{const{diagram:e}=await import("./stateDiagram-1ecb1508-BXnnVgDm.js");return{diagram:e}},__vite__mapDeps([30,31,4,5,11,12,13]));return{id:tq,diagram:t}},g1e={id:tq,detector:f1e,loader:p1e},m1e=g1e,nq="stateDiagram",y1e=(t,e)=>{var n;return!!(/^\s*stateDiagram-v2/.test(t)||/^\s*stateDiagram/.test(t)&&((n=e==null?void 0:e.state)==null?void 0:n.defaultRenderer)==="dagre-wrapper")},v1e=async()=>{const{diagram:t}=await Tt(async()=>{const{diagram:e}=await import("./stateDiagram-v2-c2b004d7-dVWXv5iG.js");return{diagram:e}},__vite__mapDeps([32,31,4,7,5,8,9,10,11,12,13]));return{id:nq,diagram:t}},b1e={id:nq,detector:y1e,loader:v1e},_1e=b1e,iq="journey",x1e=t=>/^\s*journey/.test(t),w1e=async()=>{const{diagram:t}=await Tt(async()=>{const{diagram:e}=await import("./journeyDiagram-c64418c1-DlLQ5UYz.js");return{diagram:e}},__vite__mapDeps([33,1,21,13]));return{id:iq,diagram:t}},T1e={id:iq,detector:x1e,loader:w1e},C1e=T1e,E1e=function(t,e){for(let n of e)t.attr(n[0],n[1])},A1e=function(t,e,n){let i=new Map;return n?(i.set("width","100%"),i.set("style",`max-width: ${e}px;`)):(i.set("height",t),i.set("width",e)),i},rq=function(t,e,n,i){const r=A1e(e,n,i);E1e(t,r)},S1e=function(t,e,n,i){const r=e.node().getBBox(),o=r.width,s=r.height;$e.info(`SVG bounds: ${o}x${s}`,r);let a=0,l=0;$e.info(`Graph bounds: ${a}x${l}`,t),a=o+n*2,l=s+n*2,$e.info(`Calculated bounds: ${a}x${l}`),rq(e,l,a,i);const u=`${r.x-n} ${r.y-n} ${r.width+2*n} ${r.height+2*n}`;e.attr("viewBox",u)},t1={},D1e=(t,e,n)=>{let i="";return t in t1&&t1[t]?i=t1[t](n):$e.warn(`No theme found for ${t}`),` & {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
    fill: ${n.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${n.errorBkgColor};
  }
  & .error-text {
    fill: ${n.errorTextColor};
    stroke: ${n.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 2px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }

  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${n.lineColor};
    stroke: ${n.lineColor};
  }
  & .marker.cross {
    stroke: ${n.lineColor};
  }

  & svg {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
  }

  ${i}

  ${e}
`},k1e=(t,e)=>{e!==void 0&&(t1[t]=e)},I1e=D1e;let ck="",dk="",hk="";const fk=t=>Bf(t,Ts()),F1e=()=>{ck="",hk="",dk=""},N1e=t=>{ck=fk(t).replace(/^\s+/g,"")},R1e=()=>ck,U1e=t=>{hk=fk(t).replace(/\n\s+/g,`
`)},L1e=()=>hk,P1e=t=>{dk=fk(t)},M1e=()=>dk,O1e=Object.freeze(Object.defineProperty({__proto__:null,clear:F1e,getAccDescription:L1e,getAccTitle:R1e,getDiagramTitle:M1e,setAccDescription:U1e,setAccTitle:N1e,setDiagramTitle:P1e},Symbol.toStringTag,{value:"Module"})),B1e=$e,q1e=ok,pk=Ts,p2e=O7,g2e=Wf,W1e=t=>Bf(t,pk()),$1e=S1e,z1e=()=>O1e,bb={},_b=(t,e,n)=>{var i;if(bb[t])throw new Error(`Diagram ${t} already registered.`);bb[t]=e,n&&F7(t,n),k1e(t,e.styles),(i=e.injectUtils)==null||i.call(e,B1e,q1e,pk,W1e,$1e,z1e(),()=>{})},gk=t=>{if(t in bb)return bb[t];throw new H1e(t)};class H1e extends Error{constructor(e){super(`Diagram ${e} not found.`)}}const V1e=t=>{var e;const{securityLevel:n}=pk();let i=Hr("body");if(n==="sandbox"){const s=((e=Hr(`#i${t}`).node())==null?void 0:e.contentDocument)??document;i=Hr(s.body)}return i.select(`#${t}`)},G1e=(t,e,n)=>{$e.debug(`rendering svg for syntax error
`);const i=V1e(e),r=i.append("g");i.attr("viewBox","0 0 2412 512"),rq(i,100,512,!0),r.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),r.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),r.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),r.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),r.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),r.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),r.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),r.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${n}`)},oq={draw:G1e},j1e=oq,X1e={db:{},renderer:oq,parser:{parser:{yy:{}},parse:()=>{}}},Y1e=X1e,sq="flowchart-elk",K1e=(t,e)=>{var n;return!!(/^\s*flowchart-elk/.test(t)||/^\s*flowchart|graph/.test(t)&&((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="elk")},J1e=async()=>{const{diagram:t}=await Tt(async()=>{const{diagram:e}=await import("./flowchart-elk-definition-6af322e1-Cj_m3D2y.js");return{diagram:e}},__vite__mapDeps([34,3,9,10,11,12,13]));return{id:sq,diagram:t}},Z1e={id:sq,detector:K1e,loader:J1e},Q1e=Z1e,aq="timeline",ebe=t=>/^\s*timeline/.test(t),tbe=async()=>{const{diagram:t}=await Tt(async()=>{const{diagram:e}=await import("./timeline-definition-faaaa080-Bz4MkSjH.js");return{diagram:e}},__vite__mapDeps([35,21,13]));return{id:aq,diagram:t}},nbe={id:aq,detector:ebe,loader:tbe},ibe=nbe,lq="mindmap",rbe=t=>/^\s*mindmap/.test(t),obe=async()=>{const{diagram:t}=await Tt(async()=>{const{diagram:e}=await import("./mindmap-definition-8da855dc-BHLMm11-.js");return{diagram:e}},__vite__mapDeps([36,10]));return{id:lq,diagram:t}},sbe={id:lq,detector:rbe,loader:obe},abe=sbe,uq="sankey",lbe=t=>/^\s*sankey-beta/.test(t),ube=async()=>{const{diagram:t}=await Tt(async()=>{const{diagram:e}=await import("./sankeyDiagram-a04cb91d-CkLI2Y4q.js");return{diagram:e}},__vite__mapDeps([37,22,19,38]));return{id:uq,diagram:t}},cbe={id:uq,detector:lbe,loader:ube},dbe=cbe,cq="block",hbe=t=>/^\s*block-beta/.test(t),fbe=async()=>{const{diagram:t}=await Tt(async()=>{const{diagram:e}=await import("./blockDiagram-c4efeb88-CKvwoflz.js");return{diagram:e}},__vite__mapDeps([39,8,4,9,10,11,12,13,14,22,19,38]));return{id:cq,diagram:t}},pbe={id:cq,detector:hbe,loader:fbe},gbe=pbe;let uU=!1;const mk=()=>{uU||(uU=!0,_b("error",Y1e,t=>t.toLowerCase().trim()==="error"),_b("---",{db:{clear:()=>{}},styles:{},renderer:{draw:()=>{}},parser:{parser:{yy:{}},parse:()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")}},init:()=>null},t=>t.toLowerCase().trimStart().startsWith("---")),I7(m0e,h1e,l1e,D0e,P0e,B0e,$0e,e1e,r1e,Q1e,C0e,_0e,abe,ibe,N0e,_1e,m1e,C1e,G0e,dbe,K0e,gbe))};class dq{constructor(e,n={}){this.text=e,this.metadata=n,this.type="graph",this.text=o0e(e),this.text+=`
`;const i=Ts();try{this.type=kx(e,i)}catch(o){this.type="error",this.detectError=o}const r=gk(this.type);$e.debug("Type "+this.type),this.db=r.db,this.renderer=r.renderer,this.parser=r.parser,this.parser.parser.yy=this.db,this.init=r.init,this.parse()}parse(){var e,n,i,r,o;if(this.detectError)throw this.detectError;(n=(e=this.db).clear)==null||n.call(e);const s=Ts();(i=this.init)==null||i.call(this,s),this.metadata.title&&((o=(r=this.db).setDiagramTitle)==null||o.call(r,this.metadata.title)),this.parser.parse(this.text)}async render(e,n){await this.renderer.draw(this.text,e,n,this)}getParser(){return this.parser}getType(){return this.type}}const mbe=async(t,e={})=>{const n=kx(t,Ts());try{gk(n)}catch{const r=Rve(n);if(!r)throw new k7(`Diagram ${n} not found.`);const{id:o,diagram:s}=await r();_b(o,s)}return new dq(t,e)};let cU=[];const ybe=()=>{cU.forEach(t=>{t()}),cU=[]},vbe="graphics-document document";function bbe(t,e){t.attr("role",vbe),e!==""&&t.attr("aria-roledescription",e)}function _be(t,e,n,i){if(t.insert!==void 0){if(n){const r=`chart-desc-${i}`;t.attr("aria-describedby",r),t.insert("desc",":first-child").attr("id",r).text(n)}if(e){const r=`chart-title-${i}`;t.attr("aria-labelledby",r),t.insert("title",":first-child").attr("id",r).text(e)}}}const xbe=t=>t.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart();/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function hq(t){return typeof t>"u"||t===null}function wbe(t){return typeof t=="object"&&t!==null}function Tbe(t){return Array.isArray(t)?t:hq(t)?[]:[t]}function Cbe(t,e){var n,i,r,o;if(e)for(o=Object.keys(e),n=0,i=o.length;n<i;n+=1)r=o[n],t[r]=e[r];return t}function Ebe(t,e){var n="",i;for(i=0;i<e;i+=1)n+=t;return n}function Abe(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var Sbe=hq,Dbe=wbe,kbe=Tbe,Ibe=Ebe,Fbe=Abe,Nbe=Cbe,Ci={isNothing:Sbe,isObject:Dbe,toArray:kbe,repeat:Ibe,isNegativeZero:Fbe,extend:Nbe};function fq(t,e){var n="",i=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+=`

`+t.mark.snippet),i+" "+n):i}function mm(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=fq(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}mm.prototype=Object.create(Error.prototype);mm.prototype.constructor=mm;mm.prototype.toString=function(e){return this.name+": "+fq(this,e)};var ba=mm;function Jw(t,e,n,i,r){var o="",s="",a=Math.floor(r/2)-1;return i-e>a&&(o=" ... ",e=i-a+o.length),n-i>a&&(s=" ...",n=i+a-s.length),{str:o+t.slice(e,n).replace(/\t/g,"")+s,pos:i-e+o.length}}function Zw(t,e){return Ci.repeat(" ",e-t.length)+t}function Rbe(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var n=/\r?\n|\r|\0/g,i=[0],r=[],o,s=-1;o=n.exec(t.buffer);)r.push(o.index),i.push(o.index+o[0].length),t.position<=o.index&&s<0&&(s=i.length-2);s<0&&(s=i.length-1);var a="",l,u,c=Math.min(t.line+e.linesAfter,r.length).toString().length,h=e.maxLength-(e.indent+c+3);for(l=1;l<=e.linesBefore&&!(s-l<0);l++)u=Jw(t.buffer,i[s-l],r[s-l],t.position-(i[s]-i[s-l]),h),a=Ci.repeat(" ",e.indent)+Zw((t.line-l+1).toString(),c)+" | "+u.str+`
`+a;for(u=Jw(t.buffer,i[s],r[s],t.position,h),a+=Ci.repeat(" ",e.indent)+Zw((t.line+1).toString(),c)+" | "+u.str+`
`,a+=Ci.repeat("-",e.indent+c+3+u.pos)+`^
`,l=1;l<=e.linesAfter&&!(s+l>=r.length);l++)u=Jw(t.buffer,i[s+l],r[s+l],t.position-(i[s]-i[s+l]),h),a+=Ci.repeat(" ",e.indent)+Zw((t.line+l+1).toString(),c)+" | "+u.str+`
`;return a.replace(/\n$/,"")}var Ube=Rbe,Lbe=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Pbe=["scalar","sequence","mapping"];function Mbe(t){var e={};return t!==null&&Object.keys(t).forEach(function(n){t[n].forEach(function(i){e[String(i)]=n})}),e}function Obe(t,e){if(e=e||{},Object.keys(e).forEach(function(n){if(Lbe.indexOf(n)===-1)throw new ba('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(n){return n},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=Mbe(e.styleAliases||null),Pbe.indexOf(this.kind)===-1)throw new ba('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var ci=Obe;function dU(t,e){var n=[];return t[e].forEach(function(i){var r=n.length;n.forEach(function(o,s){o.tag===i.tag&&o.kind===i.kind&&o.multi===i.multi&&(r=s)}),n[r]=i}),n}function Bbe(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,n;function i(r){r.multi?(t.multi[r.kind].push(r),t.multi.fallback.push(r)):t[r.kind][r.tag]=t.fallback[r.tag]=r}for(e=0,n=arguments.length;e<n;e+=1)arguments[e].forEach(i);return t}function ZE(t){return this.extend(t)}ZE.prototype.extend=function(e){var n=[],i=[];if(e instanceof ci)i.push(e);else if(Array.isArray(e))i=i.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(n=n.concat(e.implicit)),e.explicit&&(i=i.concat(e.explicit));else throw new ba("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(o){if(!(o instanceof ci))throw new ba("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new ba("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new ba("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(o){if(!(o instanceof ci))throw new ba("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var r=Object.create(ZE.prototype);return r.implicit=(this.implicit||[]).concat(n),r.explicit=(this.explicit||[]).concat(i),r.compiledImplicit=dU(r,"implicit"),r.compiledExplicit=dU(r,"explicit"),r.compiledTypeMap=Bbe(r.compiledImplicit,r.compiledExplicit),r};var qbe=ZE,Wbe=new ci("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),$be=new ci("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),zbe=new ci("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),Hbe=new qbe({explicit:[Wbe,$be,zbe]});function Vbe(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function Gbe(){return null}function jbe(t){return t===null}var Xbe=new ci("tag:yaml.org,2002:null",{kind:"scalar",resolve:Vbe,construct:Gbe,predicate:jbe,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function Ybe(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function Kbe(t){return t==="true"||t==="True"||t==="TRUE"}function Jbe(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var Zbe=new ci("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Ybe,construct:Kbe,predicate:Jbe,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function Qbe(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function e_e(t){return 48<=t&&t<=55}function t_e(t){return 48<=t&&t<=57}function n_e(t){if(t===null)return!1;var e=t.length,n=0,i=!1,r;if(!e)return!1;if(r=t[n],(r==="-"||r==="+")&&(r=t[++n]),r==="0"){if(n+1===e)return!0;if(r=t[++n],r==="b"){for(n++;n<e;n++)if(r=t[n],r!=="_"){if(r!=="0"&&r!=="1")return!1;i=!0}return i&&r!=="_"}if(r==="x"){for(n++;n<e;n++)if(r=t[n],r!=="_"){if(!Qbe(t.charCodeAt(n)))return!1;i=!0}return i&&r!=="_"}if(r==="o"){for(n++;n<e;n++)if(r=t[n],r!=="_"){if(!e_e(t.charCodeAt(n)))return!1;i=!0}return i&&r!=="_"}}if(r==="_")return!1;for(;n<e;n++)if(r=t[n],r!=="_"){if(!t_e(t.charCodeAt(n)))return!1;i=!0}return!(!i||r==="_")}function i_e(t){var e=t,n=1,i;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),i=e[0],(i==="-"||i==="+")&&(i==="-"&&(n=-1),e=e.slice(1),i=e[0]),e==="0")return 0;if(i==="0"){if(e[1]==="b")return n*parseInt(e.slice(2),2);if(e[1]==="x")return n*parseInt(e.slice(2),16);if(e[1]==="o")return n*parseInt(e.slice(2),8)}return n*parseInt(e,10)}function r_e(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!Ci.isNegativeZero(t)}var o_e=new ci("tag:yaml.org,2002:int",{kind:"scalar",resolve:n_e,construct:i_e,predicate:r_e,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),s_e=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function a_e(t){return!(t===null||!s_e.test(t)||t[t.length-1]==="_")}function l_e(t){var e,n;return e=t.replace(/_/g,"").toLowerCase(),n=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:n*parseFloat(e,10)}var u_e=/^[-+]?[0-9]+e/;function c_e(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Ci.isNegativeZero(t))return"-0.0";return n=t.toString(10),u_e.test(n)?n.replace("e",".e"):n}function d_e(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||Ci.isNegativeZero(t))}var h_e=new ci("tag:yaml.org,2002:float",{kind:"scalar",resolve:a_e,construct:l_e,predicate:d_e,represent:c_e,defaultStyle:"lowercase"}),pq=Hbe.extend({implicit:[Xbe,Zbe,o_e,h_e]}),f_e=pq,gq=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),mq=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function p_e(t){return t===null?!1:gq.exec(t)!==null||mq.exec(t)!==null}function g_e(t){var e,n,i,r,o,s,a,l=0,u=null,c,h,d;if(e=gq.exec(t),e===null&&(e=mq.exec(t)),e===null)throw new Error("Date resolve error");if(n=+e[1],i=+e[2]-1,r=+e[3],!e[4])return new Date(Date.UTC(n,i,r));if(o=+e[4],s=+e[5],a=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(c=+e[10],h=+(e[11]||0),u=(c*60+h)*6e4,e[9]==="-"&&(u=-u)),d=new Date(Date.UTC(n,i,r,o,s,a,l)),u&&d.setTime(d.getTime()-u),d}function m_e(t){return t.toISOString()}var y_e=new ci("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:p_e,construct:g_e,instanceOf:Date,represent:m_e});function v_e(t){return t==="<<"||t===null}var b_e=new ci("tag:yaml.org,2002:merge",{kind:"scalar",resolve:v_e}),yk=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function __e(t){if(t===null)return!1;var e,n,i=0,r=t.length,o=yk;for(n=0;n<r;n++)if(e=o.indexOf(t.charAt(n)),!(e>64)){if(e<0)return!1;i+=6}return i%8===0}function x_e(t){var e,n,i=t.replace(/[\r\n=]/g,""),r=i.length,o=yk,s=0,a=[];for(e=0;e<r;e++)e%4===0&&e&&(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)),s=s<<6|o.indexOf(i.charAt(e));return n=r%4*6,n===0?(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)):n===18?(a.push(s>>10&255),a.push(s>>2&255)):n===12&&a.push(s>>4&255),new Uint8Array(a)}function w_e(t){var e="",n=0,i,r,o=t.length,s=yk;for(i=0;i<o;i++)i%3===0&&i&&(e+=s[n>>18&63],e+=s[n>>12&63],e+=s[n>>6&63],e+=s[n&63]),n=(n<<8)+t[i];return r=o%3,r===0?(e+=s[n>>18&63],e+=s[n>>12&63],e+=s[n>>6&63],e+=s[n&63]):r===2?(e+=s[n>>10&63],e+=s[n>>4&63],e+=s[n<<2&63],e+=s[64]):r===1&&(e+=s[n>>2&63],e+=s[n<<4&63],e+=s[64],e+=s[64]),e}function T_e(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var C_e=new ci("tag:yaml.org,2002:binary",{kind:"scalar",resolve:__e,construct:x_e,predicate:T_e,represent:w_e}),E_e=Object.prototype.hasOwnProperty,A_e=Object.prototype.toString;function S_e(t){if(t===null)return!0;var e=[],n,i,r,o,s,a=t;for(n=0,i=a.length;n<i;n+=1){if(r=a[n],s=!1,A_e.call(r)!=="[object Object]")return!1;for(o in r)if(E_e.call(r,o))if(!s)s=!0;else return!1;if(!s)return!1;if(e.indexOf(o)===-1)e.push(o);else return!1}return!0}function D_e(t){return t!==null?t:[]}var k_e=new ci("tag:yaml.org,2002:omap",{kind:"sequence",resolve:S_e,construct:D_e}),I_e=Object.prototype.toString;function F_e(t){if(t===null)return!0;var e,n,i,r,o,s=t;for(o=new Array(s.length),e=0,n=s.length;e<n;e+=1){if(i=s[e],I_e.call(i)!=="[object Object]"||(r=Object.keys(i),r.length!==1))return!1;o[e]=[r[0],i[r[0]]]}return!0}function N_e(t){if(t===null)return[];var e,n,i,r,o,s=t;for(o=new Array(s.length),e=0,n=s.length;e<n;e+=1)i=s[e],r=Object.keys(i),o[e]=[r[0],i[r[0]]];return o}var R_e=new ci("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:F_e,construct:N_e}),U_e=Object.prototype.hasOwnProperty;function L_e(t){if(t===null)return!0;var e,n=t;for(e in n)if(U_e.call(n,e)&&n[e]!==null)return!1;return!0}function P_e(t){return t!==null?t:{}}var M_e=new ci("tag:yaml.org,2002:set",{kind:"mapping",resolve:L_e,construct:P_e}),O_e=f_e.extend({implicit:[y_e,b_e],explicit:[C_e,k_e,R_e,M_e]}),ru=Object.prototype.hasOwnProperty,xb=1,yq=2,vq=3,wb=4,Qw=1,B_e=2,hU=3,q_e=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,W_e=/[\x85\u2028\u2029]/,$_e=/[,\[\]\{\}]/,bq=/^(?:!|!!|![a-z\-]+!)$/i,_q=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function fU(t){return Object.prototype.toString.call(t)}function _s(t){return t===10||t===13}function Wc(t){return t===9||t===32}function Ki(t){return t===9||t===32||t===10||t===13}function jd(t){return t===44||t===91||t===93||t===123||t===125}function z_e(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function H_e(t){return t===120?2:t===117?4:t===85?8:0}function V_e(t){return 48<=t&&t<=57?t-48:-1}function pU(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?"":t===76?"\u2028":t===80?"\u2029":""}function G_e(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}var xq=new Array(256),wq=new Array(256);for(var Cd=0;Cd<256;Cd++)xq[Cd]=pU(Cd)?1:0,wq[Cd]=pU(Cd);function j_e(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||O_e,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Tq(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=Ube(n),new ba(e,n)}function qe(t,e){throw Tq(t,e)}function Tb(t,e){t.onWarning&&t.onWarning.call(null,Tq(t,e))}var gU={YAML:function(e,n,i){var r,o,s;e.version!==null&&qe(e,"duplication of %YAML directive"),i.length!==1&&qe(e,"YAML directive accepts exactly one argument"),r=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),r===null&&qe(e,"ill-formed argument of the YAML directive"),o=parseInt(r[1],10),s=parseInt(r[2],10),o!==1&&qe(e,"unacceptable YAML version of the document"),e.version=i[0],e.checkLineBreaks=s<2,s!==1&&s!==2&&Tb(e,"unsupported YAML version of the document")},TAG:function(e,n,i){var r,o;i.length!==2&&qe(e,"TAG directive accepts exactly two arguments"),r=i[0],o=i[1],bq.test(r)||qe(e,"ill-formed tag handle (first argument) of the TAG directive"),ru.call(e.tagMap,r)&&qe(e,'there is a previously declared suffix for "'+r+'" tag handle'),_q.test(o)||qe(e,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{qe(e,"tag prefix is malformed: "+o)}e.tagMap[r]=o}};function Kl(t,e,n,i){var r,o,s,a;if(e<n){if(a=t.input.slice(e,n),i)for(r=0,o=a.length;r<o;r+=1)s=a.charCodeAt(r),s===9||32<=s&&s<=1114111||qe(t,"expected valid JSON character");else q_e.test(a)&&qe(t,"the stream contains non-printable characters");t.result+=a}}function mU(t,e,n,i){var r,o,s,a;for(Ci.isObject(n)||qe(t,"cannot merge mappings; the provided source object is unacceptable"),r=Object.keys(n),s=0,a=r.length;s<a;s+=1)o=r[s],ru.call(e,o)||(e[o]=n[o],i[o]=!0)}function Xd(t,e,n,i,r,o,s,a,l){var u,c;if(Array.isArray(r))for(r=Array.prototype.slice.call(r),u=0,c=r.length;u<c;u+=1)Array.isArray(r[u])&&qe(t,"nested arrays are not supported inside keys"),typeof r=="object"&&fU(r[u])==="[object Object]"&&(r[u]="[object Object]");if(typeof r=="object"&&fU(r)==="[object Object]"&&(r="[object Object]"),r=String(r),e===null&&(e={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(u=0,c=o.length;u<c;u+=1)mU(t,e,o[u],n);else mU(t,e,o,n);else!t.json&&!ru.call(n,r)&&ru.call(e,r)&&(t.line=s||t.line,t.lineStart=a||t.lineStart,t.position=l||t.position,qe(t,"duplicated mapping key")),r==="__proto__"?Object.defineProperty(e,r,{configurable:!0,enumerable:!0,writable:!0,value:o}):e[r]=o,delete n[r];return e}function vk(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):qe(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function hn(t,e,n){for(var i=0,r=t.input.charCodeAt(t.position);r!==0;){for(;Wc(r);)r===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),r=t.input.charCodeAt(++t.position);if(e&&r===35)do r=t.input.charCodeAt(++t.position);while(r!==10&&r!==13&&r!==0);if(_s(r))for(vk(t),r=t.input.charCodeAt(t.position),i++,t.lineIndent=0;r===32;)t.lineIndent++,r=t.input.charCodeAt(++t.position);else break}return n!==-1&&i!==0&&t.lineIndent<n&&Tb(t,"deficient indentation"),i}function Fx(t){var e=t.position,n;return n=t.input.charCodeAt(e),!!((n===45||n===46)&&n===t.input.charCodeAt(e+1)&&n===t.input.charCodeAt(e+2)&&(e+=3,n=t.input.charCodeAt(e),n===0||Ki(n)))}function bk(t,e){e===1?t.result+=" ":e>1&&(t.result+=Ci.repeat(`
`,e-1))}function X_e(t,e,n){var i,r,o,s,a,l,u,c,h=t.kind,d=t.result,f;if(f=t.input.charCodeAt(t.position),Ki(f)||jd(f)||f===35||f===38||f===42||f===33||f===124||f===62||f===39||f===34||f===37||f===64||f===96||(f===63||f===45)&&(r=t.input.charCodeAt(t.position+1),Ki(r)||n&&jd(r)))return!1;for(t.kind="scalar",t.result="",o=s=t.position,a=!1;f!==0;){if(f===58){if(r=t.input.charCodeAt(t.position+1),Ki(r)||n&&jd(r))break}else if(f===35){if(i=t.input.charCodeAt(t.position-1),Ki(i))break}else{if(t.position===t.lineStart&&Fx(t)||n&&jd(f))break;if(_s(f))if(l=t.line,u=t.lineStart,c=t.lineIndent,hn(t,!1,-1),t.lineIndent>=e){a=!0,f=t.input.charCodeAt(t.position);continue}else{t.position=s,t.line=l,t.lineStart=u,t.lineIndent=c;break}}a&&(Kl(t,o,s,!1),bk(t,t.line-l),o=s=t.position,a=!1),Wc(f)||(s=t.position+1),f=t.input.charCodeAt(++t.position)}return Kl(t,o,s,!1),t.result?!0:(t.kind=h,t.result=d,!1)}function Y_e(t,e){var n,i,r;if(n=t.input.charCodeAt(t.position),n!==39)return!1;for(t.kind="scalar",t.result="",t.position++,i=r=t.position;(n=t.input.charCodeAt(t.position))!==0;)if(n===39)if(Kl(t,i,t.position,!0),n=t.input.charCodeAt(++t.position),n===39)i=t.position,t.position++,r=t.position;else return!0;else _s(n)?(Kl(t,i,r,!0),bk(t,hn(t,!1,e)),i=r=t.position):t.position===t.lineStart&&Fx(t)?qe(t,"unexpected end of the document within a single quoted scalar"):(t.position++,r=t.position);qe(t,"unexpected end of the stream within a single quoted scalar")}function K_e(t,e){var n,i,r,o,s,a;if(a=t.input.charCodeAt(t.position),a!==34)return!1;for(t.kind="scalar",t.result="",t.position++,n=i=t.position;(a=t.input.charCodeAt(t.position))!==0;){if(a===34)return Kl(t,n,t.position,!0),t.position++,!0;if(a===92){if(Kl(t,n,t.position,!0),a=t.input.charCodeAt(++t.position),_s(a))hn(t,!1,e);else if(a<256&&xq[a])t.result+=wq[a],t.position++;else if((s=H_e(a))>0){for(r=s,o=0;r>0;r--)a=t.input.charCodeAt(++t.position),(s=z_e(a))>=0?o=(o<<4)+s:qe(t,"expected hexadecimal character");t.result+=G_e(o),t.position++}else qe(t,"unknown escape sequence");n=i=t.position}else _s(a)?(Kl(t,n,i,!0),bk(t,hn(t,!1,e)),n=i=t.position):t.position===t.lineStart&&Fx(t)?qe(t,"unexpected end of the document within a double quoted scalar"):(t.position++,i=t.position)}qe(t,"unexpected end of the stream within a double quoted scalar")}function J_e(t,e){var n=!0,i,r,o,s=t.tag,a,l=t.anchor,u,c,h,d,f,y=Object.create(null),m,v,g,p;if(p=t.input.charCodeAt(t.position),p===91)c=93,f=!1,a=[];else if(p===123)c=125,f=!0,a={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=a),p=t.input.charCodeAt(++t.position);p!==0;){if(hn(t,!0,e),p=t.input.charCodeAt(t.position),p===c)return t.position++,t.tag=s,t.anchor=l,t.kind=f?"mapping":"sequence",t.result=a,!0;n?p===44&&qe(t,"expected the node content, but found ','"):qe(t,"missed comma between flow collection entries"),v=m=g=null,h=d=!1,p===63&&(u=t.input.charCodeAt(t.position+1),Ki(u)&&(h=d=!0,t.position++,hn(t,!0,e))),i=t.line,r=t.lineStart,o=t.position,zf(t,e,xb,!1,!0),v=t.tag,m=t.result,hn(t,!0,e),p=t.input.charCodeAt(t.position),(d||t.line===i)&&p===58&&(h=!0,p=t.input.charCodeAt(++t.position),hn(t,!0,e),zf(t,e,xb,!1,!0),g=t.result),f?Xd(t,a,y,v,m,g,i,r,o):h?a.push(Xd(t,null,y,v,m,g,i,r,o)):a.push(m),hn(t,!0,e),p=t.input.charCodeAt(t.position),p===44?(n=!0,p=t.input.charCodeAt(++t.position)):n=!1}qe(t,"unexpected end of the stream within a flow collection")}function Z_e(t,e){var n,i,r=Qw,o=!1,s=!1,a=e,l=0,u=!1,c,h;if(h=t.input.charCodeAt(t.position),h===124)i=!1;else if(h===62)i=!0;else return!1;for(t.kind="scalar",t.result="";h!==0;)if(h=t.input.charCodeAt(++t.position),h===43||h===45)Qw===r?r=h===43?hU:B_e:qe(t,"repeat of a chomping mode identifier");else if((c=V_e(h))>=0)c===0?qe(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?qe(t,"repeat of an indentation width identifier"):(a=e+c-1,s=!0);else break;if(Wc(h)){do h=t.input.charCodeAt(++t.position);while(Wc(h));if(h===35)do h=t.input.charCodeAt(++t.position);while(!_s(h)&&h!==0)}for(;h!==0;){for(vk(t),t.lineIndent=0,h=t.input.charCodeAt(t.position);(!s||t.lineIndent<a)&&h===32;)t.lineIndent++,h=t.input.charCodeAt(++t.position);if(!s&&t.lineIndent>a&&(a=t.lineIndent),_s(h)){l++;continue}if(t.lineIndent<a){r===hU?t.result+=Ci.repeat(`
`,o?1+l:l):r===Qw&&o&&(t.result+=`
`);break}for(i?Wc(h)?(u=!0,t.result+=Ci.repeat(`
`,o?1+l:l)):u?(u=!1,t.result+=Ci.repeat(`
`,l+1)):l===0?o&&(t.result+=" "):t.result+=Ci.repeat(`
`,l):t.result+=Ci.repeat(`
`,o?1+l:l),o=!0,s=!0,l=0,n=t.position;!_s(h)&&h!==0;)h=t.input.charCodeAt(++t.position);Kl(t,n,t.position,!1)}return!0}function yU(t,e){var n,i=t.tag,r=t.anchor,o=[],s,a=!1,l;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=o),l=t.input.charCodeAt(t.position);l!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,qe(t,"tab characters must not be used in indentation")),!(l!==45||(s=t.input.charCodeAt(t.position+1),!Ki(s))));){if(a=!0,t.position++,hn(t,!0,-1)&&t.lineIndent<=e){o.push(null),l=t.input.charCodeAt(t.position);continue}if(n=t.line,zf(t,e,vq,!1,!0),o.push(t.result),hn(t,!0,-1),l=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&l!==0)qe(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return a?(t.tag=i,t.anchor=r,t.kind="sequence",t.result=o,!0):!1}function Q_e(t,e,n){var i,r,o,s,a,l,u=t.tag,c=t.anchor,h={},d=Object.create(null),f=null,y=null,m=null,v=!1,g=!1,p;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=h),p=t.input.charCodeAt(t.position);p!==0;){if(!v&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,qe(t,"tab characters must not be used in indentation")),i=t.input.charCodeAt(t.position+1),o=t.line,(p===63||p===58)&&Ki(i))p===63?(v&&(Xd(t,h,d,f,y,null,s,a,l),f=y=m=null),g=!0,v=!0,r=!0):v?(v=!1,r=!0):qe(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,p=i;else{if(s=t.line,a=t.lineStart,l=t.position,!zf(t,n,yq,!1,!0))break;if(t.line===o){for(p=t.input.charCodeAt(t.position);Wc(p);)p=t.input.charCodeAt(++t.position);if(p===58)p=t.input.charCodeAt(++t.position),Ki(p)||qe(t,"a whitespace character is expected after the key-value separator within a block mapping"),v&&(Xd(t,h,d,f,y,null,s,a,l),f=y=m=null),g=!0,v=!1,r=!1,f=t.tag,y=t.result;else if(g)qe(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=u,t.anchor=c,!0}else if(g)qe(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=u,t.anchor=c,!0}if((t.line===o||t.lineIndent>e)&&(v&&(s=t.line,a=t.lineStart,l=t.position),zf(t,e,wb,!0,r)&&(v?y=t.result:m=t.result),v||(Xd(t,h,d,f,y,m,s,a,l),f=y=m=null),hn(t,!0,-1),p=t.input.charCodeAt(t.position)),(t.line===o||t.lineIndent>e)&&p!==0)qe(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return v&&Xd(t,h,d,f,y,null,s,a,l),g&&(t.tag=u,t.anchor=c,t.kind="mapping",t.result=h),g}function exe(t){var e,n=!1,i=!1,r,o,s;if(s=t.input.charCodeAt(t.position),s!==33)return!1;if(t.tag!==null&&qe(t,"duplication of a tag property"),s=t.input.charCodeAt(++t.position),s===60?(n=!0,s=t.input.charCodeAt(++t.position)):s===33?(i=!0,r="!!",s=t.input.charCodeAt(++t.position)):r="!",e=t.position,n){do s=t.input.charCodeAt(++t.position);while(s!==0&&s!==62);t.position<t.length?(o=t.input.slice(e,t.position),s=t.input.charCodeAt(++t.position)):qe(t,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!Ki(s);)s===33&&(i?qe(t,"tag suffix cannot contain exclamation marks"):(r=t.input.slice(e-1,t.position+1),bq.test(r)||qe(t,"named tag handle cannot contain such characters"),i=!0,e=t.position+1)),s=t.input.charCodeAt(++t.position);o=t.input.slice(e,t.position),$_e.test(o)&&qe(t,"tag suffix cannot contain flow indicator characters")}o&&!_q.test(o)&&qe(t,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{qe(t,"tag name is malformed: "+o)}return n?t.tag=o:ru.call(t.tagMap,r)?t.tag=t.tagMap[r]+o:r==="!"?t.tag="!"+o:r==="!!"?t.tag="tag:yaml.org,2002:"+o:qe(t,'undeclared tag handle "'+r+'"'),!0}function txe(t){var e,n;if(n=t.input.charCodeAt(t.position),n!==38)return!1;for(t.anchor!==null&&qe(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!Ki(n)&&!jd(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&qe(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function nxe(t){var e,n,i;if(i=t.input.charCodeAt(t.position),i!==42)return!1;for(i=t.input.charCodeAt(++t.position),e=t.position;i!==0&&!Ki(i)&&!jd(i);)i=t.input.charCodeAt(++t.position);return t.position===e&&qe(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),ru.call(t.anchorMap,n)||qe(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],hn(t,!0,-1),!0}function zf(t,e,n,i,r){var o,s,a,l=1,u=!1,c=!1,h,d,f,y,m,v;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,o=s=a=wb===n||vq===n,i&&hn(t,!0,-1)&&(u=!0,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)),l===1)for(;exe(t)||txe(t);)hn(t,!0,-1)?(u=!0,a=o,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)):a=!1;if(a&&(a=u||r),(l===1||wb===n)&&(xb===n||yq===n?m=e:m=e+1,v=t.position-t.lineStart,l===1?a&&(yU(t,v)||Q_e(t,v,m))||J_e(t,m)?c=!0:(s&&Z_e(t,m)||Y_e(t,m)||K_e(t,m)?c=!0:nxe(t)?(c=!0,(t.tag!==null||t.anchor!==null)&&qe(t,"alias node should not have any properties")):X_e(t,m,xb===n)&&(c=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):l===0&&(c=a&&yU(t,v))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&qe(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),h=0,d=t.implicitTypes.length;h<d;h+=1)if(y=t.implicitTypes[h],y.resolve(t.result)){t.result=y.construct(t.result),t.tag=y.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(ru.call(t.typeMap[t.kind||"fallback"],t.tag))y=t.typeMap[t.kind||"fallback"][t.tag];else for(y=null,f=t.typeMap.multi[t.kind||"fallback"],h=0,d=f.length;h<d;h+=1)if(t.tag.slice(0,f[h].tag.length)===f[h].tag){y=f[h];break}y||qe(t,"unknown tag !<"+t.tag+">"),t.result!==null&&y.kind!==t.kind&&qe(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+y.kind+'", not "'+t.kind+'"'),y.resolve(t.result,t.tag)?(t.result=y.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):qe(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||c}function ixe(t){var e=t.position,n,i,r,o=!1,s;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(s=t.input.charCodeAt(t.position))!==0&&(hn(t,!0,-1),s=t.input.charCodeAt(t.position),!(t.lineIndent>0||s!==37));){for(o=!0,s=t.input.charCodeAt(++t.position),n=t.position;s!==0&&!Ki(s);)s=t.input.charCodeAt(++t.position);for(i=t.input.slice(n,t.position),r=[],i.length<1&&qe(t,"directive name must not be less than one character in length");s!==0;){for(;Wc(s);)s=t.input.charCodeAt(++t.position);if(s===35){do s=t.input.charCodeAt(++t.position);while(s!==0&&!_s(s));break}if(_s(s))break;for(n=t.position;s!==0&&!Ki(s);)s=t.input.charCodeAt(++t.position);r.push(t.input.slice(n,t.position))}s!==0&&vk(t),ru.call(gU,i)?gU[i](t,i,r):Tb(t,'unknown document directive "'+i+'"')}if(hn(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,hn(t,!0,-1)):o&&qe(t,"directives end mark is expected"),zf(t,t.lineIndent-1,wb,!1,!0),hn(t,!0,-1),t.checkLineBreaks&&W_e.test(t.input.slice(e,t.position))&&Tb(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&Fx(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,hn(t,!0,-1));return}if(t.position<t.length-1)qe(t,"end of the stream or a document separator is expected");else return}function rxe(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var n=new j_e(t,e),i=t.indexOf("\0");for(i!==-1&&(n.position=i,qe(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)ixe(n);return n.documents}function oxe(t,e){var n=rxe(t,e);if(n.length!==0){if(n.length===1)return n[0];throw new ba("expected a single document in the stream, but found more")}}var sxe=oxe,axe={load:sxe},lxe=pq,uxe=axe.load;function cxe(t){const e=t.match(D7);if(!e)return{text:t,metadata:{}};let n=uxe(e[1],{schema:lxe})??{};n=typeof n=="object"&&!Array.isArray(n)?n:{};const i={};return n.displayMode&&(i.displayMode=n.displayMode.toString()),n.title&&(i.title=n.title.toString()),n.config&&(i.config=n.config),{text:t.slice(e[0].length),metadata:i}}const dxe=t=>t.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(e,n,i)=>"<"+n+i.replace(/="([^"]*)"/g,"='$1'")+">"),hxe=t=>{const{text:e,metadata:n}=cxe(t),{displayMode:i,title:r,config:o={}}=n;return i&&(o.gantt||(o.gantt={}),o.gantt.displayMode=i),{title:r,config:o,text:e}},fxe=t=>{const e=Ag.detectInit(t)??{},n=Ag.detectDirective(t,"wrap");return Array.isArray(n)?e.wrap=n.some(({type:i})=>{}):(n==null?void 0:n.type)==="wrap"&&(e.wrap=!0),{text:Ove(t),directive:e}};function Cq(t){const e=dxe(t),n=hxe(e),i=fxe(n.text),r=L7(n.config,i.directive);return t=xbe(i.text),{code:t,title:n.title,config:r}}const pxe=5e4,gxe="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",mxe="sandbox",yxe="loose",vxe="http://www.w3.org/2000/svg",bxe="http://www.w3.org/1999/xlink",_xe="http://www.w3.org/1999/xhtml",xxe="100%",wxe="100%",Txe="border:0;margin:0;",Cxe="margin:0",Exe="allow-top-navigation-by-user-activation allow-popups",Axe='The "iframe" tag is not supported by your browser.',Sxe=["foreignobject"],Dxe=["dominant-baseline"];function Eq(t){const e=Cq(t);return vb(),c0e(e.config??{}),e}async function kxe(t,e){mk(),t=Eq(t).code;try{await _k(t)}catch(n){if(e!=null&&e.suppressErrors)return!1;throw n}return!0}const vU=(t,e,n=[])=>`
.${t} ${e} { ${n.join(" !important; ")} !important; }`,Ixe=(t,e={})=>{var n;let i="";if(t.themeCSS!==void 0&&(i+=`
${t.themeCSS}`),t.fontFamily!==void 0&&(i+=`
:root { --mermaid-font-family: ${t.fontFamily}}`),t.altFontFamily!==void 0&&(i+=`
:root { --mermaid-alt-font-family: ${t.altFontFamily}}`),!Kw(e)){const a=t.htmlLabels||((n=t.flowchart)==null?void 0:n.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];for(const l in e){const u=e[l];Kw(u.styles)||a.forEach(c=>{i+=vU(u.id,c,u.styles)}),Kw(u.textStyles)||(i+=vU(u.id,"tspan",u.textStyles))}}return i},Fxe=(t,e,n,i)=>{const r=Ixe(t,n),o=I1e(e,r,t.themeVariables);return HE($ye(`${i}{${o}}`),Hye)},Nxe=(t="",e,n)=>{let i=t;return!n&&!e&&(i=i.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),i=s0e(i),i=i.replace(/<br>/g,"<br/>"),i},Rxe=(t="",e)=>{var n,i;const r=(i=(n=e==null?void 0:e.viewBox)==null?void 0:n.baseVal)!=null&&i.height?e.viewBox.baseVal.height+"px":wxe,o=btoa('<body style="'+Cxe+'">'+t+"</body>");return`<iframe style="width:${xxe};height:${r};${Txe}" src="data:text/html;base64,${o}" sandbox="${Exe}">
  ${Axe}
</iframe>`},bU=(t,e,n,i,r)=>{const o=t.append("div");o.attr("id",n),i&&o.attr("style",i);const s=o.append("svg").attr("id",e).attr("width","100%").attr("xmlns",vxe);return r&&s.attr("xmlns:xlink",r),s.append("g"),t};function _U(t,e){return t.append("iframe").attr("id",e).attr("style","width: 100%; height: 100%;").attr("sandbox","")}const Uxe=(t,e,n,i)=>{var r,o,s;(r=t.getElementById(e))==null||r.remove(),(o=t.getElementById(n))==null||o.remove(),(s=t.getElementById(i))==null||s.remove()},Lxe=async function(t,e,n){var i,r,o,s,a,l;mk();const u=Eq(e);e=u.code;const c=Ts();$e.debug(c),e.length>((c==null?void 0:c.maxTextSize)??pxe)&&(e=gxe);const h="#"+t,d="i"+t,f="#"+d,y="d"+t,m="#"+y;let v=Hr("body");const g=c.securityLevel===mxe,p=c.securityLevel===yxe,_=c.fontFamily;if(n!==void 0){if(n&&(n.innerHTML=""),g){const M=_U(Hr(n),d);v=Hr(M.nodes()[0].contentDocument.body),v.node().style.margin=0}else v=Hr(n);bU(v,t,y,`font-family: ${_}`,bxe)}else{if(Uxe(document,t,y,d),g){const M=_U(Hr("body"),d);v=Hr(M.nodes()[0].contentDocument.body),v.node().style.margin=0}else v=Hr("body");bU(v,t,y)}let x,T;try{x=await _k(e,{title:u.title})}catch(M){x=new dq("error"),T=M}const A=v.select(m).node(),E=x.type,k=A.firstChild,U=k.firstChild,N=(r=(i=x.renderer).getClasses)==null?void 0:r.call(i,e,x),I=Fxe(c,E,N,h),S=document.createElement("style");S.innerHTML=I,k.insertBefore(S,U);try{await x.renderer.draw(e,t,aU,x)}catch(M){throw j1e.draw(e,t,aU),M}const L=v.select(`${m} svg`),D=(s=(o=x.db).getAccTitle)==null?void 0:s.call(o),$=(l=(a=x.db).getAccDescription)==null?void 0:l.call(a);Mxe(E,L,D,$),v.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns",_xe);let R=v.select(m).node().innerHTML;if($e.debug("config.arrowMarkerAbsolute",c.arrowMarkerAbsolute),R=Nxe(R,g,E7(c.arrowMarkerAbsolute)),g){const M=v.select(m+" svg").node();R=Rxe(R,M)}else p||(R=Pf.sanitize(R,{ADD_TAGS:Sxe,ADD_ATTR:Dxe,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(ybe(),T)throw T;const z=Hr(g?f:m).node();return z&&"remove"in z&&z.remove(),{svg:R,bindFunctions:x.db.bindFunctions}};function Pxe(t={}){var e;t!=null&&t.fontFamily&&!((e=t.themeVariables)!=null&&e.fontFamily)&&(t.themeVariables||(t.themeVariables={}),t.themeVariables.fontFamily=t.fontFamily),l0e(t),t!=null&&t.theme&&t.theme in Ca?t.themeVariables=Ca[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=Ca.default.getThemeVariables(t.themeVariables));const n=typeof t=="object"?a0e(t):M7();ok(n.logLevel),mk()}const _k=(t,e={})=>{const{code:n}=Cq(t);return mbe(n,e)};function Mxe(t,e,n,i){bbe(e,t),_be(e,n,i,e.attr("id"))}const nd=Object.freeze({render:Lxe,parse:kxe,getDiagramFromText:_k,initialize:Pxe,getConfig:Ts,setConfig:O7,getSiteConfig:M7,updateSiteConfig:u0e,reset:()=>{vb()},globalReset:()=>{vb(Wf)},defaultConfig:Wf});ok(Ts().logLevel);vb(Ts());const Oxe=async()=>{$e.debug("Loading registered diagrams");const e=(await Promise.allSettled(Object.entries(qf).map(async([n,{detector:i,loader:r}])=>{if(r)try{gk(n)}catch{try{const{diagram:s,id:a}=await r();_b(a,s,i)}catch(s){throw $e.error(`Failed to load external diagram with key ${n}. Removing from detectors.`),delete qf[n],s}}}))).filter(n=>n.status==="rejected");if(e.length>0){$e.error(`Failed to load ${e.length} external diagrams`);for(const n of e)$e.error(n);throw new Error(`Failed to load ${e.length} external diagrams`)}},Bxe=(t,e,n)=>{$e.warn(t),U7(t)?(n&&n(t.str,t.hash),e.push({...t,message:t.str,error:t})):(n&&n(t),t instanceof Error&&e.push({str:t.message,message:t.message,hash:t.name,error:t}))},Aq=async function(t={querySelector:".mermaid"}){try{await qxe(t)}catch(e){if(U7(e)&&$e.error(e.str),Po.parseError&&Po.parseError(e),!t.suppressErrors)throw $e.error("Use the suppressErrors option to suppress these errors"),e}},qxe=async function({postRenderCallback:t,querySelector:e,nodes:n}={querySelector:".mermaid"}){const i=nd.getConfig();$e.debug(`${t?"":"No "}Callback function found`);let r;if(n)r=n;else if(e)r=document.querySelectorAll(e);else throw new Error("Nodes and querySelector are both undefined");$e.debug(`Found ${r.length} diagrams`),(i==null?void 0:i.startOnLoad)!==void 0&&($e.debug("Start On Load: "+(i==null?void 0:i.startOnLoad)),nd.updateSiteConfig({startOnLoad:i==null?void 0:i.startOnLoad}));const o=new Ag.InitIDGenerator(i.deterministicIds,i.deterministicIDSeed);let s;const a=[];for(const l of Array.from(r)){$e.info("Rendering diagram: "+l.id);/*! Check if previously processed */if(l.getAttribute("data-processed"))continue;l.setAttribute("data-processed","true");const u=`mermaid-${o.next()}`;s=l.innerHTML,s=zce(Ag.entityDecode(s)).trim().replace(/<br\s*\/?>/gi,"<br/>");const c=Ag.detectInit(s);c&&$e.debug("Detected early reinit: ",c);try{const{svg:h,bindFunctions:d}=await Iq(u,s,l);l.innerHTML=h,t&&await t(u),d&&d(l)}catch(h){Bxe(h,a,Po.parseError)}}if(a.length>0)throw a[0]},Sq=function(t){nd.initialize(t)},Wxe=async function(t,e,n){$e.warn("mermaid.init is deprecated. Please use run instead."),t&&Sq(t);const i={postRenderCallback:n,querySelector:".mermaid"};typeof e=="string"?i.querySelector=e:e&&(e instanceof HTMLElement?i.nodes=[e]:i.nodes=e),await Aq(i)},$xe=async(t,{lazyLoad:e=!0}={})=>{I7(...t),e===!1&&await Oxe()},Dq=function(){if(Po.startOnLoad){const{startOnLoad:t}=nd.getConfig();t&&Po.run().catch(e=>$e.error("Mermaid failed to initialize",e))}};if(typeof document<"u"){/*!
 * Wait for document loaded before starting the execution
 */window.addEventListener("load",Dq,!1)}const zxe=function(t){Po.parseError=t},Cb=[];let eT=!1;const kq=async()=>{if(!eT){for(eT=!0;Cb.length>0;){const t=Cb.shift();if(t)try{await t()}catch(e){$e.error("Error executing queue",e)}}eT=!1}},Hxe=async(t,e)=>new Promise((n,i)=>{const r=()=>new Promise((o,s)=>{nd.parse(t,e).then(a=>{o(a),n(a)},a=>{var l;$e.error("Error parsing",a),(l=Po.parseError)==null||l.call(Po,a),s(a),i(a)})});Cb.push(r),kq().catch(i)}),Iq=(t,e,n)=>new Promise((i,r)=>{const o=()=>new Promise((s,a)=>{nd.render(t,e,n).then(l=>{s(l),i(l)},l=>{var u;$e.error("Error parsing",l),(u=Po.parseError)==null||u.call(Po,l),a(l),r(l)})});Cb.push(o),kq().catch(r)}),Po={startOnLoad:!0,mermaidAPI:nd,parse:Hxe,render:Iq,init:Wxe,run:Aq,registerExternalDiagrams:$xe,initialize:Sq,parseError:void 0,contentLoaded:Dq,setParseErrorHandler:zxe,detectType:kx},Vxe=Object.values(iK),Gxe=()=>{const t=localStorage.getItem("intellinote-theme");return t==="light"||t==="dark"?t:"dark"},jxe=()=>{const[t,e]=be.useState([]),[n,i]=be.useState(null),[r,o]=be.useState(lo.Welcome),[s,a]=be.useState(!1),[l,u]=be.useState(Gxe),[c,h]=be.useState(window.innerWidth<768),[d,f]=be.useState(window.innerWidth>=768),[y,m]=be.useState(null),[v,g]=be.useState(!1),p=!!(y!=null&&y.apiKey);be.useEffect(()=>{const R=()=>{const P=window.innerWidth<768;h(P),f(!P)};return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]),be.useEffect(()=>(Mw.addListener("backButton",({canGoBack:R})=>{R?window.history.back():Mw.exitApp()}),()=>{Mw.removeAllListeners()}),[]),be.useEffect(()=>{try{const R=localStorage.getItem("intellinote-lectures");R&&e(JSON.parse(R))}catch(R){console.error("Failed to load lectures from localStorage",R)}},[]),be.useEffect(()=>{try{localStorage.setItem("intellinote-lectures",JSON.stringify(t))}catch(R){console.error("Failed to save lectures to localStorage",R)}},[t]),be.useEffect(()=>{let R=!0;return Uz().then(P=>{R&&m(P)}).catch(P=>{console.warn("Failed to load API config",P)}),()=>{R=!1}},[]),be.useEffect(()=>{l==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("intellinote-theme",l),Po.initialize({startOnLoad:!1,theme:l==="dark"?"dark":"default"})},[l]);const _=()=>{u(R=>R==="dark"?"light":"dark")},x=()=>{o(lo.Live),i(null),c&&f(!1)},T=be.useCallback((R,P)=>{e(z=>z.map(M=>M.id===R?{...M,...P}:M))},[]),A=be.useCallback(async R=>{try{const P=await SM(R.transcript,jl.Notes,R.handouts,!1);T(R.id,{organizedNotes:P,organizedNotesStatus:"success"})}catch(P){console.error("Failed to auto-generate notes:",P),T(R.id,{organizedNotesStatus:"error"})}try{const P=await hK(R.transcript,R.handouts);T(R.id,{suggestedTags:P,tagsStatus:"success"})}catch(P){console.error("Failed to auto-generate tags:",P),T(R.id,{tagsStatus:"error"})}},[T]),E=be.useCallback(R=>{const P=new Date,z={id:`lecture-${P.getTime()}`,title:`Live Lecture - ${P.toLocaleDateString()}`,date:P.toLocaleString(),transcript:R,handouts:[],organizedNotes:null,organizedNotesStatus:"generating",studyGuide:null,testQuestions:null,flashcards:null,tags:[],suggestedTags:[],tagsStatus:"generating",chatHistory:[]};e(M=>[z,...M]),i(z.id),o(lo.Note),A(z)},[A]),k=()=>{a(!0),c&&f(!1)},U=be.useCallback(R=>{const P=new Date,z=R.transcript.split(`
`).map(q=>({text:q,startTime:0})),M={id:`lecture-${P.getTime()}`,title:R.title||`Uploaded Lecture - ${P.toLocaleDateString()}`,date:P.toLocaleString(),transcript:z,handouts:R.handouts,organizedNotes:null,organizedNotesStatus:"generating",studyGuide:null,testQuestions:null,flashcards:null,tags:[],suggestedTags:[],tagsStatus:"generating",chatHistory:[]};e(q=>[M,...q]),i(M.id),o(lo.Note),a(!1),A(M)},[A]),N=be.useCallback(R=>{window.confirm("Are you sure you want to permanently delete this lecture and all its data?")&&e(P=>{const z=P.filter(M=>M.id!==R);return n===R&&(i(null),o(lo.Welcome)),z})},[n]),I=R=>{i(R),o(lo.Note),c&&f(!1)},S=be.useCallback(async R=>{await Lz(R),m(R),g(!1)},[]),L=be.useCallback(async()=>{await Pz(),m(null)},[]),D=t.find(R=>R.id===n),$=()=>{switch(r){case lo.Live:return X.jsx(kce,{onTranscriptionComplete:E,isApiKeyReady:p,onOpenSettings:()=>g(!0),providerId:(y==null?void 0:y.provider)??null});case lo.Note:return D?X.jsx(Ece,{theme:l,lecture:D,updateLecture:T,isMobile:c,onToggleSidebar:()=>f(!d),isApiKeyReady:p,onOpenSettings:()=>g(!0)}):(o(lo.Welcome),null);case lo.Welcome:default:const R=()=>X.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-800 text-center p-8",children:[X.jsx(A1,{className:"w-24 h-24 text-indigo-500 mb-6"}),X.jsx("h2",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Welcome to IntelliNote"}),X.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-xl",children:"Your AI-powered lecture assistant. Start a new live note or select a past lecture from the sidebar to begin."})]});return c?X.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[X.jsxs("header",{className:"flex-shrink-0 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 p-4 flex items-center",children:[X.jsx("button",{onClick:()=>f(!0),className:"p-1 mr-4",children:X.jsx(qP,{className:"w-6 h-6"})}),X.jsx("h1",{className:"text-lg font-bold",children:"IntelliNote"})]}),X.jsx(R,{})]}):X.jsx(R,{})}};return X.jsxs("div",{className:"relative flex h-screen font-sans bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 overflow-hidden",children:[c&&d&&X.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20",onClick:()=>f(!1)}),X.jsx("div",{className:`
        transform transition-transform duration-300 ease-in-out
        ${c?"fixed top-0 left-0 h-full z-30":"relative"}
        ${d?"translate-x-0":"-translate-x-full"}
      `,children:X.jsx(Sz,{lectures:t,activeLectureId:n,onSelectLecture:I,onNewLiveLecture:x,onUpload:k,onDeleteLecture:N,isMobile:c,onCloseRequest:()=>f(!1),onOpenSettings:()=>g(!0)})}),X.jsx("main",{className:"flex-1 flex flex-col overflow-hidden",children:$()}),s&&X.jsx(Ice,{onClose:()=>a(!1),onCreateLecture:U}),X.jsx(Fce,{isOpen:v,onClose:()=>g(!1),apiConfig:y,onSaveApiConfig:S,onClearApiConfig:L,availableProviders:Vxe,isApiKeyReady:p,theme:l,onToggleTheme:_})]})},Fq=document.getElementById("root");if(!Fq)throw new Error("Could not find root element to mount to");const Xxe=tT.createRoot(Fq);Xxe.render(X.jsx(Jq.StrictMode,{children:X.jsx(jxe,{})}));export{Ts as $,Tg as A,Ag as B,M1e as C,P1e as D,F1e as E,upe as F,l2e as G,$1e as H,Kve as I,Phe as J,zD as K,A9 as L,sv as M,k9 as N,Jxe as O,Ve as P,QE as Q,Yi as R,Dr as S,Vce as T,V1e as U,o2e as V,c9 as W,L7 as X,uk as Y,Ive as Z,Cve as _,L1e as a,dme as a$,HD as a0,el as a1,m5 as a2,zhe as a3,dm as a4,rU as a5,u2e as a6,Uve as a7,Xve as a8,dd as a9,T5 as aA,w5 as aB,r2e as aC,n2e as aD,Zxe as aE,Qxe as aF,a2e as aG,t2e as aH,s2e as aI,Ye as aJ,ws as aK,uv as aL,ap as aM,hb as aN,lye as aO,Xye as aP,lv as aQ,pb as aR,nye as aS,a7 as aT,sme as aU,ame as aV,Eu as aW,G5 as aX,lme as aY,tk as aZ,ome as a_,Tye as aa,mye as ab,Cye as ac,Eye as ad,p7 as ae,_x as af,Cx as ag,gb as ah,ime as ai,ek as aj,m7 as ak,f7 as al,tye as am,Jme as an,yye as ao,Sye as ap,cv as aq,Bv as ar,g2e as as,av as at,Be as au,ze as av,O1e as aw,XD as ax,e2e as ay,i2e as az,R1e as b,lp as b0,mu as b1,W5 as b2,nk as b3,u7 as b4,jE as b5,mme as b6,Kw as b7,s0e as b8,zce as b9,qD as ba,Tt as bb,N1e as c,Hr as d,rq as e,ai as f,pk as g,yb as h,Bf as i,h9 as j,sk as k,$e as l,t0e as m,spe as n,S1e as o,jve as p,qve as q,E7 as r,U1e as s,vve as t,p2e as u,E9 as v,Qve as w,Qce as x,Eme as y,QD as z};
